var kp=Object.defineProperty;var Np=(t,e,n)=>e in t?kp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bt=(t,e,n)=>Np(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cl={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Sl;function Ip(){if(Sl)return Cl;Sl=1;var t;return function(e){(function(n){var i=typeof globalThis=="object"?globalThis:typeof Tl=="object"?Tl:typeof self=="object"?self:typeof this=="object"?this:f(),o=s(e);typeof i.Reflect<"u"&&(o=s(i.Reflect,o)),n(o,i),typeof i.Reflect>"u"&&(i.Reflect=e);function s(p,h){return function(A,_){Object.defineProperty(p,A,{configurable:!0,writable:!0,value:_}),h&&h(A,_)}}function c(){try{return Function("return this;")()}catch{}}function u(){try{return(0,eval)("(function() { return this; })()")}catch{}}function f(){return c()||u()}})(function(n,i){var o=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",c=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",u=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",f=typeof Object.create=="function",p={__proto__:[]}instanceof Array,h=!f&&!p,A={create:f?function(){return jn(Object.create(null))}:p?function(){return jn({__proto__:null})}:function(){return jn({})},has:h?function(y,x){return o.call(y,x)}:function(y,x){return x in y},get:h?function(y,x){return o.call(y,x)?y[x]:void 0}:function(y,x){return y[x]}},_=Object.getPrototypeOf(Function),T=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:_e(),z=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Je(),k=typeof WeakMap=="function"?WeakMap:On(),L=s?Symbol.for("@reflect-metadata:registry"):void 0,M=De(),F=ne(M);function Y(y,x,g,C){if(X(g)){if(!dn(y))throw new TypeError;if(!qe(x))throw new TypeError;return Tt(y,x)}else{if(!dn(y))throw new TypeError;if(!lt(x))throw new TypeError;if(!lt(C)&&!X(C)&&!dt(C))throw new TypeError;return dt(C)&&(C=void 0),g=Wt(g),E(y,x,g,C)}}n("decorate",Y);function m(y,x){function g(C,P){if(!lt(C))throw new TypeError;if(!X(P)&&!Oe(P))throw new TypeError;ot(y,x,C,P)}return g}n("metadata",m);function V(y,x,g,C){if(!lt(g))throw new TypeError;return X(C)||(C=Wt(C)),ot(y,x,g,C)}n("defineMetadata",V);function B(y,x,g){if(!lt(x))throw new TypeError;return X(g)||(g=Wt(g)),W(y,x,g)}n("hasMetadata",B);function ct(y,x,g){if(!lt(x))throw new TypeError;return X(g)||(g=Wt(g)),O(y,x,g)}n("hasOwnMetadata",ct);function nt(y,x,g){if(!lt(x))throw new TypeError;return X(g)||(g=Wt(g)),G(y,x,g)}n("getMetadata",nt);function Ct(y,x,g){if(!lt(x))throw new TypeError;return X(g)||(g=Wt(g)),et(y,x,g)}n("getOwnMetadata",Ct);function Et(y,x){if(!lt(y))throw new TypeError;return X(x)||(x=Wt(x)),w(y,x)}n("getMetadataKeys",Et);function $t(y,x){if(!lt(y))throw new TypeError;return X(x)||(x=Wt(x)),mt(y,x)}n("getOwnMetadataKeys",$t);function St(y,x,g){if(!lt(x))throw new TypeError;if(X(g)||(g=Wt(g)),!lt(x))throw new TypeError;X(g)||(g=Wt(g));var C=te(x,g,!1);return X(C)?!1:C.OrdinaryDeleteMetadata(y,x,g)}n("deleteMetadata",St);function Tt(y,x){for(var g=y.length-1;g>=0;--g){var C=y[g],P=C(x);if(!X(P)&&!dt(P)){if(!qe(P))throw new TypeError;x=P}}return x}function E(y,x,g,C){for(var P=y.length-1;P>=0;--P){var st=y[P],rt=st(x,g,C);if(!X(rt)&&!dt(rt)){if(!lt(rt))throw new TypeError;C=rt}}return C}function W(y,x,g){var C=O(y,x,g);if(C)return!0;var P=ze(x);return dt(P)?!1:W(y,P,g)}function O(y,x,g){var C=te(x,g,!1);return X(C)?!1:Qt(C.OrdinaryHasOwnMetadata(y,x,g))}function G(y,x,g){var C=O(y,x,g);if(C)return et(y,x,g);var P=ze(x);if(!dt(P))return G(y,P,g)}function et(y,x,g){var C=te(x,g,!1);if(!X(C))return C.OrdinaryGetOwnMetadata(y,x,g)}function ot(y,x,g,C){var P=te(g,C,!0);P.OrdinaryDefineOwnMetadata(y,x,g,C)}function w(y,x){var g=mt(y,x),C=ze(y);if(C===null)return g;var P=w(C,x);if(P.length<=0)return g;if(g.length<=0)return P;for(var st=new z,rt=[],it=0,H=g;it<H.length;it++){var U=H[it],J=st.has(U);J||(st.add(U),rt.push(U))}for(var q=0,gt=P;q<gt.length;q++){var U=gt[q],J=st.has(U);J||(st.add(U),rt.push(U))}return rt}function mt(y,x){var g=te(y,x,!1);return g?g.OrdinaryOwnMetadataKeys(y,x):[]}function yt(y){if(y===null)return 1;switch(typeof y){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return y===null?1:6;default:return 6}}function X(y){return y===void 0}function dt(y){return y===null}function Dt(y){return typeof y=="symbol"}function lt(y){return typeof y=="object"?y!==null:typeof y=="function"}function Ft(y,x){switch(yt(y)){case 0:return y;case 1:return y;case 2:return y;case 3:return y;case 4:return y;case 5:return y}var g="string",C=Xe(y,c);if(C!==void 0){var P=C.call(y,g);if(lt(P))throw new TypeError;return P}return Q(y)}function Q(y,x){var g,C,P;{var st=y.toString;if(Jt(st)){var C=st.call(y);if(!lt(C))return C}var g=y.valueOf;if(Jt(g)){var C=g.call(y);if(!lt(C))return C}}throw new TypeError}function Qt(y){return!!y}function ge(y){return""+y}function Wt(y){var x=Ft(y);return Dt(x)?x:ge(x)}function dn(y){return Array.isArray?Array.isArray(y):y instanceof Object?y instanceof Array:Object.prototype.toString.call(y)==="[object Array]"}function Jt(y){return typeof y=="function"}function qe(y){return typeof y=="function"}function Oe(y){switch(yt(y)){case 3:return!0;case 4:return!0;default:return!1}}function Zt(y,x){return y===x||y!==y&&x!==x}function Xe(y,x){var g=y[x];if(g!=null){if(!Jt(g))throw new TypeError;return g}}function hn(y){var x=Xe(y,u);if(!Jt(x))throw new TypeError;var g=x.call(y);if(!lt(g))throw new TypeError;return g}function pn(y){return y.value}function ue(y){var x=y.next();return x.done?!1:x}function me(y){var x=y.return;x&&x.call(y)}function ze(y){var x=Object.getPrototypeOf(y);if(typeof y!="function"||y===_||x!==_)return x;var g=y.prototype,C=g&&Object.getPrototypeOf(g);if(C==null||C===Object.prototype)return x;var P=C.constructor;return typeof P!="function"||P===y?x:P}function Ge(){var y;!X(L)&&typeof i.Reflect<"u"&&!(L in i.Reflect)&&typeof i.Reflect.defineMetadata=="function"&&(y=gn(i.Reflect));var x,g,C,P=new k,st={registerProvider:rt,getProvider:H,setProvider:J};return st;function rt(q){if(!Object.isExtensible(st))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case y===q:break;case X(x):x=q;break;case x===q:break;case X(g):g=q;break;case g===q:break;default:C===void 0&&(C=new z),C.add(q);break}}function it(q,gt){if(!X(x)){if(x.isProviderFor(q,gt))return x;if(!X(g)){if(g.isProviderFor(q,gt))return x;if(!X(C))for(var Ot=hn(C);;){var Mt=ue(Ot);if(!Mt)return;var jt=pn(Mt);if(jt.isProviderFor(q,gt))return me(Ot),jt}}}if(!X(y)&&y.isProviderFor(q,gt))return y}function H(q,gt){var Ot=P.get(q),Mt;return X(Ot)||(Mt=Ot.get(gt)),X(Mt)&&(Mt=it(q,gt),X(Mt)||(X(Ot)&&(Ot=new T,P.set(q,Ot)),Ot.set(gt,Mt))),Mt}function U(q){if(X(q))throw new TypeError;return x===q||g===q||!X(C)&&C.has(q)}function J(q,gt,Ot){if(!U(Ot))throw new Error("Metadata provider not registered.");var Mt=H(q,gt);if(Mt!==Ot){if(!X(Mt))return!1;var jt=P.get(q);X(jt)&&(jt=new T,P.set(q,jt)),jt.set(gt,Ot)}return!0}}function De(){var y;return!X(L)&&lt(i.Reflect)&&Object.isExtensible(i.Reflect)&&(y=i.Reflect[L]),X(y)&&(y=Ge()),!X(L)&&lt(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,L,{enumerable:!1,configurable:!1,writable:!1,value:y}),y}function ne(y){var x=new k,g={isProviderFor:function(U,J){var q=x.get(U);return X(q)?!1:q.has(J)},OrdinaryDefineOwnMetadata:rt,OrdinaryHasOwnMetadata:P,OrdinaryGetOwnMetadata:st,OrdinaryOwnMetadataKeys:it,OrdinaryDeleteMetadata:H};return M.registerProvider(g),g;function C(U,J,q){var gt=x.get(U),Ot=!1;if(X(gt)){if(!q)return;gt=new T,x.set(U,gt),Ot=!0}var Mt=gt.get(J);if(X(Mt)){if(!q)return;if(Mt=new T,gt.set(J,Mt),!y.setProvider(U,J,g))throw gt.delete(J),Ot&&x.delete(U),new Error("Wrong provider for target.")}return Mt}function P(U,J,q){var gt=C(J,q,!1);return X(gt)?!1:Qt(gt.has(U))}function st(U,J,q){var gt=C(J,q,!1);if(!X(gt))return gt.get(U)}function rt(U,J,q,gt){var Ot=C(q,gt,!0);Ot.set(U,J)}function it(U,J){var q=[],gt=C(U,J,!1);if(X(gt))return q;for(var Ot=gt.keys(),Mt=hn(Ot),jt=0;;){var Le=ue(Mt);if(!Le)return q.length=jt,q;var Dn=pn(Le);try{q[jt]=Dn}catch(Zo){try{me(Mt)}finally{throw Zo}}jt++}}function H(U,J,q){var gt=C(J,q,!1);if(X(gt)||!gt.delete(U))return!1;if(gt.size===0){var Ot=x.get(J);X(Ot)||(Ot.delete(q),Ot.size===0&&x.delete(Ot))}return!0}}function gn(y){var x=y.defineMetadata,g=y.hasOwnMetadata,C=y.getOwnMetadata,P=y.getOwnMetadataKeys,st=y.deleteMetadata,rt=new k,it={isProviderFor:function(H,U){var J=rt.get(H);return!X(J)&&J.has(U)?!0:P(H,U).length?(X(J)&&(J=new z,rt.set(H,J)),J.add(U),!0):!1},OrdinaryDefineOwnMetadata:x,OrdinaryHasOwnMetadata:g,OrdinaryGetOwnMetadata:C,OrdinaryOwnMetadataKeys:P,OrdinaryDeleteMetadata:st};return it}function te(y,x,g){var C=M.getProvider(y,x);if(!X(C))return C;if(g){if(M.setProvider(y,x,F))return F;throw new Error("Illegal state.")}}function _e(){var y={},x=[],g=function(){function it(H,U,J){this._index=0,this._keys=H,this._values=U,this._selector=J}return it.prototype["@@iterator"]=function(){return this},it.prototype[u]=function(){return this},it.prototype.next=function(){var H=this._index;if(H>=0&&H<this._keys.length){var U=this._selector(this._keys[H],this._values[H]);return H+1>=this._keys.length?(this._index=-1,this._keys=x,this._values=x):this._index++,{value:U,done:!1}}return{value:void 0,done:!0}},it.prototype.throw=function(H){throw this._index>=0&&(this._index=-1,this._keys=x,this._values=x),H},it.prototype.return=function(H){return this._index>=0&&(this._index=-1,this._keys=x,this._values=x),{value:H,done:!0}},it}(),C=function(){function it(){this._keys=[],this._values=[],this._cacheKey=y,this._cacheIndex=-2}return Object.defineProperty(it.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),it.prototype.has=function(H){return this._find(H,!1)>=0},it.prototype.get=function(H){var U=this._find(H,!1);return U>=0?this._values[U]:void 0},it.prototype.set=function(H,U){var J=this._find(H,!0);return this._values[J]=U,this},it.prototype.delete=function(H){var U=this._find(H,!1);if(U>=0){for(var J=this._keys.length,q=U+1;q<J;q++)this._keys[q-1]=this._keys[q],this._values[q-1]=this._values[q];return this._keys.length--,this._values.length--,Zt(H,this._cacheKey)&&(this._cacheKey=y,this._cacheIndex=-2),!0}return!1},it.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=y,this._cacheIndex=-2},it.prototype.keys=function(){return new g(this._keys,this._values,P)},it.prototype.values=function(){return new g(this._keys,this._values,st)},it.prototype.entries=function(){return new g(this._keys,this._values,rt)},it.prototype["@@iterator"]=function(){return this.entries()},it.prototype[u]=function(){return this.entries()},it.prototype._find=function(H,U){if(!Zt(this._cacheKey,H)){this._cacheIndex=-1;for(var J=0;J<this._keys.length;J++)if(Zt(this._keys[J],H)){this._cacheIndex=J;break}}return this._cacheIndex<0&&U&&(this._cacheIndex=this._keys.length,this._keys.push(H),this._values.push(void 0)),this._cacheIndex},it}();return C;function P(it,H){return it}function st(it,H){return H}function rt(it,H){return[it,H]}}function Je(){var y=function(){function x(){this._map=new T}return Object.defineProperty(x.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),x.prototype.has=function(g){return this._map.has(g)},x.prototype.add=function(g){return this._map.set(g,g),this},x.prototype.delete=function(g){return this._map.delete(g)},x.prototype.clear=function(){this._map.clear()},x.prototype.keys=function(){return this._map.keys()},x.prototype.values=function(){return this._map.keys()},x.prototype.entries=function(){return this._map.entries()},x.prototype["@@iterator"]=function(){return this.keys()},x.prototype[u]=function(){return this.keys()},x}();return y}function On(){var y=16,x=A.create(),g=C();return function(){function H(){this._key=C()}return H.prototype.has=function(U){var J=P(U,!1);return J!==void 0?A.has(J,this._key):!1},H.prototype.get=function(U){var J=P(U,!1);return J!==void 0?A.get(J,this._key):void 0},H.prototype.set=function(U,J){var q=P(U,!0);return q[this._key]=J,this},H.prototype.delete=function(U){var J=P(U,!1);return J!==void 0?delete J[this._key]:!1},H.prototype.clear=function(){this._key=C()},H}();function C(){var H;do H="@@WeakMap@@"+it();while(A.has(x,H));return x[H]=!0,H}function P(H,U){if(!o.call(H,g)){if(!U)return;Object.defineProperty(H,g,{value:A.create()})}return H[g]}function st(H,U){for(var J=0;J<U;++J)H[J]=Math.random()*255|0;return H}function rt(H){if(typeof Uint8Array=="function"){var U=new Uint8Array(H);return typeof crypto<"u"?crypto.getRandomValues(U):typeof msCrypto<"u"?msCrypto.getRandomValues(U):st(U,H),U}return st(new Array(H),H)}function it(){var H=rt(y);H[6]=H[6]&79|64,H[8]=H[8]&191|128;for(var U="",J=0;J<y;++J){var q=H[J];(J===4||J===6||J===8)&&(U+="-"),q<16&&(U+="0"),U+=q.toString(16).toLowerCase()}return U}}function jn(y){return y.__=void 0,delete y.__,y}})}(t||(t={})),Cl}Ip();var fo={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var $p=fo.exports,Ol;function Pp(){return Ol||(Ol=1,function(t,e){(function(n,i){t.exports=i()})($p,function(){const n=new Map,i={set(l,r,a){n.has(l)||n.set(l,new Map);const d=n.get(l);d.has(r)||d.size===0?d.set(r,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(d.keys())[0]}.`)},get:(l,r)=>n.has(l)&&n.get(l).get(r)||null,remove(l,r){if(!n.has(l))return;const a=n.get(l);a.delete(r),a.size===0&&n.delete(l)}},o="transitionend",s=l=>(l&&window.CSS&&window.CSS.escape&&(l=l.replace(/#([^\s"#']+)/g,(r,a)=>`#${CSS.escape(a)}`)),l),c=l=>{l.dispatchEvent(new Event(o))},u=l=>!(!l||typeof l!="object")&&(l.jquery!==void 0&&(l=l[0]),l.nodeType!==void 0),f=l=>u(l)?l.jquery?l[0]:l:typeof l=="string"&&l.length>0?document.querySelector(s(l)):null,p=l=>{if(!u(l)||l.getClientRects().length===0)return!1;const r=getComputedStyle(l).getPropertyValue("visibility")==="visible",a=l.closest("details:not([open])");if(!a)return r;if(a!==l){const d=l.closest("summary");if(d&&d.parentNode!==a||d===null)return!1}return r},h=l=>!l||l.nodeType!==Node.ELEMENT_NODE||!!l.classList.contains("disabled")||(l.disabled!==void 0?l.disabled:l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"),A=l=>{if(!document.documentElement.attachShadow)return null;if(typeof l.getRootNode=="function"){const r=l.getRootNode();return r instanceof ShadowRoot?r:null}return l instanceof ShadowRoot?l:l.parentNode?A(l.parentNode):null},_=()=>{},T=l=>{l.offsetHeight},z=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],L=()=>document.documentElement.dir==="rtl",M=l=>{var r;r=()=>{const a=z();if(a){const d=l.NAME,v=a.fn[d];a.fn[d]=l.jQueryInterface,a.fn[d].Constructor=l,a.fn[d].noConflict=()=>(a.fn[d]=v,l.jQueryInterface)}},document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const a of k)a()}),k.push(r)):r()},F=(l,r=[],a=l)=>typeof l=="function"?l(...r):a,Y=(l,r,a=!0)=>{if(!a)return void F(l);const d=(D=>{if(!D)return 0;let{transitionDuration:I,transitionDelay:j}=window.getComputedStyle(D);const Z=Number.parseFloat(I),tt=Number.parseFloat(j);return Z||tt?(I=I.split(",")[0],j=j.split(",")[0],1e3*(Number.parseFloat(I)+Number.parseFloat(j))):0})(r)+5;let v=!1;const b=({target:D})=>{D===r&&(v=!0,r.removeEventListener(o,b),F(l))};r.addEventListener(o,b),setTimeout(()=>{v||c(r)},d)},m=(l,r,a,d)=>{const v=l.length;let b=l.indexOf(r);return b===-1?!a&&d?l[v-1]:l[0]:(b+=a?1:-1,d&&(b=(b+v)%v),l[Math.max(0,Math.min(b,v-1))])},V=/[^.]*(?=\..*)\.|.*/,B=/\..*/,ct=/::\d+$/,nt={};let Ct=1;const Et={mouseenter:"mouseover",mouseleave:"mouseout"},$t=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function St(l,r){return r&&`${r}::${Ct++}`||l.uidEvent||Ct++}function Tt(l){const r=St(l);return l.uidEvent=r,nt[r]=nt[r]||{},nt[r]}function E(l,r,a=null){return Object.values(l).find(d=>d.callable===r&&d.delegationSelector===a)}function W(l,r,a){const d=typeof r=="string",v=d?a:r||a;let b=ot(l);return $t.has(b)||(b=l),[d,v,b]}function O(l,r,a,d,v){if(typeof r!="string"||!l)return;let[b,D,I]=W(r,a,d);r in Et&&(D=(ht=>function(ft){if(!ft.relatedTarget||ft.relatedTarget!==ft.delegateTarget&&!ft.delegateTarget.contains(ft.relatedTarget))return ht.call(this,ft)})(D));const j=Tt(l),Z=j[I]||(j[I]={}),tt=E(Z,D,b?a:null);if(tt)return void(tt.oneOff=tt.oneOff&&v);const K=St(D,r.replace(V,"")),_t=b?function(ut,ht,ft){return function pt(Pt){const Ht=ut.querySelectorAll(ht);for(let{target:At}=Pt;At&&At!==this;At=At.parentNode)for(const Lt of Ht)if(Lt===At)return mt(Pt,{delegateTarget:At}),pt.oneOff&&w.off(ut,Pt.type,ht,ft),ft.apply(At,[Pt])}}(l,a,D):function(ut,ht){return function ft(pt){return mt(pt,{delegateTarget:ut}),ft.oneOff&&w.off(ut,pt.type,ht),ht.apply(ut,[pt])}}(l,D);_t.delegationSelector=b?a:null,_t.callable=D,_t.oneOff=v,_t.uidEvent=K,Z[K]=_t,l.addEventListener(I,_t,b)}function G(l,r,a,d,v){const b=E(r[a],d,v);b&&(l.removeEventListener(a,b,!!v),delete r[a][b.uidEvent])}function et(l,r,a,d){const v=r[a]||{};for(const[b,D]of Object.entries(v))b.includes(d)&&G(l,r,a,D.callable,D.delegationSelector)}function ot(l){return l=l.replace(B,""),Et[l]||l}const w={on(l,r,a,d){O(l,r,a,d,!1)},one(l,r,a,d){O(l,r,a,d,!0)},off(l,r,a,d){if(typeof r!="string"||!l)return;const[v,b,D]=W(r,a,d),I=D!==r,j=Tt(l),Z=j[D]||{},tt=r.startsWith(".");if(b===void 0){if(tt)for(const K of Object.keys(j))et(l,j,K,r.slice(1));for(const[K,_t]of Object.entries(Z)){const ut=K.replace(ct,"");I&&!r.includes(ut)||G(l,j,D,_t.callable,_t.delegationSelector)}}else{if(!Object.keys(Z).length)return;G(l,j,D,b,v?a:null)}},trigger(l,r,a){if(typeof r!="string"||!l)return null;const d=z();let v=null,b=!0,D=!0,I=!1;r!==ot(r)&&d&&(v=d.Event(r,a),d(l).trigger(v),b=!v.isPropagationStopped(),D=!v.isImmediatePropagationStopped(),I=v.isDefaultPrevented());const j=mt(new Event(r,{bubbles:b,cancelable:!0}),a);return I&&j.preventDefault(),D&&l.dispatchEvent(j),j.defaultPrevented&&v&&v.preventDefault(),j}};function mt(l,r={}){for(const[a,d]of Object.entries(r))try{l[a]=d}catch{Object.defineProperty(l,a,{configurable:!0,get:()=>d})}return l}function yt(l){if(l==="true")return!0;if(l==="false")return!1;if(l===Number(l).toString())return Number(l);if(l===""||l==="null")return null;if(typeof l!="string")return l;try{return JSON.parse(decodeURIComponent(l))}catch{return l}}function X(l){return l.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const dt={setDataAttribute(l,r,a){l.setAttribute(`data-bs-${X(r)}`,a)},removeDataAttribute(l,r){l.removeAttribute(`data-bs-${X(r)}`)},getDataAttributes(l){if(!l)return{};const r={},a=Object.keys(l.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of a){let v=d.replace(/^bs/,"");v=v.charAt(0).toLowerCase()+v.slice(1,v.length),r[v]=yt(l.dataset[d])}return r},getDataAttribute:(l,r)=>yt(l.getAttribute(`data-bs-${X(r)}`))};class Dt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,a){const d=u(a)?dt.getDataAttribute(a,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...u(a)?dt.getDataAttributes(a):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,a=this.constructor.DefaultType){for(const[v,b]of Object.entries(a)){const D=r[v],I=u(D)?"element":(d=D)==null?`${d}`:Object.prototype.toString.call(d).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(b).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${I}" but expected type "${b}".`)}var d}}class lt extends Dt{constructor(r,a){super(),(r=f(r))&&(this._element=r,this._config=this._getConfig(a),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),w.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,a,d=!0){Y(r,a,d)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return i.get(f(r),this.DATA_KEY)}static getOrCreateInstance(r,a={}){return this.getInstance(r)||new this(r,typeof a=="object"?a:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const Ft=l=>{let r=l.getAttribute("data-bs-target");if(!r||r==="#"){let a=l.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),r=a&&a!=="#"?a.trim():null}return r?r.split(",").map(a=>s(a)).join(","):null},Q={find:(l,r=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(r,l)),findOne:(l,r=document.documentElement)=>Element.prototype.querySelector.call(r,l),children:(l,r)=>[].concat(...l.children).filter(a=>a.matches(r)),parents(l,r){const a=[];let d=l.parentNode.closest(r);for(;d;)a.push(d),d=d.parentNode.closest(r);return a},prev(l,r){let a=l.previousElementSibling;for(;a;){if(a.matches(r))return[a];a=a.previousElementSibling}return[]},next(l,r){let a=l.nextElementSibling;for(;a;){if(a.matches(r))return[a];a=a.nextElementSibling}return[]},focusableChildren(l){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(r,l).filter(a=>!h(a)&&p(a))},getSelectorFromElement(l){const r=Ft(l);return r&&Q.findOne(r)?r:null},getElementFromSelector(l){const r=Ft(l);return r?Q.findOne(r):null},getMultipleElementsFromSelector(l){const r=Ft(l);return r?Q.find(r):[]}},Qt=(l,r="hide")=>{const a=`click.dismiss${l.EVENT_KEY}`,d=l.NAME;w.on(document,a,`[data-bs-dismiss="${d}"]`,function(v){if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),h(this))return;const b=Q.getElementFromSelector(this)||this.closest(`.${d}`);l.getOrCreateInstance(b)[r]()})},ge=".bs.alert",Wt=`close${ge}`,dn=`closed${ge}`;class Jt extends lt{static get NAME(){return"alert"}close(){if(w.trigger(this._element,Wt).defaultPrevented)return;this._element.classList.remove("show");const r=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),w.trigger(this._element,dn),this.dispose()}static jQueryInterface(r){return this.each(function(){const a=Jt.getOrCreateInstance(this);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r](this)}})}}Qt(Jt,"close"),M(Jt);const qe='[data-bs-toggle="button"]';class Oe extends lt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(r){return this.each(function(){const a=Oe.getOrCreateInstance(this);r==="toggle"&&a[r]()})}}w.on(document,"click.bs.button.data-api",qe,l=>{l.preventDefault();const r=l.target.closest(qe);Oe.getOrCreateInstance(r).toggle()}),M(Oe);const Zt=".bs.swipe",Xe=`touchstart${Zt}`,hn=`touchmove${Zt}`,pn=`touchend${Zt}`,ue=`pointerdown${Zt}`,me=`pointerup${Zt}`,ze={endCallback:null,leftCallback:null,rightCallback:null},Ge={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class De extends Dt{constructor(r,a){super(),this._element=r,r&&De.isSupported()&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ze}static get DefaultType(){return Ge}static get NAME(){return"swipe"}dispose(){w.off(this._element,Zt)}_start(r){this._supportPointerEvents?this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX):this._deltaX=r.touches[0].clientX}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),F(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=40)return;const a=r/this._deltaX;this._deltaX=0,a&&F(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(w.on(this._element,ue,r=>this._start(r)),w.on(this._element,me,r=>this._end(r)),this._element.classList.add("pointer-event")):(w.on(this._element,Xe,r=>this._start(r)),w.on(this._element,hn,r=>this._move(r)),w.on(this._element,pn,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType==="pen"||r.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ne=".bs.carousel",gn=".data-api",te="next",_e="prev",Je="left",On="right",jn=`slide${ne}`,y=`slid${ne}`,x=`keydown${ne}`,g=`mouseenter${ne}`,C=`mouseleave${ne}`,P=`dragstart${ne}`,st=`load${ne}${gn}`,rt=`click${ne}${gn}`,it="carousel",H="active",U=".active",J=".carousel-item",q=U+J,gt={ArrowLeft:On,ArrowRight:Je},Ot={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Mt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class jt extends lt{constructor(r,a){super(r,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===it&&this.cycle()}static get Default(){return Ot}static get DefaultType(){return Mt}static get NAME(){return"carousel"}next(){this._slide(te)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(_e)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?w.one(this._element,y,()=>this.cycle()):this.cycle())}to(r){const a=this._getItems();if(r>a.length-1||r<0)return;if(this._isSliding)return void w.one(this._element,y,()=>this.to(r));const d=this._getItemIndex(this._getActive());if(d===r)return;const v=r>d?te:_e;this._slide(v,a[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&w.on(this._element,x,r=>this._keydown(r)),this._config.pause==="hover"&&(w.on(this._element,g,()=>this.pause()),w.on(this._element,C,()=>this._maybeEnableCycle())),this._config.touch&&De.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const a of Q.find(".carousel-item img",this._element))w.on(a,P,d=>d.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(Je)),rightCallback:()=>this._slide(this._directionToOrder(On)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new De(this._element,r)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const a=gt[r.key];a&&(r.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const a=Q.findOne(U,this._indicatorsElement);a.classList.remove(H),a.removeAttribute("aria-current");const d=Q.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);d&&(d.classList.add(H),d.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const a=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(r,a=null){if(this._isSliding)return;const d=this._getActive(),v=r===te,b=a||m(this._getItems(),d,v,this._config.wrap);if(b===d)return;const D=this._getItemIndex(b),I=K=>w.trigger(this._element,K,{relatedTarget:b,direction:this._orderToDirection(r),from:this._getItemIndex(d),to:D});if(I(jn).defaultPrevented||!d||!b)return;const j=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(D),this._activeElement=b;const Z=v?"carousel-item-start":"carousel-item-end",tt=v?"carousel-item-next":"carousel-item-prev";b.classList.add(tt),T(b),d.classList.add(Z),b.classList.add(Z),this._queueCallback(()=>{b.classList.remove(Z,tt),b.classList.add(H),d.classList.remove(H,tt,Z),this._isSliding=!1,I(y)},d,this._isAnimated()),j&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Q.findOne(q,this._element)}_getItems(){return Q.find(J,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return L()?r===Je?_e:te:r===Je?te:_e}_orderToDirection(r){return L()?r===_e?Je:On:r===_e?On:Je}static jQueryInterface(r){return this.each(function(){const a=jt.getOrCreateInstance(this,r);if(typeof r!="number"){if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r]()}}else a.to(r)})}}w.on(document,rt,"[data-bs-slide], [data-bs-slide-to]",function(l){const r=Q.getElementFromSelector(this);if(!r||!r.classList.contains(it))return;l.preventDefault();const a=jt.getOrCreateInstance(r),d=this.getAttribute("data-bs-slide-to");return d?(a.to(d),void a._maybeEnableCycle()):dt.getDataAttribute(this,"slide")==="next"?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())}),w.on(window,st,()=>{const l=Q.find('[data-bs-ride="carousel"]');for(const r of l)jt.getOrCreateInstance(r)}),M(jt);const Le=".bs.collapse",Dn=`show${Le}`,Zo=`shown${Le}`,Hd=`hide${Le}`,Fd=`hidden${Le}`,zd=`click${Le}.data-api`,ts="show",vi="collapse",Pr="collapsing",Gd=`:scope .${vi} .${vi}`,es='[data-bs-toggle="collapse"]',jd={parent:null,toggle:!0},Wd={parent:"(null|element)",toggle:"boolean"};class bi extends lt{constructor(r,a){super(r,a),this._isTransitioning=!1,this._triggerArray=[];const d=Q.find(es);for(const v of d){const b=Q.getSelectorFromElement(v),D=Q.find(b).filter(I=>I===this._element);b!==null&&D.length&&this._triggerArray.push(v)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return jd}static get DefaultType(){return Wd}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(v=>v!==this._element).map(v=>bi.getOrCreateInstance(v,{toggle:!1}))),r.length&&r[0]._isTransitioning||w.trigger(this._element,Dn).defaultPrevented)return;for(const v of r)v.hide();const a=this._getDimension();this._element.classList.remove(vi),this._element.classList.add(Pr),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pr),this._element.classList.add(vi,ts),this._element.style[a]="",w.trigger(this._element,Zo)},this._element,!0),this._element.style[a]=`${this._element[d]}px`}hide(){if(this._isTransitioning||!this._isShown()||w.trigger(this._element,Hd).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,T(this._element),this._element.classList.add(Pr),this._element.classList.remove(vi,ts);for(const a of this._triggerArray){const d=Q.getElementFromSelector(a);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0,this._element.style[r]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Pr),this._element.classList.add(vi),w.trigger(this._element,Fd)},this._element,!0)}_isShown(r=this._element){return r.classList.contains(ts)}_configAfterMerge(r){return r.toggle=!!r.toggle,r.parent=f(r.parent),r}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(es);for(const a of r){const d=Q.getElementFromSelector(a);d&&this._addAriaAndCollapsedClass([a],this._isShown(d))}}_getFirstLevelChildren(r){const a=Q.find(Gd,this._config.parent);return Q.find(r,this._config.parent).filter(d=>!a.includes(d))}_addAriaAndCollapsedClass(r,a){if(r.length)for(const d of r)d.classList.toggle("collapsed",!a),d.setAttribute("aria-expanded",a)}static jQueryInterface(r){const a={};return typeof r=="string"&&/show|hide/.test(r)&&(a.toggle=!1),this.each(function(){const d=bi.getOrCreateInstance(this,a);if(typeof r=="string"){if(d[r]===void 0)throw new TypeError(`No method named "${r}"`);d[r]()}})}}w.on(document,zd,es,function(l){(l.target.tagName==="A"||l.delegateTarget&&l.delegateTarget.tagName==="A")&&l.preventDefault();for(const r of Q.getMultipleElementsFromSelector(this))bi.getOrCreateInstance(r,{toggle:!1}).toggle()}),M(bi);var ie="top",ve="bottom",be="right",re="left",Rr="auto",yi=[ie,ve,be,re],Wn="start",Ai="end",Za="clippingParents",ns="viewport",wi="popper",tc="reference",is=yi.reduce(function(l,r){return l.concat([r+"-"+Wn,r+"-"+Ai])},[]),rs=[].concat(yi,[Rr]).reduce(function(l,r){return l.concat([r,r+"-"+Wn,r+"-"+Ai])},[]),ec="beforeRead",nc="read",ic="afterRead",rc="beforeMain",oc="main",sc="afterMain",ac="beforeWrite",cc="write",lc="afterWrite",uc=[ec,nc,ic,rc,oc,sc,ac,cc,lc];function Ze(l){return l?(l.nodeName||"").toLowerCase():null}function ye(l){if(l==null)return window;if(l.toString()!=="[object Window]"){var r=l.ownerDocument;return r&&r.defaultView||window}return l}function Vn(l){return l instanceof ye(l).Element||l instanceof Element}function Me(l){return l instanceof ye(l).HTMLElement||l instanceof HTMLElement}function os(l){return typeof ShadowRoot<"u"&&(l instanceof ye(l).ShadowRoot||l instanceof ShadowRoot)}const ss={name:"applyStyles",enabled:!0,phase:"write",fn:function(l){var r=l.state;Object.keys(r.elements).forEach(function(a){var d=r.styles[a]||{},v=r.attributes[a]||{},b=r.elements[a];Me(b)&&Ze(b)&&(Object.assign(b.style,d),Object.keys(v).forEach(function(D){var I=v[D];I===!1?b.removeAttribute(D):b.setAttribute(D,I===!0?"":I)}))})},effect:function(l){var r=l.state,a={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,a.popper),r.styles=a,r.elements.arrow&&Object.assign(r.elements.arrow.style,a.arrow),function(){Object.keys(r.elements).forEach(function(d){var v=r.elements[d],b=r.attributes[d]||{},D=Object.keys(r.styles.hasOwnProperty(d)?r.styles[d]:a[d]).reduce(function(I,j){return I[j]="",I},{});Me(v)&&Ze(v)&&(Object.assign(v.style,D),Object.keys(b).forEach(function(I){v.removeAttribute(I)}))})}},requires:["computeStyles"]};function tn(l){return l.split("-")[0]}var Un=Math.max,Br=Math.min,Ei=Math.round;function as(){var l=navigator.userAgentData;return l!=null&&l.brands&&Array.isArray(l.brands)?l.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function fc(){return!/^((?!chrome|android).)*safari/i.test(as())}function xi(l,r,a){r===void 0&&(r=!1),a===void 0&&(a=!1);var d=l.getBoundingClientRect(),v=1,b=1;r&&Me(l)&&(v=l.offsetWidth>0&&Ei(d.width)/l.offsetWidth||1,b=l.offsetHeight>0&&Ei(d.height)/l.offsetHeight||1);var D=(Vn(l)?ye(l):window).visualViewport,I=!fc()&&a,j=(d.left+(I&&D?D.offsetLeft:0))/v,Z=(d.top+(I&&D?D.offsetTop:0))/b,tt=d.width/v,K=d.height/b;return{width:tt,height:K,top:Z,right:j+tt,bottom:Z+K,left:j,x:j,y:Z}}function cs(l){var r=xi(l),a=l.offsetWidth,d=l.offsetHeight;return Math.abs(r.width-a)<=1&&(a=r.width),Math.abs(r.height-d)<=1&&(d=r.height),{x:l.offsetLeft,y:l.offsetTop,width:a,height:d}}function dc(l,r){var a=r.getRootNode&&r.getRootNode();if(l.contains(r))return!0;if(a&&os(a)){var d=r;do{if(d&&l.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function mn(l){return ye(l).getComputedStyle(l)}function Vd(l){return["table","td","th"].indexOf(Ze(l))>=0}function Ln(l){return((Vn(l)?l.ownerDocument:l.document)||window.document).documentElement}function Hr(l){return Ze(l)==="html"?l:l.assignedSlot||l.parentNode||(os(l)?l.host:null)||Ln(l)}function hc(l){return Me(l)&&mn(l).position!=="fixed"?l.offsetParent:null}function or(l){for(var r=ye(l),a=hc(l);a&&Vd(a)&&mn(a).position==="static";)a=hc(a);return a&&(Ze(a)==="html"||Ze(a)==="body"&&mn(a).position==="static")?r:a||function(d){var v=/firefox/i.test(as());if(/Trident/i.test(as())&&Me(d)&&mn(d).position==="fixed")return null;var b=Hr(d);for(os(b)&&(b=b.host);Me(b)&&["html","body"].indexOf(Ze(b))<0;){var D=mn(b);if(D.transform!=="none"||D.perspective!=="none"||D.contain==="paint"||["transform","perspective"].indexOf(D.willChange)!==-1||v&&D.willChange==="filter"||v&&D.filter&&D.filter!=="none")return b;b=b.parentNode}return null}(l)||r}function ls(l){return["top","bottom"].indexOf(l)>=0?"x":"y"}function sr(l,r,a){return Un(l,Br(r,a))}function pc(l){return Object.assign({},{top:0,right:0,bottom:0,left:0},l)}function gc(l,r){return r.reduce(function(a,d){return a[d]=l,a},{})}const mc={name:"arrow",enabled:!0,phase:"main",fn:function(l){var r,a=l.state,d=l.name,v=l.options,b=a.elements.arrow,D=a.modifiersData.popperOffsets,I=tn(a.placement),j=ls(I),Z=[re,be].indexOf(I)>=0?"height":"width";if(b&&D){var tt=function(Rt,It){return pc(typeof(Rt=typeof Rt=="function"?Rt(Object.assign({},It.rects,{placement:It.placement})):Rt)!="number"?Rt:gc(Rt,yi))}(v.padding,a),K=cs(b),_t=j==="y"?ie:re,ut=j==="y"?ve:be,ht=a.rects.reference[Z]+a.rects.reference[j]-D[j]-a.rects.popper[Z],ft=D[j]-a.rects.reference[j],pt=or(b),Pt=pt?j==="y"?pt.clientHeight||0:pt.clientWidth||0:0,Ht=ht/2-ft/2,At=tt[_t],Lt=Pt-K[Z]-tt[ut],vt=Pt/2-K[Z]/2+Ht,xt=sr(At,vt,Lt),Nt=j;a.modifiersData[d]=((r={})[Nt]=xt,r.centerOffset=xt-vt,r)}},effect:function(l){var r=l.state,a=l.options.element,d=a===void 0?"[data-popper-arrow]":a;d!=null&&(typeof d!="string"||(d=r.elements.popper.querySelector(d)))&&dc(r.elements.popper,d)&&(r.elements.arrow=d)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ti(l){return l.split("-")[1]}var Ud={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _c(l){var r,a=l.popper,d=l.popperRect,v=l.placement,b=l.variation,D=l.offsets,I=l.position,j=l.gpuAcceleration,Z=l.adaptive,tt=l.roundOffsets,K=l.isFixed,_t=D.x,ut=_t===void 0?0:_t,ht=D.y,ft=ht===void 0?0:ht,pt=typeof tt=="function"?tt({x:ut,y:ft}):{x:ut,y:ft};ut=pt.x,ft=pt.y;var Pt=D.hasOwnProperty("x"),Ht=D.hasOwnProperty("y"),At=re,Lt=ie,vt=window;if(Z){var xt=or(a),Nt="clientHeight",Rt="clientWidth";xt===ye(a)&&mn(xt=Ln(a)).position!=="static"&&I==="absolute"&&(Nt="scrollHeight",Rt="scrollWidth"),(v===ie||(v===re||v===be)&&b===Ai)&&(Lt=ve,ft-=(K&&xt===vt&&vt.visualViewport?vt.visualViewport.height:xt[Nt])-d.height,ft*=j?1:-1),v!==re&&(v!==ie&&v!==ve||b!==Ai)||(At=be,ut-=(K&&xt===vt&&vt.visualViewport?vt.visualViewport.width:xt[Rt])-d.width,ut*=j?1:-1)}var It,Gt=Object.assign({position:I},Z&&Ud),Ae=tt===!0?function(We,oe){var Ne=We.x,Ie=We.y,zt=oe.devicePixelRatio||1;return{x:Ei(Ne*zt)/zt||0,y:Ei(Ie*zt)/zt||0}}({x:ut,y:ft},ye(a)):{x:ut,y:ft};return ut=Ae.x,ft=Ae.y,j?Object.assign({},Gt,((It={})[Lt]=Ht?"0":"",It[At]=Pt?"0":"",It.transform=(vt.devicePixelRatio||1)<=1?"translate("+ut+"px, "+ft+"px)":"translate3d("+ut+"px, "+ft+"px, 0)",It)):Object.assign({},Gt,((r={})[Lt]=Ht?ft+"px":"",r[At]=Pt?ut+"px":"",r.transform="",r))}const us={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(l){var r=l.state,a=l.options,d=a.gpuAcceleration,v=d===void 0||d,b=a.adaptive,D=b===void 0||b,I=a.roundOffsets,j=I===void 0||I,Z={placement:tn(r.placement),variation:Ti(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:v,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,_c(Object.assign({},Z,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:D,roundOffsets:j})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,_c(Object.assign({},Z,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:j})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})},data:{}};var Fr={passive:!0};const fs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(l){var r=l.state,a=l.instance,d=l.options,v=d.scroll,b=v===void 0||v,D=d.resize,I=D===void 0||D,j=ye(r.elements.popper),Z=[].concat(r.scrollParents.reference,r.scrollParents.popper);return b&&Z.forEach(function(tt){tt.addEventListener("scroll",a.update,Fr)}),I&&j.addEventListener("resize",a.update,Fr),function(){b&&Z.forEach(function(tt){tt.removeEventListener("scroll",a.update,Fr)}),I&&j.removeEventListener("resize",a.update,Fr)}},data:{}};var Qd={left:"right",right:"left",bottom:"top",top:"bottom"};function zr(l){return l.replace(/left|right|bottom|top/g,function(r){return Qd[r]})}var Kd={start:"end",end:"start"};function vc(l){return l.replace(/start|end/g,function(r){return Kd[r]})}function ds(l){var r=ye(l);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function hs(l){return xi(Ln(l)).left+ds(l).scrollLeft}function ps(l){var r=mn(l),a=r.overflow,d=r.overflowX,v=r.overflowY;return/auto|scroll|overlay|hidden/.test(a+v+d)}function bc(l){return["html","body","#document"].indexOf(Ze(l))>=0?l.ownerDocument.body:Me(l)&&ps(l)?l:bc(Hr(l))}function ar(l,r){var a;r===void 0&&(r=[]);var d=bc(l),v=d===((a=l.ownerDocument)==null?void 0:a.body),b=ye(d),D=v?[b].concat(b.visualViewport||[],ps(d)?d:[]):d,I=r.concat(D);return v?I:I.concat(ar(Hr(D)))}function gs(l){return Object.assign({},l,{left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height})}function yc(l,r,a){return r===ns?gs(function(d,v){var b=ye(d),D=Ln(d),I=b.visualViewport,j=D.clientWidth,Z=D.clientHeight,tt=0,K=0;if(I){j=I.width,Z=I.height;var _t=fc();(_t||!_t&&v==="fixed")&&(tt=I.offsetLeft,K=I.offsetTop)}return{width:j,height:Z,x:tt+hs(d),y:K}}(l,a)):Vn(r)?function(d,v){var b=xi(d,!1,v==="fixed");return b.top=b.top+d.clientTop,b.left=b.left+d.clientLeft,b.bottom=b.top+d.clientHeight,b.right=b.left+d.clientWidth,b.width=d.clientWidth,b.height=d.clientHeight,b.x=b.left,b.y=b.top,b}(r,a):gs(function(d){var v,b=Ln(d),D=ds(d),I=(v=d.ownerDocument)==null?void 0:v.body,j=Un(b.scrollWidth,b.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),Z=Un(b.scrollHeight,b.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),tt=-D.scrollLeft+hs(d),K=-D.scrollTop;return mn(I||b).direction==="rtl"&&(tt+=Un(b.clientWidth,I?I.clientWidth:0)-j),{width:j,height:Z,x:tt,y:K}}(Ln(l)))}function Ac(l){var r,a=l.reference,d=l.element,v=l.placement,b=v?tn(v):null,D=v?Ti(v):null,I=a.x+a.width/2-d.width/2,j=a.y+a.height/2-d.height/2;switch(b){case ie:r={x:I,y:a.y-d.height};break;case ve:r={x:I,y:a.y+a.height};break;case be:r={x:a.x+a.width,y:j};break;case re:r={x:a.x-d.width,y:j};break;default:r={x:a.x,y:a.y}}var Z=b?ls(b):null;if(Z!=null){var tt=Z==="y"?"height":"width";switch(D){case Wn:r[Z]=r[Z]-(a[tt]/2-d[tt]/2);break;case Ai:r[Z]=r[Z]+(a[tt]/2-d[tt]/2)}}return r}function Ci(l,r){r===void 0&&(r={});var a=r,d=a.placement,v=d===void 0?l.placement:d,b=a.strategy,D=b===void 0?l.strategy:b,I=a.boundary,j=I===void 0?Za:I,Z=a.rootBoundary,tt=Z===void 0?ns:Z,K=a.elementContext,_t=K===void 0?wi:K,ut=a.altBoundary,ht=ut!==void 0&&ut,ft=a.padding,pt=ft===void 0?0:ft,Pt=pc(typeof pt!="number"?pt:gc(pt,yi)),Ht=_t===wi?tc:wi,At=l.rects.popper,Lt=l.elements[ht?Ht:_t],vt=function(oe,Ne,Ie,zt){var en=Ne==="clippingParents"?function(Bt){var se=ar(Hr(Bt)),$e=["absolute","fixed"].indexOf(mn(Bt).position)>=0&&Me(Bt)?or(Bt):Bt;return Vn($e)?se.filter(function(kn){return Vn(kn)&&dc(kn,$e)&&Ze(kn)!=="body"}):[]}(oe):[].concat(Ne),nn=[].concat(en,[Ie]),Di=nn[0],Kt=nn.reduce(function(Bt,se){var $e=yc(oe,se,zt);return Bt.top=Un($e.top,Bt.top),Bt.right=Br($e.right,Bt.right),Bt.bottom=Br($e.bottom,Bt.bottom),Bt.left=Un($e.left,Bt.left),Bt},yc(oe,Di,zt));return Kt.width=Kt.right-Kt.left,Kt.height=Kt.bottom-Kt.top,Kt.x=Kt.left,Kt.y=Kt.top,Kt}(Vn(Lt)?Lt:Lt.contextElement||Ln(l.elements.popper),j,tt,D),xt=xi(l.elements.reference),Nt=Ac({reference:xt,element:At,placement:v}),Rt=gs(Object.assign({},At,Nt)),It=_t===wi?Rt:xt,Gt={top:vt.top-It.top+Pt.top,bottom:It.bottom-vt.bottom+Pt.bottom,left:vt.left-It.left+Pt.left,right:It.right-vt.right+Pt.right},Ae=l.modifiersData.offset;if(_t===wi&&Ae){var We=Ae[v];Object.keys(Gt).forEach(function(oe){var Ne=[be,ve].indexOf(oe)>=0?1:-1,Ie=[ie,ve].indexOf(oe)>=0?"y":"x";Gt[oe]+=We[Ie]*Ne})}return Gt}function Yd(l,r){r===void 0&&(r={});var a=r,d=a.placement,v=a.boundary,b=a.rootBoundary,D=a.padding,I=a.flipVariations,j=a.allowedAutoPlacements,Z=j===void 0?rs:j,tt=Ti(d),K=tt?I?is:is.filter(function(ht){return Ti(ht)===tt}):yi,_t=K.filter(function(ht){return Z.indexOf(ht)>=0});_t.length===0&&(_t=K);var ut=_t.reduce(function(ht,ft){return ht[ft]=Ci(l,{placement:ft,boundary:v,rootBoundary:b,padding:D})[tn(ft)],ht},{});return Object.keys(ut).sort(function(ht,ft){return ut[ht]-ut[ft]})}const wc={name:"flip",enabled:!0,phase:"main",fn:function(l){var r=l.state,a=l.options,d=l.name;if(!r.modifiersData[d]._skip){for(var v=a.mainAxis,b=v===void 0||v,D=a.altAxis,I=D===void 0||D,j=a.fallbackPlacements,Z=a.padding,tt=a.boundary,K=a.rootBoundary,_t=a.altBoundary,ut=a.flipVariations,ht=ut===void 0||ut,ft=a.allowedAutoPlacements,pt=r.options.placement,Pt=tn(pt),Ht=j||(Pt!==pt&&ht?function(Bt){if(tn(Bt)===Rr)return[];var se=zr(Bt);return[vc(Bt),se,vc(se)]}(pt):[zr(pt)]),At=[pt].concat(Ht).reduce(function(Bt,se){return Bt.concat(tn(se)===Rr?Yd(r,{placement:se,boundary:tt,rootBoundary:K,padding:Z,flipVariations:ht,allowedAutoPlacements:ft}):se)},[]),Lt=r.rects.reference,vt=r.rects.popper,xt=new Map,Nt=!0,Rt=At[0],It=0;It<At.length;It++){var Gt=At[It],Ae=tn(Gt),We=Ti(Gt)===Wn,oe=[ie,ve].indexOf(Ae)>=0,Ne=oe?"width":"height",Ie=Ci(r,{placement:Gt,boundary:tt,rootBoundary:K,altBoundary:_t,padding:Z}),zt=oe?We?be:re:We?ve:ie;Lt[Ne]>vt[Ne]&&(zt=zr(zt));var en=zr(zt),nn=[];if(b&&nn.push(Ie[Ae]<=0),I&&nn.push(Ie[zt]<=0,Ie[en]<=0),nn.every(function(Bt){return Bt})){Rt=Gt,Nt=!1;break}xt.set(Gt,nn)}if(Nt)for(var Di=function(Bt){var se=At.find(function($e){var kn=xt.get($e);if(kn)return kn.slice(0,Bt).every(function(qr){return qr})});if(se)return Rt=se,"break"},Kt=ht?3:1;Kt>0&&Di(Kt)!=="break";Kt--);r.placement!==Rt&&(r.modifiersData[d]._skip=!0,r.placement=Rt,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ec(l,r,a){return a===void 0&&(a={x:0,y:0}),{top:l.top-r.height-a.y,right:l.right-r.width+a.x,bottom:l.bottom-r.height+a.y,left:l.left-r.width-a.x}}function xc(l){return[ie,be,ve,re].some(function(r){return l[r]>=0})}const Tc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(l){var r=l.state,a=l.name,d=r.rects.reference,v=r.rects.popper,b=r.modifiersData.preventOverflow,D=Ci(r,{elementContext:"reference"}),I=Ci(r,{altBoundary:!0}),j=Ec(D,d),Z=Ec(I,v,b),tt=xc(j),K=xc(Z);r.modifiersData[a]={referenceClippingOffsets:j,popperEscapeOffsets:Z,isReferenceHidden:tt,hasPopperEscaped:K},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":tt,"data-popper-escaped":K})}},Cc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(l){var r=l.state,a=l.options,d=l.name,v=a.offset,b=v===void 0?[0,0]:v,D=rs.reduce(function(tt,K){return tt[K]=function(_t,ut,ht){var ft=tn(_t),pt=[re,ie].indexOf(ft)>=0?-1:1,Pt=typeof ht=="function"?ht(Object.assign({},ut,{placement:_t})):ht,Ht=Pt[0],At=Pt[1];return Ht=Ht||0,At=(At||0)*pt,[re,be].indexOf(ft)>=0?{x:At,y:Ht}:{x:Ht,y:At}}(K,r.rects,b),tt},{}),I=D[r.placement],j=I.x,Z=I.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=j,r.modifiersData.popperOffsets.y+=Z),r.modifiersData[d]=D}},ms={name:"popperOffsets",enabled:!0,phase:"read",fn:function(l){var r=l.state,a=l.name;r.modifiersData[a]=Ac({reference:r.rects.reference,element:r.rects.popper,placement:r.placement})},data:{}},Sc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(l){var r=l.state,a=l.options,d=l.name,v=a.mainAxis,b=v===void 0||v,D=a.altAxis,I=D!==void 0&&D,j=a.boundary,Z=a.rootBoundary,tt=a.altBoundary,K=a.padding,_t=a.tether,ut=_t===void 0||_t,ht=a.tetherOffset,ft=ht===void 0?0:ht,pt=Ci(r,{boundary:j,rootBoundary:Z,padding:K,altBoundary:tt}),Pt=tn(r.placement),Ht=Ti(r.placement),At=!Ht,Lt=ls(Pt),vt=Lt==="x"?"y":"x",xt=r.modifiersData.popperOffsets,Nt=r.rects.reference,Rt=r.rects.popper,It=typeof ft=="function"?ft(Object.assign({},r.rects,{placement:r.placement})):ft,Gt=typeof It=="number"?{mainAxis:It,altAxis:It}:Object.assign({mainAxis:0,altAxis:0},It),Ae=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,We={x:0,y:0};if(xt){if(b){var oe,Ne=Lt==="y"?ie:re,Ie=Lt==="y"?ve:be,zt=Lt==="y"?"height":"width",en=xt[Lt],nn=en+pt[Ne],Di=en-pt[Ie],Kt=ut?-Rt[zt]/2:0,Bt=Ht===Wn?Nt[zt]:Rt[zt],se=Ht===Wn?-Rt[zt]:-Nt[zt],$e=r.elements.arrow,kn=ut&&$e?cs($e):{width:0,height:0},qr=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},hl=qr[Ne],pl=qr[Ie],Xr=sr(0,Nt[zt],kn[zt]),xp=At?Nt[zt]/2-Kt-Xr-hl-Gt.mainAxis:Bt-Xr-hl-Gt.mainAxis,Tp=At?-Nt[zt]/2+Kt+Xr+pl+Gt.mainAxis:se+Xr+pl+Gt.mainAxis,Ds=r.elements.arrow&&or(r.elements.arrow),Cp=Ds?Lt==="y"?Ds.clientTop||0:Ds.clientLeft||0:0,gl=(oe=Ae==null?void 0:Ae[Lt])!=null?oe:0,Sp=en+Tp-gl,ml=sr(ut?Br(nn,en+xp-gl-Cp):nn,en,ut?Un(Di,Sp):Di);xt[Lt]=ml,We[Lt]=ml-en}if(I){var _l,Op=Lt==="x"?ie:re,Dp=Lt==="x"?ve:be,ti=xt[vt],Jr=vt==="y"?"height":"width",vl=ti+pt[Op],bl=ti-pt[Dp],Ls=[ie,re].indexOf(Pt)!==-1,yl=(_l=Ae==null?void 0:Ae[vt])!=null?_l:0,Al=Ls?vl:ti-Nt[Jr]-Rt[Jr]-yl+Gt.altAxis,wl=Ls?ti+Nt[Jr]+Rt[Jr]-yl-Gt.altAxis:bl,El=ut&&Ls?function(Lp,Mp,Ms){var xl=sr(Lp,Mp,Ms);return xl>Ms?Ms:xl}(Al,ti,wl):sr(ut?Al:vl,ti,ut?wl:bl);xt[vt]=El,We[vt]=El-ti}r.modifiersData[d]=We}},requiresIfExists:["offset"]};function qd(l,r,a){a===void 0&&(a=!1);var d,v,b=Me(r),D=Me(r)&&function(K){var _t=K.getBoundingClientRect(),ut=Ei(_t.width)/K.offsetWidth||1,ht=Ei(_t.height)/K.offsetHeight||1;return ut!==1||ht!==1}(r),I=Ln(r),j=xi(l,D,a),Z={scrollLeft:0,scrollTop:0},tt={x:0,y:0};return(b||!b&&!a)&&((Ze(r)!=="body"||ps(I))&&(Z=(d=r)!==ye(d)&&Me(d)?{scrollLeft:(v=d).scrollLeft,scrollTop:v.scrollTop}:ds(d)),Me(r)?((tt=xi(r,!0)).x+=r.clientLeft,tt.y+=r.clientTop):I&&(tt.x=hs(I))),{x:j.left+Z.scrollLeft-tt.x,y:j.top+Z.scrollTop-tt.y,width:j.width,height:j.height}}function Xd(l){var r=new Map,a=new Set,d=[];function v(b){a.add(b.name),[].concat(b.requires||[],b.requiresIfExists||[]).forEach(function(D){if(!a.has(D)){var I=r.get(D);I&&v(I)}}),d.push(b)}return l.forEach(function(b){r.set(b.name,b)}),l.forEach(function(b){a.has(b.name)||v(b)}),d}var Oc={placement:"bottom",modifiers:[],strategy:"absolute"};function Dc(){for(var l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return!r.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function Gr(l){l===void 0&&(l={});var r=l,a=r.defaultModifiers,d=a===void 0?[]:a,v=r.defaultOptions,b=v===void 0?Oc:v;return function(D,I,j){j===void 0&&(j=b);var Z,tt,K={placement:"bottom",orderedModifiers:[],options:Object.assign({},Oc,b),modifiersData:{},elements:{reference:D,popper:I},attributes:{},styles:{}},_t=[],ut=!1,ht={state:K,setOptions:function(pt){var Pt=typeof pt=="function"?pt(K.options):pt;ft(),K.options=Object.assign({},b,K.options,Pt),K.scrollParents={reference:Vn(D)?ar(D):D.contextElement?ar(D.contextElement):[],popper:ar(I)};var Ht,At,Lt=function(vt){var xt=Xd(vt);return uc.reduce(function(Nt,Rt){return Nt.concat(xt.filter(function(It){return It.phase===Rt}))},[])}((Ht=[].concat(d,K.options.modifiers),At=Ht.reduce(function(vt,xt){var Nt=vt[xt.name];return vt[xt.name]=Nt?Object.assign({},Nt,xt,{options:Object.assign({},Nt.options,xt.options),data:Object.assign({},Nt.data,xt.data)}):xt,vt},{}),Object.keys(At).map(function(vt){return At[vt]})));return K.orderedModifiers=Lt.filter(function(vt){return vt.enabled}),K.orderedModifiers.forEach(function(vt){var xt=vt.name,Nt=vt.options,Rt=Nt===void 0?{}:Nt,It=vt.effect;if(typeof It=="function"){var Gt=It({state:K,name:xt,instance:ht,options:Rt});_t.push(Gt||function(){})}}),ht.update()},forceUpdate:function(){if(!ut){var pt=K.elements,Pt=pt.reference,Ht=pt.popper;if(Dc(Pt,Ht)){K.rects={reference:qd(Pt,or(Ht),K.options.strategy==="fixed"),popper:cs(Ht)},K.reset=!1,K.placement=K.options.placement,K.orderedModifiers.forEach(function(It){return K.modifiersData[It.name]=Object.assign({},It.data)});for(var At=0;At<K.orderedModifiers.length;At++)if(K.reset!==!0){var Lt=K.orderedModifiers[At],vt=Lt.fn,xt=Lt.options,Nt=xt===void 0?{}:xt,Rt=Lt.name;typeof vt=="function"&&(K=vt({state:K,options:Nt,name:Rt,instance:ht})||K)}else K.reset=!1,At=-1}}},update:(Z=function(){return new Promise(function(pt){ht.forceUpdate(),pt(K)})},function(){return tt||(tt=new Promise(function(pt){Promise.resolve().then(function(){tt=void 0,pt(Z())})})),tt}),destroy:function(){ft(),ut=!0}};if(!Dc(D,I))return ht;function ft(){_t.forEach(function(pt){return pt()}),_t=[]}return ht.setOptions(j).then(function(pt){!ut&&j.onFirstUpdate&&j.onFirstUpdate(pt)}),ht}}var Jd=Gr(),Zd=Gr({defaultModifiers:[fs,ms,us,ss]}),_s=Gr({defaultModifiers:[fs,ms,us,ss,Cc,wc,Sc,mc,Tc]});const Lc=Object.freeze(Object.defineProperty({__proto__:null,afterMain:sc,afterRead:ic,afterWrite:lc,applyStyles:ss,arrow:mc,auto:Rr,basePlacements:yi,beforeMain:rc,beforeRead:ec,beforeWrite:ac,bottom:ve,clippingParents:Za,computeStyles:us,createPopper:_s,createPopperBase:Jd,createPopperLite:Zd,detectOverflow:Ci,end:Ai,eventListeners:fs,flip:wc,hide:Tc,left:re,main:oc,modifierPhases:uc,offset:Cc,placements:rs,popper:wi,popperGenerator:Gr,popperOffsets:ms,preventOverflow:Sc,read:nc,reference:tc,right:be,start:Wn,top:ie,variationPlacements:is,viewport:ns,write:cc},Symbol.toStringTag,{value:"Module"})),Mc="dropdown",Qn=".bs.dropdown",vs=".data-api",th="ArrowUp",kc="ArrowDown",eh=`hide${Qn}`,nh=`hidden${Qn}`,ih=`show${Qn}`,rh=`shown${Qn}`,Nc=`click${Qn}${vs}`,Ic=`keydown${Qn}${vs}`,oh=`keyup${Qn}${vs}`,Si="show",Kn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',sh=`${Kn}.${Si}`,jr=".dropdown-menu",ah=L()?"top-end":"top-start",ch=L()?"top-start":"top-end",lh=L()?"bottom-end":"bottom-start",uh=L()?"bottom-start":"bottom-end",fh=L()?"left-start":"right-start",dh=L()?"right-start":"left-start",hh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ph={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class je extends lt{constructor(r,a){super(r,a),this._popper=null,this._parent=this._element.parentNode,this._menu=Q.next(this._element,jr)[0]||Q.prev(this._element,jr)[0]||Q.findOne(jr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return hh}static get DefaultType(){return ph}static get NAME(){return Mc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!w.trigger(this._element,ih,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const a of[].concat(...document.body.children))w.on(a,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Si),this._element.classList.add(Si),w.trigger(this._element,rh,r)}}hide(){if(h(this._element)||!this._isShown())return;const r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!w.trigger(this._element,eh,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))w.off(a,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Si),this._element.classList.remove(Si),this._element.setAttribute("aria-expanded","false"),dt.removeDataAttribute(this._menu,"popper"),w.trigger(this._element,nh,r)}}_getConfig(r){if(typeof(r=super._getConfig(r)).reference=="object"&&!u(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${Mc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(Lc===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:u(this._config.reference)?r=f(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);const a=this._getPopperConfig();this._popper=_s(r,this._menu,a)}_isShown(){return this._menu.classList.contains(Si)}_getPlacement(){const r=this._parent;if(r.classList.contains("dropend"))return fh;if(r.classList.contains("dropstart"))return dh;if(r.classList.contains("dropup-center"))return"top";if(r.classList.contains("dropdown-center"))return"bottom";const a=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains("dropup")?a?ch:ah:a?uh:lh}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(a=>Number.parseInt(a,10)):typeof r=="function"?a=>r(a,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(dt.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...F(this._config.popperConfig,[r])}}_selectMenuItem({key:r,target:a}){const d=Q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(v=>p(v));d.length&&m(d,a,r===kc,!d.includes(a)).focus()}static jQueryInterface(r){return this.each(function(){const a=je.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r]()}})}static clearMenus(r){if(r.button===2||r.type==="keyup"&&r.key!=="Tab")return;const a=Q.find(sh);for(const d of a){const v=je.getInstance(d);if(!v||v._config.autoClose===!1)continue;const b=r.composedPath(),D=b.includes(v._menu);if(b.includes(v._element)||v._config.autoClose==="inside"&&!D||v._config.autoClose==="outside"&&D||v._menu.contains(r.target)&&(r.type==="keyup"&&r.key==="Tab"||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const I={relatedTarget:v._element};r.type==="click"&&(I.clickEvent=r),v._completeHide(I)}}static dataApiKeydownHandler(r){const a=/input|textarea/i.test(r.target.tagName),d=r.key==="Escape",v=[th,kc].includes(r.key);if(!v&&!d||a&&!d)return;r.preventDefault();const b=this.matches(Kn)?this:Q.prev(this,Kn)[0]||Q.next(this,Kn)[0]||Q.findOne(Kn,r.delegateTarget.parentNode),D=je.getOrCreateInstance(b);if(v)return r.stopPropagation(),D.show(),void D._selectMenuItem(r);D._isShown()&&(r.stopPropagation(),D.hide(),b.focus())}}w.on(document,Ic,Kn,je.dataApiKeydownHandler),w.on(document,Ic,jr,je.dataApiKeydownHandler),w.on(document,Nc,je.clearMenus),w.on(document,oh,je.clearMenus),w.on(document,Nc,Kn,function(l){l.preventDefault(),je.getOrCreateInstance(this).toggle()}),M(je);const $c="backdrop",Pc="show",Rc=`mousedown.bs.${$c}`,gh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},mh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Bc extends Dt{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return gh}static get DefaultType(){return mh}static get NAME(){return $c}show(r){if(!this._config.isVisible)return void F(r);this._append();const a=this._getElement();this._config.isAnimated&&T(a),a.classList.add(Pc),this._emulateAnimation(()=>{F(r)})}hide(r){this._config.isVisible?(this._getElement().classList.remove(Pc),this._emulateAnimation(()=>{this.dispose(),F(r)})):F(r)}dispose(){this._isAppended&&(w.off(this._element,Rc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add("fade"),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=f(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),w.on(r,Rc,()=>{F(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){Y(r,this._getElement(),this._config.isAnimated)}}const Wr=".bs.focustrap",_h=`focusin${Wr}`,vh=`keydown.tab${Wr}`,Hc="backward",bh={autofocus:!0,trapElement:null},yh={autofocus:"boolean",trapElement:"element"};class Fc extends Dt{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return bh}static get DefaultType(){return yh}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),w.off(document,Wr),w.on(document,_h,r=>this._handleFocusin(r)),w.on(document,vh,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,w.off(document,Wr))}_handleFocusin(r){const{trapElement:a}=this._config;if(r.target===document||r.target===a||a.contains(r.target))return;const d=Q.focusableChildren(a);d.length===0?a.focus():this._lastTabNavDirection===Hc?d[d.length-1].focus():d[0].focus()}_handleKeydown(r){r.key==="Tab"&&(this._lastTabNavDirection=r.shiftKey?Hc:"forward")}}const zc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Gc=".sticky-top",Vr="padding-right",jc="margin-right";class bs{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Vr,a=>a+r),this._setElementAttributes(zc,Vr,a=>a+r),this._setElementAttributes(Gc,jc,a=>a-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Vr),this._resetElementAttributes(zc,Vr),this._resetElementAttributes(Gc,jc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,a,d){const v=this.getWidth();this._applyManipulationCallback(r,b=>{if(b!==this._element&&window.innerWidth>b.clientWidth+v)return;this._saveInitialAttribute(b,a);const D=window.getComputedStyle(b).getPropertyValue(a);b.style.setProperty(a,`${d(Number.parseFloat(D))}px`)})}_saveInitialAttribute(r,a){const d=r.style.getPropertyValue(a);d&&dt.setDataAttribute(r,a,d)}_resetElementAttributes(r,a){this._applyManipulationCallback(r,d=>{const v=dt.getDataAttribute(d,a);v!==null?(dt.removeDataAttribute(d,a),d.style.setProperty(a,v)):d.style.removeProperty(a)})}_applyManipulationCallback(r,a){if(u(r))a(r);else for(const d of Q.find(r,this._element))a(d)}}const ke=".bs.modal",Ah=`hide${ke}`,wh=`hidePrevented${ke}`,Wc=`hidden${ke}`,Vc=`show${ke}`,Eh=`shown${ke}`,xh=`resize${ke}`,Th=`click.dismiss${ke}`,Ch=`mousedown.dismiss${ke}`,Sh=`keydown.dismiss${ke}`,Oh=`click${ke}.data-api`,Uc="modal-open",Qc="show",ys="modal-static",Dh={backdrop:!0,focus:!0,keyboard:!0},Lh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Yn extends lt{constructor(r,a){super(r,a),this._dialog=Q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new bs,this._addEventListeners()}static get Default(){return Dh}static get DefaultType(){return Lh}static get NAME(){return"modal"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||w.trigger(this._element,Vc,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Uc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){this._isShown&&!this._isTransitioning&&(w.trigger(this._element,Ah).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Qc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){w.off(window,ke),w.off(this._dialog,ke),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Bc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Fc({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=Q.findOne(".modal-body",this._dialog);a&&(a.scrollTop=0),T(this._element),this._element.classList.add(Qc),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,w.trigger(this._element,Eh,{relatedTarget:r})},this._dialog,this._isAnimated())}_addEventListeners(){w.on(this._element,Sh,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),w.on(window,xh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),w.on(this._element,Ch,r=>{w.one(this._element,Th,a=>{this._element===r.target&&this._element===a.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Uc),this._resetAdjustments(),this._scrollBar.reset(),w.trigger(this._element,Wc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(w.trigger(this._element,wh).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,a=this._element.style.overflowY;a==="hidden"||this._element.classList.contains(ys)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(ys),this._queueCallback(()=>{this._element.classList.remove(ys),this._queueCallback(()=>{this._element.style.overflowY=a},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),d=a>0;if(d&&!r){const v=L()?"paddingLeft":"paddingRight";this._element.style[v]=`${a}px`}if(!d&&r){const v=L()?"paddingRight":"paddingLeft";this._element.style[v]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,a){return this.each(function(){const d=Yn.getOrCreateInstance(this,r);if(typeof r=="string"){if(d[r]===void 0)throw new TypeError(`No method named "${r}"`);d[r](a)}})}}w.on(document,Oh,'[data-bs-toggle="modal"]',function(l){const r=Q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&l.preventDefault(),w.one(r,Vc,d=>{d.defaultPrevented||w.one(r,Wc,()=>{p(this)&&this.focus()})});const a=Q.findOne(".modal.show");a&&Yn.getInstance(a).hide(),Yn.getOrCreateInstance(r).toggle(this)}),Qt(Yn),M(Yn);const _n=".bs.offcanvas",Kc=".data-api",Mh=`load${_n}${Kc}`,Yc="show",qc="showing",Xc="hiding",Jc=".offcanvas.show",kh=`show${_n}`,Nh=`shown${_n}`,Ih=`hide${_n}`,Zc=`hidePrevented${_n}`,tl=`hidden${_n}`,$h=`resize${_n}`,Ph=`click${_n}${Kc}`,Rh=`keydown.dismiss${_n}`,Bh={backdrop:!0,keyboard:!0,scroll:!1},Hh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class vn extends lt{constructor(r,a){super(r,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bh}static get DefaultType(){return Hh}static get NAME(){return"offcanvas"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||w.trigger(this._element,kh,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new bs().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Yc),this._element.classList.remove(qc),w.trigger(this._element,Nh,{relatedTarget:r})},this._element,!0))}hide(){this._isShown&&(w.trigger(this._element,Ih).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Xc),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Yc,Xc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new bs().reset(),w.trigger(this._element,tl)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=!!this._config.backdrop;return new Bc({className:"offcanvas-backdrop",isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?()=>{this._config.backdrop!=="static"?this.hide():w.trigger(this._element,Zc)}:null})}_initializeFocusTrap(){return new Fc({trapElement:this._element})}_addEventListeners(){w.on(this._element,Rh,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():w.trigger(this._element,Zc))})}static jQueryInterface(r){return this.each(function(){const a=vn.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r](this)}})}}w.on(document,Ph,'[data-bs-toggle="offcanvas"]',function(l){const r=Q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&l.preventDefault(),h(this))return;w.one(r,tl,()=>{p(this)&&this.focus()});const a=Q.findOne(Jc);a&&a!==r&&vn.getInstance(a).hide(),vn.getOrCreateInstance(r).toggle(this)}),w.on(window,Mh,()=>{for(const l of Q.find(Jc))vn.getOrCreateInstance(l).show()}),w.on(window,$h,()=>{for(const l of Q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(l).position!=="fixed"&&vn.getOrCreateInstance(l).hide()}),Qt(vn),M(vn);const el={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Fh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),zh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Gh=(l,r)=>{const a=l.nodeName.toLowerCase();return r.includes(a)?!Fh.has(a)||!!zh.test(l.nodeValue):r.filter(d=>d instanceof RegExp).some(d=>d.test(a))},jh={allowList:el,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Wh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Vh={entry:"(string|element|function|null)",selector:"(string|element)"};class Uh extends Dt{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return jh}static get DefaultType(){return Wh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[v,b]of Object.entries(this._config.content))this._setContent(r,b,v);const a=r.children[0],d=this._resolvePossibleFunction(this._config.extraClass);return d&&a.classList.add(...d.split(" ")),a}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[a,d]of Object.entries(r))super._typeCheckConfig({selector:a,entry:d},Vh)}_setContent(r,a,d){const v=Q.findOne(d,r);v&&((a=this._resolvePossibleFunction(a))?u(a)?this._putElementInTemplate(f(a),v):this._config.html?v.innerHTML=this._maybeSanitize(a):v.textContent=a:v.remove())}_maybeSanitize(r){return this._config.sanitize?function(a,d,v){if(!a.length)return a;if(v&&typeof v=="function")return v(a);const b=new window.DOMParser().parseFromString(a,"text/html"),D=[].concat(...b.body.querySelectorAll("*"));for(const I of D){const j=I.nodeName.toLowerCase();if(!Object.keys(d).includes(j)){I.remove();continue}const Z=[].concat(...I.attributes),tt=[].concat(d["*"]||[],d[j]||[]);for(const K of Z)Gh(K,tt)||I.removeAttribute(K.nodeName)}return b.body.innerHTML}(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return F(r,[this])}_putElementInTemplate(r,a){if(this._config.html)return a.innerHTML="",void a.append(r);a.textContent=r.textContent}}const Qh=new Set(["sanitize","allowList","sanitizeFn"]),As="fade",Ur="show",nl=".modal",il="hide.bs.modal",cr="hover",ws="focus",Kh={AUTO:"auto",TOP:"top",RIGHT:L()?"left":"right",BOTTOM:"bottom",LEFT:L()?"right":"left"},Yh={allowList:el,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},qh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class qn extends lt{constructor(r,a){if(Lc===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Yh}static get DefaultType(){return qh}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),w.off(this._element.closest(nl),il,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const r=w.trigger(this._element,this.constructor.eventName("show")),a=(A(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!a)return;this._disposePopper();const d=this._getTipElement();this._element.setAttribute("aria-describedby",d.getAttribute("id"));const{container:v}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(v.append(d),w.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(d),d.classList.add(Ur),"ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))w.on(b,"mouseover",_);this._queueCallback(()=>{w.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!w.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ur),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))w.off(r,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger[ws]=!1,this._activeTrigger[cr]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),w.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const a=this._getTemplateFactory(r).toHtml();if(!a)return null;a.classList.remove(As,Ur),a.classList.add(`bs-${this.constructor.NAME}-auto`);const d=(v=>{do v+=Math.floor(1e6*Math.random());while(document.getElementById(v));return v})(this.constructor.NAME).toString();return a.setAttribute("id",d),this._isAnimated()&&a.classList.add(As),a}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new Uh({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(As)}_isShown(){return this.tip&&this.tip.classList.contains(Ur)}_createPopper(r){const a=F(this._config.placement,[this,r,this._element]),d=Kh[a.toUpperCase()];return _s(this._element,r,this._getPopperConfig(d))}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(a=>Number.parseInt(a,10)):typeof r=="function"?a=>r(a,this._element):r}_resolvePossibleFunction(r){return F(r,[this._element])}_getPopperConfig(r){const a={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:d=>{this._getTipElement().setAttribute("data-popper-placement",d.state.placement)}}]};return{...a,...F(this._config.popperConfig,[a])}}_setListeners(){const r=this._config.trigger.split(" ");for(const a of r)if(a==="click")w.on(this._element,this.constructor.eventName("click"),this._config.selector,d=>{this._initializeOnDelegatedTarget(d).toggle()});else if(a!=="manual"){const d=a===cr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),v=a===cr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");w.on(this._element,d,this._config.selector,b=>{const D=this._initializeOnDelegatedTarget(b);D._activeTrigger[b.type==="focusin"?ws:cr]=!0,D._enter()}),w.on(this._element,v,this._config.selector,b=>{const D=this._initializeOnDelegatedTarget(b);D._activeTrigger[b.type==="focusout"?ws:cr]=D._element.contains(b.relatedTarget),D._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},w.on(this._element.closest(nl),il,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");r&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,a){clearTimeout(this._timeout),this._timeout=setTimeout(r,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const a=dt.getDataAttributes(this._element);for(const d of Object.keys(a))Qh.has(d)&&delete a[d];return r={...a,...typeof r=="object"&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:f(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const[a,d]of Object.entries(this._config))this.constructor.Default[a]!==d&&(r[a]=d);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){const a=qn.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r]()}})}}M(qn);const Xh={...qn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Jh={...qn.DefaultType,content:"(null|string|element|function)"};class Qr extends qn{static get Default(){return Xh}static get DefaultType(){return Jh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const a=Qr.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r]()}})}}M(Qr);const Es=".bs.scrollspy",Zh=`activate${Es}`,rl=`click${Es}`,tp=`load${Es}.data-api`,Oi="active",xs="[href]",ol=".nav-link",ep=`${ol}, .nav-item > ${ol}, .list-group-item`,np={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ip={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class lr extends lt{constructor(r,a){super(r,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return np}static get DefaultType(){return ip}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=f(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(a=>Number.parseFloat(a))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(w.off(this._config.target,rl),w.on(this._config.target,rl,xs,r=>{const a=this._observableSections.get(r.target.hash);if(a){r.preventDefault();const d=this._rootElement||window,v=a.offsetTop-this._element.offsetTop;if(d.scrollTo)return void d.scrollTo({top:v,behavior:"smooth"});d.scrollTop=v}}))}_getNewObserver(){const r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(a=>this._observerCallback(a),r)}_observerCallback(r){const a=D=>this._targetLinks.get(`#${D.target.id}`),d=D=>{this._previousScrollData.visibleEntryTop=D.target.offsetTop,this._process(a(D))},v=(this._rootElement||document.documentElement).scrollTop,b=v>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=v;for(const D of r){if(!D.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(D));continue}const I=D.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(b&&I){if(d(D),!v)return}else b||I||d(D)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=Q.find(xs,this._config.target);for(const a of r){if(!a.hash||h(a))continue;const d=Q.findOne(decodeURI(a.hash),this._element);p(d)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,d))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(Oi),this._activateParents(r),w.trigger(this._element,Zh,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains("dropdown-item"))Q.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(Oi);else for(const a of Q.parents(r,".nav, .list-group"))for(const d of Q.prev(a,ep))d.classList.add(Oi)}_clearActiveClass(r){r.classList.remove(Oi);const a=Q.find(`${xs}.${Oi}`,r);for(const d of a)d.classList.remove(Oi)}static jQueryInterface(r){return this.each(function(){const a=lr.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r]()}})}}w.on(window,tp,()=>{for(const l of Q.find('[data-bs-spy="scroll"]'))lr.getOrCreateInstance(l)}),M(lr);const Xn=".bs.tab",rp=`hide${Xn}`,op=`hidden${Xn}`,sp=`show${Xn}`,ap=`shown${Xn}`,cp=`click${Xn}`,lp=`keydown${Xn}`,up=`load${Xn}`,fp="ArrowLeft",sl="ArrowRight",dp="ArrowUp",al="ArrowDown",Ts="Home",cl="End",Jn="active",ll="fade",Cs="show",ul=".dropdown-toggle",Ss=`:not(${ul})`,fl='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Os=`.nav-link${Ss}, .list-group-item${Ss}, [role="tab"]${Ss}, ${fl}`,hp=`.${Jn}[data-bs-toggle="tab"], .${Jn}[data-bs-toggle="pill"], .${Jn}[data-bs-toggle="list"]`;class Zn extends lt{constructor(r){super(r),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),w.on(this._element,lp,a=>this._keydown(a)))}static get NAME(){return"tab"}show(){const r=this._element;if(this._elemIsActive(r))return;const a=this._getActiveElem(),d=a?w.trigger(a,rp,{relatedTarget:r}):null;w.trigger(r,sp,{relatedTarget:a}).defaultPrevented||d&&d.defaultPrevented||(this._deactivate(a,r),this._activate(r,a))}_activate(r,a){r&&(r.classList.add(Jn),this._activate(Q.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),w.trigger(r,ap,{relatedTarget:a})):r.classList.add(Cs)},r,r.classList.contains(ll)))}_deactivate(r,a){r&&(r.classList.remove(Jn),r.blur(),this._deactivate(Q.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),w.trigger(r,op,{relatedTarget:a})):r.classList.remove(Cs)},r,r.classList.contains(ll)))}_keydown(r){if(![fp,sl,dp,al,Ts,cl].includes(r.key))return;r.stopPropagation(),r.preventDefault();const a=this._getChildren().filter(v=>!h(v));let d;if([Ts,cl].includes(r.key))d=a[r.key===Ts?0:a.length-1];else{const v=[sl,al].includes(r.key);d=m(a,r.target,v,!0)}d&&(d.focus({preventScroll:!0}),Zn.getOrCreateInstance(d).show())}_getChildren(){return Q.find(Os,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,a){this._setAttributeIfNotExists(r,"role","tablist");for(const d of a)this._setInitialAttributesOnChild(d)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const a=this._elemIsActive(r),d=this._getOuterElement(r);r.setAttribute("aria-selected",a),d!==r&&this._setAttributeIfNotExists(d,"role","presentation"),a||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const a=Q.getElementFromSelector(r);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${r.id}`))}_toggleDropDown(r,a){const d=this._getOuterElement(r);if(!d.classList.contains("dropdown"))return;const v=(b,D)=>{const I=Q.findOne(b,d);I&&I.classList.toggle(D,a)};v(ul,Jn),v(".dropdown-menu",Cs),d.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(r,a,d){r.hasAttribute(a)||r.setAttribute(a,d)}_elemIsActive(r){return r.classList.contains(Jn)}_getInnerElement(r){return r.matches(Os)?r:Q.findOne(Os,r)}_getOuterElement(r){return r.closest(".nav-item, .list-group-item")||r}static jQueryInterface(r){return this.each(function(){const a=Zn.getOrCreateInstance(this);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r]()}})}}w.on(document,cp,fl,function(l){["A","AREA"].includes(this.tagName)&&l.preventDefault(),h(this)||Zn.getOrCreateInstance(this).show()}),w.on(window,up,()=>{for(const l of Q.find(hp))Zn.getOrCreateInstance(l)}),M(Zn);const Mn=".bs.toast",pp=`mouseover${Mn}`,gp=`mouseout${Mn}`,mp=`focusin${Mn}`,_p=`focusout${Mn}`,vp=`hide${Mn}`,bp=`hidden${Mn}`,yp=`show${Mn}`,Ap=`shown${Mn}`,dl="hide",Kr="show",Yr="showing",wp={animation:"boolean",autohide:"boolean",delay:"number"},Ep={animation:!0,autohide:!0,delay:5e3};class ur extends lt{constructor(r,a){super(r,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ep}static get DefaultType(){return wp}static get NAME(){return"toast"}show(){w.trigger(this._element,yp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(dl),T(this._element),this._element.classList.add(Kr,Yr),this._queueCallback(()=>{this._element.classList.remove(Yr),w.trigger(this._element,Ap),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(w.trigger(this._element,vp).defaultPrevented||(this._element.classList.add(Yr),this._queueCallback(()=>{this._element.classList.add(dl),this._element.classList.remove(Yr,Kr),w.trigger(this._element,bp)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Kr),super.dispose()}isShown(){return this._element.classList.contains(Kr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,a){switch(r.type){case"mouseover":case"mouseout":this._hasMouseInteraction=a;break;case"focusin":case"focusout":this._hasKeyboardInteraction=a}if(a)return void this._clearTimeout();const d=r.relatedTarget;this._element===d||this._element.contains(d)||this._maybeScheduleHide()}_setListeners(){w.on(this._element,pp,r=>this._onInteraction(r,!0)),w.on(this._element,gp,r=>this._onInteraction(r,!1)),w.on(this._element,mp,r=>this._onInteraction(r,!0)),w.on(this._element,_p,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const a=ur.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r](this)}})}}return Qt(ur),M(ur),{Alert:Jt,Button:Oe,Carousel:jt,Collapse:bi,Dropdown:je,Modal:Yn,Offcanvas:vn,Popover:Qr,ScrollSpy:lr,Tab:Zn,Toast:ur,Tooltip:qn}})}(fo)),fo.exports}Pp();var R=(t=>(t[t.Common=0]="Common",t[t.Rare=1]="Rare",t[t.Masterpiece=2]="Masterpiece",t[t.Epic=3]="Epic",t[t.Mythical=4]="Mythical",t[t.Unique=5]="Unique",t))(R||{}),Yt=(t=>(t.PlayerWin="PlayerWin",t.EnemyWin="EnemyWin",t.Draw="Draw",t))(Yt||{}),ui=(t=>(t.Consumable="Consumable",t.Equipment="Equipment",t))(ui||{}),Vt=(t=>(t.Body="body",t.Hand="hand",t.Foot="foot",t.Accessory="accessory",t))(Vt||{}),S=(t=>(t.Attack="Attack",t.Defend="Defend",t.Dodge="Dodge",t.Capture="Capture",t.Special="Special",t.None="None",t))(S||{}),we=(t=>(t.Permanent="Permanent",t.Turn="Turn",t.Action="Action",t.Hit="Hit",t.Second="Second",t))(we||{}),ee=(t=>(t.OnSecond="OnSecond",t.OnTurnStart="OnTurnStart",t.OnHitStart="OnHitStart",t))(ee||{}),ri=(t=>(t.SpiritBlade="SpiritBlade",t.RedBlade="RedBlade",t.Pain="Pain",t.Unbalance="Unbalance",t.Wound="Wound",t.Burning="Burning",t.QuickRecovery="QuickRecovery",t.Dizzy="Dizzy",t))(ri||{});const zi={SpiritBlade:{name:"气刃",description:"可以释放气刃大回旋",durationType:we.Turn,category:ee.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Ut[N.SpiritRoundSlash],{action1:e,action2:n})},RedBlade:{name:"红刃",description:"可以释放登龙",durationType:we.Turn,category:ee.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Ut[N.HelmBreaker],{action1:e,action2:n})},Pain:{name:"痛苦",description:"有概率因痛苦而无法行动",durationType:we.Turn,category:ee.OnTurnStart,priority:999,effect:(t,e,n)=>(Math.random()<.1&&(e=Ut[N.Stun],n=Ut[N.Stun]),{action1:e,action2:n})},Unbalance:{name:"失衡",description:"重心不稳，丢失当前Hit",durationType:we.Hit,category:ee.OnHitStart,priority:999,effect:(t,e)=>wo},Dizzy:{name:"头晕眼花",description:"丢失当回合所有hit",durationType:we.Turn,category:ee.OnHitStart,priority:999,effect:(t,e)=>wo},Wound:{name:"创伤",description:"每次行动(hit)都会损失一定生命值",durationType:we.Turn,category:ee.OnHitStart,priority:999,effect:(t,e,n)=>(t.loseHp(n||1),e)},Burning:{name:"燃烧",description:"每回合损失一定生命值",durationType:we.Turn,category:ee.OnTurnStart,priority:999,effect:(t,e,n,i)=>(t.loseHp(i||1),{action1:e,action2:n})},QuickRecovery:{name:"快速恢复",description:"自动回复速度大幅度增加",durationType:we.Second,category:ee.OnSecond,priority:1,effect:(t,e)=>{t.autoRecoverHpDot(e||1)}}};function Rp(t,e){if(!(t instanceof Wi))return;if(e.health<1){t.addLog(`${e.name}已经死了，无法捕获`);return}const n=t.ability.dex/e.ability.dex*(t.ability.siz/e.ability.siz)/(10*e.health/e.maxHealth),i=t.ability.str/e.ability.str*(t.ability.siz/e.ability.siz)/(10*e.health/e.maxHealth);Math.random()<i&&Math.random()<n?(e.health=.9,t.capturedMonster.push(e),t.addLog(`你成功捕获了${e.name}`)):t.addLog(`你尝试捕获${e.name}，但是失败了`)}function aa(t,e){return e.hits.map(n=>`${Gi(n)}${n.continuous?"🔗":""}(${Ao(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${$o(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}function $o(t,e,n){const i=Math.round((t.str*e.str+t.dex*e.dex+t.int*e.int+t.con*e.con+t.siz*e.siz+t.app*e.app)*n.multiply+n.plus);return i<0?0:i}function Ao(t,e,n){const i=Math.round($o(t,e,n)*.1);return i<0?0:i}function fi(t,e,n){return Ao(t,e,n)+Math.round(($o(t,e,n)-Ao(t,e,n))*Math.random())}function Gi(t){switch(t.category){case S.Attack:return"🗡️";case S.Defend:return"🛡️";case S.Dodge:return"💫";case S.Capture:return"🕸️";case S.Special:return"💥";case S.None:return"❔";default:return""}}function Dl(t,e){return`
    <p class="fst-italic">"${e.description}"</p>
    <p>系数 (点数范围)</p>
    <p>${e.hits.map(n=>`${Gi(n)}${n.continuous?"🔗":""}${Object.entries(n.coeff).filter(([i,o])=>o).map(([i,o])=>`${i}: ${o}`).join(", ")} (${Ao(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${$o(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}</p>
  `}var N=(t=>(t.Dazed="Dazed",t.Attack="Attack",t.PowerAttack="PowerAttack",t.QuickAttack="QuickAttack",t.PowerfulDigAttack="PowerfulDigAttack",t.Yarimasune="Yarimasune",t.SleepyTea="SleepyTea",t.Repent="Repent",t.HorizontalSlash="HorizontalSlash",t.Bite="Bite",t.Capture="Capture",t.Stun="Stun",t.Defend="Defend",t.Dodge="Dodge",t.DragonBreath="DragonBreath",t.SpinAttack="SpinAttack",t.DefenseSlash="DefenseSlash",t.Counter="Counter",t.GodStrike="GodStrike",t.ShredFlower="ShredFlower",t.PsyKick="PsyKick",t.PsyExplosion="PsyExplosion",t.PsyInvisibleSword="PsyInvisibleSword",t.PsyDodge="PsyDodge",t.Slash="Slash",t.Claw="Claw",t.HelmBreaker="HelmBreaker",t.StepSlash="StepSlash",t.Mikiri="Mikiri",t.SpiritRoundSlash="SpiritRoundSlash",t.NeverRetreat="NeverRetreat",t.LightningStormSlash="LightningStormSlash",t.LightningFiveStrikes="LightningFiveStrikes",t.CrowFly="CrowFly",t.ParkDestroyer="ParkDestroyer",t.SneakAttack="SneakAttack",t.RunAway="RunAway",t))(N||{});const wo={category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`},Ut={Dazed:{name:"反应不过来",description:"来不及反应",rarity:R.Common,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`}]},Stun:{name:"眩晕",description:"眩晕",rarity:R.Common,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 眩晕了`}]},Attack:{name:"攻击",description:"用拳头或者用武器进行一般通过攻击",rarity:R.Common,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}攻击了${e.name}`}]},PowerAttack:{name:"强力攻击",description:"全身力量集中于一点，进行一次强力的攻击",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:2,int:0,con:0,siz:1,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}对${e.name}发起了一次强力的攻击`}]},QuickAttack:{name:"迅击",description:"据说剑圣在一个呼吸间就能劈出数刀。虽然你不是剑圣，但你努努力也至少能劈出两刀",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}以迅雷不及掩耳之势向${e.name}发起了攻势`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`电光火石之间，${t.name}再次做出了攻击`}]},PowerfulDigAttack:{name:"撅",description:"撅是对知识的渴求。古往今来多少哲学家撅地三尺探求真理",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:2,int:0,con:0,siz:3,app:0,dex:0},extraEffect:(t,e)=>{e.addStatus(ri.Pain,1)},messageGenerator:(t,e)=>`${t.name}撅了${e.name}，${e.name}痛苦难耐
// 哼哼啊啊啊啊啊啊啊啊啊啊 `}]},SleepyTea:{name:"饮用昏睡红茶",description:"诗人都喜欢饮酒作赋，古代的哲学家也是如此，只是彼时还没有酒",rarity:R.Epic,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，进入睡眠`},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，于睡眠中恢复了<span style="color: green">${t.getAbility().con}</span>点生命值`,extraEffect:(t,e)=>{t.recoverHp(t.getAbility().con/2)}}]},Yarimasune:{name:"这个可以有！(赞赏)",description:"丝毫不吝啬对敌人的赞赏，这就是野兽先辈的气量",rarity:R.Rare,hits:[{category:S.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},Repent:{name:"†你改悔罢†",description:"令敌人改悔的神圣攻击",rarity:R.Masterpiece,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪躲`},{category:S.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}曰: †你改悔罢†`}]},HorizontalSlash:{name:"横斩",description:"千钧之力的大力横劈",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}猛劈一刀`}]},StepSlash:{name:"踏前斩",description:"前踏一步进行追击，而后猛劈一刀",rarity:R.Rare,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}前踏一步`},{category:S.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}借着前冲的力劈出强力一击`}]},Mikiri:{name:"见切",description:"在敌人攻击的瞬间拔刀后退，成功回避攻击则能乘势将气入刀，以在下回合释放气刃大回旋",rarity:R.Masterpiece,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>`${t.name}在敌人攻击的瞬间拔刀后退`,extraEffect:(t,e)=>{t.addStatus(ri.SpiritBlade,1)}}]},SpiritRoundSlash:{name:"气刃大回旋",description:"将气附于刀刃之上，使出极大幅度回转刀身的斩击，若是击中敌人则可使用登龙",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:4,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}使出极大幅度回转刀身的斩击`,extraEffect:(t,e)=>{t.addStatus(ri.RedBlade,1)}}]},HelmBreaker:{name:"登龙",description:"快速向前突进，若成功击中命中便会借势踩着敌人的身体一路跃至高空，而后以全身的力量从空中向下劈出泣鬼神的一刀",rarity:R.Mythical,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},continuous:!0,messageGenerator:(t,e)=>`${t.name}向${e.name}突进，踩着${e.name}的身体一路跃至高空`},{category:S.Attack,coeff:{str:10,int:0,con:2,siz:2,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}从天而降，以全身之力劈向${e.name}`}]},Slash:{name:"劈砍",description:"挥舞手中的武器",rarity:R.Common,hits:[{category:S.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}挥舞手中的武器劈向${e.name}`}]},Bite:{name:"撕咬",description:"野兽的原始攻击方式",rarity:R.Common,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}冲过来咬了${e.name}一口`}]},Claw:{name:"爪击",description:"野兽的原始攻击方式",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:.5,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`}]},RunAway:{name:"抱头鼠窜",description:"抱头鼠窜",rarity:R.Common,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}抱头鼠窜`},{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}抱头鼠窜`}]},Capture:{name:"尝试捕捉",description:"这不是神奇宝贝，你得用绞技而不是精灵球",rarity:R.Common,hits:[{category:S.Capture,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},extraEffect:Rp,messageGenerator:(t,e)=>`${t.name}尝试通过绞住${e.name}，让${e.name}失去行动力`}]},Defend:{name:"格挡",description:"做一个稳重的人",rarity:R.Common,hits:[{category:S.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`}]},Counter:{name:"反击",description:"格挡后乘势反击",rarity:R.Rare,hits:[{category:S.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},DefenseSlash:{name:"防御斩",description:"快速挥刀后立刻进行防御，不给敌人任何可乘之机",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了一次快速攻击`},{category:S.Defend,coeff:{str:1.5,int:0,con:1.5,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了铁壁一般的防御`}]},Dodge:{name:"闪避",description:"天下武功，唯快不破。若是能闪过敌人的攻击，将使敌人失衡，失去下一个动作",rarity:R.Common,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 对 ${e.name} 的攻击进行了闪躲`}]},PsyDodge:{name:"瞬移",description:"念力的一种用法",rarity:R.Epic,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Dodge,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 的身影瞬间到了别处`}]},SpinAttack:{name:"回旋击",description:"闪避后趁敌人重心不稳发起攻击",rarity:R.Rare,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪避`},{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 进行了回旋击`}]},DragonBreath:{name:"巨龙吐息",description:"据说巨龙的吐息足以融化钢铁",rarity:R.Epic,hits:[{category:S.Attack,coeff:{str:0,int:10,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了汹涌的火焰`},{category:S.Attack,coeff:{str:0,int:5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了灼热的火焰`},{category:S.Attack,coeff:{str:0,int:2,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了喉咙中残余的火焰`}]},GodStrike:{name:"神击",description:"犹如神灵降下天罚",rarity:R.Mythical,hits:[{category:S.Attack,coeff:{str:12,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`神明的愤怒降临于${e.name}`}]},ShredFlower:{name:"碎花",description:"无人能看清动作，空中轻柔的落花瞬间化为齑粉",rarity:R.Unique,hits:[{category:S.Defend,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 被花瓣包围了`},{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 的身影消失了`},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有残影"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有更多的残影"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${e.name} 同花瓣一同破碎`}]},PsyKick:{name:"念动力踢击",description:"通过念力完成的隔空踢击，力道十足又难以防备",rarity:R.Rare,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Attack,coeff:{str:1,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}凭空被踢了一脚`}]},PsyExplosion:{name:"不可视爆裂",description:"不可视的念力凝聚成万吨重锤从天而降",rarity:R.Epic,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Attack,coeff:{str:2,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}所在的位置发生了大爆炸`}]},PsyInvisibleSword:{name:'"不可视之剑"',description:"无数看不见的剑刺向敌人，流淌的血勾勒出它们的形状",rarity:R.Unique,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Attack,coeff:{str:0,int:1.5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`看不见的剑贯穿${e.name}`},{category:S.Attack,coeff:{str:0,int:3,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`更多看不见的剑贯穿${e.name}`},{category:S.Attack,coeff:{str:0,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`极多看不见的剑贯穿${e.name}`},{category:S.Attack,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`无数看不见的剑贯穿${e.name}`}]},NeverRetreat:{name:"死守不退",description:"全力防御，死守不退",rarity:R.Masterpiece,hits:[{category:S.Defend,coeff:{str:2,int:0,con:2,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 全力防御`},{category:S.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 死守不退`}]},CrowFly:{name:"乌鸦坐飞机",description:"高高跃起后发起攻击",rarity:R.Masterpiece,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 一个大跳`},{category:S.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 从空中一拳打向 ${e.name}`}]},ParkDestroyer:{name:"龙卷风击毁停车场",description:"释放武器中的狂风之力，形成狂暴的龙卷风",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`风卷着尘土袭向 ${e.name}`},{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"回旋的风聚成龙卷"},{category:S.Attack,coeff:{str:1.5,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 从龙卷风中刺出`}]},LightningStormSlash:{name:"闪电旋风劈",description:"闪！电！旋！风！劈！",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"闪电！"},{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>"旋风！"},{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"劈！"}]},LightningFiveStrikes:{name:"闪电五连鞭",description:"相传武林中有一位马大师，靠着这套五连鞭驰骋江湖，可惜后来被两个年轻人偷袭，从此销声匿迹",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第一鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第二鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第三鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第四鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第五鞭！"}]},SneakAttack:{name:"偷袭",description:"来！骗！来！偷袭！",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 来！骗！来！偷袭！`,extraEffect:(t,e)=>{e.addStatus(ri.Dizzy,1)}}]}};var ji=(t=>(t.Sword="Sword",t.ShabbyKatana="ShabbyKatana",t.GreatKatana="GreatKatana",t.Ningenmukotsu="Ningenmukotsu",t.Mikadsukimunechika="Mikadsukimunechika",t.MudKnife="MudKnife",t.WindSpinSword="WindSpinSword",t.AyulsaOfNoHonor="AyulsaOfNoHonor",t.RockSword="RockSword",t.Rope="Rope",t.DragonSlayer="DragonSlayer",t.KatanaOfTheHeart="KatanaOfTheHeart",t.WomenDress="WomenDress",t.ToonoDefeaterBadge="ToonoDefeaterBadge",t))(ji||{});const ho={Sword:{name:"铁剑",description:"一把平平无奇的剑",rarity:R.Common,position:Vt.Hand,extraActions:[{actionType:N.Slash,weight:.8},{actionType:N.HorizontalSlash,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:1,multiply:1}}},Rope:{name:"绳索",description:"一个看起来很适合用来捕捉的武器",rarity:R.Common,position:Vt.Hand,extraActions:[{actionType:N.Capture,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:-1,multiply:1},[S.Capture]:{plus:2,multiply:1}}},ShabbyKatana:{name:"残破太刀",description:"太好了，有了这个，你就可以做虾头太刀侠了",rarity:R.Common,position:Vt.Hand,extraActions:[{actionType:N.Slash,weight:.9},{actionType:N.HorizontalSlash,weight:.05},{actionType:N.StepSlash,weight:.04},{actionType:N.Mikiri,weight:.01}],ability:{piercing:25,dex:-1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:1,multiply:1},[S.Dodge]:{plus:-1,multiply:1}}},GreatKatana:{name:"大太刀",description:"这把的太刀的刀身比一般的太刀要长，挥舞起来很吃力但是威力巨大",rarity:R.Rare,position:Vt.Hand,extraActions:[{actionType:N.Slash,weight:.7},{actionType:N.HorizontalSlash,weight:.1},{actionType:N.StepSlash,weight:.1},{actionType:N.Mikiri,weight:.05}],ability:{piercing:30,dex:-2},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:4,multiply:1},[S.Dodge]:{plus:-2,multiply:1}}},Ningenmukotsu:{name:'太刀"人间无骨"',description:"正面刻着人间，背面刻着无骨的名刀。刀如其名，削骨若无物",rarity:R.Masterpiece,position:Vt.Hand,extraActions:[{actionType:N.HorizontalSlash,weight:.4},{actionType:N.StepSlash,weight:.4},{actionType:N.Mikiri,weight:.15}],ability:{piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[S.Attack]:{plus:3,multiply:1.1}}},Mikadsukimunechika:{name:'太刀"三日月宗近"',description:"太刀最高杰作的天下五剑之一，传说中的名刀，有着名物中的名物之称。刀身如同新月一般美丽",rarity:R.Epic,position:Vt.Hand,extraActions:[{actionType:N.HorizontalSlash,weight:.3},{actionType:N.StepSlash,weight:.3},{actionType:N.Mikiri,weight:.3}],ability:{piercing:40,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[S.Attack]:{plus:10,multiply:1},[S.Dodge]:{plus:1,multiply:1}}},KatanaOfTheHeart:{name:"心中的太刀",description:"你看不见它，但它确实在你手中",rarity:R.Mythical,position:Vt.Hand,extraActions:[{actionType:N.Mikiri,weight:1}],ability:{piercing:45},armorGrowthCoeff:0,piercingGrowthCoeff:6.5,actionCoeff:{[S.Attack]:{plus:10,multiply:1.2},[S.Dodge]:{plus:10,multiply:1.2}}},MudKnife:{name:"沼气短刀",description:"刀身闻起来臭臭的",rarity:R.Rare,position:Vt.Hand,extraActions:[{actionType:N.Slash,weight:.4},{actionType:N.PowerfulDigAttack,weight:.1},{actionType:N.QuickAttack,weight:.5}],ability:{piercing:30,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Dodge]:{plus:1,multiply:1}}},WindSpinSword:{name:"风旋刺剑",description:"靠近剑身能听到轻轻的风声",rarity:R.Masterpiece,position:Vt.Hand,extraActions:[{actionType:N.SpinAttack,weight:.6},{actionType:N.ParkDestroyer,weight:.15},{actionType:N.LightningStormSlash,weight:.15}],ability:{piercing:35,dex:2},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[S.Attack]:{plus:1,multiply:1},[S.Dodge]:{plus:2,multiply:1}}},RockSword:{name:"剑型大石头",description:"一把很宽的石头大剑，看起来就像块大石头",rarity:R.Masterpiece,position:Vt.Hand,extraActions:[{actionType:N.DefenseSlash,weight:.3},{actionType:N.Counter,weight:.4},{actionType:N.NeverRetreat,weight:.3}],ability:{str:1,con:1,piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[S.Defend]:{plus:3,multiply:1}}},DragonSlayer:{name:'"弑龙者"',description:"传说这把剑上的龙之力来源于被它杀死的龙的灵魂。你握着它，仿佛能感受到龙的气息",rarity:R.Epic,position:Vt.Hand,extraActions:[{actionType:N.HorizontalSlash,weight:1},{actionType:N.DragonBreath,weight:.1}],ability:{str:1,con:2,piercing:40},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[S.Attack]:{plus:3,multiply:1.1}}},AyulsaOfNoHonor:{name:"Ayulsa死于徒手",description:"Ayulsa手上没有武器",rarity:R.Unique,position:Vt.Hand,extraActions:[{actionType:N.PsyKick,weight:.2},{actionType:N.PsyExplosion,weight:.2},{actionType:N.PsyInvisibleSword,weight:.1},{actionType:N.PsyDodge,weight:.2}],ability:{int:2,dex:2,piercing:50},armorGrowthCoeff:0,piercingGrowthCoeff:6.75,actionCoeff:{}},WomenDress:{name:"女装",description:"女装",rarity:R.Rare,position:Vt.Body,extraActions:[{actionType:N.CrowFly,weight:.05}],ability:{armor:15},armorGrowthCoeff:3,piercingGrowthCoeff:0,actionCoeff:{}},ToonoDefeaterBadge:{name:"远野击败者徽章",description:"隐藏着一些原本属于你的力量",canNotObtainFromChest:!0,rarity:R.Masterpiece,position:Vt.Accessory,extraActions:[{actionType:N.PowerfulDigAttack,weight:.03},{actionType:N.Yarimasune,weight:.03},{actionType:N.Repent,weight:.03},{actionType:N.SleepyTea,weight:.03}],ability:{armor:5,piercing:5},armorGrowthCoeff:0,piercingGrowthCoeff:0,actionCoeff:{}}};class Uu{constructor(e,n,i,o,s,c,u){bt(this,"name");bt(this,"uuid");bt(this,"category");bt(this,"type");bt(this,"rarity");bt(this,"level");bt(this,"description");this.name=e,this.uuid=n,this.category=i,this.type=o,this.rarity=s,this.level=c,this.description=u}}const qt=[];for(let t=0;t<256;++t)qt.push((t+256).toString(16).slice(1));function Bp(t,e=0){return(qt[t[e+0]]+qt[t[e+1]]+qt[t[e+2]]+qt[t[e+3]]+"-"+qt[t[e+4]]+qt[t[e+5]]+"-"+qt[t[e+6]]+qt[t[e+7]]+"-"+qt[t[e+8]]+qt[t[e+9]]+"-"+qt[t[e+10]]+qt[t[e+11]]+qt[t[e+12]]+qt[t[e+13]]+qt[t[e+14]]+qt[t[e+15]]).toLowerCase()}let ks;const Hp=new Uint8Array(16);function Fp(){if(!ks){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ks=crypto.getRandomValues.bind(crypto)}return ks(Hp)}const zp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ll={randomUUID:zp};function Qu(t,e,n){var o;if(Ll.randomUUID&&!t)return Ll.randomUUID();t=t||{};const i=t.random??((o=t.rng)==null?void 0:o.call(t))??Fp();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Bp(i)}class on extends Uu{constructor(n,i=0){n=n||ji.Sword;const o=ho[n];super(o.name,Qu(),ui.Equipment,n,o.rarity,i,o.description);bt(this,"position");bt(this,"extraActions");bt(this,"ability");bt(this,"armorGrowthCoeff");bt(this,"piercingGrowthCoeff");bt(this,"actionCoeff");bt(this,"prefix");this.armorGrowthCoeff=o.armorGrowthCoeff,this.piercingGrowthCoeff=o.piercingGrowthCoeff,this.position=o.position,this.extraActions=o.extraActions,this.randomExtraActionsWeight(),this.ability=o.ability,this.actionCoeff=o.actionCoeff,this.ability.armor||(this.ability.armor=0),this.ability.piercing||(this.ability.piercing=0),this.ability.armor+=this.armorGrowthCoeff*this.level,this.ability.piercing+=this.piercingGrowthCoeff*this.level,this.prefix=Gp(this.randomPrefixRarity(),o.position),this.applyPrefix()}randomExtraActionsWeight(){this.extraActions.forEach(n=>{n.weight=n.weight*(1+Math.random()*.4-.2)})}randomPrefixRarity(){let n=R.Common;for(let i=0;i<10;i++)Math.random()<.05?n-=1:Math.random()>.95&&(n+=1);return n<R.Common?n=R.Common:n>R.Mythical&&(n=R.Mythical),n}applyPrefix(){["str","int","con","siz","app","dex","armor","piercing"].forEach(o=>{var s;(s=this.prefix.ability)!=null&&s[o]&&(this.ability[o]=this.ability[o]?this.ability[o]+this.prefix.ability[o]:this.prefix.ability[o])}),[S.Attack,S.Defend,S.Dodge,S.Capture,S.Special,S.None].forEach(o=>{var s;(s=this.prefix.actionCoeff)!=null&&s[o]&&(this.actionCoeff[o]=this.actionCoeff[o]?{plus:this.actionCoeff[o].plus+this.prefix.actionCoeff[o].plus,multiply:this.actionCoeff[o].multiply*this.prefix.actionCoeff[o].multiply}:this.prefix.actionCoeff[o])}),this.extraActions.push(...this.prefix.extraActions),this.name=`${this.prefix.name}${this.name}`}levelup(){this.level++,this.ability.armor+=this.armorGrowthCoeff,this.ability.piercing+=this.piercingGrowthCoeff}}var Ku=(t=>(t.None="None",t.Heavy="Heavy",t.Light="Light",t.Sharp="Sharp",t.Huge="Huge",t.Masterpiece="Masterpiece",t.Mythical="Mythical",t.Epic="Epic",t.Holy="Holy",t.BeastHeart="BeastHeart",t.DragonForge="DragonForge",t.Sneaky="Sneaky",t))(Ku||{});const Li={None:{name:"",position:"AnyPosition",rarity:R.Common,extraActions:[],ability:{},actionCoeff:{}},Heavy:{name:"笨重的",position:"AnyPosition",rarity:R.Common,extraActions:[],ability:{dex:-1},actionCoeff:{}},Huge:{name:"巨大的",position:Vt.Hand,rarity:R.Common,extraActions:[],ability:{},actionCoeff:{[S.Attack]:{plus:2,multiply:1},[S.Dodge]:{plus:-1,multiply:1}}},Light:{name:"轻巧的",position:"AnyPosition",rarity:R.Common,extraActions:[],ability:{},actionCoeff:{[S.Dodge]:{plus:1,multiply:1}}},Sneaky:{name:"卑鄙的",position:Vt.Hand,rarity:R.Common,extraActions:[{actionType:N.SneakAttack,weight:.2}],ability:{},actionCoeff:{}},Sharp:{name:"锐利的",position:Vt.Hand,rarity:R.Rare,extraActions:[],ability:{piercing:1},actionCoeff:{[S.Attack]:{plus:1,multiply:1}}},Holy:{name:"有点神圣的",position:"AnyPosition",rarity:R.Rare,extraActions:[{actionType:N.Repent,weight:.1}],ability:{},actionCoeff:{}},BeastHeart:{name:"野兽之心 ",position:"AnyPosition",rarity:R.Masterpiece,extraActions:[{actionType:N.PowerfulDigAttack,weight:.3}],ability:{con:1},actionCoeff:{}},Masterpiece:{name:"大师的杰作 ",position:"AnyPosition",rarity:R.Masterpiece,extraActions:[],ability:{con:1,piercing:5,armor:5},actionCoeff:{[S.Dodge]:{plus:1,multiply:1}}},DragonForge:{name:"龙息锻造的",position:Vt.Hand,rarity:R.Epic,extraActions:[{actionType:N.DragonBreath,weight:.1}],ability:{piercing:10},actionCoeff:{[S.Attack]:{plus:2,multiply:1}}},Epic:{name:"吟游诗人的歌谣中的",position:"AnyPosition",rarity:R.Epic,extraActions:[],ability:{piercing:10,armor:10},actionCoeff:{[S.Attack]:{plus:2,multiply:1},[S.Defend]:{plus:2,multiply:1}}},Mythical:{name:"神话时代的遗留物 ",position:"AnyPosition",rarity:R.Mythical,extraActions:[],ability:{str:1,dex:1,app:1,siz:1,con:1,int:1,piercing:5,armor:5},actionCoeff:{[S.Attack]:{plus:1,multiply:1},[S.Defend]:{plus:1,multiply:1},[S.Dodge]:{plus:1,multiply:1},[S.Capture]:{plus:1,multiply:1},[S.Special]:{plus:1,multiply:1}}}};function Gp(t,e){const n=Object.keys(Li).filter(s=>Li[s].rarity===t&&(Li[s].position===e||Li[s].position==="AnyPosition")),i=Math.floor(Math.random()*n.length),o=n[i];return Li[o]||Li[Ku.None]}function jp(t,e){const n=Object.keys(ho).filter(s=>ho[s].rarity===t&&!ho[s].canNotObtainFromChest),i=Math.floor(Math.random()*n.length),o=n[i];return new on(o,e)}function Wp(t){const e=`
    <div class="tooltip-base tooltip-header">
      <h5 class="text-${R[t.rarity]}" style="font-weight: bold;">lv${t.level} ${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
      <p><strong>位置:</strong> ${t.position}</p>
      <br>
    </div>
  `;let n="";t.ability&&Object.keys(t.ability).length>0&&(n=`
    <div class="tooltip-abilities tooltip-extra">
      <p><strong>属性: </strong>
        ${Object.entries(t.ability).filter(([s,c])=>c).map(([s,c])=>`${s}: ${c}`).join(", ")}
      </p>
    </div>
  `);let i="";t.extraActions&&t.extraActions.length>0&&(i=`
      <div class="tooltip-extra-actions tooltip-extra">
        <p><strong>额外行动: </strong>
          ${t.extraActions.map(s=>`${Ut[s.actionType].name} (权重: ${s.weight.toFixed(2)})`).join(", ")}
      </div>
    `);let o="";return t.actionCoeff&&Object.keys(t.actionCoeff).length>0&&(o=`
      <div class="tooltip-action-coeff tooltip-extra">
        <p><strong>行动系数: </strong>
          ${Object.entries(t.actionCoeff).map(([s,c])=>`${s}: ${c.plus<0?"":"+"}${c.plus} ${c.multiply===1?"":"x"+c.multiply}`).join(", ")}
      </div>
    `),e+n+i+o}function fr(t,e){Math.random()<.1?e-=1:Math.random()<.05&&(e+=1),e=e<R.Common?R.Common:e,e=e>R.Mythical?R.Mythical:e;let n=Math.floor(t+10*(Math.random()-.5));return n<0&&(n=0),jp(e,n)}class Ue extends Uu{constructor(e,n=0){e=e||kt.Unknown;const i=Ml[e];super(i.name,Qu(),ui.Consumable,e,i.rarity,n,i.description)}useItem(e){Ml[this.type].effect(e),e.pack=e.pack.filter(n=>n.uuid!==this.uuid)}}var kt=(t=>(t.Unknown="Unknown",t.BrokenChest="BrokenChest",t.WoodenChest="WoodenChest",t.SilverChest="SilverChest",t.GoldChest="GoldChest",t.DiamondChest="DiamondChest",t.QuickRecoveryPotion="QuickRecoveryPotion",t.LifePotion="LifePotion",t.LargeLifePotion="LargeLifePotion",t.GiftboxAndLetter="GiftboxAndLetter",t))(kt||{});const Ml={BrokenChest:{name:"破烂的木宝箱",rarity:R.Common,description:"一个破破烂烂的宝箱",effect:t=>{t.pack.push(fr(1,R.Common))}},WoodenChest:{name:"木质的宝箱",rarity:R.Rare,description:"一个有着漂亮的木质纹理的宝箱",effect:t=>{t.pack.push(fr(1,R.Rare))}},SilverChest:{name:"银色装饰的宝箱",rarity:R.Masterpiece,description:"这个宝箱上有着精细的银制装饰，银锈并不能掩盖它的华丽",effect:t=>{t.pack.push(fr(1,R.Masterpiece))}},GoldChest:{name:"黄金镶边的宝箱",rarity:R.Epic,description:"金光闪闪，这才叫宝箱！光是看着就让人心潮澎湃",effect:t=>{t.pack.push(fr(1,R.Epic))}},DiamondChest:{name:"华丽的宝石宝箱",rarity:R.Mythical,description:"无法用辞藻形容的华丽，你甚至害怕打开它会划伤上面美丽的宝石",effect:t=>{t.pack.push(fr(1,R.Mythical))}},Unknown:{name:"未知",rarity:R.Common,description:"未知",effect:t=>{}},QuickRecoveryPotion:{name:"神秘黄色药水",rarity:R.Epic,description:"看起来不像是这个世界的产物。非常的新鲜，非常的美味<p>自动回复速度提升15倍，持续1分钟</p>",effect:t=>{t.addStatus(ri.QuickRecovery,60,14),console.log("使用快速恢复秘药")}},LifePotion:{name:"生命秘药",rarity:R.Masterpiece,description:"只要没死，区区断胳膊断腿喝下去立马都能长回来。你有个疑问，这玩意儿到底是什么做的？<p>恢复50点生命值</p>",effect:t=>{t.recoverHp(50)}},LargeLifePotion:{name:"大瓶生命秘药",rarity:R.Epic,description:"普通的生命秘药一次只能让你长一只胳膊，而这大瓶装能让你一次全长回来。前提是你还有手可以拿它<p>恢复100点生命值</p>",effect:t=>{t.recoverHp(100)}},GiftboxAndLetter:{name:"礼物箱和一封信",rarity:R.Mythical,description:"一个礼物箱，上面还附了一封信，信上的字模糊不清",effect:t=>{for(let e=0;e<5;e++)t.pack.push(new Ue("QuickRecoveryPotion"));for(let e=0;e<10;e++)t.pack.push(new Ue("LifePotion"));for(let e=0;e<5;e++)t.pack.push(new Ue("LargeLifePotion"));t.pack.push(new on(ji.Sword)),t.pack.push(new on(ji.Rope))}}},Vp="data:image/gif;base64,R0lGODlhPAA8APYAAAQEBBgYGCcnJzEwMFoZAGkhCGspEGs1EHMxGXc4JXNFFHNSGXtCMXtjIVJSUmVlZXh4eIRKN4RSOotRRYtVRZRaUpdnVpxzZaV4aqV7c4yNMZSWRJSpQq2GeaXSUoiIiJmZma2MhLWMhLWUiryblqurq7i4uMWspc61rc64tda9utbFvcnJydzKydjY2Obb2+3n6vfv7/f37////4R7KWMZAL2lnMWlnO/m3vfv95y6SpzFSpzOUq3Pbd7Wzt7O1ntaIZlmZr3mhNbvre/33uve5gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAsAAAAADwAPAAAB/+AM4KDhIWGh4iJiouMjY6PkJGSk5EZLYMvFjCYMpSehTAIBh0vJwkEFoIxEh2frjMrBxoKCLIbBRYdDAQjr58dCj07HBw8PBwLChoHKb6ULwUbPcQcOjo7PB4aCDjOki8TBAcHCOUK5w0aCwzekScGCR0nKy0+LS0qJxenCd3tjR0KdIihKAaJBAz8/Ut0oQAKRzEiROi08FCHGs0ewUiQqmKhFjVISGpRQIXHQTIiVFA1g+IhFi5nZJh4cgaKAj9mwDBBsJCMny4+mCD0IsGJmhY6BgVB0MQmnTCimoBQAmXSkzEQPITxAECAAR9KlGARQ4YLFyUEAADggCIJBjH/261IsAnGBwEfHIg1QbblzgcBvroQ1CLBC48dJhBiAcKEi05xWTz44LJIgowLKXQk9BMRjMGcJ4isKGFEXEm5Ksq4fPiQjKeLUi+McTkRC9iKZP+j/dA1jNOHLPSaXds3CBcwWOQevru47989XQuvGIMBZkIueLo0i1uQDAqj/8lg0BuUiQ8gxrK4fTpi+X8RbCT6DCPGb0QvGFyqOH0R8EE/RNDaQhhg4EoLEnTnTQebUdLCBP+90oGBnzwYoSsTMPdMBAr68gIC+3kCQwQrVDQChK58J99CovliAYXtvCCgLyE06MwNFVz4yAmK/YNBBs6k0GM7FBzVkispSLCb/wQ55QBDCiromIgNFPzzggRF6LQPAxfkcEgOZXkX5iAiXPBPCwxsMoJhMFCAwZgxnGCBRBNYYAMMJAw4wwUa+oImQRgMF8MEIsDQQgcSCJdCCymIUMEFFrg0aInt/DnDDRb0VF0ECWCgp30bhTdDCxyemeYMEaXQyQoGUOADZ1HBMEIE0c0gQgQL+WCYIAelYEECos7g5A8qYGDAq4Ns1KcvEYVogQEW6ClDDC1ggEABJBZigwEKtWMBkN5J+6QFDIgWYrIMINDhKyOcasi4nbbQoQzGGnCuNyoUINJPPxUxaw0JXALDCzH9NAICKSBg0kI8GjDCPSqEkAACGUzQ6n0JL9RH0WsnFDBCdUb+MwIGDBRQQDnxDkyCBAUwEAIKGRtqgUBRMRCsMyNYsOgIJKSQMagwFIHCrwggFIEBE6QAagStLBSfDUDX2tK0L7RgQwcjpOAlVBSA2w4OCaigwsDr+hfDiwsV9sMPGXsSQ4ELkRBBEXR/kgMGZj4SCAAh+QQFBAA6ACwQAAMAHQAzAAAG/8CZcEgsGo/IoWwEG8ZGsqR01iJIcDHUhNAZtlC6sHhM1h0aiYRCwzlYSJZapkwPGxqbxkLRoHE8Hhx1dRE1CRMWGRgWFAx8CxFTQjcIFCsxRjEnFAWDZSeSLREML0kWCC2SQjIWCThHGAmlqkMXEVFEKKgzmLhHLL4xDB1lNjMwJphFMswuHyZEKQivQicTUc4gmCZNxzDfJhAlShEjQxXmMA8AAQMfJSUsMTIuLiUCAAAOuCESQjikwnwQ8MEBPBNhZshA9iBAOxdCVLiaYS3HEBYgTLiI4ksIiwcffMGIkGJGBgvKlHQkAgMikRgVSITBMIvWjDIWzE0QkWShKpcMXSaQSMLC0xgMGWQwGHpkoQyjY5TKHATCBYyinrpE4IlkIQwZMaDOmJDhiItkvujBoEMBFAUMR5B9ABGPBYuvmSKsmFHhQpKWMGLgPfJClkkKklYWScEgyogJFm0aeSyEhISUkod0sHBTBwXFkimbhApVRQTSqHVMSE16NevXsGPLnk27tu3buHPr3s27t+/fwIN3HhQEACH5BAUEADUALBAAAgAdACsAAAf/gDOCg4QyMIQwKoSLjIwnETGCLQwFL4Mrlo2NIwQTJBgGQAcTLS0YBCOajRYNNAoKGh46CgUIDQonqowTNEI9O8A7Ohw6OwotuoQxCBpEPcXBwDoImcknEwUcQ8/ROzwcCckzL9gUCQvFPME8PDpABamqLQkUyCoJBw0aHBsaGg0HEFQwcEGTD4IyBr0IYSFCggQMIgQh0QLGvA6MZDCwkHBRDBgvfryI0VHQjwSKCHVAcEgcIxIRSsJAkMslIxgRUAzqQGFQpJKMWACd0aHgjBgJUgiCYSLSIhlQXXwwsaiFhIQnErSUCiKSiZYwwjKFUAIRqRkZLCx9ACDAgA8l80qwIOnCRQkBAAA46CjDAokZFEQs/SDgg4O4JubOMGTiQQC3LgZh6KCxpiAWIEy4SDiUxYMPQEVwZJCy0NBBMCIvImEhRoQWTm02Yu26oiZDLke0fq2KRctkomVEKP0UxulGaQFbLg7CBQwWg2pIn17DAkYLgm+HlRGb+vQJuTBkaOSiaUkZzr1L5z3C6CKmH0DIZeH79KRDKSyon54axsfjM6AQ0wwrSPDbbbqQMIEgKCRQjWyEkDBdBxEcCOFi18wgXQYAuiRDCgnsJ+KI0snwAgPTxXYhahKQ6OKLMMYo44w01mjjjTiSKEOO6o3gg3qBAAA7",Up="/isekai114514/assets/dragon2-BZv29Gbk.gif",Qp="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QDKRXhpZgAATU0AKgAAAAgABgESAAMAAAABAAEAAAEaAAUAAAABAAAAVgEbAAUAAAABAAAAXgEoAAMAAAABAAIAAAITAAMAAAABAAEAAIdpAAQAAAABAAAAZgAAAAAAAABIAAAAAQAAAEgAAAABAAeQAAAHAAAABDAyMjGRAQAHAAAABAECAwCgAAAHAAAABDAxMDCgAQADAAAAAQABAACgAgAEAAAAAQAAAIqgAwAEAAAAAQAAAIikBgADAAAAAQAAAAAAAAAAAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wgARCACIAIoDASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAAAAIDBAUGAQf/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB0rdY+WKG0C2+poU0sOcBaHGR1lytJll5pcRtTnSk4/NqM606cYRIHYDsqOV0hsnRYksW5HeMTH0OePQpcKaZ59aiUy7Gqti6RmE2HHCBJdVGWhaCBV88h08/laG0DoFLLaXDcppazQLA4kWAAAAEKbCmHQCr5SXVjUeXDl0K8jfxOjc5UnrfR0SoACBXT8SejkeQeY2dYGwk47WDsiaHErDh0AAAz4zmOpNNqMLuTzLllwr+zwk3WdDcOYNZteYjhrqioBEKwCv5Yg5uclrToA1CkVxYMw0Fm/SyyRJp3xU2msyYAAAAAAIaA4AdWAy+Ay+AsAAAAP/EACsQAAIBAwMEAgIABwAAAAAAAAIDAQAEERITFAUQICEiMDRBIyQxMjNCQ//aAAgBAQABBQKZiIUcMGpmKnT2/dfufUV+qbeKTQX9udRMTHbqjNNral/LQXx7T6gfdTOID3T/AIqH3AfKh/t6gnWiun3Uqb26guX0kSSEfGKmcQGWl6GJLcIfjDDlrZLQtBfBc5rMFVwvadVqWu2phwNZjC/4k1OWMIwCtBsoUxFNHRC40we42SXlK/jNxO0N6AuVVnGm1qB3GyeVhGhLC0iVxtibTtnbhGoZnBBrbiBi6vDym/aslkLQKNQs127bK0JzOw+kjbxp/wBSHcJtstoccsaImsVEYqfcXiIaKen66WArGmJCb3v/AMXr11BSJJ+u5nHhiKWzFPDUNsUEPcc+d36t+8TmCxjSWoS4rhKCjse7qnOIzjwvfw+mXOseyLyM/wBYWXp0ZYtpoJF0DqMzXUXA1DBmteajPh1CcWSzlZpZDldk3hrhExcRNuUlwhyu2Wsq048+p3AyNdJd4KaaitL8W/VeX8DEznt0383xR1By6X1JJSLALtuBW6umXiF03qlNuXNnv0382uDc1wbmuFc1wrmuFc1wrmuFdVxLuuFdVwrmuFc1wrmuFc1wbmuDc1wbmrG1eu67meiHXMpkWMKH3OzMvxMHqjdZuSXsbrVWqdz6G/5HjJ3KfYXA62nHuBED2sAUCp8rZCZ9O+ghgolK5mLdUQSFlOyGdsa4ydMgJVx040xq8v/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8BI//EABcRAQADAAAAAAAAAAAAAAAAAAEAQFD/2gAIAQIBAT8BtsHV/8QAMxAAAQMCAwYFAwIHAAAAAAAAAQACERIhAxAxICIyM0FREzBhcZFCYoEjUnKCkqGxwdH/2gAIAQEABj8Ck6KtumV9qcpVlGJM+y4491IM50/uKZHZHYlSpRycMq+rcqXHcdnhtadNVQNFfP7coGmQaOFSnOOTh0Tm5Ybj2yuvwi76RplSFSFvWarFcRKqcpO6xCFELxALdV42HeNcsMemV9AnBBuVLeN3Vb7U0lsFXUq6gNgdJV7tTcQIg9U7DBIQc4bgzc/uped5Qg1Um0ISQ+NKlvDYApMjqpxLNGgVLdMmOc0Gof32I9U0yRCof+CifLwz942D6qjE+VI6bN9su7EHYkK+igONJUfSVIz3IhWF1fZxfZeE83Gme9bupGhUFFbtwoFndlJbU30WjvhWuoCvsYiD26hB46506hV4Zhw1CmVJcqm6+T4Lb3vk7CPuNirDMFU4m6//AD5RZg3PdXyZtAO32+qh0tW64H85cbflcxvyuYD6BfpN/JW887DMuUVyiuUVyiuUVyiuUVwO+VyiuUVyiuUVyiuUVyiuUU1z8MgDY7k6BQ5rT/MpbhtI/jQlrf6lHhk2kwUCBYiVR4bdJ41pZWDNY41S4a6eThe/+k4UkinopJcAwGoN91iANJHh6rRsUNFwgD1wuvVeNGHw6QjTuzhq/Cb6j/iwpM6+TBUuFR7lRQES5oJNlp0jVaT6lRQFceiigKrrt//EACcQAQACAgIBAwUBAQEBAAAAAAEAESExQVEQIHHxYYGRobEw4cHR/9oACAEBAAE/IWbgMrOXjT341YXDxevjlH7CJZHNHEHThKFMeiHqy/TUoSDyecE3V9oa2uEsbm/KyM3PmHchfenuEH4okcgz9EtD3/bwCddXs+VhASrqV3visSjy4hrMC5gysCI3OCNxOD2ZoHOXuCi4lWCFlz3bhcgXhi8COPaDUXYE+AF/GFNr3RYHg+rx1FzAbArgmGs4iA1R7Q7G127gNLeI6O4pr90Ro79Zl3iNTruGM7g6hFWKfFrJF1johhdT3GHnLIBlpVnNyypslxF8Y1jNYJlxghRdMrkQJfJkmbG8wdCFMFaRr3JVFa1eYFFHgdpChktQ5OI/CO4YDoTiYQvgamChZEeIMDH0mgdQnnxB5gs6Hi6sIX0gAUFedBaM5jhOk3bX7kN9mv8AP2OX5x6FgcbT+e7TOX0RTTaOfLgiV+sxb/sEGyzyMzZFxVg33qGoV3Q2tj4Zh07r5i/vJgUp59U3FzNfk8/UqFNgEyG1qdwGPBU8Rv7wiT1DmRZdUbZ9hANBv6kx639PQNxqyiP5lucd78ebmJU4bDMKCDtTcPg05m4DTUoNYgB6d6hZ9S5mVv0BWqfuUNfZx/kVLhesZKrXx/R/PTcuDRitvzK2/VdSgy3Ua3Edh9k+NwZtB9SIlVsNI3Q0RfP9P88fLE+WJ8+T58nz5PnyAaH7nh3yZPnyfPk+fJ8+T5cny5PlyWDGtU69FTixXYw0gT6f1UCsmk/4lMQpdYp+ouQDBkD/ANncXl694cwfgfiIYBpu9R76ezf9QKkKXX9/47fA/wCoZCjkDTmYVioVm0fSDHNNMsKokKKWNcwMy8hhYixblHP/APYU1uJXLctfCVWZYKFEGb9v8an2Sl+kIBMM1iB1DbqbVtKWqjUBAbArY17zoaMWa1lzUxKVTIpkVfr/AP/aAAwDAQACAAMAAAAQmyUowcwwIUUgGlRaSo6M2Z77geg/YAIAAAkA9kLicAAgIWyAgwAAIsUcy4kc8cfAkXSEEAAAAAcA8cAAA//EABoRAQABBQAAAAAAAAAAAAAAAAEAESAwQFD/2gAIAQMBAT8Q1q2jEwjzP//EAB0RAAMAAgIDAAAAAAAAAAAAAAABERAwICFBUFH/2gAIAQIBAT8QJrpaJ0uW5ijJ94rUdEelpMTfn1f/xAAmEAEAAgIBAgYDAQEAAAAAAAABABEhMUFRYRBxgbHB8CAwkdGh/9oACAEBAAE/EBUqoaA6wETnGKocxp3UaXehEFXGO2ZZNE3Bs/SVnUz5TMG9jHRuwe8xUsLK4iBxWtN+sB3NgF/61DGgSWPizrhPyZfYgT0RTvUoh4JlbW3nwFFxG8BgRG+DR1l2C7zKWLoKjh2zhkMoY2guUjDudehd8iXtYmQBC3dpIIgjY+CoinoVj5hGot7S+UYOr/1EpRs1HGuJ1cvvDR7jggO4TfWAZoaOsIhy+uOkDwKf2EWsnMNsWJ6IXaKT01EXVnHnhGyMJkicW8vfXguAK0CWkAytwTzdFy5YtWsY7M8zgmEUbsvnLKQdtX/ss4w4EuZMKyPpBBpC6OOxBaULpz5oVqBou/OL+yRUhIjVUg+4Ark+bygsc56RCQFR4vwSq73vLJYae0BTVvVjJWxLfqkg4ejLQoHWxTryxRKAxS/SFgsxqbZS6COU4ZUupmfcKgOSKQpo6O0GEAo9GBPb/KSmBt3QOOJruRyVcteUgAAAUB4FYCyB7R74FgaCLFLcLgIa2O0w3QN+kQo07L6pumLAXEYYMhiCF5csFNThirtVgVyI0JTku5ZWb+DwCOUBd5PaAhA0B4iao3+p0igvV6YDYBY6gQpg0/WAx3bPSy9/wVpjwl0fJhtDvGAnKnEKy/oPFWNXXE6hXj8yhGrvhM0AEsSx8SepP4x4KTkrUFxb1ZeSIeG05pgZQXjwCmN8SlcviswtIFMDxGmKnA1f487r9yMrjs9QeniEKFgOF6k6jcrp1gFkXl1JlhQydSKERu8S+CJb8EG3bXuAwAjO70lDfYvI15xicnQCLTNuVn4UCI7uVTEqOVVczWLmOrk8LlVJatyET4Qbx38oMQORiALKgqcYVJiARLGNY1yOGAEBboSwoy77/jX2gC4RwRRioZ7+bpPaZ8BRjNemcDonJC6XAyz9unl+lQFWgyrBkIUXHVXePwRau1l3Fp5L/wBT1PEa1BiI0nJFR8ponb/UDXXBl9VamTOMBKxQKgDln/f4vmfXPmXzPTlXKnXerjsf7Hy/hUPQiPMXw+j3T7qPD9zvPqnzPvHzPuHzPrHzNv2PWJ212L5i5S55f9i12v26x+8e8x/Y/s+sfMfvHvPrHzPrHzPrHzNL8KC0cMrxJAxCOU+OsufwKsaLWyosQzB+XdiM5hEkEVbjh3lmHbNIUpU4dJeY0SA2LAd77xARVN0LV65Vr1WsEcPbvECNSgljpyGCRN4rtDB8rP04pwErosD/ALKfIbBalimKzLIsKN7gAOwuy+kOYy0UgF2llW+cFGssuEAbcTE0h2UMVe4xAOIlKO+eai4UMRgtgbFo6Qg4I1GI332ktqtEC44GP0r7RTukTSPDMi4o2oXXblgQa3K1Wr7sLuFPQug6bneVuQ5BdKXvcsICUb2y2ZhAwAIZxrO40RXYYLYPEaoalIUlaz6QHMEsbo6HT8//2Q==";var Xt=(t=>(t.Player="Player",t.Player114514="Player114514",t.FullPowerPlayer114514="FullPowerPlayer114514",t.Slime="Slime",t.Dragon="Dragon",t.AngryDragon="AngryDragon",t.WeakDragon="WeakDragon",t.Wolf="Wolf",t.DiscardedGolem="DiscardedGolem",t.Ayulsa="Ayulsa",t.Toono="Toono",t.Horse="Horse",t.Goblin="Goblin",t.FrightenedGoblinLeader="FrightenedGoblinLeader",t.AngryGoblinLeader="AngryGoblinLeader",t))(Xt||{});const ii={Player:{typeName:"人类",description:"你",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:N.Attack,weight:.5},{actionType:N.Capture,weight:.1},{actionType:N.Defend,weight:.2},{actionType:N.Dodge,weight:.2}],dropItems:[]},Player114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:N.Attack,weight:.5},{actionType:N.Capture,weight:.1},{actionType:N.Defend,weight:.2},{actionType:N.Dodge,weight:.2},{actionType:N.PowerfulDigAttack,weight:.03},{actionType:N.Yarimasune,weight:.03},{actionType:N.Repent,weight:.03},{actionType:N.SleepyTea,weight:.03}],dropItems:[]},FullPowerPlayer114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:N.PowerfulDigAttack,weight:.3},{actionType:N.Yarimasune,weight:.3},{actionType:N.Repent,weight:.3},{actionType:N.SleepyTea,weight:.3}],dropItems:[]},Toono:{typeName:"远野",description:"野兽学派的哲学家后辈",abilityCoeff:{str:{base:10,growth:.1},int:{base:5,growth:.1},con:{base:10,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.PowerfulDigAttack,weight:.4},{actionType:N.Counter,weight:.4},{actionType:N.Dodge,weight:.2}],dropItems:[{type:ji.ToonoDefeaterBadge,weight:1}]},Slime:{typeName:"史莱姆",description:"一种行动缓慢的软体生物，武器打上去没有什么手感",abilityCoeff:{str:{base:3,growth:.05},int:{base:0,growth:0},con:{base:3,growth:.1},siz:{base:2,growth:.05},app:{base:0,growth:0},dex:{base:1,growth:.05},armor:{base:25,growth:5.5},piercing:{base:0,growth:4.5}},actions:[{actionType:N.Attack,weight:1},{actionType:N.Defend,weight:1},{actionType:N.Dazed,weight:2}],dropItems:[{type:null,weight:.6},{type:kt.BrokenChest,weight:.4},{type:kt.WoodenChest,weight:.02},{type:kt.SilverChest,weight:.001}]},Dragon:{typeName:'"池沼之主"龙',image:Vp,description:"生态位的顶端，人类在它庞大的身躯面前就像一只蝼蚁。它正用着锐利的目光打量着你，让你不寒而栗。<br>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。",abilityCoeff:{str:{base:10,growth:.2},int:{base:4,growth:.1},con:{base:20,growth:.8},siz:{base:20,growth:.2},app:{base:4,growth:.1},dex:{base:4,growth:.1},armor:{base:50,growth:5},piercing:{base:10,growth:5}},actions:[{actionType:N.Bite,weight:.1},{actionType:N.PowerAttack,weight:.2},{actionType:N.Counter,weight:.2},{actionType:N.DragonBreath,weight:.2},{actionType:N.QuickAttack,weight:.2},{actionType:N.Defend,weight:.1}],dropItems:[]},AngryDragon:{typeName:"愤怒的龙",image:Up,description:"龙彻底被激怒了，一只蝼蚁居然让它受了伤。它有些虚弱，但是攻击更加狂暴了",abilityCoeff:{str:{base:15,growth:.3},int:{base:3,growth:.05},con:{base:10,growth:.4},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:6,growth:.15},armor:{base:25,growth:5},piercing:{base:20,growth:5}},actions:[{actionType:N.Bite,weight:.1},{actionType:N.PowerAttack,weight:.2},{actionType:N.DragonBreath,weight:.2},{actionType:N.QuickAttack,weight:.2}],dropItems:[]},WeakDragon:{typeName:"虚弱的龙",image:Qp,description:"它抛弃了自己作为龙的尊严，现在一心只想活下去",abilityCoeff:{str:{base:5,growth:.1},int:{base:6,growth:.15},con:{base:5,growth:.2},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:4,growth:.1},armor:{base:20,growth:5},piercing:{base:5,growth:5}},actions:[{actionType:N.Bite,weight:.2},{actionType:N.Counter,weight:.3},{actionType:N.DragonBreath,weight:.2},{actionType:N.Defend,weight:.3}],dropItems:[{type:kt.SilverChest,weight:.95},{type:kt.GoldChest,weight:.05},{type:kt.DiamondChest,weight:.002}]},Wolf:{typeName:"孤狼",description:"一匹行动敏捷的孤狼，对于普通人来说，它是一种危险的生物",abilityCoeff:{str:{base:5,growth:.1},int:{base:2,growth:.05},con:{base:5,growth:.15},siz:{base:4,growth:.05},app:{base:2,growth:0},dex:{base:6,growth:.15},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Bite,weight:1},{actionType:N.QuickAttack,weight:.5},{actionType:N.SpinAttack,weight:.5}],dropItems:[{type:kt.BrokenChest,weight:.8},{type:kt.WoodenChest,weight:.2},{type:kt.SilverChest,weight:.01}]},DiscardedGolem:{typeName:"废弃的岩石魔像",description:"一尊不知何时被废弃的岩石魔像，在风雨的侵蚀下，它的巨大的身躯上布满了裂痕和苔藓。它不该会动呀？",abilityCoeff:{str:{base:15,growth:.3},int:{base:0,growth:0},con:{base:10,growth:.4},siz:{base:15,growth:.1},app:{base:0,growth:0},dex:{base:0,growth:0},armor:{base:75,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Dazed,weight:2},{actionType:N.Defend,weight:1},{actionType:N.PowerAttack,weight:.5},{actionType:N.Counter,weight:.5}],dropItems:[{type:kt.BrokenChest,weight:.2},{type:kt.WoodenChest,weight:.8},{type:kt.SilverChest,weight:.04},{type:kt.GoldChest,weight:.002}]},Ayulsa:{typeName:"???",description:"好像并不来自于这个世界",abilityCoeff:{str:{base:5,growth:.2},int:{base:50,growth:.2},con:{base:5,growth:.4},siz:{base:5,growth:.2},app:{base:5,growth:.2},dex:{base:5,growth:.2},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.GodStrike,weight:1},{actionType:N.ShredFlower,weight:1},{actionType:N.PsyKick,weight:1},{actionType:N.PsyExplosion,weight:1},{actionType:N.PsyInvisibleSword,weight:1},{actionType:N.PsyDodge,weight:1}],dropItems:[{type:kt.DiamondChest,weight:1}]},Horse:{typeName:"马 (?)",description:"看起来好像不是普通的马",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:N.SneakAttack,weight:1},{actionType:N.LightningFiveStrikes,weight:1}],dropItems:[{type:kt.BrokenChest,weight:.2},{type:kt.WoodenChest,weight:.8},{type:kt.SilverChest,weight:.04},{type:kt.GoldChest,weight:.002}]},Goblin:{typeName:"哥布林",description:"绿色皮肤，弱小的群居种族，以偷窃和抢劫为生",abilityCoeff:{str:{base:3,growth:.1},int:{base:3,growth:0},con:{base:3,growth:.1},siz:{base:3,growth:.05},app:{base:1,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.SneakAttack,weight:1},{actionType:N.Dazed,weight:1},{actionType:N.RunAway,weight:1}],dropItems:[{type:null,weight:.6},{type:kt.BrokenChest,weight:.4},{type:kt.WoodenChest,weight:.02},{type:kt.SilverChest,weight:.001}]},FrightenedGoblinLeader:{typeName:"受到惊吓的哥布林首领",description:"这只哥布林比普通人类还要大上一圈，且穿着皮甲拿着刀，身上挂着很多装饰品。很显然，它就是这里的首领。它看起来被后方出现的你吓了一大跳<p>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。</p>",abilityCoeff:{str:{base:2,growth:.1},int:{base:4,growth:0},con:{base:5,growth:.2},siz:{base:6,growth:.05},app:{base:3,growth:0},dex:{base:2.5,growth:.05},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Defend,weight:1},{actionType:N.Dazed,weight:1},{actionType:N.Counter,weight:.5},{actionType:N.DefenseSlash,weight:.5}],dropItems:[]},AngryGoblinLeader:{typeName:"暴怒的哥布林首领",description:"哥布林们的首领愤怒了，它难听地吼叫着，挥舞着武器向你冲来<p>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。</p>",abilityCoeff:{str:{base:6,growth:.2},int:{base:4,growth:0},con:{base:5,growth:.2},siz:{base:6,growth:.05},app:{base:3,growth:0},dex:{base:5,growth:.1},armor:{base:20,growth:5},piercing:{base:5,growth:5}},actions:[{actionType:N.PowerAttack,weight:1},{actionType:N.Bite,weight:1},{actionType:N.SneakAttack,weight:1},{actionType:N.Defend,weight:1},{actionType:N.Slash,weight:1},{actionType:N.Dodge,weight:1}],dropItems:[{type:kt.BrokenChest,weight:.4},{type:kt.WoodenChest,weight:.6},{type:kt.SilverChest,weight:.02},{type:kt.GoldChest,weight:.001}]}};class Yu{constructor(e,n,i,o){bt(this,"isPlayer",!1);bt(this,"name");bt(this,"type");bt(this,"image");bt(this,"level");bt(this,"individualStrength");bt(this,"maxHealth");bt(this,"health");bt(this,"ability");bt(this,"statuses",[]);bt(this,"pack",[]);bt(this,"equipments",{body:null,hand:null,foot:null,accessory:null});bt(this,"actions");this.name=e,this.type=n,this.level=i,this.individualStrength=o,this.ability=this.calculateAbility(),this.maxHealth=this.ability.con*10+this.ability.siz*5,this.health=this.maxHealth,this.actions=ii[this.type].actions}calculateAbility(){const e=ii[this.type].abilityCoeff,n=["str","int","con","siz","app","dex","armor","piercing"],i={};return n.forEach(o=>{i[o]=e[o].base+e[o].growth*this.level*this.individualStrength}),i}levelup(){this.level++,this.ability=this.calculateAbility();const e=this.maxHealth;this.maxHealth=this.ability.con*10+this.ability.siz*5,this.recoverHp(this.maxHealth-e)}getRandomAction(){const e=Math.random(),n=this.getActions(),i=n.reduce((s,c)=>s+c.weight,0);let o=0;for(const s of n)if(o+=s.weight,e<o/i)return Ut[s.actionType];return Ut[N.Dazed]}wearEquipment(e){this.equipments[e.position]&&this.removeEquipment(e.position),this.equipments[e.position]=e,this.pack.splice(this.pack.indexOf(e),1)}removeEquipment(e){this.equipments[e]&&(this.pack.push(this.equipments[e]),this.equipments[e]=null)}discardItem(e){this.pack.splice(this.pack.indexOf(e),1)}loseHp(e){this.health-=e,this.health<0&&(this.health=0)}recoverHp(e){this.health+=e,this.health>this.maxHealth&&(this.health=this.maxHealth)}getExtraAbility(){const e={str:0,int:0,con:0,siz:0,app:0,dex:0,armor:0,piercing:0},n=["str","int","con","siz","app","dex","armor","piercing"];for(const i of Object.values(this.equipments))i&&n.forEach(o=>{var s;e[o]+=((s=i.ability)==null?void 0:s[o])??0});return e}getAbility(){const e={...this.ability},n=["str","int","con","siz","app","dex","armor","piercing"],i=this.getExtraAbility();for(const o of n)e[o]+=i[o];return e}getExtraActions(){const e=[];for(const n of Object.values(this.equipments))n&&e.push(...n.extraActions);return e}getActions(){const e=[...this.actions];return e.push(...this.getExtraActions()),e}getActionCoeff(e){var i,o;const n={plus:0,multiply:1};for(const s of Object.values(this.equipments))s&&(n.plus+=((i=s.actionCoeff[e])==null?void 0:i.plus)??0,(o=s.actionCoeff[e])!=null&&o.multiply&&(n.multiply+=s.actionCoeff[e].multiply-1));return n}addStatus(e,n,i){const o=zi[e],s={name:o.name,description:o.description,type:e,priority:o.priority,durationType:o.durationType,category:o.category,duration:n,statusLevel:i};this.statuses.push(s)}clearStatus(){this.statuses=this.statuses.filter(e=>e.durationType===we.Permanent)}clearStatusByCategory(e){this.statuses=this.statuses.filter(n=>n.category!==e)}updateStatusesOnTurnStart(){this.statuses=this.statuses.filter(e=>(e.durationType===we.Turn&&(e.duration-=1),e.duration>0))}updateStatusesOnHitStart(){this.statuses=this.statuses.filter(e=>(e.durationType===we.Hit&&(e.duration-=1),e.duration>0))}applySecondStatuses(){this.statuses.sort((e,n)=>e.priority-n.priority).forEach(e=>{if(e.category===ee.OnSecond){const n=zi[e.type].effect;n(this,e.statusLevel)}}),this.statuses=this.statuses.filter(e=>(e.durationType===we.Second&&(e.duration-=1),e.duration>0))}}class Wi extends Yu{constructor(n,i){n=n||"吴田所",i=i||Xt.Player;super(n,i,0,1);bt(this,"log",[]);bt(this,"tempLog",[]);bt(this,"capturedMonster",[]);bt(this,"isAtHome",!0);bt(this,"exp",0);bt(this,"isPlayer",!0);bt(this,"currentMapData",{currentRegionId:"ruin",currentNodeId:null,goingToNodeId:null,visitedNodeIdList:[],boss:[]});bt(this,"unlockedRegionIdList",["ruin"]);bt(this,"unlockedNodeIdList",[])}getNextLevelExp(){return this.level<=10?100:this.level<=20?100+(this.level-10)*40:500*Math.pow(1.2,this.level-20)}checkLevelUp(){let n=this.getNextLevelExp(),i=!1;for(;this.exp>=n;)this.exp-=n,this.levelup(),i=!0,n=this.getNextLevelExp();return i}getExpDisplay(){const n=this.getNextLevelExp();return`
      <div class="progress" style="height: 2px; position: relative;">
        <div class="progress-bar" role="progressbar" style="width: ${Math.min(100,this.exp/n*100)}%;"
             aria-valuenow="${this.exp}" aria-valuemin="0" aria-valuemax="${n}">
        </div>
      </div>
    `}getHealthDisplay(){const n=Math.min(100,this.health/this.maxHealth*100),i=this.ability.con/5*this.maxHealth/900;return`
    <div class="progress" style="height: 20px; position: relative; background-color: #444;">
      <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: ${n}%;"
           aria-valuenow="${this.health}" aria-valuemin="0" aria-valuemax="${this.maxHealth}">
      </div>
      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
        <div style="text-align: center; line-height: 20px; font-size: 0.9rem; font-weight: bold; color: #fff;">
          hp: ${this.health.toFixed(1)} / ${this.maxHealth.toFixed(1)}
        </div>
        <div style="position: absolute; top: 0; right: 5px; height: 100%; display: flex; align-items: center; font-size: 0.9rem; font-weight: bold; color: #fff;">
          +${i.toFixed(2)}
        </div>
      </div>
    </div>
  `}updateHealthDisplay(){const n=document.getElementById("health-display");n&&(n.innerHTML=this.getHealthDisplay())}autoRecoverHpDot(n=1){const i=this.ability.con/5*this.maxHealth/900*n;this.recoverHp(i)}addLog(n){this.log.push(n)}getLogs(){return this.log.join("<br>")}getLastNLog(n){return this.log.slice(-n).join("<br>")}addTempLog(n){this.tempLog.push(n)}getTempLogs(){return this.tempLog.join("<br>")}clearTempLogs(){this.tempLog=[]}joinTempLogs(){this.log.push(this.tempLog.join("<br>")),this.tempLog=[]}clearCurrentMapDataWithoutBoss(){this.currentMapData.currentNodeId=null,this.currentMapData.goingToNodeId=null,this.currentMapData.visitedNodeIdList=[]}clearCurrentMapData(){this.clearCurrentMapDataWithoutBoss(),this.currentMapData.boss=[]}goToRegion(n){this.unlockedRegionIdList.includes(n)&&(this.clearCurrentMapData(),this.currentMapData.currentRegionId=n)}goToNode(n){this.currentMapData.currentNodeId=n,this.currentMapData.visitedNodeIdList.includes(n)||this.currentMapData.visitedNodeIdList.push(n),this.currentMapData.goingToNodeId=null,this.unlockedNodeIdList.includes(n)||this.unlockedNodeIdList.push(n)}}var wt;(function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(wt||(wt={}));var Kp=function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return t.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},t.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.findTransformMetadatas=function(e,n,i){return this.findMetadatas(this._transformMetadatas,e,n).filter(function(o){return!o.options||o.options.toClassOnly===!0&&o.options.toPlainOnly===!0?!0:o.options.toClassOnly===!0?i===wt.CLASS_TO_CLASS||i===wt.PLAIN_TO_CLASS:o.options.toPlainOnly===!0?i===wt.CLASS_TO_PLAIN:!0})},t.prototype.findExcludeMetadata=function(e,n){return this.findMetadata(this._excludeMetadatas,e,n)},t.prototype.findExposeMetadata=function(e,n){return this.findMetadata(this._exposeMetadatas,e,n)},t.prototype.findExposeMetadataByCustomName=function(e,n){return this.getExposedMetadatas(e).find(function(i){return i.options&&i.options.name===n})},t.prototype.findTypeMetadata=function(e,n){return this.findMetadata(this._typeMetadatas,e,n)},t.prototype.getStrategy=function(e){var n=this._excludeMetadatas.get(e),i=n&&n.get(void 0),o=this._exposeMetadatas.get(e),s=o&&o.get(void 0);return i&&s||!i&&!s?"none":i?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},t.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},t.prototype.getExposedProperties=function(e,n){return this.getExposedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===wt.CLASS_TO_CLASS||n===wt.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===wt.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.getExcludedProperties=function(e,n){return this.getExcludedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===wt.CLASS_TO_CLASS||n===wt.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===wt.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(e,n){var i=e.get(n),o;i&&(o=Array.from(i.values()).filter(function(A){return A.propertyName!==void 0}));for(var s=[],c=0,u=this.getAncestors(n);c<u.length;c++){var f=u[c],p=e.get(f);if(p){var h=Array.from(p.values()).filter(function(A){return A.propertyName!==void 0});s.push.apply(s,h)}}return s.concat(o||[])},t.prototype.findMetadata=function(e,n,i){var o=e.get(n);if(o){var s=o.get(i);if(s)return s}for(var c=0,u=this.getAncestors(n);c<u.length;c++){var f=u[c],p=e.get(f);if(p){var h=p.get(i);if(h)return h}}},t.prototype.findMetadatas=function(e,n,i){var o=e.get(n),s;o&&(s=o.get(i));for(var c=[],u=0,f=this.getAncestors(n);u<f.length;u++){var p=f[u],h=e.get(p);h&&h.has(i)&&c.push.apply(c,h.get(i))}return c.slice().reverse().concat((s||[]).slice().reverse())},t.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var n=[],i=Object.getPrototypeOf(e.prototype.constructor);typeof i.prototype<"u";i=Object.getPrototypeOf(i.prototype.constructor))n.push(i);this._ancestorsMap.set(e,n)}return this._ancestorsMap.get(e)},t}(),fe=new Kp;function Yp(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function qp(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var kl=function(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,s;i<o;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};function Xp(t){var e=new t;return!(e instanceof Set)&&!("push"in e)?[]:e}var Mi=function(){function t(e,n){this.transformationType=e,this.options=n,this.recursionStack=new Set}return t.prototype.transform=function(e,n,i,o,s,c){var u=this;if(c===void 0&&(c=0),Array.isArray(n)||n instanceof Set){var f=o&&this.transformationType===wt.PLAIN_TO_CLASS?Xp(o):[];return n.forEach(function(L,M){var F=e?e[M]:void 0;if(!u.options.enableCircularCheck||!u.isCircular(L)){var Y=void 0;if(typeof i!="function"&&i&&i.options&&i.options.discriminator&&i.options.discriminator.property&&i.options.discriminator.subTypes){if(u.transformationType===wt.PLAIN_TO_CLASS){Y=i.options.discriminator.subTypes.find(function(ct){return ct.name===L[i.options.discriminator.property]});var m={newObject:f,object:L,property:void 0},V=i.typeFunction(m);Y===void 0?Y=V:Y=Y.value,i.options.keepDiscriminatorProperty||delete L[i.options.discriminator.property]}u.transformationType===wt.CLASS_TO_CLASS&&(Y=L.constructor),u.transformationType===wt.CLASS_TO_PLAIN&&(L[i.options.discriminator.property]=i.options.discriminator.subTypes.find(function(ct){return ct.value===L.constructor}).name)}else Y=i;var B=u.transform(F,L,Y,void 0,L instanceof Map,c+1);f instanceof Set?f.add(B):f.push(B)}else u.transformationType===wt.CLASS_TO_CLASS&&(f instanceof Set?f.add(L):f.push(L))}),f}else{if(i===String&&!s)return n==null?n:String(n);if(i===Number&&!s)return n==null?n:Number(n);if(i===Boolean&&!s)return n==null?n:!!n;if((i===Date||n instanceof Date)&&!s)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(Yp().Buffer&&(i===Buffer||n instanceof Buffer)&&!s)return n==null?n:Buffer.from(n);if(qp(n)&&!s)return new Promise(function(L,M){n.then(function(F){return L(u.transform(void 0,F,i,void 0,void 0,c+1))},M)});if(!s&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!i&&n.constructor!==Object&&(!Array.isArray(n)&&n.constructor===Array||(i=n.constructor)),!i&&e&&(i=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);var p=this.getKeys(i,n,s),h=e||{};!e&&(this.transformationType===wt.PLAIN_TO_CLASS||this.transformationType===wt.CLASS_TO_CLASS)&&(s?h=new Map:i?h=new i:h={});for(var A=function(L){if(L==="__proto__"||L==="constructor")return"continue";var M=L,F=L,Y=L;if(!_.options.ignoreDecorators&&i){if(_.transformationType===wt.PLAIN_TO_CLASS){var m=fe.findExposeMetadataByCustomName(i,L);m&&(Y=m.propertyName,F=m.propertyName)}else if(_.transformationType===wt.CLASS_TO_PLAIN||_.transformationType===wt.CLASS_TO_CLASS){var m=fe.findExposeMetadata(i,L);m&&m.options&&m.options.name&&(F=m.options.name)}}var V=void 0;_.transformationType===wt.PLAIN_TO_CLASS?V=n[M]:n instanceof Map?V=n.get(M):n[M]instanceof Function?V=n[M]():V=n[M];var B=void 0,ct=V instanceof Map;if(i&&s)B=i;else if(i){var nt=fe.findTypeMetadata(i,Y);if(nt){var Ct={newObject:h,object:n,property:Y},Et=nt.typeFunction?nt.typeFunction(Ct):nt.reflectedType;nt.options&&nt.options.discriminator&&nt.options.discriminator.property&&nt.options.discriminator.subTypes?n[M]instanceof Array?B=nt:(_.transformationType===wt.PLAIN_TO_CLASS&&(B=nt.options.discriminator.subTypes.find(function(G){if(V&&V instanceof Object&&nt.options.discriminator.property in V)return G.name===V[nt.options.discriminator.property]}),B===void 0?B=Et:B=B.value,nt.options.keepDiscriminatorProperty||V&&V instanceof Object&&nt.options.discriminator.property in V&&delete V[nt.options.discriminator.property]),_.transformationType===wt.CLASS_TO_CLASS&&(B=V.constructor),_.transformationType===wt.CLASS_TO_PLAIN&&V&&(V[nt.options.discriminator.property]=nt.options.discriminator.subTypes.find(function(G){return G.value===V.constructor}).name)):B=Et,ct=ct||nt.reflectedType===Map}else if(_.options.targetMaps)_.options.targetMaps.filter(function(G){return G.target===i&&!!G.properties[Y]}).forEach(function(G){return B=G.properties[Y]});else if(_.options.enableImplicitConversion&&_.transformationType===wt.PLAIN_TO_CLASS){var $t=Reflect.getMetadata("design:type",i.prototype,Y);$t&&(B=$t)}}var St=Array.isArray(n[M])?_.getReflectedType(i,Y):void 0,Tt=e?e[M]:void 0;if(h.constructor.prototype){var E=Object.getOwnPropertyDescriptor(h.constructor.prototype,F);if((_.transformationType===wt.PLAIN_TO_CLASS||_.transformationType===wt.CLASS_TO_CLASS)&&(E&&!E.set||h[F]instanceof Function))return"continue"}if(!_.options.enableCircularCheck||!_.isCircular(V)){var W=_.transformationType===wt.PLAIN_TO_CLASS?F:L,O=void 0;_.transformationType===wt.CLASS_TO_PLAIN?(O=n[W],O=_.applyCustomTransformations(O,i,W,n,_.transformationType),O=n[W]===O?V:O,O=_.transform(Tt,O,B,St,ct,c+1)):V===void 0&&_.options.exposeDefaultValues?O=h[F]:(O=_.transform(Tt,V,B,St,ct,c+1),O=_.applyCustomTransformations(O,i,W,n,_.transformationType)),(O!==void 0||_.options.exposeUnsetFields)&&(h instanceof Map?h.set(F,O):h[F]=O)}else if(_.transformationType===wt.CLASS_TO_CLASS){var O=V;O=_.applyCustomTransformations(O,i,L,n,_.transformationType),(O!==void 0||_.options.exposeUnsetFields)&&(h instanceof Map?h.set(F,O):h[F]=O)}},_=this,T=0,z=p;T<z.length;T++){var k=z[T];A(k)}return this.options.enableCircularCheck&&this.recursionStack.delete(n),h}else return n}},t.prototype.applyCustomTransformations=function(e,n,i,o,s){var c=this,u=fe.findTransformMetadatas(n,i,this.transformationType);return this.options.version!==void 0&&(u=u.filter(function(f){return f.options?c.checkVersion(f.options.since,f.options.until):!0})),this.options.groups&&this.options.groups.length?u=u.filter(function(f){return f.options?c.checkGroups(f.options.groups):!0}):u=u.filter(function(f){return!f.options||!f.options.groups||!f.options.groups.length}),u.forEach(function(f){e=f.transformFn({value:e,key:i,obj:o,type:s,options:c.options})}),e},t.prototype.isCircular=function(e){return this.recursionStack.has(e)},t.prototype.getReflectedType=function(e,n){if(e){var i=fe.findTypeMetadata(e,n);return i?i.reflectedType:void 0}},t.prototype.getKeys=function(e,n,i){var o=this,s=fe.getStrategy(e);s==="none"&&(s=this.options.strategy||"exposeAll");var c=[];if((s==="exposeAll"||i)&&(n instanceof Map?c=Array.from(n.keys()):c=Object.keys(n)),i)return c;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var u=fe.getExposedProperties(e,this.transformationType),f=fe.getExcludedProperties(e,this.transformationType);c=kl(kl([],u,!0),f,!0)}if(!this.options.ignoreDecorators&&e){var u=fe.getExposedProperties(e,this.transformationType);this.transformationType===wt.PLAIN_TO_CLASS&&(u=u.map(function(A){var _=fe.findExposeMetadata(e,A);return _&&_.options&&_.options.name?_.options.name:A})),this.options.excludeExtraneousValues?c=u:c=c.concat(u);var p=fe.getExcludedProperties(e,this.transformationType);p.length>0&&(c=c.filter(function(A){return!p.includes(A)})),this.options.version!==void 0&&(c=c.filter(function(A){var _=fe.findExposeMetadata(e,A);return!_||!_.options?!0:o.checkVersion(_.options.since,_.options.until)})),this.options.groups&&this.options.groups.length?c=c.filter(function(A){var _=fe.findExposeMetadata(e,A);return!_||!_.options?!0:o.checkGroups(_.options.groups)}):c=c.filter(function(A){var _=fe.findExposeMetadata(e,A);return!_||!_.options||!_.options.groups||!_.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(c=c.filter(function(h){return o.options.excludePrefixes.every(function(A){return h.substr(0,A.length)!==A})})),c=c.filter(function(h,A,_){return _.indexOf(h)===A}),c},t.prototype.checkVersion=function(e,n){var i=!0;return i&&e&&(i=this.options.version>=e),i&&n&&(i=this.options.version<n),i},t.prototype.checkGroups=function(e){return e?this.options.groups.some(function(n){return e.includes(n)}):!0},t}(),ki={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},de=function(){return de=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},de.apply(this,arguments)},Jp=function(){function t(){}return t.prototype.instanceToPlain=function(e,n){var i=new Mi(wt.CLASS_TO_PLAIN,de(de({},ki),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(e,n,i){var o=new Mi(wt.CLASS_TO_PLAIN,de(de({},ki),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.plainToInstance=function(e,n,i){var o=new Mi(wt.PLAIN_TO_CLASS,de(de({},ki),i));return o.transform(void 0,n,e,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(e,n,i){var o=new Mi(wt.PLAIN_TO_CLASS,de(de({},ki),i));return o.transform(e,n,void 0,void 0,void 0,void 0)},t.prototype.instanceToInstance=function(e,n){var i=new Mi(wt.CLASS_TO_CLASS,de(de({},ki),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(e,n,i){var o=new Mi(wt.CLASS_TO_CLASS,de(de({},ki),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(e,n){return JSON.stringify(this.instanceToPlain(e,n))},t.prototype.deserialize=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t.prototype.deserializeArray=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t}(),qu=new Jp;function Zp(t,e){return qu.instanceToPlain(t,e)}function dr(t,e,n){return qu.plainToInstance(t,e,n)}let Ns=-1,Is=-1,$s=-1;function ca(t){Ns!==-1&&clearInterval(Ns),Is!==-1&&clearInterval(Is),$s!==-1&&clearInterval($s),Ns=setInterval(()=>{t.isAtHome&&(t.autoRecoverHpDot(),t.updateHealthDisplay())},1e3),Is=setInterval(()=>{t.isAtHome&&yn(t)},1e4),$s=setInterval(()=>{t.isAtHome&&t.applySecondStatuses()},1e3)}function tg(t){const e=t.reduce((o,s)=>o+s.weight,0),n=Math.random()*e;let i=0;for(const o of t)if(i+=o.weight,n<=i)return o}function Xu(t,e=0){if(t in kt)return new Ue(t,e);if(t in ji)return new on(t,e);throw new Error("Invalid item type")}function Nl(t){return t instanceof Ue?`
      <div class="tooltip-base tooltip-header">
        <h5 class="text-${R[t.rarity]}">${t.level?`lv${t.level}`:""} ${t.name}</h5>
        <p class="fst-italic">${t.description}</p>
      </div>
    `:t instanceof on?Wp(t):`
    <div class="tooltip-base">
      <h5>${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
    </div>
  `}function Ps(t){switch(t.category){case ui.Equipment:return"🗡️";case ui.Consumable:return"🗝️";default:return""}}class Po extends Yu{constructor(n,i,o,s){n=n||Xt.Slime,s=s||ii[n].typeName,i=i||1,o=o||1;super(s,n,i,o);bt(this,"description");bt(this,"dropItems");bt(this,"giveExp",0);this.dropItems=ii[n].dropItems,this.description=ii[n].description,ii[n].image&&(this.image=ii[n].image),this.giveExp=Math.floor(this.maxHealth)*(1+this.level/10)}randomDropItem(){const n=this.dropItems.reduce((o,s)=>o+s.weight,0);let i=Math.random()*n;for(const o of this.dropItems){if(i<o.weight&&o.type)return Xu(o.type,this.level);i-=o.weight}return null}}function yn(t){if(t.type===Xt.FullPowerPlayer114514)return;const e=Zp(t);localStorage.setItem("playerData",JSON.stringify(e))}function eg(){const t=localStorage.getItem("playerData");if(!t)throw new Error("No player data found");const e=JSON.parse(t),n=dr(Wi,e);return ca(n),n.pack=e.pack.map(o=>o.category===ui.Equipment?dr(on,o):o.category===ui.Consumable?dr(Ue,o):o),Object.keys(n.equipments).forEach(o=>{n.equipments[o]&&(n.equipments[o]=dr(on,n.equipments[o]))}),n.currentMapData.boss=n.currentMapData.boss.map(o=>(console.log(o),dr(Po,o))),n.clearStatus(),n}const ng="/isekai114514/assets/player-8N5Sf3fj.gif";function Se(){const t=document.getElementById("app");if(!t)throw new Error("无法找到挂载点 #app");return t}var ce="top",Ee="bottom",xe="right",le="left",Ro="auto",er=[ce,Ee,xe,le],di="start",Vi="end",Ju="clippingParents",Oa="viewport",$i="popper",Zu="reference",la=er.reduce(function(t,e){return t.concat([e+"-"+di,e+"-"+Vi])},[]),Da=[].concat(er,[Ro]).reduce(function(t,e){return t.concat([e,e+"-"+di,e+"-"+Vi])},[]),tf="beforeRead",ef="read",nf="afterRead",rf="beforeMain",of="main",sf="afterMain",af="beforeWrite",cf="write",lf="afterWrite",uf=[tf,ef,nf,rf,of,sf,af,cf,lf];function ln(t){return t?(t.nodeName||"").toLowerCase():null}function Te(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hi(t){var e=Te(t).Element;return t instanceof e||t instanceof Element}function Re(t){var e=Te(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function La(t){if(typeof ShadowRoot>"u")return!1;var e=Te(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ig(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!Re(s)||!ln(s)||(Object.assign(s.style,i),Object.keys(o).forEach(function(c){var u=o[c];u===!1?s.removeAttribute(c):s.setAttribute(c,u===!0?"":u)}))})}function rg(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],s=e.attributes[i]||{},c=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),u=c.reduce(function(f,p){return f[p]="",f},{});!Re(o)||!ln(o)||(Object.assign(o.style,u),Object.keys(s).forEach(function(f){o.removeAttribute(f)}))})}}const Bo={name:"applyStyles",enabled:!0,phase:"write",fn:ig,effect:rg,requires:["computeStyles"]};function sn(t){return t.split("-")[0]}var ci=Math.max,Eo=Math.min,Ui=Math.round;function ua(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ff(){return!/^((?!chrome|android).)*safari/i.test(ua())}function Qi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),o=1,s=1;e&&Re(t)&&(o=t.offsetWidth>0&&Ui(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ui(i.height)/t.offsetHeight||1);var c=hi(t)?Te(t):window,u=c.visualViewport,f=!ff()&&n,p=(i.left+(f&&u?u.offsetLeft:0))/o,h=(i.top+(f&&u?u.offsetTop:0))/s,A=i.width/o,_=i.height/s;return{width:A,height:_,top:h,right:p+A,bottom:h+_,left:p,x:p,y:h}}function Ma(t){var e=Qi(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function df(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&La(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function xn(t){return Te(t).getComputedStyle(t)}function og(t){return["table","td","th"].indexOf(ln(t))>=0}function Fn(t){return((hi(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ho(t){return ln(t)==="html"?t:t.assignedSlot||t.parentNode||(La(t)?t.host:null)||Fn(t)}function Il(t){return!Re(t)||xn(t).position==="fixed"?null:t.offsetParent}function sg(t){var e=/firefox/i.test(ua()),n=/Trident/i.test(ua());if(n&&Re(t)){var i=xn(t);if(i.position==="fixed")return null}var o=Ho(t);for(La(o)&&(o=o.host);Re(o)&&["html","body"].indexOf(ln(o))<0;){var s=xn(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function Dr(t){for(var e=Te(t),n=Il(t);n&&og(n)&&xn(n).position==="static";)n=Il(n);return n&&(ln(n)==="html"||ln(n)==="body"&&xn(n).position==="static")?e:n||sg(t)||e}function ka(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yr(t,e,n){return ci(t,Eo(e,n))}function ag(t,e,n){var i=yr(t,e,n);return i>n?n:i}function hf(){return{top:0,right:0,bottom:0,left:0}}function pf(t){return Object.assign({},hf(),t)}function gf(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var cg=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,pf(typeof e!="number"?e:gf(e,er))};function lg(t){var e,n=t.state,i=t.name,o=t.options,s=n.elements.arrow,c=n.modifiersData.popperOffsets,u=sn(n.placement),f=ka(u),p=[le,xe].indexOf(u)>=0,h=p?"height":"width";if(!(!s||!c)){var A=cg(o.padding,n),_=Ma(s),T=f==="y"?ce:le,z=f==="y"?Ee:xe,k=n.rects.reference[h]+n.rects.reference[f]-c[f]-n.rects.popper[h],L=c[f]-n.rects.reference[f],M=Dr(s),F=M?f==="y"?M.clientHeight||0:M.clientWidth||0:0,Y=k/2-L/2,m=A[T],V=F-_[h]-A[z],B=F/2-_[h]/2+Y,ct=yr(m,B,V),nt=f;n.modifiersData[i]=(e={},e[nt]=ct,e.centerOffset=ct-B,e)}}function ug(t){var e=t.state,n=t.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||df(e.elements.popper,o)&&(e.elements.arrow=o))}const mf={name:"arrow",enabled:!0,phase:"main",fn:lg,effect:ug,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ki(t){return t.split("-")[1]}var fg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dg(t,e){var n=t.x,i=t.y,o=e.devicePixelRatio||1;return{x:Ui(n*o)/o||0,y:Ui(i*o)/o||0}}function $l(t){var e,n=t.popper,i=t.popperRect,o=t.placement,s=t.variation,c=t.offsets,u=t.position,f=t.gpuAcceleration,p=t.adaptive,h=t.roundOffsets,A=t.isFixed,_=c.x,T=_===void 0?0:_,z=c.y,k=z===void 0?0:z,L=typeof h=="function"?h({x:T,y:k}):{x:T,y:k};T=L.x,k=L.y;var M=c.hasOwnProperty("x"),F=c.hasOwnProperty("y"),Y=le,m=ce,V=window;if(p){var B=Dr(n),ct="clientHeight",nt="clientWidth";if(B===Te(n)&&(B=Fn(n),xn(B).position!=="static"&&u==="absolute"&&(ct="scrollHeight",nt="scrollWidth")),B=B,o===ce||(o===le||o===xe)&&s===Vi){m=Ee;var Ct=A&&B===V&&V.visualViewport?V.visualViewport.height:B[ct];k-=Ct-i.height,k*=f?1:-1}if(o===le||(o===ce||o===Ee)&&s===Vi){Y=xe;var Et=A&&B===V&&V.visualViewport?V.visualViewport.width:B[nt];T-=Et-i.width,T*=f?1:-1}}var $t=Object.assign({position:u},p&&fg),St=h===!0?dg({x:T,y:k},Te(n)):{x:T,y:k};if(T=St.x,k=St.y,f){var Tt;return Object.assign({},$t,(Tt={},Tt[m]=F?"0":"",Tt[Y]=M?"0":"",Tt.transform=(V.devicePixelRatio||1)<=1?"translate("+T+"px, "+k+"px)":"translate3d("+T+"px, "+k+"px, 0)",Tt))}return Object.assign({},$t,(e={},e[m]=F?k+"px":"",e[Y]=M?T+"px":"",e.transform="",e))}function hg(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=i===void 0?!0:i,s=n.adaptive,c=s===void 0?!0:s,u=n.roundOffsets,f=u===void 0?!0:u,p={placement:sn(e.placement),variation:Ki(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$l(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$l(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Na={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hg,data:{}};var Zr={passive:!0};function pg(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,s=o===void 0?!0:o,c=i.resize,u=c===void 0?!0:c,f=Te(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&p.forEach(function(h){h.addEventListener("scroll",n.update,Zr)}),u&&f.addEventListener("resize",n.update,Zr),function(){s&&p.forEach(function(h){h.removeEventListener("scroll",n.update,Zr)}),u&&f.removeEventListener("resize",n.update,Zr)}}const Ia={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pg,data:{}};var gg={left:"right",right:"left",bottom:"top",top:"bottom"};function po(t){return t.replace(/left|right|bottom|top/g,function(e){return gg[e]})}var mg={start:"end",end:"start"};function Pl(t){return t.replace(/start|end/g,function(e){return mg[e]})}function $a(t){var e=Te(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Pa(t){return Qi(Fn(t)).left+$a(t).scrollLeft}function _g(t,e){var n=Te(t),i=Fn(t),o=n.visualViewport,s=i.clientWidth,c=i.clientHeight,u=0,f=0;if(o){s=o.width,c=o.height;var p=ff();(p||!p&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:s,height:c,x:u+Pa(t),y:f}}function vg(t){var e,n=Fn(t),i=$a(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=ci(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),c=ci(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-i.scrollLeft+Pa(t),f=-i.scrollTop;return xn(o||n).direction==="rtl"&&(u+=ci(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:c,x:u,y:f}}function Ra(t){var e=xn(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function _f(t){return["html","body","#document"].indexOf(ln(t))>=0?t.ownerDocument.body:Re(t)&&Ra(t)?t:_f(Ho(t))}function Ar(t,e){var n;e===void 0&&(e=[]);var i=_f(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=Te(i),c=o?[s].concat(s.visualViewport||[],Ra(i)?i:[]):i,u=e.concat(c);return o?u:u.concat(Ar(Ho(c)))}function fa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function bg(t,e){var n=Qi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Rl(t,e,n){return e===Oa?fa(_g(t,n)):hi(e)?bg(e,n):fa(vg(Fn(t)))}function yg(t){var e=Ar(Ho(t)),n=["absolute","fixed"].indexOf(xn(t).position)>=0,i=n&&Re(t)?Dr(t):t;return hi(i)?e.filter(function(o){return hi(o)&&df(o,i)&&ln(o)!=="body"}):[]}function Ag(t,e,n,i){var o=e==="clippingParents"?yg(t):[].concat(e),s=[].concat(o,[n]),c=s[0],u=s.reduce(function(f,p){var h=Rl(t,p,i);return f.top=ci(h.top,f.top),f.right=Eo(h.right,f.right),f.bottom=Eo(h.bottom,f.bottom),f.left=ci(h.left,f.left),f},Rl(t,c,i));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function vf(t){var e=t.reference,n=t.element,i=t.placement,o=i?sn(i):null,s=i?Ki(i):null,c=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,f;switch(o){case ce:f={x:c,y:e.y-n.height};break;case Ee:f={x:c,y:e.y+e.height};break;case xe:f={x:e.x+e.width,y:u};break;case le:f={x:e.x-n.width,y:u};break;default:f={x:e.x,y:e.y}}var p=o?ka(o):null;if(p!=null){var h=p==="y"?"height":"width";switch(s){case di:f[p]=f[p]-(e[h]/2-n[h]/2);break;case Vi:f[p]=f[p]+(e[h]/2-n[h]/2);break}}return f}function Yi(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=i===void 0?t.placement:i,s=n.strategy,c=s===void 0?t.strategy:s,u=n.boundary,f=u===void 0?Ju:u,p=n.rootBoundary,h=p===void 0?Oa:p,A=n.elementContext,_=A===void 0?$i:A,T=n.altBoundary,z=T===void 0?!1:T,k=n.padding,L=k===void 0?0:k,M=pf(typeof L!="number"?L:gf(L,er)),F=_===$i?Zu:$i,Y=t.rects.popper,m=t.elements[z?F:_],V=Ag(hi(m)?m:m.contextElement||Fn(t.elements.popper),f,h,c),B=Qi(t.elements.reference),ct=vf({reference:B,element:Y,placement:o}),nt=fa(Object.assign({},Y,ct)),Ct=_===$i?nt:B,Et={top:V.top-Ct.top+M.top,bottom:Ct.bottom-V.bottom+M.bottom,left:V.left-Ct.left+M.left,right:Ct.right-V.right+M.right},$t=t.modifiersData.offset;if(_===$i&&$t){var St=$t[o];Object.keys(Et).forEach(function(Tt){var E=[xe,Ee].indexOf(Tt)>=0?1:-1,W=[ce,Ee].indexOf(Tt)>=0?"y":"x";Et[Tt]+=St[W]*E})}return Et}function wg(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=n.boundary,s=n.rootBoundary,c=n.padding,u=n.flipVariations,f=n.allowedAutoPlacements,p=f===void 0?Da:f,h=Ki(i),A=h?u?la:la.filter(function(z){return Ki(z)===h}):er,_=A.filter(function(z){return p.indexOf(z)>=0});_.length===0&&(_=A);var T=_.reduce(function(z,k){return z[k]=Yi(t,{placement:k,boundary:o,rootBoundary:s,padding:c})[sn(k)],z},{});return Object.keys(T).sort(function(z,k){return T[z]-T[k]})}function Eg(t){if(sn(t)===Ro)return[];var e=po(t);return[Pl(t),e,Pl(e)]}function xg(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,c=n.altAxis,u=c===void 0?!0:c,f=n.fallbackPlacements,p=n.padding,h=n.boundary,A=n.rootBoundary,_=n.altBoundary,T=n.flipVariations,z=T===void 0?!0:T,k=n.allowedAutoPlacements,L=e.options.placement,M=sn(L),F=M===L,Y=f||(F||!z?[po(L)]:Eg(L)),m=[L].concat(Y).reduce(function(dt,Dt){return dt.concat(sn(Dt)===Ro?wg(e,{placement:Dt,boundary:h,rootBoundary:A,padding:p,flipVariations:z,allowedAutoPlacements:k}):Dt)},[]),V=e.rects.reference,B=e.rects.popper,ct=new Map,nt=!0,Ct=m[0],Et=0;Et<m.length;Et++){var $t=m[Et],St=sn($t),Tt=Ki($t)===di,E=[ce,Ee].indexOf(St)>=0,W=E?"width":"height",O=Yi(e,{placement:$t,boundary:h,rootBoundary:A,altBoundary:_,padding:p}),G=E?Tt?xe:le:Tt?Ee:ce;V[W]>B[W]&&(G=po(G));var et=po(G),ot=[];if(s&&ot.push(O[St]<=0),u&&ot.push(O[G]<=0,O[et]<=0),ot.every(function(dt){return dt})){Ct=$t,nt=!1;break}ct.set($t,ot)}if(nt)for(var w=z?3:1,mt=function(Dt){var lt=m.find(function(Ft){var Q=ct.get(Ft);if(Q)return Q.slice(0,Dt).every(function(Qt){return Qt})});if(lt)return Ct=lt,"break"},yt=w;yt>0;yt--){var X=mt(yt);if(X==="break")break}e.placement!==Ct&&(e.modifiersData[i]._skip=!0,e.placement=Ct,e.reset=!0)}}const bf={name:"flip",enabled:!0,phase:"main",fn:xg,requiresIfExists:["offset"],data:{_skip:!1}};function Bl(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Hl(t){return[ce,xe,Ee,le].some(function(e){return t[e]>=0})}function Tg(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,c=Yi(e,{elementContext:"reference"}),u=Yi(e,{altBoundary:!0}),f=Bl(c,i),p=Bl(u,o,s),h=Hl(f),A=Hl(p);e.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:A},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":A})}const yf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Tg};function Cg(t,e,n){var i=sn(t),o=[le,ce].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,c=s[0],u=s[1];return c=c||0,u=(u||0)*o,[le,xe].indexOf(i)>=0?{x:u,y:c}:{x:c,y:u}}function Sg(t){var e=t.state,n=t.options,i=t.name,o=n.offset,s=o===void 0?[0,0]:o,c=Da.reduce(function(h,A){return h[A]=Cg(A,e.rects,s),h},{}),u=c[e.placement],f=u.x,p=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=c}const Af={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Sg};function Og(t){var e=t.state,n=t.name;e.modifiersData[n]=vf({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Ba={name:"popperOffsets",enabled:!0,phase:"read",fn:Og,data:{}};function Dg(t){return t==="x"?"y":"x"}function Lg(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,s=o===void 0?!0:o,c=n.altAxis,u=c===void 0?!1:c,f=n.boundary,p=n.rootBoundary,h=n.altBoundary,A=n.padding,_=n.tether,T=_===void 0?!0:_,z=n.tetherOffset,k=z===void 0?0:z,L=Yi(e,{boundary:f,rootBoundary:p,padding:A,altBoundary:h}),M=sn(e.placement),F=Ki(e.placement),Y=!F,m=ka(M),V=Dg(m),B=e.modifiersData.popperOffsets,ct=e.rects.reference,nt=e.rects.popper,Ct=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,Et=typeof Ct=="number"?{mainAxis:Ct,altAxis:Ct}:Object.assign({mainAxis:0,altAxis:0},Ct),$t=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,St={x:0,y:0};if(B){if(s){var Tt,E=m==="y"?ce:le,W=m==="y"?Ee:xe,O=m==="y"?"height":"width",G=B[m],et=G+L[E],ot=G-L[W],w=T?-nt[O]/2:0,mt=F===di?ct[O]:nt[O],yt=F===di?-nt[O]:-ct[O],X=e.elements.arrow,dt=T&&X?Ma(X):{width:0,height:0},Dt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hf(),lt=Dt[E],Ft=Dt[W],Q=yr(0,ct[O],dt[O]),Qt=Y?ct[O]/2-w-Q-lt-Et.mainAxis:mt-Q-lt-Et.mainAxis,ge=Y?-ct[O]/2+w+Q+Ft+Et.mainAxis:yt+Q+Ft+Et.mainAxis,Wt=e.elements.arrow&&Dr(e.elements.arrow),dn=Wt?m==="y"?Wt.clientTop||0:Wt.clientLeft||0:0,Jt=(Tt=$t==null?void 0:$t[m])!=null?Tt:0,qe=G+Qt-Jt-dn,Oe=G+ge-Jt,Zt=yr(T?Eo(et,qe):et,G,T?ci(ot,Oe):ot);B[m]=Zt,St[m]=Zt-G}if(u){var Xe,hn=m==="x"?ce:le,pn=m==="x"?Ee:xe,ue=B[V],me=V==="y"?"height":"width",ze=ue+L[hn],Ge=ue-L[pn],De=[ce,le].indexOf(M)!==-1,ne=(Xe=$t==null?void 0:$t[V])!=null?Xe:0,gn=De?ze:ue-ct[me]-nt[me]-ne+Et.altAxis,te=De?ue+ct[me]+nt[me]-ne-Et.altAxis:Ge,_e=T&&De?ag(gn,ue,te):yr(T?gn:ze,ue,T?te:Ge);B[V]=_e,St[V]=_e-ue}e.modifiersData[i]=St}}const wf={name:"preventOverflow",enabled:!0,phase:"main",fn:Lg,requiresIfExists:["offset"]};function Mg(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function kg(t){return t===Te(t)||!Re(t)?$a(t):Mg(t)}function Ng(t){var e=t.getBoundingClientRect(),n=Ui(e.width)/t.offsetWidth||1,i=Ui(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Ig(t,e,n){n===void 0&&(n=!1);var i=Re(e),o=Re(e)&&Ng(e),s=Fn(e),c=Qi(t,o,n),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!n)&&((ln(e)!=="body"||Ra(s))&&(u=kg(e)),Re(e)?(f=Qi(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):s&&(f.x=Pa(s))),{x:c.left+u.scrollLeft-f.x,y:c.top+u.scrollTop-f.y,width:c.width,height:c.height}}function $g(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var c=[].concat(s.requires||[],s.requiresIfExists||[]);c.forEach(function(u){if(!n.has(u)){var f=e.get(u);f&&o(f)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),i}function Pg(t){var e=$g(t);return uf.reduce(function(n,i){return n.concat(e.filter(function(o){return o.phase===i}))},[])}function Rg(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Bg(t){var e=t.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Fl={placement:"bottom",modifiers:[],strategy:"absolute"};function zl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Fo(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?Fl:o;return function(u,f,p){p===void 0&&(p=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fl,s),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},A=[],_=!1,T={state:h,setOptions:function(M){var F=typeof M=="function"?M(h.options):M;k(),h.options=Object.assign({},s,h.options,F),h.scrollParents={reference:hi(u)?Ar(u):u.contextElement?Ar(u.contextElement):[],popper:Ar(f)};var Y=Pg(Bg([].concat(i,h.options.modifiers)));return h.orderedModifiers=Y.filter(function(m){return m.enabled}),z(),T.update()},forceUpdate:function(){if(!_){var M=h.elements,F=M.reference,Y=M.popper;if(zl(F,Y)){h.rects={reference:Ig(F,Dr(Y),h.options.strategy==="fixed"),popper:Ma(Y)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(Et){return h.modifiersData[Et.name]=Object.assign({},Et.data)});for(var m=0;m<h.orderedModifiers.length;m++){if(h.reset===!0){h.reset=!1,m=-1;continue}var V=h.orderedModifiers[m],B=V.fn,ct=V.options,nt=ct===void 0?{}:ct,Ct=V.name;typeof B=="function"&&(h=B({state:h,options:nt,name:Ct,instance:T})||h)}}}},update:Rg(function(){return new Promise(function(L){T.forceUpdate(),L(h)})}),destroy:function(){k(),_=!0}};if(!zl(u,f))return T;T.setOptions(p).then(function(L){!_&&p.onFirstUpdate&&p.onFirstUpdate(L)});function z(){h.orderedModifiers.forEach(function(L){var M=L.name,F=L.options,Y=F===void 0?{}:F,m=L.effect;if(typeof m=="function"){var V=m({state:h,name:M,instance:T,options:Y}),B=function(){};A.push(V||B)}})}function k(){A.forEach(function(L){return L()}),A=[]}return T}}var Hg=Fo(),Fg=[Ia,Ba,Na,Bo],zg=Fo({defaultModifiers:Fg}),Gg=[Ia,Ba,Na,Bo,Af,bf,wf,mf,yf],zo=Fo({defaultModifiers:Gg});const Ef=Object.freeze(Object.defineProperty({__proto__:null,afterMain:sf,afterRead:nf,afterWrite:lf,applyStyles:Bo,arrow:mf,auto:Ro,basePlacements:er,beforeMain:rf,beforeRead:tf,beforeWrite:af,bottom:Ee,clippingParents:Ju,computeStyles:Na,createPopper:zo,createPopperBase:Hg,createPopperLite:zg,detectOverflow:Yi,end:Vi,eventListeners:Ia,flip:bf,hide:yf,left:le,main:of,modifierPhases:uf,offset:Af,placements:Da,popper:$i,popperGenerator:Fo,popperOffsets:Ba,preventOverflow:wf,read:ef,reference:Zu,right:xe,start:di,top:ce,variationPlacements:la,viewport:Oa,write:cf},Symbol.toStringTag,{value:"Module"}));var jg="tippy-box",xf="tippy-content",Wg="tippy-backdrop",Tf="tippy-arrow",Cf="tippy-svg-arrow",ni={passive:!0,capture:!0},Sf=function(){return document.body};function Rs(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function Ha(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Of(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Gl(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function Vg(t){return t.split(/\s+/).filter(Boolean)}function Pi(t){return[].concat(t)}function jl(t,e){t.indexOf(e)===-1&&t.push(e)}function Ug(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Qg(t){return t.split("-")[0]}function xo(t){return[].slice.call(t)}function Wl(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function wr(){return document.createElement("div")}function Go(t){return["Element","Fragment"].some(function(e){return Ha(t,e)})}function Kg(t){return Ha(t,"NodeList")}function Yg(t){return Ha(t,"MouseEvent")}function qg(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Xg(t){return Go(t)?[t]:Kg(t)?xo(t):Array.isArray(t)?t:xo(document.querySelectorAll(t))}function Bs(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Vl(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Jg(t){var e,n=Pi(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Zg(t,e){var n=e.clientX,i=e.clientY;return t.every(function(o){var s=o.popperRect,c=o.popperState,u=o.props,f=u.interactiveBorder,p=Qg(c.placement),h=c.modifiersData.offset;if(!h)return!0;var A=p==="bottom"?h.top.y:0,_=p==="top"?h.bottom.y:0,T=p==="right"?h.left.x:0,z=p==="left"?h.right.x:0,k=s.top-i+A>f,L=i-s.bottom-_>f,M=s.left-n+T>f,F=n-s.right-z>f;return k||L||M||F})}function Hs(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[i](o,n)})}function Ul(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var rn={isTouch:!1},Ql=0;function tm(){rn.isTouch||(rn.isTouch=!0,window.performance&&document.addEventListener("mousemove",Df))}function Df(){var t=performance.now();t-Ql<20&&(rn.isTouch=!1,document.removeEventListener("mousemove",Df)),Ql=t}function em(){var t=document.activeElement;if(qg(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function nm(){document.addEventListener("touchstart",tm,ni),window.addEventListener("blur",em)}var im=typeof window<"u"&&typeof document<"u",rm=im?!!window.msCrypto:!1,om={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},sm={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Qe=Object.assign({appendTo:Sf,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},om,sm),am=Object.keys(Qe),cm=function(e){var n=Object.keys(e);n.forEach(function(i){Qe[i]=e[i]})};function Lf(t){var e=t.plugins||[],n=e.reduce(function(i,o){var s=o.name,c=o.defaultValue;if(s){var u;i[s]=t[s]!==void 0?t[s]:(u=Qe[s])!=null?u:c}return i},{});return Object.assign({},t,n)}function lm(t,e){var n=e?Object.keys(Lf(Object.assign({},Qe,{plugins:e}))):am,i=n.reduce(function(o,s){var c=(t.getAttribute("data-tippy-"+s)||"").trim();if(!c)return o;if(s==="content")o[s]=c;else try{o[s]=JSON.parse(c)}catch{o[s]=c}return o},{});return i}function Kl(t,e){var n=Object.assign({},e,{content:Of(e.content,[t])},e.ignoreAttributes?{}:lm(t,e.plugins));return n.aria=Object.assign({},Qe.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var um=function(){return"innerHTML"};function da(t,e){t[um()]=e}function Yl(t){var e=wr();return t===!0?e.className=Tf:(e.className=Cf,Go(t)?e.appendChild(t):da(e,t)),e}function ql(t,e){Go(e.content)?(da(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?da(t,e.content):t.textContent=e.content)}function ha(t){var e=t.firstElementChild,n=xo(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(xf)}),arrow:n.find(function(i){return i.classList.contains(Tf)||i.classList.contains(Cf)}),backdrop:n.find(function(i){return i.classList.contains(Wg)})}}function Mf(t){var e=wr(),n=wr();n.className=jg,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=wr();i.className=xf,i.setAttribute("data-state","hidden"),ql(i,t.props),e.appendChild(n),n.appendChild(i),o(t.props,t.props);function o(s,c){var u=ha(e),f=u.box,p=u.content,h=u.arrow;c.theme?f.setAttribute("data-theme",c.theme):f.removeAttribute("data-theme"),typeof c.animation=="string"?f.setAttribute("data-animation",c.animation):f.removeAttribute("data-animation"),c.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof c.maxWidth=="number"?c.maxWidth+"px":c.maxWidth,c.role?f.setAttribute("role",c.role):f.removeAttribute("role"),(s.content!==c.content||s.allowHTML!==c.allowHTML)&&ql(p,t.props),c.arrow?h?s.arrow!==c.arrow&&(f.removeChild(h),f.appendChild(Yl(c.arrow))):f.appendChild(Yl(c.arrow)):h&&f.removeChild(h)}return{popper:e,onUpdate:o}}Mf.$$tippy=!0;var fm=1,to=[],Fs=[];function dm(t,e){var n=Kl(t,Object.assign({},Qe,Lf(Wl(e)))),i,o,s,c=!1,u=!1,f=!1,p=!1,h,A,_,T=[],z=Gl(qe,n.interactiveDebounce),k,L=fm++,M=null,F=Ug(n.plugins),Y={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:L,reference:t,popper:wr(),popperInstance:M,props:n,state:Y,plugins:F,clearDelayTimeouts:gn,setProps:te,setContent:_e,show:Je,hide:On,hideWithInteractivity:jn,enable:De,disable:ne,unmount:y,destroy:x};if(!n.render)return m;var V=n.render(m),B=V.popper,ct=V.onUpdate;B.setAttribute("data-tippy-root",""),B.id="tippy-"+m.id,m.popper=B,t._tippy=m,B._tippy=m;var nt=F.map(function(g){return g.fn(m)}),Ct=t.hasAttribute("aria-expanded");return Wt(),w(),G(),et("onCreate",[m]),n.showOnCreate&&ze(),B.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),B.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&E().addEventListener("mousemove",z)}),m;function Et(){var g=m.props.touch;return Array.isArray(g)?g:[g,0]}function $t(){return Et()[0]==="hold"}function St(){var g;return!!((g=m.props.render)!=null&&g.$$tippy)}function Tt(){return k||t}function E(){var g=Tt().parentNode;return g?Jg(g):document}function W(){return ha(B)}function O(g){return m.state.isMounted&&!m.state.isVisible||rn.isTouch||h&&h.type==="focus"?0:Rs(m.props.delay,g?0:1,Qe.delay)}function G(g){g===void 0&&(g=!1),B.style.pointerEvents=m.props.interactive&&!g?"":"none",B.style.zIndex=""+m.props.zIndex}function et(g,C,P){if(P===void 0&&(P=!0),nt.forEach(function(rt){rt[g]&&rt[g].apply(rt,C)}),P){var st;(st=m.props)[g].apply(st,C)}}function ot(){var g=m.props.aria;if(g.content){var C="aria-"+g.content,P=B.id,st=Pi(m.props.triggerTarget||t);st.forEach(function(rt){var it=rt.getAttribute(C);if(m.state.isVisible)rt.setAttribute(C,it?it+" "+P:P);else{var H=it&&it.replace(P,"").trim();H?rt.setAttribute(C,H):rt.removeAttribute(C)}})}}function w(){if(!(Ct||!m.props.aria.expanded)){var g=Pi(m.props.triggerTarget||t);g.forEach(function(C){m.props.interactive?C.setAttribute("aria-expanded",m.state.isVisible&&C===Tt()?"true":"false"):C.removeAttribute("aria-expanded")})}}function mt(){E().removeEventListener("mousemove",z),to=to.filter(function(g){return g!==z})}function yt(g){if(!(rn.isTouch&&(f||g.type==="mousedown"))){var C=g.composedPath&&g.composedPath()[0]||g.target;if(!(m.props.interactive&&Ul(B,C))){if(Pi(m.props.triggerTarget||t).some(function(P){return Ul(P,C)})){if(rn.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else et("onClickOutside",[m,g]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),u=!0,setTimeout(function(){u=!1}),m.state.isMounted||lt())}}}function X(){f=!0}function dt(){f=!1}function Dt(){var g=E();g.addEventListener("mousedown",yt,!0),g.addEventListener("touchend",yt,ni),g.addEventListener("touchstart",dt,ni),g.addEventListener("touchmove",X,ni)}function lt(){var g=E();g.removeEventListener("mousedown",yt,!0),g.removeEventListener("touchend",yt,ni),g.removeEventListener("touchstart",dt,ni),g.removeEventListener("touchmove",X,ni)}function Ft(g,C){Qt(g,function(){!m.state.isVisible&&B.parentNode&&B.parentNode.contains(B)&&C()})}function Q(g,C){Qt(g,C)}function Qt(g,C){var P=W().box;function st(rt){rt.target===P&&(Hs(P,"remove",st),C())}if(g===0)return C();Hs(P,"remove",A),Hs(P,"add",st),A=st}function ge(g,C,P){P===void 0&&(P=!1);var st=Pi(m.props.triggerTarget||t);st.forEach(function(rt){rt.addEventListener(g,C,P),T.push({node:rt,eventType:g,handler:C,options:P})})}function Wt(){$t()&&(ge("touchstart",Jt,{passive:!0}),ge("touchend",Oe,{passive:!0})),Vg(m.props.trigger).forEach(function(g){if(g!=="manual")switch(ge(g,Jt),g){case"mouseenter":ge("mouseleave",Oe);break;case"focus":ge(rm?"focusout":"blur",Zt);break;case"focusin":ge("focusout",Zt);break}})}function dn(){T.forEach(function(g){var C=g.node,P=g.eventType,st=g.handler,rt=g.options;C.removeEventListener(P,st,rt)}),T=[]}function Jt(g){var C,P=!1;if(!(!m.state.isEnabled||Xe(g)||u)){var st=((C=h)==null?void 0:C.type)==="focus";h=g,k=g.currentTarget,w(),!m.state.isVisible&&Yg(g)&&to.forEach(function(rt){return rt(g)}),g.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||c)&&m.props.hideOnClick!==!1&&m.state.isVisible?P=!0:ze(g),g.type==="click"&&(c=!P),P&&!st&&Ge(g)}}function qe(g){var C=g.target,P=Tt().contains(C)||B.contains(C);if(!(g.type==="mousemove"&&P)){var st=me().concat(B).map(function(rt){var it,H=rt._tippy,U=(it=H.popperInstance)==null?void 0:it.state;return U?{popperRect:rt.getBoundingClientRect(),popperState:U,props:n}:null}).filter(Boolean);Zg(st,g)&&(mt(),Ge(g))}}function Oe(g){var C=Xe(g)||m.props.trigger.indexOf("click")>=0&&c;if(!C){if(m.props.interactive){m.hideWithInteractivity(g);return}Ge(g)}}function Zt(g){m.props.trigger.indexOf("focusin")<0&&g.target!==Tt()||m.props.interactive&&g.relatedTarget&&B.contains(g.relatedTarget)||Ge(g)}function Xe(g){return rn.isTouch?$t()!==g.type.indexOf("touch")>=0:!1}function hn(){pn();var g=m.props,C=g.popperOptions,P=g.placement,st=g.offset,rt=g.getReferenceClientRect,it=g.moveTransition,H=St()?ha(B).arrow:null,U=rt?{getBoundingClientRect:rt,contextElement:rt.contextElement||Tt()}:t,J={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ot){var Mt=Ot.state;if(St()){var jt=W(),Le=jt.box;["placement","reference-hidden","escaped"].forEach(function(Dn){Dn==="placement"?Le.setAttribute("data-placement",Mt.placement):Mt.attributes.popper["data-popper-"+Dn]?Le.setAttribute("data-"+Dn,""):Le.removeAttribute("data-"+Dn)}),Mt.attributes.popper={}}}},q=[{name:"offset",options:{offset:st}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!it}},J];St()&&H&&q.push({name:"arrow",options:{element:H,padding:3}}),q.push.apply(q,(C==null?void 0:C.modifiers)||[]),m.popperInstance=zo(U,B,Object.assign({},C,{placement:P,onFirstUpdate:_,modifiers:q}))}function pn(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function ue(){var g=m.props.appendTo,C,P=Tt();m.props.interactive&&g===Sf||g==="parent"?C=P.parentNode:C=Of(g,[P]),C.contains(B)||C.appendChild(B),m.state.isMounted=!0,hn()}function me(){return xo(B.querySelectorAll("[data-tippy-root]"))}function ze(g){m.clearDelayTimeouts(),g&&et("onTrigger",[m,g]),Dt();var C=O(!0),P=Et(),st=P[0],rt=P[1];rn.isTouch&&st==="hold"&&rt&&(C=rt),C?i=setTimeout(function(){m.show()},C):m.show()}function Ge(g){if(m.clearDelayTimeouts(),et("onUntrigger",[m,g]),!m.state.isVisible){lt();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(g.type)>=0&&c)){var C=O(!1);C?o=setTimeout(function(){m.state.isVisible&&m.hide()},C):s=requestAnimationFrame(function(){m.hide()})}}function De(){m.state.isEnabled=!0}function ne(){m.hide(),m.state.isEnabled=!1}function gn(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(s)}function te(g){if(!m.state.isDestroyed){et("onBeforeUpdate",[m,g]),dn();var C=m.props,P=Kl(t,Object.assign({},C,Wl(g),{ignoreAttributes:!0}));m.props=P,Wt(),C.interactiveDebounce!==P.interactiveDebounce&&(mt(),z=Gl(qe,P.interactiveDebounce)),C.triggerTarget&&!P.triggerTarget?Pi(C.triggerTarget).forEach(function(st){st.removeAttribute("aria-expanded")}):P.triggerTarget&&t.removeAttribute("aria-expanded"),w(),G(),ct&&ct(C,P),m.popperInstance&&(hn(),me().forEach(function(st){requestAnimationFrame(st._tippy.popperInstance.forceUpdate)})),et("onAfterUpdate",[m,g])}}function _e(g){m.setProps({content:g})}function Je(){var g=m.state.isVisible,C=m.state.isDestroyed,P=!m.state.isEnabled,st=rn.isTouch&&!m.props.touch,rt=Rs(m.props.duration,0,Qe.duration);if(!(g||C||P||st)&&!Tt().hasAttribute("disabled")&&(et("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,St()&&(B.style.visibility="visible"),G(),Dt(),m.state.isMounted||(B.style.transition="none"),St()){var it=W(),H=it.box,U=it.content;Bs([H,U],0)}_=function(){var q;if(!(!m.state.isVisible||p)){if(p=!0,B.offsetHeight,B.style.transition=m.props.moveTransition,St()&&m.props.animation){var gt=W(),Ot=gt.box,Mt=gt.content;Bs([Ot,Mt],rt),Vl([Ot,Mt],"visible")}ot(),w(),jl(Fs,m),(q=m.popperInstance)==null||q.forceUpdate(),et("onMount",[m]),m.props.animation&&St()&&Q(rt,function(){m.state.isShown=!0,et("onShown",[m])})}},ue()}}function On(){var g=!m.state.isVisible,C=m.state.isDestroyed,P=!m.state.isEnabled,st=Rs(m.props.duration,1,Qe.duration);if(!(g||C||P)&&(et("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,p=!1,c=!1,St()&&(B.style.visibility="hidden"),mt(),lt(),G(!0),St()){var rt=W(),it=rt.box,H=rt.content;m.props.animation&&(Bs([it,H],st),Vl([it,H],"hidden"))}ot(),w(),m.props.animation?St()&&Ft(st,m.unmount):m.unmount()}}function jn(g){E().addEventListener("mousemove",z),jl(to,z),z(g)}function y(){m.state.isVisible&&m.hide(),m.state.isMounted&&(pn(),me().forEach(function(g){g._tippy.unmount()}),B.parentNode&&B.parentNode.removeChild(B),Fs=Fs.filter(function(g){return g!==m}),m.state.isMounted=!1,et("onHidden",[m]))}function x(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),dn(),delete t._tippy,m.state.isDestroyed=!0,et("onDestroy",[m]))}}function pi(t,e){e===void 0&&(e={});var n=Qe.plugins.concat(e.plugins||[]);nm();var i=Object.assign({},e,{plugins:n}),o=Xg(t),s=o.reduce(function(c,u){var f=u&&dm(u,i);return f&&c.push(f),c},[]);return Go(t)?s[0]:s}pi.defaultProps=Qe;pi.setDefaultProps=cm;pi.currentInput=rn;Object.assign({},Bo,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});pi.setDefaultProps({render:Mf});/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Nn=new Map,zs={set(t,e,n){Nn.has(t)||Nn.set(t,new Map);const i=Nn.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,n)},get(t,e){return Nn.has(t)&&Nn.get(t).get(e)||null},remove(t,e){if(!Nn.has(t))return;const n=Nn.get(t);n.delete(e),n.size===0&&Nn.delete(t)}},hm=1e6,pm=1e3,pa="transitionend",kf=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),gm=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),mm=t=>{do t+=Math.floor(Math.random()*hm);while(document.getElementById(t));return t},_m=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),o=Number.parseFloat(n);return!i&&!o?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*pm)},Nf=t=>{t.dispatchEvent(new Event(pa))},wn=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Rn=t=>wn(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(kf(t)):null,nr=t=>{if(!wn(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const i=t.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return e},Bn=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",If=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?If(t.parentNode):null},To=()=>{},Lr=t=>{t.offsetHeight},$f=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Gs=[],vm=t=>{document.readyState==="loading"?(Gs.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Gs)e()}),Gs.push(t)):t()},Be=()=>document.documentElement.dir==="rtl",Fe=t=>{vm(()=>{const e=$f();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}})},he=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,Pf=(t,e,n=!0)=>{if(!n){he(t);return}const o=_m(e)+5;let s=!1;const c=({target:u})=>{u===e&&(s=!0,e.removeEventListener(pa,c),he(t))};e.addEventListener(pa,c),setTimeout(()=>{s||Nf(e)},o)},Fa=(t,e,n,i)=>{const o=t.length;let s=t.indexOf(e);return s===-1?!n&&i?t[o-1]:t[0]:(s+=n?1:-1,i&&(s=(s+o)%o),t[Math.max(0,Math.min(s,o-1))])},bm=/[^.]*(?=\..*)\.|.*/,ym=/\..*/,Am=/::\d+$/,js={};let Xl=1;const Rf={mouseenter:"mouseover",mouseleave:"mouseout"},wm=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Bf(t,e){return e&&`${e}::${Xl++}`||t.uidEvent||Xl++}function Hf(t){const e=Bf(t);return t.uidEvent=e,js[e]=js[e]||{},js[e]}function Em(t,e){return function n(i){return za(i,{delegateTarget:t}),n.oneOff&&$.off(t,i.type,e),e.apply(t,[i])}}function xm(t,e,n){return function i(o){const s=t.querySelectorAll(e);for(let{target:c}=o;c&&c!==this;c=c.parentNode)for(const u of s)if(u===c)return za(o,{delegateTarget:c}),i.oneOff&&$.off(t,o.type,e,n),n.apply(c,[o])}}function Ff(t,e,n=null){return Object.values(t).find(i=>i.callable===e&&i.delegationSelector===n)}function zf(t,e,n){const i=typeof e=="string",o=i?n:e||n;let s=Gf(t);return wm.has(s)||(s=t),[i,o,s]}function Jl(t,e,n,i,o){if(typeof e!="string"||!t)return;let[s,c,u]=zf(e,n,i);e in Rf&&(c=(z=>function(k){if(!k.relatedTarget||k.relatedTarget!==k.delegateTarget&&!k.delegateTarget.contains(k.relatedTarget))return z.call(this,k)})(c));const f=Hf(t),p=f[u]||(f[u]={}),h=Ff(p,c,s?n:null);if(h){h.oneOff=h.oneOff&&o;return}const A=Bf(c,e.replace(bm,"")),_=s?xm(t,n,c):Em(t,c);_.delegationSelector=s?n:null,_.callable=c,_.oneOff=o,_.uidEvent=A,p[A]=_,t.addEventListener(u,_,s)}function ga(t,e,n,i,o){const s=Ff(e[n],i,o);s&&(t.removeEventListener(n,s,!!o),delete e[n][s.uidEvent])}function Tm(t,e,n,i){const o=e[n]||{};for(const[s,c]of Object.entries(o))s.includes(i)&&ga(t,e,n,c.callable,c.delegationSelector)}function Gf(t){return t=t.replace(ym,""),Rf[t]||t}const $={on(t,e,n,i){Jl(t,e,n,i,!1)},one(t,e,n,i){Jl(t,e,n,i,!0)},off(t,e,n,i){if(typeof e!="string"||!t)return;const[o,s,c]=zf(e,n,i),u=c!==e,f=Hf(t),p=f[c]||{},h=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(p).length)return;ga(t,f,c,s,o?n:null);return}if(h)for(const A of Object.keys(f))Tm(t,f,A,e.slice(1));for(const[A,_]of Object.entries(p)){const T=A.replace(Am,"");(!u||e.includes(T))&&ga(t,f,c,_.callable,_.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const i=$f(),o=Gf(e),s=e!==o;let c=null,u=!0,f=!0,p=!1;s&&i&&(c=i.Event(e,n),i(t).trigger(c),u=!c.isPropagationStopped(),f=!c.isImmediatePropagationStopped(),p=c.isDefaultPrevented());const h=za(new Event(e,{bubbles:u,cancelable:!0}),n);return p&&h.preventDefault(),f&&t.dispatchEvent(h),h.defaultPrevented&&c&&c.preventDefault(),h}};function za(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch{Object.defineProperty(t,n,{configurable:!0,get(){return i}})}return t}function Zl(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Ws(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const En={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Ws(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Ws(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let o=i.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=Zl(t.dataset[i])}return e},getDataAttribute(t,e){return Zl(t.getAttribute(`data-bs-${Ws(e)}`))}};class Mr{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const i=wn(n)?En.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...wn(n)?En.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[i,o]of Object.entries(n)){const s=e[i],c=wn(s)?"element":gm(s);if(!new RegExp(o).test(c))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${c}" but expected type "${o}".`)}}}const Cm="5.3.3";class Ke extends Mr{constructor(e,n){super(),e=Rn(e),e&&(this._element=e,this._config=this._getConfig(n),zs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){zs.remove(this._element,this.constructor.DATA_KEY),$.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){Pf(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return zs.get(Rn(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return Cm}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Vs=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>kf(n)).join(","):null},at={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Bn(n)&&nr(n))},getSelectorFromElement(t){const e=Vs(t);return e&&at.findOne(e)?e:null},getElementFromSelector(t){const e=Vs(t);return e?at.findOne(e):null},getMultipleElementsFromSelector(t){const e=Vs(t);return e?at.find(e):[]}},jo=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;$.on(document,n,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Bn(this))return;const s=at.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(s)[e]()})},Sm="alert",Om="bs.alert",jf=`.${Om}`,Dm=`close${jf}`,Lm=`closed${jf}`,Mm="fade",km="show";class Wo extends Ke{static get NAME(){return Sm}close(){if($.trigger(this._element,Dm).defaultPrevented)return;this._element.classList.remove(km);const n=this._element.classList.contains(Mm);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),$.trigger(this._element,Lm),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Wo.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}jo(Wo,"close");Fe(Wo);const Nm="button",Im="bs.button",$m=`.${Im}`,Pm=".data-api",Rm="active",tu='[data-bs-toggle="button"]',Bm=`click${$m}${Pm}`;class Vo extends Ke{static get NAME(){return Nm}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Rm))}static jQueryInterface(e){return this.each(function(){const n=Vo.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}$.on(document,Bm,tu,t=>{t.preventDefault();const e=t.target.closest(tu);Vo.getOrCreateInstance(e).toggle()});Fe(Vo);const Hm="swipe",ir=".bs.swipe",Fm=`touchstart${ir}`,zm=`touchmove${ir}`,Gm=`touchend${ir}`,jm=`pointerdown${ir}`,Wm=`pointerup${ir}`,Vm="touch",Um="pen",Qm="pointer-event",Km=40,Ym={endCallback:null,leftCallback:null,rightCallback:null},qm={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Co extends Mr{constructor(e,n){super(),this._element=e,!(!e||!Co.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ym}static get DefaultType(){return qm}static get NAME(){return Hm}dispose(){$.off(this._element,ir)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),he(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Km)return;const n=e/this._deltaX;this._deltaX=0,n&&he(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?($.on(this._element,jm,e=>this._start(e)),$.on(this._element,Wm,e=>this._end(e)),this._element.classList.add(Qm)):($.on(this._element,Fm,e=>this._start(e)),$.on(this._element,zm,e=>this._move(e)),$.on(this._element,Gm,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Um||e.pointerType===Vm)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Xm="carousel",Jm="bs.carousel",zn=`.${Jm}`,Wf=".data-api",Zm="ArrowLeft",t_="ArrowRight",e_=500,hr="next",Ni="prev",Ri="left",go="right",n_=`slide${zn}`,Us=`slid${zn}`,i_=`keydown${zn}`,r_=`mouseenter${zn}`,o_=`mouseleave${zn}`,s_=`dragstart${zn}`,a_=`load${zn}${Wf}`,c_=`click${zn}${Wf}`,Vf="carousel",eo="active",l_="slide",u_="carousel-item-end",f_="carousel-item-start",d_="carousel-item-next",h_="carousel-item-prev",Uf=".active",Qf=".carousel-item",p_=Uf+Qf,g_=".carousel-item img",m_=".carousel-indicators",__="[data-bs-slide], [data-bs-slide-to]",v_='[data-bs-ride="carousel"]',b_={[Zm]:go,[t_]:Ri},y_={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},A_={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class kr extends Ke{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=at.findOne(m_,this._element),this._addEventListeners(),this._config.ride===Vf&&this.cycle()}static get Default(){return y_}static get DefaultType(){return A_}static get NAME(){return Xm}next(){this._slide(hr)}nextWhenVisible(){!document.hidden&&nr(this._element)&&this.next()}prev(){this._slide(Ni)}pause(){this._isSliding&&Nf(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){$.one(this._element,Us,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){$.one(this._element,Us,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const o=e>i?hr:Ni;this._slide(o,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&$.on(this._element,i_,e=>this._keydown(e)),this._config.pause==="hover"&&($.on(this._element,r_,()=>this.pause()),$.on(this._element,o_,()=>this._maybeEnableCycle())),this._config.touch&&Co.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of at.find(g_,this._element))$.on(i,s_,o=>o.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Ri)),rightCallback:()=>this._slide(this._directionToOrder(go)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),e_+this._config.interval))}};this._swipeHelper=new Co(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=b_[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=at.findOne(Uf,this._indicatorsElement);n.classList.remove(eo),n.removeAttribute("aria-current");const i=at.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(eo),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const i=this._getActive(),o=e===hr,s=n||Fa(this._getItems(),i,o,this._config.wrap);if(s===i)return;const c=this._getItemIndex(s),u=T=>$.trigger(this._element,T,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:c});if(u(n_).defaultPrevented||!i||!s)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(c),this._activeElement=s;const h=o?f_:u_,A=o?d_:h_;s.classList.add(A),Lr(s),i.classList.add(h),s.classList.add(h);const _=()=>{s.classList.remove(h,A),s.classList.add(eo),i.classList.remove(eo,A,h),this._isSliding=!1,u(Us)};this._queueCallback(_,i,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(l_)}_getActive(){return at.findOne(p_,this._element)}_getItems(){return at.find(Qf,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Be()?e===Ri?Ni:hr:e===Ri?hr:Ni}_orderToDirection(e){return Be()?e===Ni?Ri:go:e===Ni?go:Ri}static jQueryInterface(e){return this.each(function(){const n=kr.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}$.on(document,c_,__,function(t){const e=at.getElementFromSelector(this);if(!e||!e.classList.contains(Vf))return;t.preventDefault();const n=kr.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(En.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});$.on(window,a_,()=>{const t=at.find(v_);for(const e of t)kr.getOrCreateInstance(e)});Fe(kr);const w_="collapse",E_="bs.collapse",Nr=`.${E_}`,x_=".data-api",T_=`show${Nr}`,C_=`shown${Nr}`,S_=`hide${Nr}`,O_=`hidden${Nr}`,D_=`click${Nr}${x_}`,Qs="show",Hi="collapse",no="collapsing",L_="collapsed",M_=`:scope .${Hi} .${Hi}`,k_="collapse-horizontal",N_="width",I_="height",$_=".collapse.show, .collapse.collapsing",ma='[data-bs-toggle="collapse"]',P_={parent:null,toggle:!0},R_={parent:"(null|element)",toggle:"boolean"};class Er extends Ke{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const i=at.find(ma);for(const o of i){const s=at.getSelectorFromElement(o),c=at.find(s).filter(u=>u===this._element);s!==null&&c.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return P_}static get DefaultType(){return R_}static get NAME(){return w_}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren($_).filter(u=>u!==this._element).map(u=>Er.getOrCreateInstance(u,{toggle:!1}))),e.length&&e[0]._isTransitioning||$.trigger(this._element,T_).defaultPrevented)return;for(const u of e)u.hide();const i=this._getDimension();this._element.classList.remove(Hi),this._element.classList.add(no),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(no),this._element.classList.add(Hi,Qs),this._element.style[i]="",$.trigger(this._element,C_)},c=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown()||$.trigger(this._element,S_).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Lr(this._element),this._element.classList.add(no),this._element.classList.remove(Hi,Qs);for(const o of this._triggerArray){const s=at.getElementFromSelector(o);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(no),this._element.classList.add(Hi),$.trigger(this._element,O_)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Qs)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Rn(e.parent),e}_getDimension(){return this._element.classList.contains(k_)?N_:I_}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ma);for(const n of e){const i=at.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(e){const n=at.find(M_,this._config.parent);return at.find(e,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const i of e)i.classList.toggle(L_,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const i=Er.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}$.on(document,D_,ma,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of at.getMultipleElementsFromSelector(this))Er.getOrCreateInstance(e,{toggle:!1}).toggle()});Fe(Er);const eu="dropdown",B_="bs.dropdown",mi=`.${B_}`,Ga=".data-api",H_="Escape",nu="Tab",F_="ArrowUp",iu="ArrowDown",z_=2,G_=`hide${mi}`,j_=`hidden${mi}`,W_=`show${mi}`,V_=`shown${mi}`,Kf=`click${mi}${Ga}`,Yf=`keydown${mi}${Ga}`,U_=`keyup${mi}${Ga}`,Bi="show",Q_="dropup",K_="dropend",Y_="dropstart",q_="dropup-center",X_="dropdown-center",oi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',J_=`${oi}.${Bi}`,mo=".dropdown-menu",Z_=".navbar",tv=".navbar-nav",ev=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",nv=Be()?"top-end":"top-start",iv=Be()?"top-start":"top-end",rv=Be()?"bottom-end":"bottom-start",ov=Be()?"bottom-start":"bottom-end",sv=Be()?"left-start":"right-start",av=Be()?"right-start":"left-start",cv="top",lv="bottom",uv={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},fv={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class an extends Ke{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=at.next(this._element,mo)[0]||at.prev(this._element,mo)[0]||at.findOne(mo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return uv}static get DefaultType(){return fv}static get NAME(){return eu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Bn(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!$.trigger(this._element,W_,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(tv))for(const i of[].concat(...document.body.children))$.on(i,"mouseover",To);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bi),this._element.classList.add(Bi),$.trigger(this._element,V_,e)}}hide(){if(Bn(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!$.trigger(this._element,G_,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))$.off(i,"mouseover",To);this._popper&&this._popper.destroy(),this._menu.classList.remove(Bi),this._element.classList.remove(Bi),this._element.setAttribute("aria-expanded","false"),En.removeDataAttribute(this._menu,"popper"),$.trigger(this._element,j_,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!wn(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${eu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Ef>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:wn(this._config.reference)?e=Rn(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=zo(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Bi)}_getPlacement(){const e=this._parent;if(e.classList.contains(K_))return sv;if(e.classList.contains(Y_))return av;if(e.classList.contains(q_))return cv;if(e.classList.contains(X_))return lv;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Q_)?n?iv:nv:n?ov:rv}_detectNavbar(){return this._element.closest(Z_)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(En.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...he(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const i=at.find(ev,this._menu).filter(o=>nr(o));i.length&&Fa(i,n,e===iu,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=an.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===z_||e.type==="keyup"&&e.key!==nu)return;const n=at.find(J_);for(const i of n){const o=an.getInstance(i);if(!o||o._config.autoClose===!1)continue;const s=e.composedPath(),c=s.includes(o._menu);if(s.includes(o._element)||o._config.autoClose==="inside"&&!c||o._config.autoClose==="outside"&&c||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===nu||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const u={relatedTarget:o._element};e.type==="click"&&(u.clickEvent=e),o._completeHide(u)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),i=e.key===H_,o=[F_,iu].includes(e.key);if(!o&&!i||n&&!i)return;e.preventDefault();const s=this.matches(oi)?this:at.prev(this,oi)[0]||at.next(this,oi)[0]||at.findOne(oi,e.delegateTarget.parentNode),c=an.getOrCreateInstance(s);if(o){e.stopPropagation(),c.show(),c._selectMenuItem(e);return}c._isShown()&&(e.stopPropagation(),c.hide(),s.focus())}}$.on(document,Yf,oi,an.dataApiKeydownHandler);$.on(document,Yf,mo,an.dataApiKeydownHandler);$.on(document,Kf,an.clearMenus);$.on(document,U_,an.clearMenus);$.on(document,Kf,oi,function(t){t.preventDefault(),an.getOrCreateInstance(this).toggle()});Fe(an);const qf="backdrop",dv="fade",ru="show",ou=`mousedown.bs.${qf}`,hv={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},pv={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Xf extends Mr{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return hv}static get DefaultType(){return pv}static get NAME(){return qf}show(e){if(!this._config.isVisible){he(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Lr(n),n.classList.add(ru),this._emulateAnimation(()=>{he(e)})}hide(e){if(!this._config.isVisible){he(e);return}this._getElement().classList.remove(ru),this._emulateAnimation(()=>{this.dispose(),he(e)})}dispose(){this._isAppended&&($.off(this._element,ou),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(dv),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Rn(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),$.on(e,ou,()=>{he(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Pf(e,this._getElement(),this._config.isAnimated)}}const gv="focustrap",mv="bs.focustrap",So=`.${mv}`,_v=`focusin${So}`,vv=`keydown.tab${So}`,bv="Tab",yv="forward",su="backward",Av={autofocus:!0,trapElement:null},wv={autofocus:"boolean",trapElement:"element"};class Jf extends Mr{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Av}static get DefaultType(){return wv}static get NAME(){return gv}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),$.off(document,So),$.on(document,_v,e=>this._handleFocusin(e)),$.on(document,vv,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,$.off(document,So))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const i=at.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===su?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===bv&&(this._lastTabNavDirection=e.shiftKey?su:yv)}}const au=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",cu=".sticky-top",io="padding-right",lu="margin-right";class _a{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,io,n=>n+e),this._setElementAttributes(au,io,n=>n+e),this._setElementAttributes(cu,lu,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,io),this._resetElementAttributes(au,io),this._resetElementAttributes(cu,lu)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,i){const o=this.getWidth(),s=c=>{if(c!==this._element&&window.innerWidth>c.clientWidth+o)return;this._saveInitialAttribute(c,n);const u=window.getComputedStyle(c).getPropertyValue(n);c.style.setProperty(n,`${i(Number.parseFloat(u))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&En.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){const i=o=>{const s=En.getDataAttribute(o,n);if(s===null){o.style.removeProperty(n);return}En.removeDataAttribute(o,n),o.style.setProperty(n,s)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,n){if(wn(e)){n(e);return}for(const i of at.find(e,this._element))n(i)}}const Ev="modal",xv="bs.modal",He=`.${xv}`,Tv=".data-api",Cv="Escape",Sv=`hide${He}`,Ov=`hidePrevented${He}`,Zf=`hidden${He}`,td=`show${He}`,Dv=`shown${He}`,Lv=`resize${He}`,Mv=`click.dismiss${He}`,kv=`mousedown.dismiss${He}`,Nv=`keydown.dismiss${He}`,Iv=`click${He}${Tv}`,uu="modal-open",$v="fade",fu="show",Ks="modal-static",Pv=".modal.show",Rv=".modal-dialog",Bv=".modal-body",Hv='[data-bs-toggle="modal"]',Fv={backdrop:!0,focus:!0,keyboard:!0},zv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class qi extends Ke{constructor(e,n){super(e,n),this._dialog=at.findOne(Rv,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _a,this._addEventListeners()}static get Default(){return Fv}static get DefaultType(){return zv}static get NAME(){return Ev}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||$.trigger(this._element,td,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(uu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||$.trigger(this._element,Sv).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(fu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){$.off(window,He),$.off(this._dialog,He),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Xf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Jf({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=at.findOne(Bv,this._dialog);n&&(n.scrollTop=0),Lr(this._element),this._element.classList.add(fu);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,$.trigger(this._element,Dv,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){$.on(this._element,Nv,e=>{if(e.key===Cv){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),$.on(window,Lv,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),$.on(this._element,kv,e=>{$.one(this._element,Mv,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(uu),this._resetAdjustments(),this._scrollBar.reset(),$.trigger(this._element,Zf)})}_isAnimated(){return this._element.classList.contains($v)}_triggerBackdropTransition(){if($.trigger(this._element,Ov).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Ks)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Ks),this._queueCallback(()=>{this._element.classList.remove(Ks),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!e){const o=Be()?"paddingLeft":"paddingRight";this._element.style[o]=`${n}px`}if(!i&&e){const o=Be()?"paddingRight":"paddingLeft";this._element.style[o]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const i=qi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](n)}})}}$.on(document,Iv,Hv,function(t){const e=at.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),$.one(e,td,o=>{o.defaultPrevented||$.one(e,Zf,()=>{nr(this)&&this.focus()})});const n=at.findOne(Pv);n&&qi.getInstance(n).hide(),qi.getOrCreateInstance(e).toggle(this)});jo(qi);Fe(qi);const Gv="offcanvas",jv="bs.offcanvas",Sn=`.${jv}`,ed=".data-api",Wv=`load${Sn}${ed}`,Vv="Escape",du="show",hu="showing",pu="hiding",Uv="offcanvas-backdrop",nd=".offcanvas.show",Qv=`show${Sn}`,Kv=`shown${Sn}`,Yv=`hide${Sn}`,gu=`hidePrevented${Sn}`,id=`hidden${Sn}`,qv=`resize${Sn}`,Xv=`click${Sn}${ed}`,Jv=`keydown.dismiss${Sn}`,Zv='[data-bs-toggle="offcanvas"]',tb={backdrop:!0,keyboard:!0,scroll:!1},eb={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Hn extends Ke{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return tb}static get DefaultType(){return eb}static get NAME(){return Gv}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||$.trigger(this._element,Qv,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new _a().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(hu);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(du),this._element.classList.remove(hu),$.trigger(this._element,Kv,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||$.trigger(this._element,Yv).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(pu),this._backdrop.hide();const n=()=>{this._element.classList.remove(du,pu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _a().reset(),$.trigger(this._element,id)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){$.trigger(this._element,gu);return}this.hide()},n=!!this._config.backdrop;return new Xf({className:Uv,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new Jf({trapElement:this._element})}_addEventListeners(){$.on(this._element,Jv,e=>{if(e.key===Vv){if(this._config.keyboard){this.hide();return}$.trigger(this._element,gu)}})}static jQueryInterface(e){return this.each(function(){const n=Hn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}$.on(document,Xv,Zv,function(t){const e=at.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Bn(this))return;$.one(e,id,()=>{nr(this)&&this.focus()});const n=at.findOne(nd);n&&n!==e&&Hn.getInstance(n).hide(),Hn.getOrCreateInstance(e).toggle(this)});$.on(window,Wv,()=>{for(const t of at.find(nd))Hn.getOrCreateInstance(t).show()});$.on(window,qv,()=>{for(const t of at.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Hn.getOrCreateInstance(t).hide()});jo(Hn);Fe(Hn);const nb=/^aria-[\w-]*$/i,rd={"*":["class","dir","id","lang","role",nb],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ib=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),rb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ob=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?ib.has(n)?!!rb.test(t.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function sb(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const o=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...o.body.querySelectorAll("*"));for(const c of s){const u=c.nodeName.toLowerCase();if(!Object.keys(e).includes(u)){c.remove();continue}const f=[].concat(...c.attributes),p=[].concat(e["*"]||[],e[u]||[]);for(const h of f)ob(h,p)||c.removeAttribute(h.nodeName)}return o.body.innerHTML}const ab="TemplateFactory",cb={allowList:rd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},lb={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ub={entry:"(string|element|function|null)",selector:"(string|element)"};class fb extends Mr{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return cb}static get DefaultType(){return lb}static get NAME(){return ab}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,s]of Object.entries(this._config.content))this._setContent(e,s,o);const n=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,i]of Object.entries(e))super._typeCheckConfig({selector:n,entry:i},ub)}_setContent(e,n,i){const o=at.findOne(i,e);if(o){if(n=this._resolvePossibleFunction(n),!n){o.remove();return}if(wn(n)){this._putElementInTemplate(Rn(n),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(n);return}o.textContent=n}}_maybeSanitize(e){return this._config.sanitize?sb(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return he(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const db="tooltip",hb=new Set(["sanitize","allowList","sanitizeFn"]),Ys="fade",pb="modal",ro="show",gb=".tooltip-inner",mu=`.${pb}`,_u="hide.bs.modal",pr="hover",qs="focus",mb="click",_b="manual",vb="hide",bb="hidden",yb="show",Ab="shown",wb="inserted",Eb="click",xb="focusin",Tb="focusout",Cb="mouseenter",Sb="mouseleave",Ob={AUTO:"auto",TOP:"top",RIGHT:Be()?"left":"right",BOTTOM:"bottom",LEFT:Be()?"right":"left"},Db={allowList:rd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Lb={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class rr extends Ke{constructor(e,n){if(typeof Ef>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Db}static get DefaultType(){return Lb}static get NAME(){return db}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),$.off(this._element.closest(mu),_u,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=$.trigger(this._element,this.constructor.eventName(yb)),i=(If(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(o),$.trigger(this._element,this.constructor.eventName(wb))),this._popper=this._createPopper(o),o.classList.add(ro),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))$.on(u,"mouseover",To);const c=()=>{$.trigger(this._element,this.constructor.eventName(Ab)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(c,this.tip,this._isAnimated())}hide(){if(!this._isShown()||$.trigger(this._element,this.constructor.eventName(vb)).defaultPrevented)return;if(this._getTipElement().classList.remove(ro),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))$.off(o,"mouseover",To);this._activeTrigger[mb]=!1,this._activeTrigger[qs]=!1,this._activeTrigger[pr]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),$.trigger(this._element,this.constructor.eventName(bb)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Ys,ro),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=mm(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(Ys),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new fb({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[gb]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ys)}_isShown(){return this.tip&&this.tip.classList.contains(ro)}_createPopper(e){const n=he(this._config.placement,[this,e,this._element]),i=Ob[n.toUpperCase()];return zo(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return he(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...he(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")$.on(this._element,this.constructor.eventName(Eb),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==_b){const i=n===pr?this.constructor.eventName(Cb):this.constructor.eventName(xb),o=n===pr?this.constructor.eventName(Sb):this.constructor.eventName(Tb);$.on(this._element,i,this._config.selector,s=>{const c=this._initializeOnDelegatedTarget(s);c._activeTrigger[s.type==="focusin"?qs:pr]=!0,c._enter()}),$.on(this._element,o,this._config.selector,s=>{const c=this._initializeOnDelegatedTarget(s);c._activeTrigger[s.type==="focusout"?qs:pr]=c._element.contains(s.relatedTarget),c._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},$.on(this._element.closest(mu),_u,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=En.getDataAttributes(this._element);for(const i of Object.keys(n))hb.has(i)&&delete n[i];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Rn(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(e[n]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=rr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Fe(rr);const Mb="popover",kb=".popover-header",Nb=".popover-body",Ib={...rr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$b={...rr.DefaultType,content:"(null|string|element|function)"};class Uo extends rr{static get Default(){return Ib}static get DefaultType(){return $b}static get NAME(){return Mb}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[kb]:this._getTitle(),[Nb]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Uo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Fe(Uo);const Pb="scrollspy",Rb="bs.scrollspy",ja=`.${Rb}`,Bb=".data-api",Hb=`activate${ja}`,vu=`click${ja}`,Fb=`load${ja}${Bb}`,zb="dropdown-item",Ii="active",Gb='[data-bs-spy="scroll"]',Xs="[href]",jb=".nav, .list-group",bu=".nav-link",Wb=".nav-item",Vb=".list-group-item",Ub=`${bu}, ${Wb} > ${bu}, ${Vb}`,Qb=".dropdown",Kb=".dropdown-toggle",Yb={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},qb={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Qo extends Ke{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Yb}static get DefaultType(){return qb}static get NAME(){return Pb}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Rn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&($.off(this._config.target,vu),$.on(this._config.target,vu,Xs,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const i=this._rootElement||window,o=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:o,behavior:"smooth"});return}i.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=c=>this._targetLinks.get(`#${c.target.id}`),i=c=>{this._previousScrollData.visibleEntryTop=c.target.offsetTop,this._process(n(c))},o=(this._rootElement||document.documentElement).scrollTop,s=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const c of e){if(!c.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(c));continue}const u=c.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&u){if(i(c),!o)return;continue}!s&&!u&&i(c)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=at.find(Xs,this._config.target);for(const n of e){if(!n.hash||Bn(n))continue;const i=at.findOne(decodeURI(n.hash),this._element);nr(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ii),this._activateParents(e),$.trigger(this._element,Hb,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(zb)){at.findOne(Kb,e.closest(Qb)).classList.add(Ii);return}for(const n of at.parents(e,jb))for(const i of at.prev(n,Ub))i.classList.add(Ii)}_clearActiveClass(e){e.classList.remove(Ii);const n=at.find(`${Xs}.${Ii}`,e);for(const i of n)i.classList.remove(Ii)}static jQueryInterface(e){return this.each(function(){const n=Qo.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}$.on(window,Fb,()=>{for(const t of at.find(Gb))Qo.getOrCreateInstance(t)});Fe(Qo);const Xb="tab",Jb="bs.tab",_i=`.${Jb}`,Zb=`hide${_i}`,ty=`hidden${_i}`,ey=`show${_i}`,ny=`shown${_i}`,iy=`click${_i}`,ry=`keydown${_i}`,oy=`load${_i}`,sy="ArrowLeft",yu="ArrowRight",ay="ArrowUp",Au="ArrowDown",Js="Home",wu="End",si="active",Eu="fade",Zs="show",cy="dropdown",od=".dropdown-toggle",ly=".dropdown-menu",ta=`:not(${od})`,uy='.list-group, .nav, [role="tablist"]',fy=".nav-item, .list-group-item",dy=`.nav-link${ta}, .list-group-item${ta}, [role="tab"]${ta}`,sd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ea=`${dy}, ${sd}`,hy=`.${si}[data-bs-toggle="tab"], .${si}[data-bs-toggle="pill"], .${si}[data-bs-toggle="list"]`;class Xi extends Ke{constructor(e){super(e),this._parent=this._element.closest(uy),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),$.on(this._element,ry,n=>this._keydown(n)))}static get NAME(){return Xb}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),i=n?$.trigger(n,Zb,{relatedTarget:e}):null;$.trigger(e,ey,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(si),this._activate(at.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Zs);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),$.trigger(e,ny,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(Eu))}_deactivate(e,n){if(!e)return;e.classList.remove(si),e.blur(),this._deactivate(at.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Zs);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),$.trigger(e,ty,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(Eu))}_keydown(e){if(![sy,yu,ay,Au,Js,wu].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(o=>!Bn(o));let i;if([Js,wu].includes(e.key))i=n[e.key===Js?0:n.length-1];else{const o=[yu,Au].includes(e.key);i=Fa(n,e.target,o,!0)}i&&(i.focus({preventScroll:!0}),Xi.getOrCreateInstance(i).show())}_getChildren(){return at.find(ea,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",n),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=at.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const i=this._getOuterElement(e);if(!i.classList.contains(cy))return;const o=(s,c)=>{const u=at.findOne(s,i);u&&u.classList.toggle(c,n)};o(od,si),o(ly,Zs),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,i){e.hasAttribute(n)||e.setAttribute(n,i)}_elemIsActive(e){return e.classList.contains(si)}_getInnerElement(e){return e.matches(ea)?e:at.findOne(ea,e)}_getOuterElement(e){return e.closest(fy)||e}static jQueryInterface(e){return this.each(function(){const n=Xi.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}$.on(document,iy,sd,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Bn(this)&&Xi.getOrCreateInstance(this).show()});$.on(window,oy,()=>{for(const t of at.find(hy))Xi.getOrCreateInstance(t)});Fe(Xi);const py="toast",gy="bs.toast",Gn=`.${gy}`,my=`mouseover${Gn}`,_y=`mouseout${Gn}`,vy=`focusin${Gn}`,by=`focusout${Gn}`,yy=`hide${Gn}`,Ay=`hidden${Gn}`,wy=`show${Gn}`,Ey=`shown${Gn}`,xy="fade",xu="hide",oo="show",so="showing",Ty={animation:"boolean",autohide:"boolean",delay:"number"},Cy={animation:!0,autohide:!0,delay:5e3};class Ko extends Ke{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Cy}static get DefaultType(){return Ty}static get NAME(){return py}show(){if($.trigger(this._element,wy).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(xy);const n=()=>{this._element.classList.remove(so),$.trigger(this._element,Ey),this._maybeScheduleHide()};this._element.classList.remove(xu),Lr(this._element),this._element.classList.add(oo,so),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||$.trigger(this._element,yy).defaultPrevented)return;const n=()=>{this._element.classList.add(xu),this._element.classList.remove(so,oo),$.trigger(this._element,Ay)};this._element.classList.add(so),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(oo),super.dispose()}isShown(){return this._element.classList.contains(oo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){$.on(this._element,my,e=>this._onInteraction(e,!0)),$.on(this._element,_y,e=>this._onInteraction(e,!1)),$.on(this._element,vy,e=>this._onInteraction(e,!0)),$.on(this._element,by,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Ko.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}jo(Ko);Fe(Ko);const na=new Map;function _r(t){var n;na.forEach(i=>{i.forEach(o=>o.destroy())}),na.clear();const e=Se();e.innerHTML=`
    <div class="container mt-4">
      <h2 class="text-center mb-4">状态</h2>

      <div class="row">
        <!-- 属性栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${t.name} 的属性</h4>
            </div>
            <div class="card-body">
              <div id="attribute-bar" class="list-group list-group-flush">
                ${(()=>{const i=t.getAbility(),o=t.getExtraAbility();return Object.entries(i).map(([s,c])=>{const u=o[s]||0;let f="";return u>0?f=`<span class="badge bg-success ms-2">+${u}</span>`:u<0&&(f=`<span class="badge bg-danger ms-2">${u}</span>`),`
                      <div class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-bold text-capitalize">${s}</span>
                        <div>
                          <span class="text-muted">${c}</span>
                          ${f}
                        </div>
                      </div>
                    `}).join("")})()}
              </div>
            </div>
          </div>
        </div>

        <!-- 行动列表区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${t.name} 的行动列表</h4>
            </div>
            <div class="card-body">
              <!-- Tab 导航 -->
              <ul class="nav nav-underline mb-3" id="actionTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="extra-tab" data-bs-toggle="tab" data-bs-target="#extra-actions" type="button" role="tab" aria-controls="extra-actions" aria-selected="true">
                    装备额外行动
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="base-tab" data-bs-toggle="tab" data-bs-target="#base-actions" type="button" role="tab" aria-controls="base-actions" aria-selected="false">
                    基础行动
                  </button>
                </li>
              </ul>
              <!-- Tab 内容 -->
              <div class="tab-content" id="actionTabContent">
                <!-- 装备额外行动列表（默认激活） -->
                <div class="tab-pane fade show active" id="extra-actions" role="tabpanel" aria-labelledby="extra-tab">
                  <ul class="list-group">
                    ${t.getExtraActions().sort((i,o)=>Ut[o.actionType].rarity-Ut[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Ut[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Dl(t,Ut[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Ut[i.actionType].name}</span>
                            <span class="badge bg-${R[Ut[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
                <!-- 基础行动列表 -->
                <div class="tab-pane fade" id="base-actions" role="tabpanel" aria-labelledby="base-tab">
                  <ul class="list-group">
                    ${t.actions.sort((i,o)=>Ut[o.actionType].rarity-Ut[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Ut[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Dl(t,Ut[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Ut[i.actionType].name}</span>
                            <span class="badge bg-${R[Ut[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 装备栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的装备</h4>
            </div>
            <div class="card-body">
              <div id="equipment-bar" class="list-group">
                ${Object.entries(t.equipments).map(([i,o])=>`
                  <div id="equipment-slot-${i}" class="list-group-item">
                    <div class="d-flex align-items-center gap-2">
                      <span class="fw-bold">${i}</span>
                      ${o?`<span id="equipment-slot-${i}" class="badge bg-${R[o.rarity]}">${o.name}</span>`:'<span class="badge bg-secondary">空</span>'}
                    </div>
                  </div>
                `).join("")}
              </div>
            </div>
          </div>
        </div>

      <!-- 背包区域 -->
      <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
          <div class="card-header bg-secondary text-white">
            <h4 class="card-title mb-0">${t.name} 的背包</h4>
          </div>
          <div class="card-body">
            <!-- Tab 导航 -->
            <ul class="nav nav-underline mb-3" id="packTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab" aria-controls="all" aria-selected="true">
                  全部
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="equip-tab" data-bs-toggle="tab" data-bs-target="#equip" type="button" role="tab" aria-controls="equip" aria-selected="false">
                  装备
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="consumable-tab" data-bs-toggle="tab" data-bs-target="#consumable" type="button" role="tab" aria-controls="consumable" aria-selected="false">
                  消耗品
                </button>
              </li>
            </ul>
            <!-- Tab 内容 -->
            <div class="tab-content" id="packTabContent">
              <!-- 全部标签 -->
              <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                <div id="pack-all" class="d-flex flex-wrap gap-2">
                  ${t.pack.length>0?t.pack.sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${R[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Ps(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">背包为空</p>'}
                </div>
              </div>
              <!-- 装备标签 -->
              <div class="tab-pane fade" id="equip" role="tabpanel" aria-labelledby="equip-tab">
                <div id="pack-equip" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof on).length>0?t.pack.filter(i=>i instanceof on).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${R[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Ps(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有装备</p>'}
                </div>
              </div>
              <!-- 道具标签 -->
              <div class="tab-pane fade" id="consumable" role="tabpanel" aria-labelledby="consumable-tab">
                <div id="pack-consumable" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof Ue).length>0?t.pack.filter(i=>i instanceof Ue).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${R[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Ps(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有道具</p>'}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 宠物区域 -->
      <div class="row mb-4">
        <div class="col">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的宠物</h4>
            </div>
            <div class="card-body">
              <div id="pet" class="list-group">
                ${t.capturedMonster.length>0?t.capturedMonster.map(i=>`
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                          <span class="fw-bold">${i.name}</span>
                          <span class="text-muted">Lv. ${i.level}</span>
                        </div>
                      `).join(""):'<p class="text-muted">暂无宠物</p>'}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 返回主菜单按钮 -->
      <div class="text-center">
        <button id="back-btn" class="btn btn-primary">返回主菜单</button>
      </div>
    </div>
  `,(n=document.getElementById("back-btn"))==null||n.addEventListener("click",()=>{Cn(t)});for(const i of t.pack){const o=Nl(i),s=document.querySelectorAll(`[id="use-btn${i.uuid}"]`),c=[];na.set(i.uuid,c),s.forEach(u=>{const f=pi(u,{theme:"game",content:`
          ${o}
          <button id="use-btn${i.uuid}" class="btn btn-success">
            ${i instanceof Ue?"使用":"装备"}
          </button>
          <button id="discard-btn${i.uuid}" class="btn btn-danger">
            丢弃
          </button>
        `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(p){const h=p.popper.querySelector(`#use-btn${i.uuid}`);h&&h.addEventListener("click",_=>{_.stopPropagation(),p.hide(),i instanceof Ue?(i.useItem(t),t.addLog(`${t.name} 使用了 ${i.name}`),yn(t),_r(t)):i instanceof on&&(t.wearEquipment(i),yn(t),_r(t))});const A=p.popper.querySelector(`#discard-btn${i.uuid}`);A&&A.addEventListener("click",_=>{_.stopPropagation(),p.hide(),t.discardItem(i),yn(t),_r(t)})}});c.push(f)})}for(const[i,o]of Object.entries(t.equipments)){if(!o)continue;const s=Nl(o),c=document.getElementById(`equipment-slot-${i}`);c&&pi(c,{theme:"game",content:`
        ${s}
        <button id="remove-btn${o.uuid}" class="btn btn-primary">
          卸下
        </button>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(u){const f=u.popper.querySelector(`#remove-btn${o.uuid}`);f&&f.addEventListener("click",p=>{p.stopPropagation(),u.hide(),t.removeEquipment(i),yn(t),_r(t)})}})}document.querySelectorAll('[data-bs-toggle="popover"]').forEach(i=>{new Uo(i)})}var Pe=(t=>(t.NormalMonster="NormalMonster",t.EliteMonster="EliteMonster",t.Boss="Boss",t.Treasure="Treasure",t.Camp="Camp",t.BackHome="BackHome",t.Rest="Rest",t.Event="Event",t.ToOtherRegion="ToOtherRegion",t))(Pe||{});const ad={name:"森林1-1",id:"forest1_1",description:"森林1-1",type:Pe.NormalMonster,position:{x:100,y:100},toNodeList:[],monsterList:[{monster:Xt.Slime,maxLevel:1,minLevel:1,weight:1}]},Tu={name:"森林入口",id:"forest0_1",description:"森林入口",type:Pe.Camp,position:{x:200,y:200},toNodeList:[ad]},cd={name:"森林",id:"forest",description:"森林",isOpen:!1,startNode:Tu,nodeList:[Tu,ad]},ld={name:"遗迹出口",id:"ruin3_2",description:"外面是一眼望不到头的森林，你可以闻到森林中传来的泥土和青草的气息",type:Pe.ToOtherRegion,position:{x:450,y:900},toNodeList:[],region:cd},Wa={name:"靠近出口的房间",id:"ruin2_1",description:"一只强壮且凶恶的哥布林正镇守在这里",type:Pe.Boss,position:{x:600,y:700},toNodeList:[ld],bossStageList:[{monster:Xt.FrightenedGoblinLeader,maxLevel:1,minLevel:1,maxIndividualStrength:1.1,minIndividualStrength:1},{monster:Xt.AngryGoblinLeader,maxLevel:1,minLevel:1,maxIndividualStrength:1.1,minIndividualStrength:1}]},ud={name:"哥布林的藏宝室",id:"ruin2_2",description:"哥布林把掠夺来的宝物藏在了这里",type:Pe.Treasure,position:{x:700,y:550},toNodeList:[Wa],firstTimeTreasureList:[{item:kt.SilverChest,minLevel:1,maxLevel:1,weight:1}],repeatableTreasureList:[]},fd={name:"遗迹走廊",id:"ruin1_1",description:"这个遗迹似乎已经成为了哥布林的巢穴",type:Pe.NormalMonster,position:{x:500,y:550},toNodeList:[Wa,ud],monsterList:[{monster:Xt.Goblin,maxLevel:1,minLevel:1,weight:1}]},Cu={name:"遗迹深处的房间",id:"ruin0_1",description:"遗迹深处的房间，被厚厚的石门封锁着。正中间正是你躺了一百年的石棺",type:Pe.Camp,position:{x:300,y:450},toNodeList:[fd]},Sy={name:"遗迹",id:"ruin",description:"遗迹",isOpen:!0,startNode:Cu,nodeList:[Cu,fd,Wa,ud,ld]},Oy={forest:cd,ruin:Sy};function Pn(t){return Oy[t]}function Dy(t){var i;const e=Se(),n=t.unlockedRegionIdList.map(o=>Pn(o));e.innerHTML=`
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        ${n.map(o=>`
            <div class="col-12 col-md-4">
              <button id="${o.id}-btn" class="btn btn-primary w-100 py-3">
                ${o.name}
              </button>
            </div>
          `).join("")}
        <div class="col-12 col-md-4">
          <button id="return-btn" class="btn btn-success w-100 py-3">返回主菜单</button>
        </div>
      </div>
    </div>
    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,n.forEach(o=>{var s;(s=document.getElementById(`${o.id}-btn`))==null||s.addEventListener("click",()=>{Pn(o.id).isOpen?(t.goToRegion(o.id),Cn(t)):alert("前面的区域以后再来探索吧？")})}),(i=document.getElementById("return-btn"))==null||i.addEventListener("click",()=>{Cn(t)})}const Ly="/isekai114514/assets/ruin-BbvlXD7H.png";var My={value:()=>{}};function Va(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new _o(n)}function _o(t){this._=t}function ky(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}_o.prototype=Va.prototype={constructor:_o,on:function(t,e){var n=this._,i=ky(t+"",n),o,s=-1,c=i.length;if(arguments.length<2){for(;++s<c;)if((o=(t=i[s]).type)&&(o=Ny(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<c;)if(o=(t=i[s]).type)n[o]=Su(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Su(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _o(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,o=s.length;i<o;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,s=i.length;o<s;++o)i[o].value.apply(e,n)}};function Ny(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Su(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=My,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var va="http://www.w3.org/1999/xhtml";const Ou={svg:"http://www.w3.org/2000/svg",xhtml:va,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ou.hasOwnProperty(e)?{space:Ou[e],local:t}:t}function Iy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===va&&e.documentElement.namespaceURI===va?e.createElement(t):e.createElementNS(n,t)}}function $y(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dd(t){var e=Yo(t);return(e.local?$y:Iy)(e)}function Py(){}function Ua(t){return t==null?Py:function(){return this.querySelector(t)}}function Ry(t){typeof t!="function"&&(t=Ua(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],c=s.length,u=i[o]=new Array(c),f,p,h=0;h<c;++h)(f=s[h])&&(p=t.call(f,f.__data__,h,s))&&("__data__"in f&&(p.__data__=f.__data__),u[h]=p);return new Ce(i,this._parents)}function By(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Hy(){return[]}function hd(t){return t==null?Hy:function(){return this.querySelectorAll(t)}}function Fy(t){return function(){return By(t.apply(this,arguments))}}function zy(t){typeof t=="function"?t=Fy(t):t=hd(t);for(var e=this._groups,n=e.length,i=[],o=[],s=0;s<n;++s)for(var c=e[s],u=c.length,f,p=0;p<u;++p)(f=c[p])&&(i.push(t.call(f,f.__data__,p,c)),o.push(f));return new Ce(i,o)}function pd(t){return function(){return this.matches(t)}}function gd(t){return function(e){return e.matches(t)}}var Gy=Array.prototype.find;function jy(t){return function(){return Gy.call(this.children,t)}}function Wy(){return this.firstElementChild}function Vy(t){return this.select(t==null?Wy:jy(typeof t=="function"?t:gd(t)))}var Uy=Array.prototype.filter;function Qy(){return Array.from(this.children)}function Ky(t){return function(){return Uy.call(this.children,t)}}function Yy(t){return this.selectAll(t==null?Qy:Ky(typeof t=="function"?t:gd(t)))}function qy(t){typeof t!="function"&&(t=pd(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],c=s.length,u=i[o]=[],f,p=0;p<c;++p)(f=s[p])&&t.call(f,f.__data__,p,s)&&u.push(f);return new Ce(i,this._parents)}function md(t){return new Array(t.length)}function Xy(){return new Ce(this._enter||this._groups.map(md),this._parents)}function Oo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Oo.prototype={constructor:Oo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Jy(t){return function(){return t}}function Zy(t,e,n,i,o,s){for(var c=0,u,f=e.length,p=s.length;c<p;++c)(u=e[c])?(u.__data__=s[c],i[c]=u):n[c]=new Oo(t,s[c]);for(;c<f;++c)(u=e[c])&&(o[c]=u)}function tA(t,e,n,i,o,s,c){var u,f,p=new Map,h=e.length,A=s.length,_=new Array(h),T;for(u=0;u<h;++u)(f=e[u])&&(_[u]=T=c.call(f,f.__data__,u,e)+"",p.has(T)?o[u]=f:p.set(T,f));for(u=0;u<A;++u)T=c.call(t,s[u],u,s)+"",(f=p.get(T))?(i[u]=f,f.__data__=s[u],p.delete(T)):n[u]=new Oo(t,s[u]);for(u=0;u<h;++u)(f=e[u])&&p.get(_[u])===f&&(o[u]=f)}function eA(t){return t.__data__}function nA(t,e){if(!arguments.length)return Array.from(this,eA);var n=e?tA:Zy,i=this._parents,o=this._groups;typeof t!="function"&&(t=Jy(t));for(var s=o.length,c=new Array(s),u=new Array(s),f=new Array(s),p=0;p<s;++p){var h=i[p],A=o[p],_=A.length,T=iA(t.call(h,h&&h.__data__,p,i)),z=T.length,k=u[p]=new Array(z),L=c[p]=new Array(z),M=f[p]=new Array(_);n(h,A,k,L,M,T,e);for(var F=0,Y=0,m,V;F<z;++F)if(m=k[F]){for(F>=Y&&(Y=F+1);!(V=L[Y])&&++Y<z;);m._next=V||null}}return c=new Ce(c,i),c._enter=u,c._exit=f,c}function iA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rA(){return new Ce(this._exit||this._groups.map(md),this._parents)}function oA(t,e,n){var i=this.enter(),o=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function sA(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,s=i.length,c=Math.min(o,s),u=new Array(o),f=0;f<c;++f)for(var p=n[f],h=i[f],A=p.length,_=u[f]=new Array(A),T,z=0;z<A;++z)(T=p[z]||h[z])&&(_[z]=T);for(;f<o;++f)u[f]=n[f];return new Ce(u,this._parents)}function aA(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,s=i[o],c;--o>=0;)(c=i[o])&&(s&&c.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(c,s),s=c);return this}function cA(t){t||(t=lA);function e(A,_){return A&&_?t(A.__data__,_.__data__):!A-!_}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var c=n[s],u=c.length,f=o[s]=new Array(u),p,h=0;h<u;++h)(p=c[h])&&(f[h]=p);f.sort(e)}return new Ce(o,this._parents).order()}function lA(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function uA(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fA(){return Array.from(this)}function dA(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length;o<s;++o){var c=i[o];if(c)return c}return null}function hA(){let t=0;for(const e of this)++t;return t}function pA(){return!this.node()}function gA(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],s=0,c=o.length,u;s<c;++s)(u=o[s])&&t.call(u,u.__data__,s,o);return this}function mA(t){return function(){this.removeAttribute(t)}}function _A(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vA(t,e){return function(){this.setAttribute(t,e)}}function bA(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yA(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function AA(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wA(t,e){var n=Yo(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?_A:mA:typeof e=="function"?n.local?AA:yA:n.local?bA:vA)(n,e))}function _d(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function EA(t){return function(){this.style.removeProperty(t)}}function xA(t,e,n){return function(){this.style.setProperty(t,e,n)}}function TA(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function CA(t,e,n){return arguments.length>1?this.each((e==null?EA:typeof e=="function"?TA:xA)(t,e,n??"")):Ji(this.node(),t)}function Ji(t,e){return t.style.getPropertyValue(e)||_d(t).getComputedStyle(t,null).getPropertyValue(e)}function SA(t){return function(){delete this[t]}}function OA(t,e){return function(){this[t]=e}}function DA(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function LA(t,e){return arguments.length>1?this.each((e==null?SA:typeof e=="function"?DA:OA)(t,e)):this.node()[t]}function vd(t){return t.trim().split(/^|\s+/)}function Qa(t){return t.classList||new bd(t)}function bd(t){this._node=t,this._names=vd(t.getAttribute("class")||"")}bd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function yd(t,e){for(var n=Qa(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Ad(t,e){for(var n=Qa(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function MA(t){return function(){yd(this,t)}}function kA(t){return function(){Ad(this,t)}}function NA(t,e){return function(){(e.apply(this,arguments)?yd:Ad)(this,t)}}function IA(t,e){var n=vd(t+"");if(arguments.length<2){for(var i=Qa(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?NA:e?MA:kA)(n,e))}function $A(){this.textContent=""}function PA(t){return function(){this.textContent=t}}function RA(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function BA(t){return arguments.length?this.each(t==null?$A:(typeof t=="function"?RA:PA)(t)):this.node().textContent}function HA(){this.innerHTML=""}function FA(t){return function(){this.innerHTML=t}}function zA(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function GA(t){return arguments.length?this.each(t==null?HA:(typeof t=="function"?zA:FA)(t)):this.node().innerHTML}function jA(){this.nextSibling&&this.parentNode.appendChild(this)}function WA(){return this.each(jA)}function VA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UA(){return this.each(VA)}function QA(t){var e=typeof t=="function"?t:dd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function KA(){return null}function YA(t,e){var n=typeof t=="function"?t:dd(t),i=e==null?KA:typeof e=="function"?e:Ua(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function qA(){var t=this.parentNode;t&&t.removeChild(this)}function XA(){return this.each(qA)}function JA(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ZA(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function t0(t){return this.select(t?ZA:JA)}function e0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function n0(t){return function(e){t.call(this,e,this.__data__)}}function i0(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function r0(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,s;n<o;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function o0(t,e,n){return function(){var i=this.__on,o,s=n0(e);if(i){for(var c=0,u=i.length;c<u;++c)if((o=i[c]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=e;return}}this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(o):this.__on=[o]}}function s0(t,e,n){var i=i0(t+""),o,s=i.length,c;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,p=u.length,h;f<p;++f)for(o=0,h=u[f];o<s;++o)if((c=i[o]).type===h.type&&c.name===h.name)return h.value}return}for(u=e?o0:r0,o=0;o<s;++o)this.each(u(i[o],e,n));return this}function wd(t,e,n){var i=_d(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function a0(t,e){return function(){return wd(this,t,e)}}function c0(t,e){return function(){return wd(this,t,e.apply(this,arguments))}}function l0(t,e){return this.each((typeof e=="function"?c0:a0)(t,e))}function*u0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length,c;o<s;++o)(c=i[o])&&(yield c)}var Ed=[null];function Ce(t,e){this._groups=t,this._parents=e}function Ir(){return new Ce([[document.documentElement]],Ed)}function f0(){return this}Ce.prototype=Ir.prototype={constructor:Ce,select:Ry,selectAll:zy,selectChild:Vy,selectChildren:Yy,filter:qy,data:nA,enter:Xy,exit:rA,join:oA,merge:sA,selection:f0,order:aA,sort:cA,call:uA,nodes:fA,node:dA,size:hA,empty:pA,each:gA,attr:wA,style:CA,property:LA,classed:IA,text:BA,html:GA,raise:WA,lower:UA,append:QA,insert:YA,remove:XA,clone:t0,datum:e0,on:s0,dispatch:l0,[Symbol.iterator]:u0};function $n(t){return typeof t=="string"?new Ce([[document.querySelector(t)]],[document.documentElement]):new Ce([[t]],Ed)}function d0(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ei(t,e){if(t=d0(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const ba={capture:!0,passive:!1};function ya(t){t.preventDefault(),t.stopImmediatePropagation()}function h0(t){var e=t.document.documentElement,n=$n(t).on("dragstart.drag",ya,ba);"onselectstart"in e?n.on("selectstart.drag",ya,ba):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function p0(t,e){var n=t.document.documentElement,i=$n(t).on("dragstart.drag",null);e&&(i.on("click.drag",ya,ba),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ka(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xd(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function $r(){}var xr=.7,Do=1/xr,Fi="\\s*([+-]?\\d+)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g0=/^#([0-9a-f]{3,8})$/,m0=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),_0=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),v0=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${Tr}\\)$`),b0=new RegExp(`^rgba\\(${cn},${cn},${cn},${Tr}\\)$`),y0=new RegExp(`^hsl\\(${Tr},${cn},${cn}\\)$`),A0=new RegExp(`^hsla\\(${Tr},${cn},${cn},${Tr}\\)$`),Du={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ka($r,Cr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Lu,formatHex:Lu,formatHex8:w0,formatHsl:E0,formatRgb:Mu,toString:Mu});function Lu(){return this.rgb().formatHex()}function w0(){return this.rgb().formatHex8()}function E0(){return Td(this).formatHsl()}function Mu(){return this.rgb().formatRgb()}function Cr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=g0.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ku(e):n===3?new pe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ao(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ao(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=m0.exec(t))?new pe(e[1],e[2],e[3],1):(e=_0.exec(t))?new pe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=v0.exec(t))?ao(e[1],e[2],e[3],e[4]):(e=b0.exec(t))?ao(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=y0.exec(t))?$u(e[1],e[2]/100,e[3]/100,1):(e=A0.exec(t))?$u(e[1],e[2]/100,e[3]/100,e[4]):Du.hasOwnProperty(t)?ku(Du[t]):t==="transparent"?new pe(NaN,NaN,NaN,0):null}function ku(t){return new pe(t>>16&255,t>>8&255,t&255,1)}function ao(t,e,n,i){return i<=0&&(t=e=n=NaN),new pe(t,e,n,i)}function x0(t){return t instanceof $r||(t=Cr(t)),t?(t=t.rgb(),new pe(t.r,t.g,t.b,t.opacity)):new pe}function Aa(t,e,n,i){return arguments.length===1?x0(t):new pe(t,e,n,i??1)}function pe(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Ka(pe,Aa,xd($r,{brighter(t){return t=t==null?Do:Math.pow(Do,t),new pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xr:Math.pow(xr,t),new pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pe(li(this.r),li(this.g),li(this.b),Lo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nu,formatHex:Nu,formatHex8:T0,formatRgb:Iu,toString:Iu}));function Nu(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}`}function T0(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}${ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function Iu(){const t=Lo(this.opacity);return`${t===1?"rgb(":"rgba("}${li(this.r)}, ${li(this.g)}, ${li(this.b)}${t===1?")":`, ${t})`}`}function Lo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function li(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ai(t){return t=li(t),(t<16?"0":"")+t.toString(16)}function $u(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ve(t,e,n,i)}function Td(t){if(t instanceof Ve)return new Ve(t.h,t.s,t.l,t.opacity);if(t instanceof $r||(t=Cr(t)),!t)return new Ve;if(t instanceof Ve)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),s=Math.max(e,n,i),c=NaN,u=s-o,f=(s+o)/2;return u?(e===s?c=(n-i)/u+(n<i)*6:n===s?c=(i-e)/u+2:c=(e-n)/u+4,u/=f<.5?s+o:2-s-o,c*=60):u=f>0&&f<1?0:c,new Ve(c,u,f,t.opacity)}function C0(t,e,n,i){return arguments.length===1?Td(t):new Ve(t,e,n,i??1)}function Ve(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Ka(Ve,C0,xd($r,{brighter(t){return t=t==null?Do:Math.pow(Do,t),new Ve(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xr:Math.pow(xr,t),new Ve(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new pe(ia(t>=240?t-240:t+120,o,i),ia(t,o,i),ia(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Ve(Pu(this.h),co(this.s),co(this.l),Lo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lo(this.opacity);return`${t===1?"hsl(":"hsla("}${Pu(this.h)}, ${co(this.s)*100}%, ${co(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Pu(t){return t=(t||0)%360,t<0?t+360:t}function co(t){return Math.max(0,Math.min(1,t||0))}function ia(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cd=t=>()=>t;function S0(t,e){return function(n){return t+n*e}}function O0(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function D0(t){return(t=+t)==1?Sd:function(e,n){return n-e?O0(e,n,t):Cd(isNaN(e)?n:e)}}function Sd(t,e){var n=e-t;return n?S0(t,n):Cd(isNaN(t)?e:t)}const Ru=function t(e){var n=D0(e);function i(o,s){var c=n((o=Aa(o)).r,(s=Aa(s)).r),u=n(o.g,s.g),f=n(o.b,s.b),p=Sd(o.opacity,s.opacity);return function(h){return o.r=c(h),o.g=u(h),o.b=f(h),o.opacity=p(h),o+""}}return i.gamma=t,i}(1);function In(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var wa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ra=new RegExp(wa.source,"g");function L0(t){return function(){return t}}function M0(t){return function(e){return t(e)+""}}function k0(t,e){var n=wa.lastIndex=ra.lastIndex=0,i,o,s,c=-1,u=[],f=[];for(t=t+"",e=e+"";(i=wa.exec(t))&&(o=ra.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(i=i[0])===(o=o[0])?u[c]?u[c]+=o:u[++c]=o:(u[++c]=null,f.push({i:c,x:In(i,o)})),n=ra.lastIndex;return n<e.length&&(s=e.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?M0(f[0].x):L0(e):(e=f.length,function(p){for(var h=0,A;h<e;++h)u[(A=f[h]).i]=A.x(p);return u.join("")})}var Bu=180/Math.PI,Ea={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Od(t,e,n,i,o,s){var c,u,f;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),t*i<e*n&&(t=-t,e=-e,f=-f,c=-c),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*Bu,skewX:Math.atan(f)*Bu,scaleX:c,scaleY:u}}var lo;function N0(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ea:Od(e.a,e.b,e.c,e.d,e.e,e.f)}function I0(t){return t==null||(lo||(lo=document.createElementNS("http://www.w3.org/2000/svg","g")),lo.setAttribute("transform",t),!(t=lo.transform.baseVal.consolidate()))?Ea:(t=t.matrix,Od(t.a,t.b,t.c,t.d,t.e,t.f))}function Dd(t,e,n,i){function o(p){return p.length?p.pop()+" ":""}function s(p,h,A,_,T,z){if(p!==A||h!==_){var k=T.push("translate(",null,e,null,n);z.push({i:k-4,x:In(p,A)},{i:k-2,x:In(h,_)})}else(A||_)&&T.push("translate("+A+e+_+n)}function c(p,h,A,_){p!==h?(p-h>180?h+=360:h-p>180&&(p+=360),_.push({i:A.push(o(A)+"rotate(",null,i)-2,x:In(p,h)})):h&&A.push(o(A)+"rotate("+h+i)}function u(p,h,A,_){p!==h?_.push({i:A.push(o(A)+"skewX(",null,i)-2,x:In(p,h)}):h&&A.push(o(A)+"skewX("+h+i)}function f(p,h,A,_,T,z){if(p!==A||h!==_){var k=T.push(o(T)+"scale(",null,",",null,")");z.push({i:k-4,x:In(p,A)},{i:k-2,x:In(h,_)})}else(A!==1||_!==1)&&T.push(o(T)+"scale("+A+","+_+")")}return function(p,h){var A=[],_=[];return p=t(p),h=t(h),s(p.translateX,p.translateY,h.translateX,h.translateY,A,_),c(p.rotate,h.rotate,A,_),u(p.skewX,h.skewX,A,_),f(p.scaleX,p.scaleY,h.scaleX,h.scaleY,A,_),p=h=null,function(T){for(var z=-1,k=_.length,L;++z<k;)A[(L=_[z]).i]=L.x(T);return A.join("")}}}var $0=Dd(N0,"px, ","px)","deg)"),P0=Dd(I0,", ",")",")"),R0=1e-12;function Hu(t){return((t=Math.exp(t))+1/t)/2}function B0(t){return((t=Math.exp(t))-1/t)/2}function H0(t){return((t=Math.exp(2*t))-1)/(t+1)}const F0=function t(e,n,i){function o(s,c){var u=s[0],f=s[1],p=s[2],h=c[0],A=c[1],_=c[2],T=h-u,z=A-f,k=T*T+z*z,L,M;if(k<R0)M=Math.log(_/p)/e,L=function(ct){return[u+ct*T,f+ct*z,p*Math.exp(e*ct*M)]};else{var F=Math.sqrt(k),Y=(_*_-p*p+i*k)/(2*p*n*F),m=(_*_-p*p-i*k)/(2*_*n*F),V=Math.log(Math.sqrt(Y*Y+1)-Y),B=Math.log(Math.sqrt(m*m+1)-m);M=(B-V)/e,L=function(ct){var nt=ct*M,Ct=Hu(V),Et=p/(n*F)*(Ct*H0(e*nt+V)-B0(V));return[u+Et*T,f+Et*z,p*Ct/Hu(e*nt+V)]}}return L.duration=M*1e3*e/Math.SQRT2,L}return o.rho=function(s){var c=Math.max(.001,+s),u=c*c,f=u*u;return t(c,u,f)},o}(Math.SQRT2,2,4);var Zi=0,vr=0,gr=0,Ld=1e3,Mo,br,ko=0,gi=0,qo=0,Sr=typeof performance=="object"&&performance.now?performance:Date,Md=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ya(){return gi||(Md(z0),gi=Sr.now()+qo)}function z0(){gi=0}function No(){this._call=this._time=this._next=null}No.prototype=kd.prototype={constructor:No,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ya():+n)+(e==null?0:+e),!this._next&&br!==this&&(br?br._next=this:Mo=this,br=this),this._call=t,this._time=n,xa()},stop:function(){this._call&&(this._call=null,this._time=1/0,xa())}};function kd(t,e,n){var i=new No;return i.restart(t,e,n),i}function G0(){Ya(),++Zi;for(var t=Mo,e;t;)(e=gi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Zi}function Fu(){gi=(ko=Sr.now())+qo,Zi=vr=0;try{G0()}finally{Zi=0,W0(),gi=0}}function j0(){var t=Sr.now(),e=t-ko;e>Ld&&(qo-=e,ko=t)}function W0(){for(var t,e=Mo,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Mo=n);br=t,xa(i)}function xa(t){if(!Zi){vr&&(vr=clearTimeout(vr));var e=t-gi;e>24?(t<1/0&&(vr=setTimeout(Fu,t-Sr.now()-qo)),gr&&(gr=clearInterval(gr))):(gr||(ko=Sr.now(),gr=setInterval(j0,Ld)),Zi=1,Md(Fu))}}function zu(t,e,n){var i=new No;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var V0=Va("start","end","cancel","interrupt"),U0=[],Nd=0,Gu=1,Ta=2,vo=3,ju=4,Ca=5,bo=6;function Xo(t,e,n,i,o,s){var c=t.__transition;if(!c)t.__transition={};else if(n in c)return;Q0(t,n,{name:e,index:i,group:o,on:V0,tween:U0,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Nd})}function qa(t,e){var n=Ye(t,e);if(n.state>Nd)throw new Error("too late; already scheduled");return n}function fn(t,e){var n=Ye(t,e);if(n.state>vo)throw new Error("too late; already running");return n}function Ye(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Q0(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=kd(s,0,n.time);function s(p){n.state=Gu,n.timer.restart(c,n.delay,n.time),n.delay<=p&&c(p-n.delay)}function c(p){var h,A,_,T;if(n.state!==Gu)return f();for(h in i)if(T=i[h],T.name===n.name){if(T.state===vo)return zu(c);T.state===ju?(T.state=bo,T.timer.stop(),T.on.call("interrupt",t,t.__data__,T.index,T.group),delete i[h]):+h<e&&(T.state=bo,T.timer.stop(),T.on.call("cancel",t,t.__data__,T.index,T.group),delete i[h])}if(zu(function(){n.state===vo&&(n.state=ju,n.timer.restart(u,n.delay,n.time),u(p))}),n.state=Ta,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ta){for(n.state=vo,o=new Array(_=n.tween.length),h=0,A=-1;h<_;++h)(T=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(o[++A]=T);o.length=A+1}}function u(p){for(var h=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(f),n.state=Ca,1),A=-1,_=o.length;++A<_;)o[A].call(t,h);n.state===Ca&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=bo,n.timer.stop(),delete i[e];for(var p in i)return;delete t.__transition}}function yo(t,e){var n=t.__transition,i,o,s=!0,c;if(n){e=e==null?null:e+"";for(c in n){if((i=n[c]).name!==e){s=!1;continue}o=i.state>Ta&&i.state<Ca,i.state=bo,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[c]}s&&delete t.__transition}}function K0(t){return this.each(function(){yo(this,t)})}function Y0(t,e){var n,i;return function(){var o=fn(this,t),s=o.tween;if(s!==n){i=n=s;for(var c=0,u=i.length;c<u;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}o.tween=i}}function q0(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=fn(this,t),c=s.tween;if(c!==i){o=(i=c).slice();for(var u={name:e,value:n},f=0,p=o.length;f<p;++f)if(o[f].name===e){o[f]=u;break}f===p&&o.push(u)}s.tween=o}}function X0(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ye(this.node(),n).tween,o=0,s=i.length,c;o<s;++o)if((c=i[o]).name===t)return c.value;return null}return this.each((e==null?Y0:q0)(n,t,e))}function Xa(t,e,n){var i=t._id;return t.each(function(){var o=fn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Ye(o,i).value[e]}}function Id(t,e){var n;return(typeof e=="number"?In:e instanceof Cr?Ru:(n=Cr(e))?(e=n,Ru):k0)(t,e)}function J0(t){return function(){this.removeAttribute(t)}}function Z0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tw(t,e,n){var i,o=n+"",s;return function(){var c=this.getAttribute(t);return c===o?null:c===i?s:s=e(i=c,n)}}function ew(t,e,n){var i,o=n+"",s;return function(){var c=this.getAttributeNS(t.space,t.local);return c===o?null:c===i?s:s=e(i=c,n)}}function nw(t,e,n){var i,o,s;return function(){var c,u=n(this),f;return u==null?void this.removeAttribute(t):(c=this.getAttribute(t),f=u+"",c===f?null:c===i&&f===o?s:(o=f,s=e(i=c,u)))}}function iw(t,e,n){var i,o,s;return function(){var c,u=n(this),f;return u==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),f=u+"",c===f?null:c===i&&f===o?s:(o=f,s=e(i=c,u)))}}function rw(t,e){var n=Yo(t),i=n==="transform"?P0:Id;return this.attrTween(t,typeof e=="function"?(n.local?iw:nw)(n,i,Xa(this,"attr."+t,e)):e==null?(n.local?Z0:J0)(n):(n.local?ew:tw)(n,i,e))}function ow(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function sw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function aw(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&sw(t,s)),n}return o._value=e,o}function cw(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&ow(t,s)),n}return o._value=e,o}function lw(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Yo(t);return this.tween(n,(i.local?aw:cw)(i,e))}function uw(t,e){return function(){qa(this,t).delay=+e.apply(this,arguments)}}function fw(t,e){return e=+e,function(){qa(this,t).delay=e}}function dw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uw:fw)(e,t)):Ye(this.node(),e).delay}function hw(t,e){return function(){fn(this,t).duration=+e.apply(this,arguments)}}function pw(t,e){return e=+e,function(){fn(this,t).duration=e}}function gw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?hw:pw)(e,t)):Ye(this.node(),e).duration}function mw(t,e){if(typeof e!="function")throw new Error;return function(){fn(this,t).ease=e}}function _w(t){var e=this._id;return arguments.length?this.each(mw(e,t)):Ye(this.node(),e).ease}function vw(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;fn(this,t).ease=n}}function bw(t){if(typeof t!="function")throw new Error;return this.each(vw(this._id,t))}function yw(t){typeof t!="function"&&(t=pd(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],c=s.length,u=i[o]=[],f,p=0;p<c;++p)(f=s[p])&&t.call(f,f.__data__,p,s)&&u.push(f);return new Tn(i,this._parents,this._name,this._id)}function Aw(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,s=Math.min(i,o),c=new Array(i),u=0;u<s;++u)for(var f=e[u],p=n[u],h=f.length,A=c[u]=new Array(h),_,T=0;T<h;++T)(_=f[T]||p[T])&&(A[T]=_);for(;u<i;++u)c[u]=e[u];return new Tn(c,this._parents,this._name,this._id)}function ww(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ew(t,e,n){var i,o,s=ww(e)?qa:fn;return function(){var c=s(this,t),u=c.on;u!==i&&(o=(i=u).copy()).on(e,n),c.on=o}}function xw(t,e){var n=this._id;return arguments.length<2?Ye(this.node(),n).on.on(t):this.each(Ew(n,t,e))}function Tw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Cw(){return this.on("end.remove",Tw(this._id))}function Sw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ua(t));for(var i=this._groups,o=i.length,s=new Array(o),c=0;c<o;++c)for(var u=i[c],f=u.length,p=s[c]=new Array(f),h,A,_=0;_<f;++_)(h=u[_])&&(A=t.call(h,h.__data__,_,u))&&("__data__"in h&&(A.__data__=h.__data__),p[_]=A,Xo(p[_],e,n,_,p,Ye(h,n)));return new Tn(s,this._parents,e,n)}function Ow(t){var e=this._name,n=this._id;typeof t!="function"&&(t=hd(t));for(var i=this._groups,o=i.length,s=[],c=[],u=0;u<o;++u)for(var f=i[u],p=f.length,h,A=0;A<p;++A)if(h=f[A]){for(var _=t.call(h,h.__data__,A,f),T,z=Ye(h,n),k=0,L=_.length;k<L;++k)(T=_[k])&&Xo(T,e,n,k,_,z);s.push(_),c.push(h)}return new Tn(s,c,e,n)}var Dw=Ir.prototype.constructor;function Lw(){return new Dw(this._groups,this._parents)}function Mw(t,e){var n,i,o;return function(){var s=Ji(this,t),c=(this.style.removeProperty(t),Ji(this,t));return s===c?null:s===n&&c===i?o:o=e(n=s,i=c)}}function $d(t){return function(){this.style.removeProperty(t)}}function kw(t,e,n){var i,o=n+"",s;return function(){var c=Ji(this,t);return c===o?null:c===i?s:s=e(i=c,n)}}function Nw(t,e,n){var i,o,s;return function(){var c=Ji(this,t),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(t),Ji(this,t))),c===f?null:c===i&&f===o?s:(o=f,s=e(i=c,u))}}function Iw(t,e){var n,i,o,s="style."+e,c="end."+s,u;return function(){var f=fn(this,t),p=f.on,h=f.value[s]==null?u||(u=$d(e)):void 0;(p!==n||o!==h)&&(i=(n=p).copy()).on(c,o=h),f.on=i}}function $w(t,e,n){var i=(t+="")=="transform"?$0:Id;return e==null?this.styleTween(t,Mw(t,i)).on("end.style."+t,$d(t)):typeof e=="function"?this.styleTween(t,Nw(t,i,Xa(this,"style."+t,e))).each(Iw(this._id,t)):this.styleTween(t,kw(t,i,e),n).on("end.style."+t,null)}function Pw(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Rw(t,e,n){var i,o;function s(){var c=e.apply(this,arguments);return c!==o&&(i=(o=c)&&Pw(t,c,n)),i}return s._value=e,s}function Bw(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Rw(t,e,n??""))}function Hw(t){return function(){this.textContent=t}}function Fw(t){return function(){var e=t(this);this.textContent=e??""}}function zw(t){return this.tween("text",typeof t=="function"?Fw(Xa(this,"text",t)):Hw(t==null?"":t+""))}function Gw(t){return function(e){this.textContent=t.call(this,e)}}function jw(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Gw(o)),e}return i._value=t,i}function Ww(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,jw(t))}function Vw(){for(var t=this._name,e=this._id,n=Pd(),i=this._groups,o=i.length,s=0;s<o;++s)for(var c=i[s],u=c.length,f,p=0;p<u;++p)if(f=c[p]){var h=Ye(f,e);Xo(f,t,n,p,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Tn(i,this._parents,t,n)}function Uw(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(s,c){var u={value:c},f={value:function(){--o===0&&s()}};n.each(function(){var p=fn(this,i),h=p.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(f)),p.on=e}),o===0&&s()})}var Qw=0;function Tn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Pd(){return++Qw}var bn=Ir.prototype;Tn.prototype={constructor:Tn,select:Sw,selectAll:Ow,selectChild:bn.selectChild,selectChildren:bn.selectChildren,filter:yw,merge:Aw,selection:Lw,transition:Vw,call:bn.call,nodes:bn.nodes,node:bn.node,size:bn.size,empty:bn.empty,each:bn.each,on:xw,attr:rw,attrTween:lw,style:$w,styleTween:Bw,text:zw,textTween:Ww,remove:Cw,tween:X0,delay:dw,duration:gw,ease:_w,easeVarying:bw,end:Uw,[Symbol.iterator]:bn[Symbol.iterator]};function Kw(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Yw={time:null,delay:0,duration:250,ease:Kw};function qw(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Xw(t){var e,n;t instanceof Tn?(e=t._id,t=t._name):(e=Pd(),(n=Yw).time=Ya(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var c=i[s],u=c.length,f,p=0;p<u;++p)(f=c[p])&&Xo(f,t,e,p,c,n||qw(f,e));return new Tn(i,this._parents,t,e)}Ir.prototype.interrupt=K0;Ir.prototype.transition=Xw;const uo=t=>()=>t;function Jw(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function An(t,e,n){this.k=t,this.x=e,this.y=n}An.prototype={constructor:An,scale:function(t){return t===1?this:new An(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new An(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rd=new An(1,0,0);An.prototype;function oa(t){t.stopImmediatePropagation()}function mr(t){t.preventDefault(),t.stopImmediatePropagation()}function Zw(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function tE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Wu(){return this.__zoom||Rd}function eE(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function nE(){return navigator.maxTouchPoints||"ontouchstart"in this}function iE(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],c=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),c>s?(s+c)/2:Math.min(0,s)||Math.max(0,c))}function rE(){var t=Zw,e=tE,n=iE,i=eE,o=nE,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,f=F0,p=Va("start","zoom","end"),h,A,_,T=500,z=150,k=0,L=10;function M(E){E.property("__zoom",Wu).on("wheel.zoom",nt,{passive:!1}).on("mousedown.zoom",Ct).on("dblclick.zoom",Et).filter(o).on("touchstart.zoom",$t).on("touchmove.zoom",St).on("touchend.zoom touchcancel.zoom",Tt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(E,W,O,G){var et=E.selection?E.selection():E;et.property("__zoom",Wu),E!==et?V(E,W,O,G):et.interrupt().each(function(){B(this,arguments).event(G).start().zoom(null,typeof W=="function"?W.apply(this,arguments):W).end()})},M.scaleBy=function(E,W,O,G){M.scaleTo(E,function(){var et=this.__zoom.k,ot=typeof W=="function"?W.apply(this,arguments):W;return et*ot},O,G)},M.scaleTo=function(E,W,O,G){M.transform(E,function(){var et=e.apply(this,arguments),ot=this.__zoom,w=O==null?m(et):typeof O=="function"?O.apply(this,arguments):O,mt=ot.invert(w),yt=typeof W=="function"?W.apply(this,arguments):W;return n(Y(F(ot,yt),w,mt),et,c)},O,G)},M.translateBy=function(E,W,O,G){M.transform(E,function(){return n(this.__zoom.translate(typeof W=="function"?W.apply(this,arguments):W,typeof O=="function"?O.apply(this,arguments):O),e.apply(this,arguments),c)},null,G)},M.translateTo=function(E,W,O,G,et){M.transform(E,function(){var ot=e.apply(this,arguments),w=this.__zoom,mt=G==null?m(ot):typeof G=="function"?G.apply(this,arguments):G;return n(Rd.translate(mt[0],mt[1]).scale(w.k).translate(typeof W=="function"?-W.apply(this,arguments):-W,typeof O=="function"?-O.apply(this,arguments):-O),ot,c)},G,et)};function F(E,W){return W=Math.max(s[0],Math.min(s[1],W)),W===E.k?E:new An(W,E.x,E.y)}function Y(E,W,O){var G=W[0]-O[0]*E.k,et=W[1]-O[1]*E.k;return G===E.x&&et===E.y?E:new An(E.k,G,et)}function m(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function V(E,W,O,G){E.on("start.zoom",function(){B(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(G).end()}).tween("zoom",function(){var et=this,ot=arguments,w=B(et,ot).event(G),mt=e.apply(et,ot),yt=O==null?m(mt):typeof O=="function"?O.apply(et,ot):O,X=Math.max(mt[1][0]-mt[0][0],mt[1][1]-mt[0][1]),dt=et.__zoom,Dt=typeof W=="function"?W.apply(et,ot):W,lt=f(dt.invert(yt).concat(X/dt.k),Dt.invert(yt).concat(X/Dt.k));return function(Ft){if(Ft===1)Ft=Dt;else{var Q=lt(Ft),Qt=X/Q[2];Ft=new An(Qt,yt[0]-Q[0]*Qt,yt[1]-Q[1]*Qt)}w.zoom(null,Ft)}})}function B(E,W,O){return!O&&E.__zooming||new ct(E,W)}function ct(E,W){this.that=E,this.args=W,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,W),this.taps=0}ct.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,W){return this.mouse&&E!=="mouse"&&(this.mouse[1]=W.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=W.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=W.invert(this.touch1[0])),this.that.__zoom=W,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var W=$n(this.that).datum();p.call(E,this.that,new Jw(E,{sourceEvent:this.sourceEvent,target:M,transform:this.that.__zoom,dispatch:p}),W)}};function nt(E,...W){if(!t.apply(this,arguments))return;var O=B(this,W).event(E),G=this.__zoom,et=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,i.apply(this,arguments)))),ot=ei(E);if(O.wheel)(O.mouse[0][0]!==ot[0]||O.mouse[0][1]!==ot[1])&&(O.mouse[1]=G.invert(O.mouse[0]=ot)),clearTimeout(O.wheel);else{if(G.k===et)return;O.mouse=[ot,G.invert(ot)],yo(this),O.start()}mr(E),O.wheel=setTimeout(w,z),O.zoom("mouse",n(Y(F(G,et),O.mouse[0],O.mouse[1]),O.extent,c));function w(){O.wheel=null,O.end()}}function Ct(E,...W){if(_||!t.apply(this,arguments))return;var O=E.currentTarget,G=B(this,W,!0).event(E),et=$n(E.view).on("mousemove.zoom",yt,!0).on("mouseup.zoom",X,!0),ot=ei(E,O),w=E.clientX,mt=E.clientY;h0(E.view),oa(E),G.mouse=[ot,this.__zoom.invert(ot)],yo(this),G.start();function yt(dt){if(mr(dt),!G.moved){var Dt=dt.clientX-w,lt=dt.clientY-mt;G.moved=Dt*Dt+lt*lt>k}G.event(dt).zoom("mouse",n(Y(G.that.__zoom,G.mouse[0]=ei(dt,O),G.mouse[1]),G.extent,c))}function X(dt){et.on("mousemove.zoom mouseup.zoom",null),p0(dt.view,G.moved),mr(dt),G.event(dt).end()}}function Et(E,...W){if(t.apply(this,arguments)){var O=this.__zoom,G=ei(E.changedTouches?E.changedTouches[0]:E,this),et=O.invert(G),ot=O.k*(E.shiftKey?.5:2),w=n(Y(F(O,ot),G,et),e.apply(this,W),c);mr(E),u>0?$n(this).transition().duration(u).call(V,w,G,E):$n(this).call(M.transform,w,G,E)}}function $t(E,...W){if(t.apply(this,arguments)){var O=E.touches,G=O.length,et=B(this,W,E.changedTouches.length===G).event(E),ot,w,mt,yt;for(oa(E),w=0;w<G;++w)mt=O[w],yt=ei(mt,this),yt=[yt,this.__zoom.invert(yt),mt.identifier],et.touch0?!et.touch1&&et.touch0[2]!==yt[2]&&(et.touch1=yt,et.taps=0):(et.touch0=yt,ot=!0,et.taps=1+!!h);h&&(h=clearTimeout(h)),ot&&(et.taps<2&&(A=yt[0],h=setTimeout(function(){h=null},T)),yo(this),et.start())}}function St(E,...W){if(this.__zooming){var O=B(this,W).event(E),G=E.changedTouches,et=G.length,ot,w,mt,yt;for(mr(E),ot=0;ot<et;++ot)w=G[ot],mt=ei(w,this),O.touch0&&O.touch0[2]===w.identifier?O.touch0[0]=mt:O.touch1&&O.touch1[2]===w.identifier&&(O.touch1[0]=mt);if(w=O.that.__zoom,O.touch1){var X=O.touch0[0],dt=O.touch0[1],Dt=O.touch1[0],lt=O.touch1[1],Ft=(Ft=Dt[0]-X[0])*Ft+(Ft=Dt[1]-X[1])*Ft,Q=(Q=lt[0]-dt[0])*Q+(Q=lt[1]-dt[1])*Q;w=F(w,Math.sqrt(Ft/Q)),mt=[(X[0]+Dt[0])/2,(X[1]+Dt[1])/2],yt=[(dt[0]+lt[0])/2,(dt[1]+lt[1])/2]}else if(O.touch0)mt=O.touch0[0],yt=O.touch0[1];else return;O.zoom("touch",n(Y(w,mt,yt),O.extent,c))}}function Tt(E,...W){if(this.__zooming){var O=B(this,W).event(E),G=E.changedTouches,et=G.length,ot,w;for(oa(E),_&&clearTimeout(_),_=setTimeout(function(){_=null},T),ot=0;ot<et;++ot)w=G[ot],O.touch0&&O.touch0[2]===w.identifier?delete O.touch0:O.touch1&&O.touch1[2]===w.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(w=ei(w,this),Math.hypot(A[0]-w[0],A[1]-w[1])<L)){var mt=$n(this).on("dblclick.zoom");mt&&mt.apply(this,arguments)}}}return M.wheelDelta=function(E){return arguments.length?(i=typeof E=="function"?E:uo(+E),M):i},M.filter=function(E){return arguments.length?(t=typeof E=="function"?E:uo(!!E),M):t},M.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:uo(!!E),M):o},M.extent=function(E){return arguments.length?(e=typeof E=="function"?E:uo([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),M):e},M.scaleExtent=function(E){return arguments.length?(s[0]=+E[0],s[1]=+E[1],M):[s[0],s[1]]},M.translateExtent=function(E){return arguments.length?(c[0][0]=+E[0][0],c[1][0]=+E[1][0],c[0][1]=+E[0][1],c[1][1]=+E[1][1],M):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},M.constrain=function(E){return arguments.length?(n=E,M):n},M.duration=function(E){return arguments.length?(u=+E,M):u},M.interpolate=function(E){return arguments.length?(f=E,M):f},M.on=function(){var E=p.on.apply(p,arguments);return E===p?M:E},M.clickDistance=function(E){return arguments.length?(k=(E=+E)*E,M):Math.sqrt(k)},M.tapDistance=function(E){return arguments.length?(L=+E,M):L},M}function Or(t,e,n){const i=e-n>0?e-n:0;return t*(50/(i+50))}function Jo(t,e,n,i,o,s){let c="",u="";return n.category===S.None?c=n.messageGenerator(t,e):c=t.name+Gi(n)+'<span style="color: blue;">'+Math.round(o)+"</span> ",i.category===S.None?u=i.messageGenerator(e,t):u=e.name+Gi(i)+'<span style="color: orange;">'+Math.round(s)+"</span> ","掷骰："+c+u}function oE(t,e,n){function i(o,s){return o.name+"看起来似乎会使用"+s.name+"<br>"+aa(o,s)}return Math.random()*t.getAbility().int>Math.random()*e.getAbility().int?i(e,n):"你分辨不出"+e.name+"即将使用的动作"}function sE(t,e,n,i){var s,c;let o=Yt.Draw;return n.category===S.Capture&&(n.category=S.Attack),n.category===S.Attack&&i.category===S.Attack?o=cE(t,e,n,i):n.category===S.Attack&&i.category===S.None||n.category===S.None&&i.category===S.Attack?o=lE(t,e,n,i):n.category===S.Attack&&i.category===S.Defend||n.category===S.Defend&&i.category===S.Attack?o=uE(t,e,n,i):n.category===S.Dodge&&i.category===S.Attack||n.category===S.Attack&&i.category===S.Dodge?o=fE(t,e,n,i):t.addTempLog("无事发生("+t.name+Gi(n)+" "+e.name+Gi(i)+")"),o===Yt.PlayerWin?(s=n.extraEffect)==null||s.call(n,t,e):o===Yt.EnemyWin&&((c=i.extraEffect)==null||c.call(i,e,t)),o}function aE(t,e,n,i){t.addTempLog(t.name+"使用了"+n.name+"，"+e.name+"使用了"+i.name);let o=0;for(;n.hits[o]||i.hits[o];){let s=n.hits[o]||wo,c=i.hits[o]||wo;t.statuses.sort((f,p)=>f.priority-p.priority).forEach(f=>{if(f.category===ee.OnHitStart){const p=zi[f.type].effect;s=p(t,s,f.statusLevel)}}),e.statuses.sort((f,p)=>f.priority-p.priority).forEach(f=>{if(f.category===ee.OnHitStart){const p=zi[f.type].effect;c=p(e,c,f.statusLevel)}}),t.updateStatusesOnHitStart(),e.updateStatusesOnHitStart();const u=sE(t,e,s,c);s.continuous&&u!==Yt.PlayerWin&&(n.hits.splice(o+1),t.addTempLog(t.name+"的连续hit中断")),c.continuous&&u!==Yt.EnemyWin&&(i.hits.splice(o+1),t.addTempLog(e.name+"的连续hit中断")),o++}t.clearStatusByCategory(ee.OnHitStart),e.clearStatusByCategory(ee.OnHitStart)}function cE(t,e,n,i){const o=fi(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=fi(i.coeff,e.getAbility(),e.getActionCoeff(i.category));if(t.addTempLog(Jo(t,e,n,i,o,s)),o>=s){const c=Or(o,e.getAbility().armor,t.getAbility().piercing);return e.loseHp(c),t.addTempLog(n.messageGenerator(t,e)+'造成了<span style="color: red;">'+Math.round(c)+"</span>点伤害"),Yt.PlayerWin}else{const c=Or(s,t.getAbility().armor,e.getAbility().piercing);return t.loseHp(c),t.addTempLog(i.messageGenerator(e,t)+'造成了<span style="color: red;">'+Math.round(c)+"</span>点伤害"),Yt.EnemyWin}}function lE(t,e,n,i){let o,s,c;i.category===S.None?(o=t,s=e,c=n):(o=e,s=t,c=i);const u=fi(c.coeff,o.getAbility(),o.getActionCoeff(c.category));t.addTempLog(Jo(t,e,n,i,o.isPlayer?u:0,o.isPlayer?u:0));const f=Or(u,s.getAbility().armor,o.getAbility().piercing);return s.loseHp(f),t.addTempLog(c.messageGenerator(o,s)+'造成了<span style="color: red;">'+Math.round(f)+"</span>点伤害"),o instanceof Wi?Yt.PlayerWin:Yt.EnemyWin}function uE(t,e,n,i){const o=fi(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=fi(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(Jo(t,e,n,i,o,s));const c=n.category===S.Attack,u=c?t:e,f=c?e:t,p=c?n:i,h=c?i:n,A=c?o:s,_=c?s:o,T=A-_>0?A-_:0,z=Or(T,f.getAbility().armor,u.getAbility().piercing);return f.loseHp(z),T>0?(t.addTempLog(p.messageGenerator(u,f)+`击穿了${f.name}的防御，造成了<span style="color: red;">`+Math.round(z)+`(-${_})</span>点伤害`),c?Yt.PlayerWin:Yt.EnemyWin):(t.addTempLog(h.messageGenerator(f,u)+","+p.messageGenerator(u,f)+"但没有造成伤害"),c?Yt.EnemyWin:Yt.PlayerWin)}function fE(t,e,n,i){const o=fi(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=fi(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(Jo(t,e,n,i,o,s));const c=n.category===S.Attack,u=c?t:e,f=c?e:t,p=c?n:i,h=c?i:n,A=c?o:s;if(A>(c?s:o)){const T=Or(A,f.getAbility().armor,u.getAbility().piercing);return f.loseHp(T),t.addTempLog(p.messageGenerator(u,f)+"对"+f.name+'造成了<span style="color: red;">'+Math.round(T)+"</span>点伤害"),c?Yt.PlayerWin:Yt.EnemyWin}else return u.addStatus(ri.Unbalance,1),t.addTempLog(h.messageGenerator(f,u)+","+u.name+"失衡了"),c?Yt.EnemyWin:Yt.PlayerWin}var ae=(t=>(t.Win="Win",t.Lose="Lose",t.Withdraw="Withdraw",t))(ae||{});function tr(t,e,n,i,o){var h,A,_;const s=Se();n&&i&&(t.addTempLog("--------------------------回合-----------------------------"),aE(t,e,n,i));let c=e.getRandomAction();const u=oE(t,e,c);let f=t.getRandomAction(),p=t.getRandomAction();if(t.statuses.sort((T,z)=>T.priority-z.priority).forEach(T=>{if(T.category===ee.OnTurnStart){const z=zi[T.type].effect,k=z(t,f,p);f=k.action1,p=k.action2,console.log(f,p)}}),e.statuses.sort((T,z)=>T.priority-z.priority).forEach(T=>{if(T.category===ee.OnTurnStart){const z=zi[T.type].effect;c=z(e,c,c).action1}}),t.updateStatusesOnTurnStart(),e.updateStatusesOnTurnStart(),t.health<=0){t.addLog(t.name+"撑不住了"),t.clearStatus(),sa(t,e,ae.Lose,o);return}if(e.health<1){t.addLog(t.name+"击败了"+e.name),t.clearStatus(),sa(t,e,ae.Win,o);return}yn(t),s.innerHTML=`
  <button id="return-btn" type="button" class="btn btn-primary" style="
    position: absolute;
    left: 20px;
    top: 80px;
    z-index: 999;
  ">
    逃跑
  </button>

  <div class="container mt-4">
    <h2 class="text-center mb-3">战斗</h2>

    <!-- 敌人信息 -->
    <div class="card mb-3">
      <div class="card-header bg-danger text-white">
        <h4 class="mb-0">${e.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text fst-italic">"${e.description}"</p>
        <p class="card-text">${u}</p>
        <p class="card-text">HP: <strong>${Math.ceil(e.health)}</strong></p>
      </div>
    </div>

    <!-- 分割线 -->
    <hr>

    <!-- 玩家信息 -->
    <div class="card mb-4">
      <div class="card-header bg-success text-white">
        <h4 class="mb-0">${t.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text">HP: <strong>${Math.ceil(t.health)}</strong></p>
      </div>
    </div>

    <!-- 动作选择 -->
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${f.name}</h5>
            <p class="card-text fst-italic">"${f.description}"</p>
            <p class="card-text">${aa(t,f)}</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${p.name}</h5>
            <p class="card-text fst-italic">"${p.description}"</p>
            <p class="card-text">${aa(t,p)}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 战斗记录 -->
    <div class="card">
      <div class="card-header">
        记录
      </div>
      <div class="card-body" id="log" style="max-height: 200px; overflow-y: auto;">
        ${t.getTempLogs()}
      </div>
    </div>
  </div>
`,(h=document.getElementById("action1-btn"))==null||h.addEventListener("click",()=>{tr(t,e,f,c,o)}),(A=document.getElementById("action2-btn"))==null||A.addEventListener("click",()=>{tr(t,e,p,c,o)}),(_=document.getElementById("return-btn"))==null||_.addEventListener("click",()=>{sa(t,e,ae.Withdraw,o)})}function sa(t,e,n,i){var u;const o=Se();let s=!1,c=null;n===ae.Win?(c=e.randomDropItem(),t.exp+=Math.floor(e.giveExp),s=t.checkLevelUp(),t.exp=Math.floor(t.exp),t.addLog(e.name+"掉落了<span style='color: gold;'>"+((c==null?void 0:c.name)??"无")+"</span>"),c&&t.pack.push(c)):n===ae.Lose?(t.health=1,t.addLog(t.name+"拼死从"+e.name+"的手中逃了出来，拖着残破的身躯，回到了城镇")):n===ae.Withdraw&&t.addLog(t.name+"在与"+e.name+"的战斗中逃跑了"),o.innerHTML=`
  <div class="container mt-4">
    <div class="card text-center shadow">
      <div class="card-header bg-dark text-white">
        <h2 class="mb-0">战斗结束</h2>
      </div>
      <div class="card-body">
        <h4 class="card-title">
          ${t.name}
          ${n===ae.Win?"<span class='text-success'>胜利</span>":n===ae.Lose?"<span class='text-danger'>失败</span>":"<span class='text-warning'>逃跑</span>"}
          <p>lv: ${t.level}${s?"🔺":""} exp: ${t.exp}/${t.getNextLevelExp()}</p>
          ${n===ae.Win?`<p>获得经验: <span class="text-info">${Math.floor(e.giveExp)}</span>  ${c?`获得物品: <span class="text-${R[c.rarity]}">${c.name}</span>`:""}</p>`:""}
        </h4>
        <hr>
        <h5>记录</h5>
        <div id="log" class="border rounded p-3" style="max-height: 250px; overflow-y: auto;">
          ${t.getTempLogs()}
        </div>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" id="continue-btn">继续</button>
      </div>
    </div>
  </div>
`,t.clearTempLogs(),yn(t),(u=document.getElementById("continue-btn"))==null||u.addEventListener("click",()=>{i(t,e,n)})}function dE(t){const e=t.reduce((o,s)=>o+s.weight,0),n=Math.random()*e;let i=0;for(const o of t)if(i+=o.weight,n<=i)return o}function Io(t,e){return Math.floor(Math.random()*(e-t+1))+t}function hE(t,e,n){if(n===ae.Lose||n===ae.Withdraw||t.currentMapData.goingToNodeId===null){Cn(t);return}t.goToNode(t.currentMapData.goingToNodeId),un(t)}function pE(t,e){const n=dE(t.monsterList);if(!n){e.goToNode(t.id),un(e);return}const i=Io(n.minLevel,n.maxLevel),o=new Po(n.monster,i,1);tr(e,o,null,null,hE)}function Bd(t,e,n){if(n===ae.Lose||n===ae.Withdraw){const i=t.currentMapData.boss[0].health,o=e.health;i-o>e.maxHealth*.2&&(t.currentMapData.boss[0].health=o),Cn(t);return}if(t.currentMapData.boss.shift(),t.currentMapData.boss.length===0)if(t.currentMapData.goingToNodeId){t.goToNode(t.currentMapData.goingToNodeId),un(t);return}else{Cn(t);return}tr(t,t.currentMapData.boss[0],null,null,Bd)}function gE(t,e){const n=t.bossStageList;if(!n){e.goToNode(t.id),un(e);return}e.currentMapData.boss.length===0&&n.forEach(o=>{const s=Io(o.minLevel,o.maxLevel),c=Io(o.minIndividualStrength,o.maxIndividualStrength),u=new Po(o.monster,s,c);e.currentMapData.boss.push(u)});const i=e.currentMapData.boss[0];console.log(i),tr(e,i,null,null,Bd)}function mE(t,e){let n=t.firstTimeTreasureList;if(e.unlockedNodeIdList.includes(t.id)&&(n=t.repeatableTreasureList),!e.currentMapData.visitedNodeIdList.includes(t.id)){const i=tg(n);if(i){const o=Io(i.minLevel,i.maxLevel),s=Xu(i.item,o);e.pack.push(s)}}e.goToNode(t.id),un(e)}function _E(t,e){const n=Pn(t.region.id);if(e.unlockedRegionIdList.includes(n.id)||e.unlockedRegionIdList.push(n.id),n.isOpen){e.goToRegion(n.id),e.goToNode(n.startNode.id),un(e);return}else alert("前面的区域以后再来探索吧？")}function vE(t,e){if(e.currentMapData.goingToNodeId=t.id,e.currentMapData.visitedNodeIdList.includes(t.id)){e.goToNode(e.currentMapData.goingToNodeId),un(e);return}if(t.type===Pe.NormalMonster)pE(t,e);else if(t.type===Pe.Boss)gE(t,e);else if(t.type===Pe.Treasure)mE(t,e);else if(t.type===Pe.ToOtherRegion)_E(t,e);else{e.goToNode(e.currentMapData.goingToNodeId),un(e);return}}function un(t){var z;const e=Se();e.innerHTML=`
  <div id="map-container" class="d-flex flex-column" style="flex: 1;">

    <svg id="map-svg" style="flex: 1;"></svg>

    <button id="return-btn" type="button" class="btn btn-primary" style="
      position: absolute;
      left: 50%;
      bottom: 20px;
      transform: translateX(-50%);
      z-index: 10;
    ">
      返回营地
    </button>

  </div>
  `;const n=[],i=[],o=new Set;function s(k){o.has(k.id)||(o.add(k.id),n.push({id:k.id,label:k.name,x:k.position.x,y:k.position.y,node:k}),k.toNodeList.forEach(L=>{i.push({source:k.id,target:L.id}),s(L)}))}s(Pn(t.currentMapData.currentRegionId).startNode);const c=$n("#map-svg"),u=c.append("g").attr("class","zoomable"),f=rE().scaleExtent([.5,2]).translateExtent([[0,0],[1e3,1e3]]).on("zoom",k=>{u.attr("transform",k.transform)});c.call(f),u.append("image").attr("xlink:href",Ly).attr("x",0).attr("y",0).attr("width",1e3).attr("height",1e3).lower();const p=u.append("g").attr("class","edges");i.forEach(k=>{const L=n.find(nt=>nt.id===k.source),M=n.find(nt=>nt.id===k.target);if(!L||!M)return;const F=h(L.node,t,n),Y=h(M.node,t,n),m=A(L.node,M.node,t);if(!F||!Y)return;const V=(L.x+M.x)/2,B=(L.y+M.y)/2-50,ct=`M ${L.x} ${L.y} Q ${V} ${B}, ${M.x} ${M.y}`;p.append("path").attr("d",ct).attr("stroke",m?"#4caf50":"#aaa").attr("stroke-width",m?3:1.5).attr("fill","none").attr("opacity",m?1:.6)});function h(k,L,M){var ct;const F=L.unlockedNodeIdList.includes(k.id),Y=L.currentMapData.currentNodeId===k.id,m=L.currentMapData.visitedNodeIdList.includes(k.id),V=!L.currentMapData.currentNodeId&&k===Pn(L.currentMapData.currentRegionId).startNode,B=L.currentMapData.currentNodeId?(ct=M.find(nt=>nt.id===L.currentMapData.currentNodeId))==null?void 0:ct.node.toNodeList.some(nt=>nt.id===k.id):!1;return F||Y||m||B||V}function A(k,L,M){return!!(M.currentMapData.currentNodeId===k.id&&k.toNodeList.some(F=>F.id===L.id)||M.currentMapData.currentNodeId===L.id&&L.toNodeList.some(F=>F.id===k.id)||M.currentMapData.visitedNodeIdList.includes(k.id)&&M.currentMapData.visitedNodeIdList.includes(L.id))}const T=u.append("g").attr("class","nodes").selectAll("g.node").data(n).enter().append("g").attr("class","node").attr("transform",k=>`translate(${k.x}, ${k.y})`).style("cursor","pointer").style("display",k=>h(k.node,t,n)?"block":"none");T.append("circle").attr("r",10).attr("fill",k=>{var F;if(t.currentMapData.currentNodeId===k.node.id||!t.currentMapData.currentNodeId&&k.node===Pn(t.currentMapData.currentRegionId).startNode)return"#007bff";const L=t.currentMapData.currentNodeId?(F=n.find(Y=>Y.id===t.currentMapData.currentNodeId))==null?void 0:F.node.toNodeList.some(Y=>Y.id===k.node.id):!1,M=t.currentMapData.visitedNodeIdList.includes(k.node.id);return L||M?"#28a745":"#6c757d"}).attr("stroke","#333").attr("stroke-width",1),T.each(function(k){const L=k.node;pi(this,{content:`
        <div>
          <h3>${L.name}</h3>
          <p>${L.description}</p>
          <a class="btn btn-primary" id="go-${L.id}">
            前往
          </a>
        </div>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(M){const F=M.popper.querySelector(`#go-${L.id}`);F&&F.addEventListener("click",Y=>{Y.stopPropagation(),M.hide(),vE(L,t)})}})}),T.attr("opacity",0).transition().duration(500).attr("opacity",1),(z=document.getElementById("return-btn"))==null||z.addEventListener("click",()=>{Cn(t)})}function Cn(t){var n,i,o,s;const e=Se();t.isAtHome=!0,t.clearCurrentMapDataWithoutBoss(),yn(t),console.log(t),e.innerHTML=`
    <!-- 顶部区域：显示血条和玩家信息 -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <!-- 血条区域 -->
        <div id="health-display" class="mb-3">
          ${t.getHealthDisplay()}
        </div>
        <!-- 玩家信息区域 -->
        <div class="text-center">
          <h2 class="card-title mb-1">
            <span class="badge bg-${t.type===Xt.Player114514?"danger":"primary"} ms-2" style="font-size: 0.75rem; padding: 0.35em 0.5em;">
              ${t.type===Xt.Player114514?"野兽":"人类"}
            </span>
            ${t.name}
            <small class="text-muted"> lv ${t.level}</small>
          </h2>
          <!-- 经验条 -->
          <div id="exp-display" class="mt-2" style="max-width: 200px; margin: 0 auto;">
            ${t.getExpDisplay()}
          </div>
        </div>

        <!-- 玩家形象区域 -->
        <div class="text-center mt-3">
          <img src=${ng} alt="玩家形象" class="img-fluid" style="max-height: 200px;">
        </div>
      </div>
    </div>

    <!-- 主菜单区域：用 mt-auto 自动向下推 -->
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        <div class="col-12 col-md-4">
          <button id="battle-btn" class="btn btn-primary w-100 py-3">
            ${t.type===Xt.Player114514?"救世啊！":"动身"} 现在地点: ${Pn(t.currentMapData.currentRegionId).name}
          </button>
        </div>
        <div class="col-12 col-md-4">
          <button id="travel-btn" class="btn btn-primary w-100 py-3">快速旅行</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="status-btn" class="btn btn-success w-100 py-3">状态</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="restart-btn" class="btn btn-danger w-100 py-3">秽土转生</button>
        </div>
      </div>

      <!-- 查看记录按钮 -->
      <div class="text-center mt-4">
        <button class="btn btn-info" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
          查看记录
        </button>
      </div>
    </div>

    <!-- Offcanvas 记录面板 -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasRightLabel">记录</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="关闭"></button>
      </div>
      <div class="offcanvas-body">
        <div style="max-height: 60vh; overflow-y: auto;">
          <p>${t.getLastNLog(100)}</p>
        </div>
      </div>
    </div>

    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,(n=document.getElementById("battle-btn"))==null||n.addEventListener("click",()=>{t.goToNode(Pn(t.currentMapData.currentRegionId).startNode.id),un(t)}),(i=document.getElementById("travel-btn"))==null||i.addEventListener("click",()=>{Dy(t)}),(o=document.getElementById("status-btn"))==null||o.addEventListener("click",()=>{_r(t)}),(s=document.getElementById("restart-btn"))==null||s.addEventListener("click",()=>{window.confirm("你确定要 remake 吗？")&&(localStorage.clear(),window.location.reload())})}const bE="/isekai114514/assets/1919-2_wCU3Nu.gif";function yE(){var e,n;const t=Se();t.innerHTML=`
    <h1>你是谁？</h1>
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">普通人</h5>
            <p class="card-text fst-italic">"我不抽烟，酒仅浅尝辄止。晚上11点睡，保证睡足8小时。睡前喝一杯温牛奶，然后做20分钟的舒缓运动再睡觉，一觉熟睡到天亮，绝不把疲劳和压力留到第二天。医生都说我很正常。"</p>
            <p class="card-text" style="font-weight: bold;">(适合不了解野兽先辈的玩家)</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">野兽仙贝</h5>
            <p class="card-text fst-italic">"伟大的古希腊哲学家，野兽学派的大先辈田所曾这样警醒后人：逸一时，误一世。(如果一时放纵自己，贪图安逸，就可能误了一生的前程) 现在，你将扮演这位伟大的贤人。好时代，来临罢！"</p>
            <p class="card-text" style="font-weight: bold;">(适合拥有野兽之心的玩家)</p>
            </div>
        </div>
      </div>
    </div>
  `,(e=document.getElementById("action1-btn"))==null||e.addEventListener("click",()=>{const i=new Wi("吴田所",Xt.Player);ca(i),Sa(i)}),(n=document.getElementById("action2-btn"))==null||n.addEventListener("click",()=>{const i=new Wi("田所",Xt.FullPowerPlayer114514);ca(i);const o=new Po(Xt.Toono,1,1,"远野");i.isAtHome=!1,tr(i,o,null,null,(s,c,u)=>{u===ae.Win?AE(s):wE(s)})})}function AE(t){var n;const e=Se();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>距离击败远野已不知过去了多久，但一切都还历历在目。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你不再沉沦，高呼道：伊已逝，吾亦逝。忆旧已久罢忆灵！(你逝去了，而我的心也逝去了，空留肉体如行尸走肉般存活。我已经缅怀故人多时，罢了罢了，是时候随你而去了！)</p>
		<p>你闭上了眼睛。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{Ja(t)})}function wE(t){var n;const e=Se();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>你被远野击败了。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你愤怒地将手指向远野，不甘心地嘶吼：你是一个一个一个一个，呐，哼哼，啊啊啊啊啊啊啊！！！<p>
    <img src="${bE}" alt="1919">
		<p>但是意识逐渐模糊，你最终还是倒下了。<p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{t.health=t.maxHealth*.8,Ja(t)})}function Sa(t){var o,s;const e=Se(),n=Math.floor(Math.random()*4);let i="";switch(n){case 0:i="<p>车 →→→ 你</p>";break;case 1:i="<p>你 ←←← 车</p>";break;case 2:i=`
      <p style="text-align: center;">  车</p>
      <p style="text-align: center;">  ↓</p>
      <p style="text-align: center;">  你</p>`;break;case 3:i=`
      <p style="text-align: center;">  你</p>
      <p style="text-align: center;">  ↑</p>
      <p style="text-align: center;">  车</p>`;break}e.innerHTML=`
  <h1>躲避大卡车</h1>
  <p>一辆卡车正在向你快速驶来，请选择躲避方向</p>
  ${i}
  <button id="left-btn">向左躲避</button>
  <button id="right-btn">向右躲避</button>
`,(o=document.getElementById("left-btn"))==null||o.addEventListener("click",()=>{Math.random()>.3?Sa(t):Vu(t)}),(s=document.getElementById("right-btn"))==null||s.addEventListener("click",()=>{Math.random()>.3?Sa(t):Vu(t)})}function Vu(t){var n;const e=Se();e.innerHTML=`
    <h1>躲避大卡车</h1>
    <p>躲避失败，你嗝屁了</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{Ja(t)})}function Ja(t){var n;if(t.type===Xt.FullPowerPlayer114514){const i=t.pack;t=new Wi("田所",Xt.Player114514),t.pack=i}const e=Se();e.innerHTML=`
    <h1>???</h1>
    <p>请输入你的名字</p>
    <input type="text" id="name-input" placeholder="${t.name}">
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{const o=document.getElementById("name-input").value.trim();o?(t.name=o,EE(t)):alert("请输入你的名字！")})}function EE(t){var n;const e=Se();e.innerHTML=`
    <h1>???</h1>
    <p>你睁开了眼睛，看到了陌生的天花板。</p>
    <p>这里似乎是什么遗迹？周围的墙上刻着壁画和奇怪的文字，而你正躺在房间正中心的石棺中。你虽然看不懂那些文字，但它们的意思却飞入脑中：</p>
    <p class="fst-italic">
    一百年前，一位叫<span style="font-weight: bold;">远野</span>的异界来客统领着野兽大军从极北之地<span style="font-weight: bold;">“下北泽”</span>南下，在毁灭了诸多城市后，远野在下北泽建立了魔王城，在那里指挥大军继续南下侵略。
    为了阻止远野，人类根据预言中的指引从异世界召唤了勇者。但被召唤的勇者一直没有苏醒，人类最终难挡野兽大军的攻势，不得不退守大陆的最南端。
    </p>
    <p>看起来，你正是故事中被召唤的勇者。
    ${t.type===Xt.Player114514?"而这位远野，正是前世你最爱却又背叛你的那个人！你握紧了拳头，暗暗发誓一定要报仇雪恨！</p>":"责任感和使命感让你决定挺身而出，阻止远野的侵略。</p>"}
    <p>你站起身来，准备向北进发。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{t.pack.push(new Ue(kt.GiftboxAndLetter)),yn(t),Cn(t)})}document.addEventListener("DOMContentLoaded",()=>{let t;try{t=eg()}catch(e){console.log(e),localStorage.clear(),yE();return}t.currentMapData.currentNodeId?un(t):Cn(t)});
