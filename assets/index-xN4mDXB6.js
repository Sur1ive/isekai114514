var Ip=Object.defineProperty;var $p=(t,e,n)=>e in t?Ip(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ct=(t,e,n)=>$p(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Ol=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ml={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Dl;function Pp(){if(Dl)return Ml;Dl=1;var t;return function(e){(function(n){var i=typeof globalThis=="object"?globalThis:typeof Ol=="object"?Ol:typeof self=="object"?self:typeof this=="object"?this:f(),o=s(e);typeof i.Reflect<"u"&&(o=s(i.Reflect,o)),n(o,i),typeof i.Reflect>"u"&&(i.Reflect=e);function s(p,h){return function(w,_){Object.defineProperty(p,w,{configurable:!0,writable:!0,value:_}),h&&h(w,_)}}function a(){try{return Function("return this;")()}catch{}}function l(){try{return(0,eval)("(function() { return this; })()")}catch{}}function f(){return a()||l()}})(function(n,i){var o=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",a=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",l=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",f=typeof Object.create=="function",p={__proto__:[]}instanceof Array,h=!f&&!p,w={create:f?function(){return jn(Object.create(null))}:p?function(){return jn({__proto__:null})}:function(){return jn({})},has:h?function(A,T){return o.call(A,T)}:function(A,T){return T in A},get:h?function(A,T){return o.call(A,T)?A[T]:void 0}:function(A,T){return A[T]}},_=Object.getPrototypeOf(Function),S=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ve(),W=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:en(),j=typeof WeakMap=="function"?WeakMap:Dn(),H=s?Symbol.for("@reflect-metadata:registry"):void 0,N=De(),U=ne(N);function rt(A,T,g,O){if(X(g)){if(!pn(A))throw new TypeError;if(!Ze(T))throw new TypeError;return mt(A,T)}else{if(!pn(A))throw new TypeError;if(!ot(T))throw new TypeError;if(!ot(O)&&!X(O)&&!pt(O))throw new TypeError;return pt(O)&&(O=void 0),g=Vt(g),y(A,T,g,O)}}n("decorate",rt);function m(A,T){function g(O,F){if(!ot(O))throw new TypeError;if(!X(F)&&!Me(F))throw new TypeError;at(A,T,O,F)}return g}n("metadata",m);function K(A,T,g,O){if(!ot(g))throw new TypeError;return X(O)||(O=Vt(O)),at(A,T,g,O)}n("defineMetadata",K);function z(A,T,g){if(!ot(T))throw new TypeError;return X(g)||(g=Vt(g)),$(A,T,g)}n("hasMetadata",z);function k(A,T,g){if(!ot(T))throw new TypeError;return X(g)||(g=Vt(g)),E(A,T,g)}n("hasOwnMetadata",k);function R(A,T,g){if(!ot(T))throw new TypeError;return X(g)||(g=Vt(g)),P(A,T,g)}n("getMetadata",R);function tt(A,T,g){if(!ot(T))throw new TypeError;return X(g)||(g=Vt(g)),J(A,T,g)}n("getOwnMetadata",tt);function st(A,T){if(!ot(A))throw new TypeError;return X(T)||(T=Vt(T)),x(A,T)}n("getMetadataKeys",st);function ht(A,T){if(!ot(A))throw new TypeError;return X(T)||(T=Vt(T)),yt(A,T)}n("getOwnMetadataKeys",ht);function ct(A,T,g){if(!ot(T))throw new TypeError;if(X(g)||(g=Vt(g)),!ot(T))throw new TypeError;X(g)||(g=Vt(g));var O=te(T,g,!1);return X(O)?!1:O.OrdinaryDeleteMetadata(A,T,g)}n("deleteMetadata",ct);function mt(A,T){for(var g=A.length-1;g>=0;--g){var O=A[g],F=O(T);if(!X(F)&&!pt(F)){if(!Ze(F))throw new TypeError;T=F}}return T}function y(A,T,g,O){for(var F=A.length-1;F>=0;--F){var ft=A[F],ut=ft(T,g,O);if(!X(ut)&&!pt(ut)){if(!ot(ut))throw new TypeError;O=ut}}return O}function $(A,T,g){var O=E(A,T,g);if(O)return!0;var F=We(T);return pt(F)?!1:$(A,F,g)}function E(A,T,g){var O=te(T,g,!1);return X(O)?!1:Kt(O.OrdinaryHasOwnMetadata(A,T,g))}function P(A,T,g){var O=E(A,T,g);if(O)return J(A,T,g);var F=We(T);if(!pt(F))return P(A,F,g)}function J(A,T,g){var O=te(T,g,!1);if(!X(O))return O.OrdinaryGetOwnMetadata(A,T,g)}function at(A,T,g,O){var F=te(g,O,!0);F.OrdinaryDefineOwnMetadata(A,T,g,O)}function x(A,T){var g=yt(A,T),O=We(A);if(O===null)return g;var F=x(O,T);if(F.length<=0)return g;if(g.length<=0)return F;for(var ft=new W,ut=[],lt=0,G=g;lt<G.length;lt++){var Q=G[lt],et=ft.has(Q);et||(ft.add(Q),ut.push(Q))}for(var Z=0,At=F;Z<At.length;Z++){var Q=At[Z],et=ft.has(Q);et||(ft.add(Q),ut.push(Q))}return ut}function yt(A,T){var g=te(A,T,!1);return g?g.OrdinaryOwnMetadataKeys(A,T):[]}function Et(A){if(A===null)return 1;switch(typeof A){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return A===null?1:6;default:return 6}}function X(A){return A===void 0}function pt(A){return A===null}function Ot(A){return typeof A=="symbol"}function ot(A){return typeof A=="object"?A!==null:typeof A=="function"}function zt(A,T){switch(Et(A)){case 0:return A;case 1:return A;case 2:return A;case 3:return A;case 4:return A;case 5:return A}var g="string",O=tn(A,a);if(O!==void 0){var F=O.call(A,g);if(ot(F))throw new TypeError;return F}return Y(A)}function Y(A,T){var g,O,F;{var ft=A.toString;if(Jt(ft)){var O=ft.call(A);if(!ot(O))return O}var g=A.valueOf;if(Jt(g)){var O=g.call(A);if(!ot(O))return O}}throw new TypeError}function Kt(A){return!!A}function me(A){return""+A}function Vt(A){var T=zt(A);return Ot(T)?T:me(T)}function pn(A){return Array.isArray?Array.isArray(A):A instanceof Object?A instanceof Array:Object.prototype.toString.call(A)==="[object Array]"}function Jt(A){return typeof A=="function"}function Ze(A){return typeof A=="function"}function Me(A){switch(Et(A)){case 3:return!0;case 4:return!0;default:return!1}}function Zt(A,T){return A===T||A!==A&&T!==T}function tn(A,T){var g=A[T];if(g!=null){if(!Jt(g))throw new TypeError;return g}}function gn(A){var T=tn(A,l);if(!Jt(T))throw new TypeError;var g=T.call(A);if(!ot(g))throw new TypeError;return g}function mn(A){return A.value}function ue(A){var T=A.next();return T.done?!1:T}function _e(A){var T=A.return;T&&T.call(A)}function We(A){var T=Object.getPrototypeOf(A);if(typeof A!="function"||A===_||T!==_)return T;var g=A.prototype,O=g&&Object.getPrototypeOf(g);if(O==null||O===Object.prototype)return T;var F=O.constructor;return typeof F!="function"||F===A?T:F}function je(){var A;!X(H)&&typeof i.Reflect<"u"&&!(H in i.Reflect)&&typeof i.Reflect.defineMetadata=="function"&&(A=_n(i.Reflect));var T,g,O,F=new j,ft={registerProvider:ut,getProvider:G,setProvider:et};return ft;function ut(Z){if(!Object.isExtensible(ft))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case A===Z:break;case X(T):T=Z;break;case T===Z:break;case X(g):g=Z;break;case g===Z:break;default:O===void 0&&(O=new W),O.add(Z);break}}function lt(Z,At){if(!X(T)){if(T.isProviderFor(Z,At))return T;if(!X(g)){if(g.isProviderFor(Z,At))return T;if(!X(O))for(var kt=gn(O);;){var Nt=ue(kt);if(!Nt)return;var jt=mn(Nt);if(jt.isProviderFor(Z,At))return _e(kt),jt}}}if(!X(A)&&A.isProviderFor(Z,At))return A}function G(Z,At){var kt=F.get(Z),Nt;return X(kt)||(Nt=kt.get(At)),X(Nt)&&(Nt=lt(Z,At),X(Nt)||(X(kt)&&(kt=new S,F.set(Z,kt)),kt.set(At,Nt))),Nt}function Q(Z){if(X(Z))throw new TypeError;return T===Z||g===Z||!X(O)&&O.has(Z)}function et(Z,At,kt){if(!Q(kt))throw new Error("Metadata provider not registered.");var Nt=G(Z,At);if(Nt!==kt){if(!X(Nt))return!1;var jt=F.get(Z);X(jt)&&(jt=new S,F.set(Z,jt)),jt.set(At,kt)}return!0}}function De(){var A;return!X(H)&&ot(i.Reflect)&&Object.isExtensible(i.Reflect)&&(A=i.Reflect[H]),X(A)&&(A=je()),!X(H)&&ot(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,H,{enumerable:!1,configurable:!1,writable:!1,value:A}),A}function ne(A){var T=new j,g={isProviderFor:function(Q,et){var Z=T.get(Q);return X(Z)?!1:Z.has(et)},OrdinaryDefineOwnMetadata:ut,OrdinaryHasOwnMetadata:F,OrdinaryGetOwnMetadata:ft,OrdinaryOwnMetadataKeys:lt,OrdinaryDeleteMetadata:G};return N.registerProvider(g),g;function O(Q,et,Z){var At=T.get(Q),kt=!1;if(X(At)){if(!Z)return;At=new S,T.set(Q,At),kt=!0}var Nt=At.get(et);if(X(Nt)){if(!Z)return;if(Nt=new S,At.set(et,Nt),!A.setProvider(Q,et,g))throw At.delete(et),kt&&T.delete(Q),new Error("Wrong provider for target.")}return Nt}function F(Q,et,Z){var At=O(et,Z,!1);return X(At)?!1:Kt(At.has(Q))}function ft(Q,et,Z){var At=O(et,Z,!1);if(!X(At))return At.get(Q)}function ut(Q,et,Z,At){var kt=O(Z,At,!0);kt.set(Q,et)}function lt(Q,et){var Z=[],At=O(Q,et,!1);if(X(At))return Z;for(var kt=At.keys(),Nt=gn(kt),jt=0;;){var ke=ue(Nt);if(!ke)return Z.length=jt,Z;var kn=mn(ke);try{Z[jt]=kn}catch(ts){try{_e(Nt)}finally{throw ts}}jt++}}function G(Q,et,Z){var At=O(et,Z,!1);if(X(At)||!At.delete(Q))return!1;if(At.size===0){var kt=T.get(et);X(kt)||(kt.delete(Z),kt.size===0&&T.delete(kt))}return!0}}function _n(A){var T=A.defineMetadata,g=A.hasOwnMetadata,O=A.getOwnMetadata,F=A.getOwnMetadataKeys,ft=A.deleteMetadata,ut=new j,lt={isProviderFor:function(G,Q){var et=ut.get(G);return!X(et)&&et.has(Q)?!0:F(G,Q).length?(X(et)&&(et=new W,ut.set(G,et)),et.add(Q),!0):!1},OrdinaryDefineOwnMetadata:T,OrdinaryHasOwnMetadata:g,OrdinaryGetOwnMetadata:O,OrdinaryOwnMetadataKeys:F,OrdinaryDeleteMetadata:ft};return lt}function te(A,T,g){var O=N.getProvider(A,T);if(!X(O))return O;if(g){if(N.setProvider(A,T,U))return U;throw new Error("Illegal state.")}}function ve(){var A={},T=[],g=function(){function lt(G,Q,et){this._index=0,this._keys=G,this._values=Q,this._selector=et}return lt.prototype["@@iterator"]=function(){return this},lt.prototype[l]=function(){return this},lt.prototype.next=function(){var G=this._index;if(G>=0&&G<this._keys.length){var Q=this._selector(this._keys[G],this._values[G]);return G+1>=this._keys.length?(this._index=-1,this._keys=T,this._values=T):this._index++,{value:Q,done:!1}}return{value:void 0,done:!0}},lt.prototype.throw=function(G){throw this._index>=0&&(this._index=-1,this._keys=T,this._values=T),G},lt.prototype.return=function(G){return this._index>=0&&(this._index=-1,this._keys=T,this._values=T),{value:G,done:!0}},lt}(),O=function(){function lt(){this._keys=[],this._values=[],this._cacheKey=A,this._cacheIndex=-2}return Object.defineProperty(lt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),lt.prototype.has=function(G){return this._find(G,!1)>=0},lt.prototype.get=function(G){var Q=this._find(G,!1);return Q>=0?this._values[Q]:void 0},lt.prototype.set=function(G,Q){var et=this._find(G,!0);return this._values[et]=Q,this},lt.prototype.delete=function(G){var Q=this._find(G,!1);if(Q>=0){for(var et=this._keys.length,Z=Q+1;Z<et;Z++)this._keys[Z-1]=this._keys[Z],this._values[Z-1]=this._values[Z];return this._keys.length--,this._values.length--,Zt(G,this._cacheKey)&&(this._cacheKey=A,this._cacheIndex=-2),!0}return!1},lt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=A,this._cacheIndex=-2},lt.prototype.keys=function(){return new g(this._keys,this._values,F)},lt.prototype.values=function(){return new g(this._keys,this._values,ft)},lt.prototype.entries=function(){return new g(this._keys,this._values,ut)},lt.prototype["@@iterator"]=function(){return this.entries()},lt.prototype[l]=function(){return this.entries()},lt.prototype._find=function(G,Q){if(!Zt(this._cacheKey,G)){this._cacheIndex=-1;for(var et=0;et<this._keys.length;et++)if(Zt(this._keys[et],G)){this._cacheIndex=et;break}}return this._cacheIndex<0&&Q&&(this._cacheIndex=this._keys.length,this._keys.push(G),this._values.push(void 0)),this._cacheIndex},lt}();return O;function F(lt,G){return lt}function ft(lt,G){return G}function ut(lt,G){return[lt,G]}}function en(){var A=function(){function T(){this._map=new S}return Object.defineProperty(T.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),T.prototype.has=function(g){return this._map.has(g)},T.prototype.add=function(g){return this._map.set(g,g),this},T.prototype.delete=function(g){return this._map.delete(g)},T.prototype.clear=function(){this._map.clear()},T.prototype.keys=function(){return this._map.keys()},T.prototype.values=function(){return this._map.keys()},T.prototype.entries=function(){return this._map.entries()},T.prototype["@@iterator"]=function(){return this.keys()},T.prototype[l]=function(){return this.keys()},T}();return A}function Dn(){var A=16,T=w.create(),g=O();return function(){function G(){this._key=O()}return G.prototype.has=function(Q){var et=F(Q,!1);return et!==void 0?w.has(et,this._key):!1},G.prototype.get=function(Q){var et=F(Q,!1);return et!==void 0?w.get(et,this._key):void 0},G.prototype.set=function(Q,et){var Z=F(Q,!0);return Z[this._key]=et,this},G.prototype.delete=function(Q){var et=F(Q,!1);return et!==void 0?delete et[this._key]:!1},G.prototype.clear=function(){this._key=O()},G}();function O(){var G;do G="@@WeakMap@@"+lt();while(w.has(T,G));return T[G]=!0,G}function F(G,Q){if(!o.call(G,g)){if(!Q)return;Object.defineProperty(G,g,{value:w.create()})}return G[g]}function ft(G,Q){for(var et=0;et<Q;++et)G[et]=Math.random()*255|0;return G}function ut(G){if(typeof Uint8Array=="function"){var Q=new Uint8Array(G);return typeof crypto<"u"?crypto.getRandomValues(Q):typeof msCrypto<"u"?msCrypto.getRandomValues(Q):ft(Q,G),Q}return ft(new Array(G),G)}function lt(){var G=ut(A);G[6]=G[6]&79|64,G[8]=G[8]&191|128;for(var Q="",et=0;et<A;++et){var Z=G[et];(et===4||et===6||et===8)&&(Q+="-"),Z<16&&(Q+="0"),Q+=Z.toString(16).toLowerCase()}return Q}}function jn(A){return A.__=void 0,delete A.__,A}})}(t||(t={})),Ml}Pp();var po={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Rp=po.exports,kl;function Bp(){return kl||(kl=1,function(t,e){(function(n,i){t.exports=i()})(Rp,function(){const n=new Map,i={set(u,r,c){n.has(u)||n.set(u,new Map);const d=n.get(u);d.has(r)||d.size===0?d.set(r,c):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(d.keys())[0]}.`)},get:(u,r)=>n.has(u)&&n.get(u).get(r)||null,remove(u,r){if(!n.has(u))return;const c=n.get(u);c.delete(r),c.size===0&&n.delete(u)}},o="transitionend",s=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(r,c)=>`#${CSS.escape(c)}`)),u),a=u=>{u.dispatchEvent(new Event(o))},l=u=>!(!u||typeof u!="object")&&(u.jquery!==void 0&&(u=u[0]),u.nodeType!==void 0),f=u=>l(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(s(u)):null,p=u=>{if(!l(u)||u.getClientRects().length===0)return!1;const r=getComputedStyle(u).getPropertyValue("visibility")==="visible",c=u.closest("details:not([open])");if(!c)return r;if(c!==u){const d=u.closest("summary");if(d&&d.parentNode!==c||d===null)return!1}return r},h=u=>!u||u.nodeType!==Node.ELEMENT_NODE||!!u.classList.contains("disabled")||(u.disabled!==void 0?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false"),w=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){const r=u.getRootNode();return r instanceof ShadowRoot?r:null}return u instanceof ShadowRoot?u:u.parentNode?w(u.parentNode):null},_=()=>{},S=u=>{u.offsetHeight},W=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,j=[],H=()=>document.documentElement.dir==="rtl",N=u=>{var r;r=()=>{const c=W();if(c){const d=u.NAME,v=c.fn[d];c.fn[d]=u.jQueryInterface,c.fn[d].Constructor=u,c.fn[d].noConflict=()=>(c.fn[d]=v,u.jQueryInterface)}},document.readyState==="loading"?(j.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of j)c()}),j.push(r)):r()},U=(u,r=[],c=u)=>typeof u=="function"?u(...r):c,rt=(u,r,c=!0)=>{if(!c)return void U(u);const d=(M=>{if(!M)return 0;let{transitionDuration:I,transitionDelay:V}=window.getComputedStyle(M);const nt=Number.parseFloat(I),it=Number.parseFloat(V);return nt||it?(I=I.split(",")[0],V=V.split(",")[0],1e3*(Number.parseFloat(I)+Number.parseFloat(V))):0})(r)+5;let v=!1;const b=({target:M})=>{M===r&&(v=!0,r.removeEventListener(o,b),U(u))};r.addEventListener(o,b),setTimeout(()=>{v||a(r)},d)},m=(u,r,c,d)=>{const v=u.length;let b=u.indexOf(r);return b===-1?!c&&d?u[v-1]:u[0]:(b+=c?1:-1,d&&(b=(b+v)%v),u[Math.max(0,Math.min(b,v-1))])},K=/[^.]*(?=\..*)\.|.*/,z=/\..*/,k=/::\d+$/,R={};let tt=1;const st={mouseenter:"mouseover",mouseleave:"mouseout"},ht=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ct(u,r){return r&&`${r}::${tt++}`||u.uidEvent||tt++}function mt(u){const r=ct(u);return u.uidEvent=r,R[r]=R[r]||{},R[r]}function y(u,r,c=null){return Object.values(u).find(d=>d.callable===r&&d.delegationSelector===c)}function $(u,r,c){const d=typeof r=="string",v=d?c:r||c;let b=at(u);return ht.has(b)||(b=u),[d,v,b]}function E(u,r,c,d,v){if(typeof r!="string"||!u)return;let[b,M,I]=$(r,c,d);r in st&&(M=(vt=>function(_t){if(!_t.relatedTarget||_t.relatedTarget!==_t.delegateTarget&&!_t.delegateTarget.contains(_t.relatedTarget))return vt.call(this,_t)})(M));const V=mt(u),nt=V[I]||(V[I]={}),it=y(nt,M,b?c:null);if(it)return void(it.oneOff=it.oneOff&&v);const q=ct(M,r.replace(K,"")),wt=b?function(gt,vt,_t){return function bt(Rt){const Ft=gt.querySelectorAll(vt);for(let{target:Tt}=Rt;Tt&&Tt!==this;Tt=Tt.parentNode)for(const Lt of Ft)if(Lt===Tt)return yt(Rt,{delegateTarget:Tt}),bt.oneOff&&x.off(gt,Rt.type,vt,_t),_t.apply(Tt,[Rt])}}(u,c,M):function(gt,vt){return function _t(bt){return yt(bt,{delegateTarget:gt}),_t.oneOff&&x.off(gt,bt.type,vt),vt.apply(gt,[bt])}}(u,M);wt.delegationSelector=b?c:null,wt.callable=M,wt.oneOff=v,wt.uidEvent=q,nt[q]=wt,u.addEventListener(I,wt,b)}function P(u,r,c,d,v){const b=y(r[c],d,v);b&&(u.removeEventListener(c,b,!!v),delete r[c][b.uidEvent])}function J(u,r,c,d){const v=r[c]||{};for(const[b,M]of Object.entries(v))b.includes(d)&&P(u,r,c,M.callable,M.delegationSelector)}function at(u){return u=u.replace(z,""),st[u]||u}const x={on(u,r,c,d){E(u,r,c,d,!1)},one(u,r,c,d){E(u,r,c,d,!0)},off(u,r,c,d){if(typeof r!="string"||!u)return;const[v,b,M]=$(r,c,d),I=M!==r,V=mt(u),nt=V[M]||{},it=r.startsWith(".");if(b===void 0){if(it)for(const q of Object.keys(V))J(u,V,q,r.slice(1));for(const[q,wt]of Object.entries(nt)){const gt=q.replace(k,"");I&&!r.includes(gt)||P(u,V,M,wt.callable,wt.delegationSelector)}}else{if(!Object.keys(nt).length)return;P(u,V,M,b,v?c:null)}},trigger(u,r,c){if(typeof r!="string"||!u)return null;const d=W();let v=null,b=!0,M=!0,I=!1;r!==at(r)&&d&&(v=d.Event(r,c),d(u).trigger(v),b=!v.isPropagationStopped(),M=!v.isImmediatePropagationStopped(),I=v.isDefaultPrevented());const V=yt(new Event(r,{bubbles:b,cancelable:!0}),c);return I&&V.preventDefault(),M&&u.dispatchEvent(V),V.defaultPrevented&&v&&v.preventDefault(),V}};function yt(u,r={}){for(const[c,d]of Object.entries(r))try{u[c]=d}catch{Object.defineProperty(u,c,{configurable:!0,get:()=>d})}return u}function Et(u){if(u==="true")return!0;if(u==="false")return!1;if(u===Number(u).toString())return Number(u);if(u===""||u==="null")return null;if(typeof u!="string")return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function X(u){return u.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const pt={setDataAttribute(u,r,c){u.setAttribute(`data-bs-${X(r)}`,c)},removeDataAttribute(u,r){u.removeAttribute(`data-bs-${X(r)}`)},getDataAttributes(u){if(!u)return{};const r={},c=Object.keys(u.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of c){let v=d.replace(/^bs/,"");v=v.charAt(0).toLowerCase()+v.slice(1,v.length),r[v]=Et(u.dataset[d])}return r},getDataAttribute:(u,r)=>Et(u.getAttribute(`data-bs-${X(r)}`))};class Ot{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,c){const d=l(c)?pt.getDataAttribute(c,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...l(c)?pt.getDataAttributes(c):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,c=this.constructor.DefaultType){for(const[v,b]of Object.entries(c)){const M=r[v],I=l(M)?"element":(d=M)==null?`${d}`:Object.prototype.toString.call(d).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(b).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${I}" but expected type "${b}".`)}var d}}class ot extends Ot{constructor(r,c){super(),(r=f(r))&&(this._element=r,this._config=this._getConfig(c),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),x.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,c,d=!0){rt(r,c,d)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return i.get(f(r),this.DATA_KEY)}static getOrCreateInstance(r,c={}){return this.getInstance(r)||new this(r,typeof c=="object"?c:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const zt=u=>{let r=u.getAttribute("data-bs-target");if(!r||r==="#"){let c=u.getAttribute("href");if(!c||!c.includes("#")&&!c.startsWith("."))return null;c.includes("#")&&!c.startsWith("#")&&(c=`#${c.split("#")[1]}`),r=c&&c!=="#"?c.trim():null}return r?r.split(",").map(c=>s(c)).join(","):null},Y={find:(u,r=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(r,u)),findOne:(u,r=document.documentElement)=>Element.prototype.querySelector.call(r,u),children:(u,r)=>[].concat(...u.children).filter(c=>c.matches(r)),parents(u,r){const c=[];let d=u.parentNode.closest(r);for(;d;)c.push(d),d=d.parentNode.closest(r);return c},prev(u,r){let c=u.previousElementSibling;for(;c;){if(c.matches(r))return[c];c=c.previousElementSibling}return[]},next(u,r){let c=u.nextElementSibling;for(;c;){if(c.matches(r))return[c];c=c.nextElementSibling}return[]},focusableChildren(u){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(c=>`${c}:not([tabindex^="-"])`).join(",");return this.find(r,u).filter(c=>!h(c)&&p(c))},getSelectorFromElement(u){const r=zt(u);return r&&Y.findOne(r)?r:null},getElementFromSelector(u){const r=zt(u);return r?Y.findOne(r):null},getMultipleElementsFromSelector(u){const r=zt(u);return r?Y.find(r):[]}},Kt=(u,r="hide")=>{const c=`click.dismiss${u.EVENT_KEY}`,d=u.NAME;x.on(document,c,`[data-bs-dismiss="${d}"]`,function(v){if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),h(this))return;const b=Y.getElementFromSelector(this)||this.closest(`.${d}`);u.getOrCreateInstance(b)[r]()})},me=".bs.alert",Vt=`close${me}`,pn=`closed${me}`;class Jt extends ot{static get NAME(){return"alert"}close(){if(x.trigger(this._element,Vt).defaultPrevented)return;this._element.classList.remove("show");const r=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),x.trigger(this._element,pn),this.dispose()}static jQueryInterface(r){return this.each(function(){const c=Jt.getOrCreateInstance(this);if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r](this)}})}}Kt(Jt,"close"),N(Jt);const Ze='[data-bs-toggle="button"]';class Me extends ot{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(r){return this.each(function(){const c=Me.getOrCreateInstance(this);r==="toggle"&&c[r]()})}}x.on(document,"click.bs.button.data-api",Ze,u=>{u.preventDefault();const r=u.target.closest(Ze);Me.getOrCreateInstance(r).toggle()}),N(Me);const Zt=".bs.swipe",tn=`touchstart${Zt}`,gn=`touchmove${Zt}`,mn=`touchend${Zt}`,ue=`pointerdown${Zt}`,_e=`pointerup${Zt}`,We={endCallback:null,leftCallback:null,rightCallback:null},je={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class De extends Ot{constructor(r,c){super(),this._element=r,r&&De.isSupported()&&(this._config=this._getConfig(c),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return We}static get DefaultType(){return je}static get NAME(){return"swipe"}dispose(){x.off(this._element,Zt)}_start(r){this._supportPointerEvents?this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX):this._deltaX=r.touches[0].clientX}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),U(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=40)return;const c=r/this._deltaX;this._deltaX=0,c&&U(c>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(x.on(this._element,ue,r=>this._start(r)),x.on(this._element,_e,r=>this._end(r)),this._element.classList.add("pointer-event")):(x.on(this._element,tn,r=>this._start(r)),x.on(this._element,gn,r=>this._move(r)),x.on(this._element,mn,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType==="pen"||r.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ne=".bs.carousel",_n=".data-api",te="next",ve="prev",en="left",Dn="right",jn=`slide${ne}`,A=`slid${ne}`,T=`keydown${ne}`,g=`mouseenter${ne}`,O=`mouseleave${ne}`,F=`dragstart${ne}`,ft=`load${ne}${_n}`,ut=`click${ne}${_n}`,lt="carousel",G="active",Q=".active",et=".carousel-item",Z=Q+et,At={ArrowLeft:Dn,ArrowRight:en},kt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Nt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class jt extends ot{constructor(r,c){super(r,c),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Y.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===lt&&this.cycle()}static get Default(){return kt}static get DefaultType(){return Nt}static get NAME(){return"carousel"}next(){this._slide(te)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(ve)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?x.one(this._element,A,()=>this.cycle()):this.cycle())}to(r){const c=this._getItems();if(r>c.length-1||r<0)return;if(this._isSliding)return void x.one(this._element,A,()=>this.to(r));const d=this._getItemIndex(this._getActive());if(d===r)return;const v=r>d?te:ve;this._slide(v,c[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&x.on(this._element,T,r=>this._keydown(r)),this._config.pause==="hover"&&(x.on(this._element,g,()=>this.pause()),x.on(this._element,O,()=>this._maybeEnableCycle())),this._config.touch&&De.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const c of Y.find(".carousel-item img",this._element))x.on(c,F,d=>d.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(en)),rightCallback:()=>this._slide(this._directionToOrder(Dn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new De(this._element,r)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const c=At[r.key];c&&(r.preventDefault(),this._slide(this._directionToOrder(c)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const c=Y.findOne(Q,this._indicatorsElement);c.classList.remove(G),c.removeAttribute("aria-current");const d=Y.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);d&&(d.classList.add(G),d.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const c=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=c||this._config.defaultInterval}_slide(r,c=null){if(this._isSliding)return;const d=this._getActive(),v=r===te,b=c||m(this._getItems(),d,v,this._config.wrap);if(b===d)return;const M=this._getItemIndex(b),I=q=>x.trigger(this._element,q,{relatedTarget:b,direction:this._orderToDirection(r),from:this._getItemIndex(d),to:M});if(I(jn).defaultPrevented||!d||!b)return;const V=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(M),this._activeElement=b;const nt=v?"carousel-item-start":"carousel-item-end",it=v?"carousel-item-next":"carousel-item-prev";b.classList.add(it),S(b),d.classList.add(nt),b.classList.add(nt),this._queueCallback(()=>{b.classList.remove(nt,it),b.classList.add(G),d.classList.remove(G,it,nt),this._isSliding=!1,I(A)},d,this._isAnimated()),V&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Y.findOne(Z,this._element)}_getItems(){return Y.find(et,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return H()?r===en?ve:te:r===en?te:ve}_orderToDirection(r){return H()?r===ve?en:Dn:r===ve?Dn:en}static jQueryInterface(r){return this.each(function(){const c=jt.getOrCreateInstance(this,r);if(typeof r!="number"){if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r]()}}else c.to(r)})}}x.on(document,ut,"[data-bs-slide], [data-bs-slide-to]",function(u){const r=Y.getElementFromSelector(this);if(!r||!r.classList.contains(lt))return;u.preventDefault();const c=jt.getOrCreateInstance(r),d=this.getAttribute("data-bs-slide-to");return d?(c.to(d),void c._maybeEnableCycle()):pt.getDataAttribute(this,"slide")==="next"?(c.next(),void c._maybeEnableCycle()):(c.prev(),void c._maybeEnableCycle())}),x.on(window,ft,()=>{const u=Y.find('[data-bs-ride="carousel"]');for(const r of u)jt.getOrCreateInstance(r)}),N(jt);const ke=".bs.collapse",kn=`show${ke}`,ts=`shown${ke}`,zd=`hide${ke}`,Gd=`hidden${ke}`,Wd=`click${ke}.data-api`,es="show",vi="collapse",Br="collapsing",jd=`:scope .${vi} .${vi}`,ns='[data-bs-toggle="collapse"]',Vd={parent:null,toggle:!0},Ud={parent:"(null|element)",toggle:"boolean"};class bi extends ot{constructor(r,c){super(r,c),this._isTransitioning=!1,this._triggerArray=[];const d=Y.find(ns);for(const v of d){const b=Y.getSelectorFromElement(v),M=Y.find(b).filter(I=>I===this._element);b!==null&&M.length&&this._triggerArray.push(v)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Vd}static get DefaultType(){return Ud}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(v=>v!==this._element).map(v=>bi.getOrCreateInstance(v,{toggle:!1}))),r.length&&r[0]._isTransitioning||x.trigger(this._element,kn).defaultPrevented)return;for(const v of r)v.hide();const c=this._getDimension();this._element.classList.remove(vi),this._element.classList.add(Br),this._element.style[c]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=`scroll${c[0].toUpperCase()+c.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Br),this._element.classList.add(vi,es),this._element.style[c]="",x.trigger(this._element,ts)},this._element,!0),this._element.style[c]=`${this._element[d]}px`}hide(){if(this._isTransitioning||!this._isShown()||x.trigger(this._element,zd).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,S(this._element),this._element.classList.add(Br),this._element.classList.remove(vi,es);for(const c of this._triggerArray){const d=Y.getElementFromSelector(c);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([c],!1)}this._isTransitioning=!0,this._element.style[r]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Br),this._element.classList.add(vi),x.trigger(this._element,Gd)},this._element,!0)}_isShown(r=this._element){return r.classList.contains(es)}_configAfterMerge(r){return r.toggle=!!r.toggle,r.parent=f(r.parent),r}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(ns);for(const c of r){const d=Y.getElementFromSelector(c);d&&this._addAriaAndCollapsedClass([c],this._isShown(d))}}_getFirstLevelChildren(r){const c=Y.find(jd,this._config.parent);return Y.find(r,this._config.parent).filter(d=>!c.includes(d))}_addAriaAndCollapsedClass(r,c){if(r.length)for(const d of r)d.classList.toggle("collapsed",!c),d.setAttribute("aria-expanded",c)}static jQueryInterface(r){const c={};return typeof r=="string"&&/show|hide/.test(r)&&(c.toggle=!1),this.each(function(){const d=bi.getOrCreateInstance(this,c);if(typeof r=="string"){if(d[r]===void 0)throw new TypeError(`No method named "${r}"`);d[r]()}})}}x.on(document,Wd,ns,function(u){(u.target.tagName==="A"||u.delegateTarget&&u.delegateTarget.tagName==="A")&&u.preventDefault();for(const r of Y.getMultipleElementsFromSelector(this))bi.getOrCreateInstance(r,{toggle:!1}).toggle()}),N(bi);var ie="top",be="bottom",ye="right",re="left",Hr="auto",yi=[ie,be,ye,re],Vn="start",Ai="end",nc="clippingParents",is="viewport",wi="popper",ic="reference",rs=yi.reduce(function(u,r){return u.concat([r+"-"+Vn,r+"-"+Ai])},[]),os=[].concat(yi,[Hr]).reduce(function(u,r){return u.concat([r,r+"-"+Vn,r+"-"+Ai])},[]),rc="beforeRead",oc="read",sc="afterRead",ac="beforeMain",cc="main",lc="afterMain",uc="beforeWrite",fc="write",dc="afterWrite",hc=[rc,oc,sc,ac,cc,lc,uc,fc,dc];function nn(u){return u?(u.nodeName||"").toLowerCase():null}function Ae(u){if(u==null)return window;if(u.toString()!=="[object Window]"){var r=u.ownerDocument;return r&&r.defaultView||window}return u}function Un(u){return u instanceof Ae(u).Element||u instanceof Element}function Le(u){return u instanceof Ae(u).HTMLElement||u instanceof HTMLElement}function ss(u){return typeof ShadowRoot<"u"&&(u instanceof Ae(u).ShadowRoot||u instanceof ShadowRoot)}const as={name:"applyStyles",enabled:!0,phase:"write",fn:function(u){var r=u.state;Object.keys(r.elements).forEach(function(c){var d=r.styles[c]||{},v=r.attributes[c]||{},b=r.elements[c];Le(b)&&nn(b)&&(Object.assign(b.style,d),Object.keys(v).forEach(function(M){var I=v[M];I===!1?b.removeAttribute(M):b.setAttribute(M,I===!0?"":I)}))})},effect:function(u){var r=u.state,c={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,c.popper),r.styles=c,r.elements.arrow&&Object.assign(r.elements.arrow.style,c.arrow),function(){Object.keys(r.elements).forEach(function(d){var v=r.elements[d],b=r.attributes[d]||{},M=Object.keys(r.styles.hasOwnProperty(d)?r.styles[d]:c[d]).reduce(function(I,V){return I[V]="",I},{});Le(v)&&nn(v)&&(Object.assign(v.style,M),Object.keys(b).forEach(function(I){v.removeAttribute(I)}))})}},requires:["computeStyles"]};function rn(u){return u.split("-")[0]}var Qn=Math.max,Fr=Math.min,Ei=Math.round;function cs(){var u=navigator.userAgentData;return u!=null&&u.brands&&Array.isArray(u.brands)?u.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function pc(){return!/^((?!chrome|android).)*safari/i.test(cs())}function xi(u,r,c){r===void 0&&(r=!1),c===void 0&&(c=!1);var d=u.getBoundingClientRect(),v=1,b=1;r&&Le(u)&&(v=u.offsetWidth>0&&Ei(d.width)/u.offsetWidth||1,b=u.offsetHeight>0&&Ei(d.height)/u.offsetHeight||1);var M=(Un(u)?Ae(u):window).visualViewport,I=!pc()&&c,V=(d.left+(I&&M?M.offsetLeft:0))/v,nt=(d.top+(I&&M?M.offsetTop:0))/b,it=d.width/v,q=d.height/b;return{width:it,height:q,top:nt,right:V+it,bottom:nt+q,left:V,x:V,y:nt}}function ls(u){var r=xi(u),c=u.offsetWidth,d=u.offsetHeight;return Math.abs(r.width-c)<=1&&(c=r.width),Math.abs(r.height-d)<=1&&(d=r.height),{x:u.offsetLeft,y:u.offsetTop,width:c,height:d}}function gc(u,r){var c=r.getRootNode&&r.getRootNode();if(u.contains(r))return!0;if(c&&ss(c)){var d=r;do{if(d&&u.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function vn(u){return Ae(u).getComputedStyle(u)}function Qd(u){return["table","td","th"].indexOf(nn(u))>=0}function Ln(u){return((Un(u)?u.ownerDocument:u.document)||window.document).documentElement}function zr(u){return nn(u)==="html"?u:u.assignedSlot||u.parentNode||(ss(u)?u.host:null)||Ln(u)}function mc(u){return Le(u)&&vn(u).position!=="fixed"?u.offsetParent:null}function sr(u){for(var r=Ae(u),c=mc(u);c&&Qd(c)&&vn(c).position==="static";)c=mc(c);return c&&(nn(c)==="html"||nn(c)==="body"&&vn(c).position==="static")?r:c||function(d){var v=/firefox/i.test(cs());if(/Trident/i.test(cs())&&Le(d)&&vn(d).position==="fixed")return null;var b=zr(d);for(ss(b)&&(b=b.host);Le(b)&&["html","body"].indexOf(nn(b))<0;){var M=vn(b);if(M.transform!=="none"||M.perspective!=="none"||M.contain==="paint"||["transform","perspective"].indexOf(M.willChange)!==-1||v&&M.willChange==="filter"||v&&M.filter&&M.filter!=="none")return b;b=b.parentNode}return null}(u)||r}function us(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function ar(u,r,c){return Qn(u,Fr(r,c))}function _c(u){return Object.assign({},{top:0,right:0,bottom:0,left:0},u)}function vc(u,r){return r.reduce(function(c,d){return c[d]=u,c},{})}const bc={name:"arrow",enabled:!0,phase:"main",fn:function(u){var r,c=u.state,d=u.name,v=u.options,b=c.elements.arrow,M=c.modifiersData.popperOffsets,I=rn(c.placement),V=us(I),nt=[re,ye].indexOf(I)>=0?"height":"width";if(b&&M){var it=function(Bt,Pt){return _c(typeof(Bt=typeof Bt=="function"?Bt(Object.assign({},Pt.rects,{placement:Pt.placement})):Bt)!="number"?Bt:vc(Bt,yi))}(v.padding,c),q=ls(b),wt=V==="y"?ie:re,gt=V==="y"?be:ye,vt=c.rects.reference[nt]+c.rects.reference[V]-M[V]-c.rects.popper[nt],_t=M[V]-c.rects.reference[V],bt=sr(b),Rt=bt?V==="y"?bt.clientHeight||0:bt.clientWidth||0:0,Ft=vt/2-_t/2,Tt=it[wt],Lt=Rt-q[nt]-it[gt],xt=Rt/2-q[nt]/2+Ft,Dt=ar(Tt,xt,Lt),$t=V;c.modifiersData[d]=((r={})[$t]=Dt,r.centerOffset=Dt-xt,r)}},effect:function(u){var r=u.state,c=u.options.element,d=c===void 0?"[data-popper-arrow]":c;d!=null&&(typeof d!="string"||(d=r.elements.popper.querySelector(d)))&&gc(r.elements.popper,d)&&(r.elements.arrow=d)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ci(u){return u.split("-")[1]}var Kd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yc(u){var r,c=u.popper,d=u.popperRect,v=u.placement,b=u.variation,M=u.offsets,I=u.position,V=u.gpuAcceleration,nt=u.adaptive,it=u.roundOffsets,q=u.isFixed,wt=M.x,gt=wt===void 0?0:wt,vt=M.y,_t=vt===void 0?0:vt,bt=typeof it=="function"?it({x:gt,y:_t}):{x:gt,y:_t};gt=bt.x,_t=bt.y;var Rt=M.hasOwnProperty("x"),Ft=M.hasOwnProperty("y"),Tt=re,Lt=ie,xt=window;if(nt){var Dt=sr(c),$t="clientHeight",Bt="clientWidth";Dt===Ae(c)&&vn(Dt=Ln(c)).position!=="static"&&I==="absolute"&&($t="scrollHeight",Bt="scrollWidth"),(v===ie||(v===re||v===ye)&&b===Ai)&&(Lt=be,_t-=(q&&Dt===xt&&xt.visualViewport?xt.visualViewport.height:Dt[$t])-d.height,_t*=V?1:-1),v!==re&&(v!==ie&&v!==be||b!==Ai)||(Tt=ye,gt-=(q&&Dt===xt&&xt.visualViewport?xt.visualViewport.width:Dt[Bt])-d.width,gt*=V?1:-1)}var Pt,Wt=Object.assign({position:I},nt&&Kd),we=it===!0?function(Ue,oe){var Ie=Ue.x,$e=Ue.y,Gt=oe.devicePixelRatio||1;return{x:Ei(Ie*Gt)/Gt||0,y:Ei($e*Gt)/Gt||0}}({x:gt,y:_t},Ae(c)):{x:gt,y:_t};return gt=we.x,_t=we.y,V?Object.assign({},Wt,((Pt={})[Lt]=Ft?"0":"",Pt[Tt]=Rt?"0":"",Pt.transform=(xt.devicePixelRatio||1)<=1?"translate("+gt+"px, "+_t+"px)":"translate3d("+gt+"px, "+_t+"px, 0)",Pt)):Object.assign({},Wt,((r={})[Lt]=Ft?_t+"px":"",r[Tt]=Rt?gt+"px":"",r.transform="",r))}const fs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(u){var r=u.state,c=u.options,d=c.gpuAcceleration,v=d===void 0||d,b=c.adaptive,M=b===void 0||b,I=c.roundOffsets,V=I===void 0||I,nt={placement:rn(r.placement),variation:Ci(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:v,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,yc(Object.assign({},nt,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:M,roundOffsets:V})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,yc(Object.assign({},nt,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:V})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})},data:{}};var Gr={passive:!0};const ds={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(u){var r=u.state,c=u.instance,d=u.options,v=d.scroll,b=v===void 0||v,M=d.resize,I=M===void 0||M,V=Ae(r.elements.popper),nt=[].concat(r.scrollParents.reference,r.scrollParents.popper);return b&&nt.forEach(function(it){it.addEventListener("scroll",c.update,Gr)}),I&&V.addEventListener("resize",c.update,Gr),function(){b&&nt.forEach(function(it){it.removeEventListener("scroll",c.update,Gr)}),I&&V.removeEventListener("resize",c.update,Gr)}},data:{}};var Yd={left:"right",right:"left",bottom:"top",top:"bottom"};function Wr(u){return u.replace(/left|right|bottom|top/g,function(r){return Yd[r]})}var qd={start:"end",end:"start"};function Ac(u){return u.replace(/start|end/g,function(r){return qd[r]})}function hs(u){var r=Ae(u);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function ps(u){return xi(Ln(u)).left+hs(u).scrollLeft}function gs(u){var r=vn(u),c=r.overflow,d=r.overflowX,v=r.overflowY;return/auto|scroll|overlay|hidden/.test(c+v+d)}function wc(u){return["html","body","#document"].indexOf(nn(u))>=0?u.ownerDocument.body:Le(u)&&gs(u)?u:wc(zr(u))}function cr(u,r){var c;r===void 0&&(r=[]);var d=wc(u),v=d===((c=u.ownerDocument)==null?void 0:c.body),b=Ae(d),M=v?[b].concat(b.visualViewport||[],gs(d)?d:[]):d,I=r.concat(M);return v?I:I.concat(cr(zr(M)))}function ms(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function Ec(u,r,c){return r===is?ms(function(d,v){var b=Ae(d),M=Ln(d),I=b.visualViewport,V=M.clientWidth,nt=M.clientHeight,it=0,q=0;if(I){V=I.width,nt=I.height;var wt=pc();(wt||!wt&&v==="fixed")&&(it=I.offsetLeft,q=I.offsetTop)}return{width:V,height:nt,x:it+ps(d),y:q}}(u,c)):Un(r)?function(d,v){var b=xi(d,!1,v==="fixed");return b.top=b.top+d.clientTop,b.left=b.left+d.clientLeft,b.bottom=b.top+d.clientHeight,b.right=b.left+d.clientWidth,b.width=d.clientWidth,b.height=d.clientHeight,b.x=b.left,b.y=b.top,b}(r,c):ms(function(d){var v,b=Ln(d),M=hs(d),I=(v=d.ownerDocument)==null?void 0:v.body,V=Qn(b.scrollWidth,b.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),nt=Qn(b.scrollHeight,b.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),it=-M.scrollLeft+ps(d),q=-M.scrollTop;return vn(I||b).direction==="rtl"&&(it+=Qn(b.clientWidth,I?I.clientWidth:0)-V),{width:V,height:nt,x:it,y:q}}(Ln(u)))}function xc(u){var r,c=u.reference,d=u.element,v=u.placement,b=v?rn(v):null,M=v?Ci(v):null,I=c.x+c.width/2-d.width/2,V=c.y+c.height/2-d.height/2;switch(b){case ie:r={x:I,y:c.y-d.height};break;case be:r={x:I,y:c.y+c.height};break;case ye:r={x:c.x+c.width,y:V};break;case re:r={x:c.x-d.width,y:V};break;default:r={x:c.x,y:c.y}}var nt=b?us(b):null;if(nt!=null){var it=nt==="y"?"height":"width";switch(M){case Vn:r[nt]=r[nt]-(c[it]/2-d[it]/2);break;case Ai:r[nt]=r[nt]+(c[it]/2-d[it]/2)}}return r}function Ti(u,r){r===void 0&&(r={});var c=r,d=c.placement,v=d===void 0?u.placement:d,b=c.strategy,M=b===void 0?u.strategy:b,I=c.boundary,V=I===void 0?nc:I,nt=c.rootBoundary,it=nt===void 0?is:nt,q=c.elementContext,wt=q===void 0?wi:q,gt=c.altBoundary,vt=gt!==void 0&&gt,_t=c.padding,bt=_t===void 0?0:_t,Rt=_c(typeof bt!="number"?bt:vc(bt,yi)),Ft=wt===wi?ic:wi,Tt=u.rects.popper,Lt=u.elements[vt?Ft:wt],xt=function(oe,Ie,$e,Gt){var on=Ie==="clippingParents"?function(Ht){var se=cr(zr(Ht)),Pe=["absolute","fixed"].indexOf(vn(Ht).position)>=0&&Le(Ht)?sr(Ht):Ht;return Un(Pe)?se.filter(function(In){return Un(In)&&gc(In,Pe)&&nn(In)!=="body"}):[]}(oe):[].concat(Ie),sn=[].concat(on,[$e]),Mi=sn[0],Yt=sn.reduce(function(Ht,se){var Pe=Ec(oe,se,Gt);return Ht.top=Qn(Pe.top,Ht.top),Ht.right=Fr(Pe.right,Ht.right),Ht.bottom=Fr(Pe.bottom,Ht.bottom),Ht.left=Qn(Pe.left,Ht.left),Ht},Ec(oe,Mi,Gt));return Yt.width=Yt.right-Yt.left,Yt.height=Yt.bottom-Yt.top,Yt.x=Yt.left,Yt.y=Yt.top,Yt}(Un(Lt)?Lt:Lt.contextElement||Ln(u.elements.popper),V,it,M),Dt=xi(u.elements.reference),$t=xc({reference:Dt,element:Tt,placement:v}),Bt=ms(Object.assign({},Tt,$t)),Pt=wt===wi?Bt:Dt,Wt={top:xt.top-Pt.top+Rt.top,bottom:Pt.bottom-xt.bottom+Rt.bottom,left:xt.left-Pt.left+Rt.left,right:Pt.right-xt.right+Rt.right},we=u.modifiersData.offset;if(wt===wi&&we){var Ue=we[v];Object.keys(Wt).forEach(function(oe){var Ie=[ye,be].indexOf(oe)>=0?1:-1,$e=[ie,be].indexOf(oe)>=0?"y":"x";Wt[oe]+=Ue[$e]*Ie})}return Wt}function Xd(u,r){r===void 0&&(r={});var c=r,d=c.placement,v=c.boundary,b=c.rootBoundary,M=c.padding,I=c.flipVariations,V=c.allowedAutoPlacements,nt=V===void 0?os:V,it=Ci(d),q=it?I?rs:rs.filter(function(vt){return Ci(vt)===it}):yi,wt=q.filter(function(vt){return nt.indexOf(vt)>=0});wt.length===0&&(wt=q);var gt=wt.reduce(function(vt,_t){return vt[_t]=Ti(u,{placement:_t,boundary:v,rootBoundary:b,padding:M})[rn(_t)],vt},{});return Object.keys(gt).sort(function(vt,_t){return gt[vt]-gt[_t]})}const Cc={name:"flip",enabled:!0,phase:"main",fn:function(u){var r=u.state,c=u.options,d=u.name;if(!r.modifiersData[d]._skip){for(var v=c.mainAxis,b=v===void 0||v,M=c.altAxis,I=M===void 0||M,V=c.fallbackPlacements,nt=c.padding,it=c.boundary,q=c.rootBoundary,wt=c.altBoundary,gt=c.flipVariations,vt=gt===void 0||gt,_t=c.allowedAutoPlacements,bt=r.options.placement,Rt=rn(bt),Ft=V||(Rt!==bt&&vt?function(Ht){if(rn(Ht)===Hr)return[];var se=Wr(Ht);return[Ac(Ht),se,Ac(se)]}(bt):[Wr(bt)]),Tt=[bt].concat(Ft).reduce(function(Ht,se){return Ht.concat(rn(se)===Hr?Xd(r,{placement:se,boundary:it,rootBoundary:q,padding:nt,flipVariations:vt,allowedAutoPlacements:_t}):se)},[]),Lt=r.rects.reference,xt=r.rects.popper,Dt=new Map,$t=!0,Bt=Tt[0],Pt=0;Pt<Tt.length;Pt++){var Wt=Tt[Pt],we=rn(Wt),Ue=Ci(Wt)===Vn,oe=[ie,be].indexOf(we)>=0,Ie=oe?"width":"height",$e=Ti(r,{placement:Wt,boundary:it,rootBoundary:q,altBoundary:wt,padding:nt}),Gt=oe?Ue?ye:re:Ue?be:ie;Lt[Ie]>xt[Ie]&&(Gt=Wr(Gt));var on=Wr(Gt),sn=[];if(b&&sn.push($e[we]<=0),I&&sn.push($e[Gt]<=0,$e[on]<=0),sn.every(function(Ht){return Ht})){Bt=Wt,$t=!1;break}Dt.set(Wt,sn)}if($t)for(var Mi=function(Ht){var se=Tt.find(function(Pe){var In=Dt.get(Pe);if(In)return In.slice(0,Ht).every(function(Jr){return Jr})});if(se)return Bt=se,"break"},Yt=vt?3:1;Yt>0&&Mi(Yt)!=="break";Yt--);r.placement!==Bt&&(r.modifiersData[d]._skip=!0,r.placement=Bt,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Tc(u,r,c){return c===void 0&&(c={x:0,y:0}),{top:u.top-r.height-c.y,right:u.right-r.width+c.x,bottom:u.bottom-r.height+c.y,left:u.left-r.width-c.x}}function Sc(u){return[ie,ye,be,re].some(function(r){return u[r]>=0})}const Oc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(u){var r=u.state,c=u.name,d=r.rects.reference,v=r.rects.popper,b=r.modifiersData.preventOverflow,M=Ti(r,{elementContext:"reference"}),I=Ti(r,{altBoundary:!0}),V=Tc(M,d),nt=Tc(I,v,b),it=Sc(V),q=Sc(nt);r.modifiersData[c]={referenceClippingOffsets:V,popperEscapeOffsets:nt,isReferenceHidden:it,hasPopperEscaped:q},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":it,"data-popper-escaped":q})}},Mc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(u){var r=u.state,c=u.options,d=u.name,v=c.offset,b=v===void 0?[0,0]:v,M=os.reduce(function(it,q){return it[q]=function(wt,gt,vt){var _t=rn(wt),bt=[re,ie].indexOf(_t)>=0?-1:1,Rt=typeof vt=="function"?vt(Object.assign({},gt,{placement:wt})):vt,Ft=Rt[0],Tt=Rt[1];return Ft=Ft||0,Tt=(Tt||0)*bt,[re,ye].indexOf(_t)>=0?{x:Tt,y:Ft}:{x:Ft,y:Tt}}(q,r.rects,b),it},{}),I=M[r.placement],V=I.x,nt=I.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=V,r.modifiersData.popperOffsets.y+=nt),r.modifiersData[d]=M}},_s={name:"popperOffsets",enabled:!0,phase:"read",fn:function(u){var r=u.state,c=u.name;r.modifiersData[c]=xc({reference:r.rects.reference,element:r.rects.popper,placement:r.placement})},data:{}},Dc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(u){var r=u.state,c=u.options,d=u.name,v=c.mainAxis,b=v===void 0||v,M=c.altAxis,I=M!==void 0&&M,V=c.boundary,nt=c.rootBoundary,it=c.altBoundary,q=c.padding,wt=c.tether,gt=wt===void 0||wt,vt=c.tetherOffset,_t=vt===void 0?0:vt,bt=Ti(r,{boundary:V,rootBoundary:nt,padding:q,altBoundary:it}),Rt=rn(r.placement),Ft=Ci(r.placement),Tt=!Ft,Lt=us(Rt),xt=Lt==="x"?"y":"x",Dt=r.modifiersData.popperOffsets,$t=r.rects.reference,Bt=r.rects.popper,Pt=typeof _t=="function"?_t(Object.assign({},r.rects,{placement:r.placement})):_t,Wt=typeof Pt=="number"?{mainAxis:Pt,altAxis:Pt}:Object.assign({mainAxis:0,altAxis:0},Pt),we=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,Ue={x:0,y:0};if(Dt){if(b){var oe,Ie=Lt==="y"?ie:re,$e=Lt==="y"?be:ye,Gt=Lt==="y"?"height":"width",on=Dt[Lt],sn=on+bt[Ie],Mi=on-bt[$e],Yt=gt?-Bt[Gt]/2:0,Ht=Ft===Vn?$t[Gt]:Bt[Gt],se=Ft===Vn?-Bt[Gt]:-$t[Gt],Pe=r.elements.arrow,In=gt&&Pe?ls(Pe):{width:0,height:0},Jr=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ml=Jr[Ie],_l=Jr[$e],Zr=ar(0,$t[Gt],In[Gt]),Tp=Tt?$t[Gt]/2-Yt-Zr-ml-Wt.mainAxis:Ht-Zr-ml-Wt.mainAxis,Sp=Tt?-$t[Gt]/2+Yt+Zr+_l+Wt.mainAxis:se+Zr+_l+Wt.mainAxis,Ds=r.elements.arrow&&sr(r.elements.arrow),Op=Ds?Lt==="y"?Ds.clientTop||0:Ds.clientLeft||0:0,vl=(oe=we==null?void 0:we[Lt])!=null?oe:0,Mp=on+Sp-vl,bl=ar(gt?Fr(sn,on+Tp-vl-Op):sn,on,gt?Qn(Mi,Mp):Mi);Dt[Lt]=bl,Ue[Lt]=bl-on}if(I){var yl,Dp=Lt==="x"?ie:re,kp=Lt==="x"?be:ye,ei=Dt[xt],to=xt==="y"?"height":"width",Al=ei+bt[Dp],wl=ei-bt[kp],ks=[ie,re].indexOf(Rt)!==-1,El=(yl=we==null?void 0:we[xt])!=null?yl:0,xl=ks?Al:ei-$t[to]-Bt[to]-El+Wt.altAxis,Cl=ks?ei+$t[to]+Bt[to]-El-Wt.altAxis:wl,Tl=gt&&ks?function(Lp,Np,Ls){var Sl=ar(Lp,Np,Ls);return Sl>Ls?Ls:Sl}(xl,ei,Cl):ar(gt?xl:Al,ei,gt?Cl:wl);Dt[xt]=Tl,Ue[xt]=Tl-ei}r.modifiersData[d]=Ue}},requiresIfExists:["offset"]};function Jd(u,r,c){c===void 0&&(c=!1);var d,v,b=Le(r),M=Le(r)&&function(q){var wt=q.getBoundingClientRect(),gt=Ei(wt.width)/q.offsetWidth||1,vt=Ei(wt.height)/q.offsetHeight||1;return gt!==1||vt!==1}(r),I=Ln(r),V=xi(u,M,c),nt={scrollLeft:0,scrollTop:0},it={x:0,y:0};return(b||!b&&!c)&&((nn(r)!=="body"||gs(I))&&(nt=(d=r)!==Ae(d)&&Le(d)?{scrollLeft:(v=d).scrollLeft,scrollTop:v.scrollTop}:hs(d)),Le(r)?((it=xi(r,!0)).x+=r.clientLeft,it.y+=r.clientTop):I&&(it.x=ps(I))),{x:V.left+nt.scrollLeft-it.x,y:V.top+nt.scrollTop-it.y,width:V.width,height:V.height}}function Zd(u){var r=new Map,c=new Set,d=[];function v(b){c.add(b.name),[].concat(b.requires||[],b.requiresIfExists||[]).forEach(function(M){if(!c.has(M)){var I=r.get(M);I&&v(I)}}),d.push(b)}return u.forEach(function(b){r.set(b.name,b)}),u.forEach(function(b){c.has(b.name)||v(b)}),d}var kc={placement:"bottom",modifiers:[],strategy:"absolute"};function Lc(){for(var u=arguments.length,r=new Array(u),c=0;c<u;c++)r[c]=arguments[c];return!r.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function jr(u){u===void 0&&(u={});var r=u,c=r.defaultModifiers,d=c===void 0?[]:c,v=r.defaultOptions,b=v===void 0?kc:v;return function(M,I,V){V===void 0&&(V=b);var nt,it,q={placement:"bottom",orderedModifiers:[],options:Object.assign({},kc,b),modifiersData:{},elements:{reference:M,popper:I},attributes:{},styles:{}},wt=[],gt=!1,vt={state:q,setOptions:function(bt){var Rt=typeof bt=="function"?bt(q.options):bt;_t(),q.options=Object.assign({},b,q.options,Rt),q.scrollParents={reference:Un(M)?cr(M):M.contextElement?cr(M.contextElement):[],popper:cr(I)};var Ft,Tt,Lt=function(xt){var Dt=Zd(xt);return hc.reduce(function($t,Bt){return $t.concat(Dt.filter(function(Pt){return Pt.phase===Bt}))},[])}((Ft=[].concat(d,q.options.modifiers),Tt=Ft.reduce(function(xt,Dt){var $t=xt[Dt.name];return xt[Dt.name]=$t?Object.assign({},$t,Dt,{options:Object.assign({},$t.options,Dt.options),data:Object.assign({},$t.data,Dt.data)}):Dt,xt},{}),Object.keys(Tt).map(function(xt){return Tt[xt]})));return q.orderedModifiers=Lt.filter(function(xt){return xt.enabled}),q.orderedModifiers.forEach(function(xt){var Dt=xt.name,$t=xt.options,Bt=$t===void 0?{}:$t,Pt=xt.effect;if(typeof Pt=="function"){var Wt=Pt({state:q,name:Dt,instance:vt,options:Bt});wt.push(Wt||function(){})}}),vt.update()},forceUpdate:function(){if(!gt){var bt=q.elements,Rt=bt.reference,Ft=bt.popper;if(Lc(Rt,Ft)){q.rects={reference:Jd(Rt,sr(Ft),q.options.strategy==="fixed"),popper:ls(Ft)},q.reset=!1,q.placement=q.options.placement,q.orderedModifiers.forEach(function(Pt){return q.modifiersData[Pt.name]=Object.assign({},Pt.data)});for(var Tt=0;Tt<q.orderedModifiers.length;Tt++)if(q.reset!==!0){var Lt=q.orderedModifiers[Tt],xt=Lt.fn,Dt=Lt.options,$t=Dt===void 0?{}:Dt,Bt=Lt.name;typeof xt=="function"&&(q=xt({state:q,options:$t,name:Bt,instance:vt})||q)}else q.reset=!1,Tt=-1}}},update:(nt=function(){return new Promise(function(bt){vt.forceUpdate(),bt(q)})},function(){return it||(it=new Promise(function(bt){Promise.resolve().then(function(){it=void 0,bt(nt())})})),it}),destroy:function(){_t(),gt=!0}};if(!Lc(M,I))return vt;function _t(){wt.forEach(function(bt){return bt()}),wt=[]}return vt.setOptions(V).then(function(bt){!gt&&V.onFirstUpdate&&V.onFirstUpdate(bt)}),vt}}var th=jr(),eh=jr({defaultModifiers:[ds,_s,fs,as]}),vs=jr({defaultModifiers:[ds,_s,fs,as,Mc,Cc,Dc,bc,Oc]});const Nc=Object.freeze(Object.defineProperty({__proto__:null,afterMain:lc,afterRead:sc,afterWrite:dc,applyStyles:as,arrow:bc,auto:Hr,basePlacements:yi,beforeMain:ac,beforeRead:rc,beforeWrite:uc,bottom:be,clippingParents:nc,computeStyles:fs,createPopper:vs,createPopperBase:th,createPopperLite:eh,detectOverflow:Ti,end:Ai,eventListeners:ds,flip:Cc,hide:Oc,left:re,main:cc,modifierPhases:hc,offset:Mc,placements:os,popper:wi,popperGenerator:jr,popperOffsets:_s,preventOverflow:Dc,read:oc,reference:ic,right:ye,start:Vn,top:ie,variationPlacements:rs,viewport:is,write:fc},Symbol.toStringTag,{value:"Module"})),Ic="dropdown",Kn=".bs.dropdown",bs=".data-api",nh="ArrowUp",$c="ArrowDown",ih=`hide${Kn}`,rh=`hidden${Kn}`,oh=`show${Kn}`,sh=`shown${Kn}`,Pc=`click${Kn}${bs}`,Rc=`keydown${Kn}${bs}`,ah=`keyup${Kn}${bs}`,Si="show",Yn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ch=`${Yn}.${Si}`,Vr=".dropdown-menu",lh=H()?"top-end":"top-start",uh=H()?"top-start":"top-end",fh=H()?"bottom-end":"bottom-start",dh=H()?"bottom-start":"bottom-end",hh=H()?"left-start":"right-start",ph=H()?"right-start":"left-start",gh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},mh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ve extends ot{constructor(r,c){super(r,c),this._popper=null,this._parent=this._element.parentNode,this._menu=Y.next(this._element,Vr)[0]||Y.prev(this._element,Vr)[0]||Y.findOne(Vr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return gh}static get DefaultType(){return mh}static get NAME(){return Ic}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!x.trigger(this._element,oh,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const c of[].concat(...document.body.children))x.on(c,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Si),this._element.classList.add(Si),x.trigger(this._element,sh,r)}}hide(){if(h(this._element)||!this._isShown())return;const r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!x.trigger(this._element,ih,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))x.off(c,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Si),this._element.classList.remove(Si),this._element.setAttribute("aria-expanded","false"),pt.removeDataAttribute(this._menu,"popper"),x.trigger(this._element,rh,r)}}_getConfig(r){if(typeof(r=super._getConfig(r)).reference=="object"&&!l(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${Ic.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(Nc===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:l(this._config.reference)?r=f(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);const c=this._getPopperConfig();this._popper=vs(r,this._menu,c)}_isShown(){return this._menu.classList.contains(Si)}_getPlacement(){const r=this._parent;if(r.classList.contains("dropend"))return hh;if(r.classList.contains("dropstart"))return ph;if(r.classList.contains("dropup-center"))return"top";if(r.classList.contains("dropdown-center"))return"bottom";const c=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains("dropup")?c?uh:lh:c?dh:fh}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(c=>Number.parseInt(c,10)):typeof r=="function"?c=>r(c,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(pt.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...U(this._config.popperConfig,[r])}}_selectMenuItem({key:r,target:c}){const d=Y.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(v=>p(v));d.length&&m(d,c,r===$c,!d.includes(c)).focus()}static jQueryInterface(r){return this.each(function(){const c=Ve.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0)throw new TypeError(`No method named "${r}"`);c[r]()}})}static clearMenus(r){if(r.button===2||r.type==="keyup"&&r.key!=="Tab")return;const c=Y.find(ch);for(const d of c){const v=Ve.getInstance(d);if(!v||v._config.autoClose===!1)continue;const b=r.composedPath(),M=b.includes(v._menu);if(b.includes(v._element)||v._config.autoClose==="inside"&&!M||v._config.autoClose==="outside"&&M||v._menu.contains(r.target)&&(r.type==="keyup"&&r.key==="Tab"||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const I={relatedTarget:v._element};r.type==="click"&&(I.clickEvent=r),v._completeHide(I)}}static dataApiKeydownHandler(r){const c=/input|textarea/i.test(r.target.tagName),d=r.key==="Escape",v=[nh,$c].includes(r.key);if(!v&&!d||c&&!d)return;r.preventDefault();const b=this.matches(Yn)?this:Y.prev(this,Yn)[0]||Y.next(this,Yn)[0]||Y.findOne(Yn,r.delegateTarget.parentNode),M=Ve.getOrCreateInstance(b);if(v)return r.stopPropagation(),M.show(),void M._selectMenuItem(r);M._isShown()&&(r.stopPropagation(),M.hide(),b.focus())}}x.on(document,Rc,Yn,Ve.dataApiKeydownHandler),x.on(document,Rc,Vr,Ve.dataApiKeydownHandler),x.on(document,Pc,Ve.clearMenus),x.on(document,ah,Ve.clearMenus),x.on(document,Pc,Yn,function(u){u.preventDefault(),Ve.getOrCreateInstance(this).toggle()}),N(Ve);const Bc="backdrop",Hc="show",Fc=`mousedown.bs.${Bc}`,_h={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},vh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class zc extends Ot{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return _h}static get DefaultType(){return vh}static get NAME(){return Bc}show(r){if(!this._config.isVisible)return void U(r);this._append();const c=this._getElement();this._config.isAnimated&&S(c),c.classList.add(Hc),this._emulateAnimation(()=>{U(r)})}hide(r){this._config.isVisible?(this._getElement().classList.remove(Hc),this._emulateAnimation(()=>{this.dispose(),U(r)})):U(r)}dispose(){this._isAppended&&(x.off(this._element,Fc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add("fade"),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=f(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),x.on(r,Fc,()=>{U(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){rt(r,this._getElement(),this._config.isAnimated)}}const Ur=".bs.focustrap",bh=`focusin${Ur}`,yh=`keydown.tab${Ur}`,Gc="backward",Ah={autofocus:!0,trapElement:null},wh={autofocus:"boolean",trapElement:"element"};class Wc extends Ot{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ah}static get DefaultType(){return wh}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),x.off(document,Ur),x.on(document,bh,r=>this._handleFocusin(r)),x.on(document,yh,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,x.off(document,Ur))}_handleFocusin(r){const{trapElement:c}=this._config;if(r.target===document||r.target===c||c.contains(r.target))return;const d=Y.focusableChildren(c);d.length===0?c.focus():this._lastTabNavDirection===Gc?d[d.length-1].focus():d[0].focus()}_handleKeydown(r){r.key==="Tab"&&(this._lastTabNavDirection=r.shiftKey?Gc:"forward")}}const jc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vc=".sticky-top",Qr="padding-right",Uc="margin-right";class ys{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Qr,c=>c+r),this._setElementAttributes(jc,Qr,c=>c+r),this._setElementAttributes(Vc,Uc,c=>c-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Qr),this._resetElementAttributes(jc,Qr),this._resetElementAttributes(Vc,Uc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,c,d){const v=this.getWidth();this._applyManipulationCallback(r,b=>{if(b!==this._element&&window.innerWidth>b.clientWidth+v)return;this._saveInitialAttribute(b,c);const M=window.getComputedStyle(b).getPropertyValue(c);b.style.setProperty(c,`${d(Number.parseFloat(M))}px`)})}_saveInitialAttribute(r,c){const d=r.style.getPropertyValue(c);d&&pt.setDataAttribute(r,c,d)}_resetElementAttributes(r,c){this._applyManipulationCallback(r,d=>{const v=pt.getDataAttribute(d,c);v!==null?(pt.removeDataAttribute(d,c),d.style.setProperty(c,v)):d.style.removeProperty(c)})}_applyManipulationCallback(r,c){if(l(r))c(r);else for(const d of Y.find(r,this._element))c(d)}}const Ne=".bs.modal",Eh=`hide${Ne}`,xh=`hidePrevented${Ne}`,Qc=`hidden${Ne}`,Kc=`show${Ne}`,Ch=`shown${Ne}`,Th=`resize${Ne}`,Sh=`click.dismiss${Ne}`,Oh=`mousedown.dismiss${Ne}`,Mh=`keydown.dismiss${Ne}`,Dh=`click${Ne}.data-api`,Yc="modal-open",qc="show",As="modal-static",kh={backdrop:!0,focus:!0,keyboard:!0},Lh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class qn extends ot{constructor(r,c){super(r,c),this._dialog=Y.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ys,this._addEventListeners()}static get Default(){return kh}static get DefaultType(){return Lh}static get NAME(){return"modal"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||x.trigger(this._element,Kc,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Yc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){this._isShown&&!this._isTransitioning&&(x.trigger(this._element,Eh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(qc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){x.off(window,Ne),x.off(this._dialog,Ne),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new zc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Wc({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const c=Y.findOne(".modal-body",this._dialog);c&&(c.scrollTop=0),S(this._element),this._element.classList.add(qc),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,x.trigger(this._element,Ch,{relatedTarget:r})},this._dialog,this._isAnimated())}_addEventListeners(){x.on(this._element,Mh,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),x.on(window,Th,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),x.on(this._element,Oh,r=>{x.one(this._element,Sh,c=>{this._element===r.target&&this._element===c.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Yc),this._resetAdjustments(),this._scrollBar.reset(),x.trigger(this._element,Qc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(x.trigger(this._element,xh).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,c=this._element.style.overflowY;c==="hidden"||this._element.classList.contains(As)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(As),this._queueCallback(()=>{this._element.classList.remove(As),this._queueCallback(()=>{this._element.style.overflowY=c},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,c=this._scrollBar.getWidth(),d=c>0;if(d&&!r){const v=H()?"paddingLeft":"paddingRight";this._element.style[v]=`${c}px`}if(!d&&r){const v=H()?"paddingRight":"paddingLeft";this._element.style[v]=`${c}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,c){return this.each(function(){const d=qn.getOrCreateInstance(this,r);if(typeof r=="string"){if(d[r]===void 0)throw new TypeError(`No method named "${r}"`);d[r](c)}})}}x.on(document,Dh,'[data-bs-toggle="modal"]',function(u){const r=Y.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),x.one(r,Kc,d=>{d.defaultPrevented||x.one(r,Qc,()=>{p(this)&&this.focus()})});const c=Y.findOne(".modal.show");c&&qn.getInstance(c).hide(),qn.getOrCreateInstance(r).toggle(this)}),Kt(qn),N(qn);const bn=".bs.offcanvas",Xc=".data-api",Nh=`load${bn}${Xc}`,Jc="show",Zc="showing",tl="hiding",el=".offcanvas.show",Ih=`show${bn}`,$h=`shown${bn}`,Ph=`hide${bn}`,nl=`hidePrevented${bn}`,il=`hidden${bn}`,Rh=`resize${bn}`,Bh=`click${bn}${Xc}`,Hh=`keydown.dismiss${bn}`,Fh={backdrop:!0,keyboard:!0,scroll:!1},zh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class yn extends ot{constructor(r,c){super(r,c),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Fh}static get DefaultType(){return zh}static get NAME(){return"offcanvas"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||x.trigger(this._element,Ih,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ys().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Zc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Jc),this._element.classList.remove(Zc),x.trigger(this._element,$h,{relatedTarget:r})},this._element,!0))}hide(){this._isShown&&(x.trigger(this._element,Ph).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(tl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Jc,tl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ys().reset(),x.trigger(this._element,il)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=!!this._config.backdrop;return new zc({className:"offcanvas-backdrop",isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?()=>{this._config.backdrop!=="static"?this.hide():x.trigger(this._element,nl)}:null})}_initializeFocusTrap(){return new Wc({trapElement:this._element})}_addEventListeners(){x.on(this._element,Hh,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():x.trigger(this._element,nl))})}static jQueryInterface(r){return this.each(function(){const c=yn.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r](this)}})}}x.on(document,Bh,'[data-bs-toggle="offcanvas"]',function(u){const r=Y.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),h(this))return;x.one(r,il,()=>{p(this)&&this.focus()});const c=Y.findOne(el);c&&c!==r&&yn.getInstance(c).hide(),yn.getOrCreateInstance(r).toggle(this)}),x.on(window,Nh,()=>{for(const u of Y.find(el))yn.getOrCreateInstance(u).show()}),x.on(window,Rh,()=>{for(const u of Y.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&yn.getOrCreateInstance(u).hide()}),Kt(yn),N(yn);const rl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Gh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Wh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,jh=(u,r)=>{const c=u.nodeName.toLowerCase();return r.includes(c)?!Gh.has(c)||!!Wh.test(u.nodeValue):r.filter(d=>d instanceof RegExp).some(d=>d.test(c))},Vh={allowList:rl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Uh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Qh={entry:"(string|element|function|null)",selector:"(string|element)"};class Kh extends Ot{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return Vh}static get DefaultType(){return Uh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[v,b]of Object.entries(this._config.content))this._setContent(r,b,v);const c=r.children[0],d=this._resolvePossibleFunction(this._config.extraClass);return d&&c.classList.add(...d.split(" ")),c}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[c,d]of Object.entries(r))super._typeCheckConfig({selector:c,entry:d},Qh)}_setContent(r,c,d){const v=Y.findOne(d,r);v&&((c=this._resolvePossibleFunction(c))?l(c)?this._putElementInTemplate(f(c),v):this._config.html?v.innerHTML=this._maybeSanitize(c):v.textContent=c:v.remove())}_maybeSanitize(r){return this._config.sanitize?function(c,d,v){if(!c.length)return c;if(v&&typeof v=="function")return v(c);const b=new window.DOMParser().parseFromString(c,"text/html"),M=[].concat(...b.body.querySelectorAll("*"));for(const I of M){const V=I.nodeName.toLowerCase();if(!Object.keys(d).includes(V)){I.remove();continue}const nt=[].concat(...I.attributes),it=[].concat(d["*"]||[],d[V]||[]);for(const q of nt)jh(q,it)||I.removeAttribute(q.nodeName)}return b.body.innerHTML}(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return U(r,[this])}_putElementInTemplate(r,c){if(this._config.html)return c.innerHTML="",void c.append(r);c.textContent=r.textContent}}const Yh=new Set(["sanitize","allowList","sanitizeFn"]),ws="fade",Kr="show",ol=".modal",sl="hide.bs.modal",lr="hover",Es="focus",qh={AUTO:"auto",TOP:"top",RIGHT:H()?"left":"right",BOTTOM:"bottom",LEFT:H()?"right":"left"},Xh={allowList:rl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Jh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Xn extends ot{constructor(r,c){if(Nc===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,c),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Xh}static get DefaultType(){return Jh}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),x.off(this._element.closest(ol),sl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const r=x.trigger(this._element,this.constructor.eventName("show")),c=(w(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!c)return;this._disposePopper();const d=this._getTipElement();this._element.setAttribute("aria-describedby",d.getAttribute("id"));const{container:v}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(v.append(d),x.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(d),d.classList.add(Kr),"ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))x.on(b,"mouseover",_);this._queueCallback(()=>{x.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!x.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Kr),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))x.off(r,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger[Es]=!1,this._activeTrigger[lr]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),x.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const c=this._getTemplateFactory(r).toHtml();if(!c)return null;c.classList.remove(ws,Kr),c.classList.add(`bs-${this.constructor.NAME}-auto`);const d=(v=>{do v+=Math.floor(1e6*Math.random());while(document.getElementById(v));return v})(this.constructor.NAME).toString();return c.setAttribute("id",d),this._isAnimated()&&c.classList.add(ws),c}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new Kh({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ws)}_isShown(){return this.tip&&this.tip.classList.contains(Kr)}_createPopper(r){const c=U(this._config.placement,[this,r,this._element]),d=qh[c.toUpperCase()];return vs(this._element,r,this._getPopperConfig(d))}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(c=>Number.parseInt(c,10)):typeof r=="function"?c=>r(c,this._element):r}_resolvePossibleFunction(r){return U(r,[this._element])}_getPopperConfig(r){const c={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:d=>{this._getTipElement().setAttribute("data-popper-placement",d.state.placement)}}]};return{...c,...U(this._config.popperConfig,[c])}}_setListeners(){const r=this._config.trigger.split(" ");for(const c of r)if(c==="click")x.on(this._element,this.constructor.eventName("click"),this._config.selector,d=>{this._initializeOnDelegatedTarget(d).toggle()});else if(c!=="manual"){const d=c===lr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),v=c===lr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");x.on(this._element,d,this._config.selector,b=>{const M=this._initializeOnDelegatedTarget(b);M._activeTrigger[b.type==="focusin"?Es:lr]=!0,M._enter()}),x.on(this._element,v,this._config.selector,b=>{const M=this._initializeOnDelegatedTarget(b);M._activeTrigger[b.type==="focusout"?Es:lr]=M._element.contains(b.relatedTarget),M._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},x.on(this._element.closest(ol),sl,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");r&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,c){clearTimeout(this._timeout),this._timeout=setTimeout(r,c)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const c=pt.getDataAttributes(this._element);for(const d of Object.keys(c))Yh.has(d)&&delete c[d];return r={...c,...typeof r=="object"&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:f(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const[c,d]of Object.entries(this._config))this.constructor.Default[c]!==d&&(r[c]=d);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){const c=Xn.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0)throw new TypeError(`No method named "${r}"`);c[r]()}})}}N(Xn);const Zh={...Xn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},tp={...Xn.DefaultType,content:"(null|string|element|function)"};class Yr extends Xn{static get Default(){return Zh}static get DefaultType(){return tp}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const c=Yr.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0)throw new TypeError(`No method named "${r}"`);c[r]()}})}}N(Yr);const xs=".bs.scrollspy",ep=`activate${xs}`,al=`click${xs}`,np=`load${xs}.data-api`,Oi="active",Cs="[href]",cl=".nav-link",ip=`${cl}, .nav-item > ${cl}, .list-group-item`,rp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},op={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ur extends ot{constructor(r,c){super(r,c),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rp}static get DefaultType(){return op}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=f(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(c=>Number.parseFloat(c))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(x.off(this._config.target,al),x.on(this._config.target,al,Cs,r=>{const c=this._observableSections.get(r.target.hash);if(c){r.preventDefault();const d=this._rootElement||window,v=c.offsetTop-this._element.offsetTop;if(d.scrollTo)return void d.scrollTo({top:v,behavior:"smooth"});d.scrollTop=v}}))}_getNewObserver(){const r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(c=>this._observerCallback(c),r)}_observerCallback(r){const c=M=>this._targetLinks.get(`#${M.target.id}`),d=M=>{this._previousScrollData.visibleEntryTop=M.target.offsetTop,this._process(c(M))},v=(this._rootElement||document.documentElement).scrollTop,b=v>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=v;for(const M of r){if(!M.isIntersecting){this._activeTarget=null,this._clearActiveClass(c(M));continue}const I=M.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(b&&I){if(d(M),!v)return}else b||I||d(M)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=Y.find(Cs,this._config.target);for(const c of r){if(!c.hash||h(c))continue;const d=Y.findOne(decodeURI(c.hash),this._element);p(d)&&(this._targetLinks.set(decodeURI(c.hash),c),this._observableSections.set(c.hash,d))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(Oi),this._activateParents(r),x.trigger(this._element,ep,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains("dropdown-item"))Y.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(Oi);else for(const c of Y.parents(r,".nav, .list-group"))for(const d of Y.prev(c,ip))d.classList.add(Oi)}_clearActiveClass(r){r.classList.remove(Oi);const c=Y.find(`${Cs}.${Oi}`,r);for(const d of c)d.classList.remove(Oi)}static jQueryInterface(r){return this.each(function(){const c=ur.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r]()}})}}x.on(window,np,()=>{for(const u of Y.find('[data-bs-spy="scroll"]'))ur.getOrCreateInstance(u)}),N(ur);const Jn=".bs.tab",sp=`hide${Jn}`,ap=`hidden${Jn}`,cp=`show${Jn}`,lp=`shown${Jn}`,up=`click${Jn}`,fp=`keydown${Jn}`,dp=`load${Jn}`,hp="ArrowLeft",ll="ArrowRight",pp="ArrowUp",ul="ArrowDown",Ts="Home",fl="End",Zn="active",dl="fade",Ss="show",hl=".dropdown-toggle",Os=`:not(${hl})`,pl='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ms=`.nav-link${Os}, .list-group-item${Os}, [role="tab"]${Os}, ${pl}`,gp=`.${Zn}[data-bs-toggle="tab"], .${Zn}[data-bs-toggle="pill"], .${Zn}[data-bs-toggle="list"]`;class ti extends ot{constructor(r){super(r),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),x.on(this._element,fp,c=>this._keydown(c)))}static get NAME(){return"tab"}show(){const r=this._element;if(this._elemIsActive(r))return;const c=this._getActiveElem(),d=c?x.trigger(c,sp,{relatedTarget:r}):null;x.trigger(r,cp,{relatedTarget:c}).defaultPrevented||d&&d.defaultPrevented||(this._deactivate(c,r),this._activate(r,c))}_activate(r,c){r&&(r.classList.add(Zn),this._activate(Y.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),x.trigger(r,lp,{relatedTarget:c})):r.classList.add(Ss)},r,r.classList.contains(dl)))}_deactivate(r,c){r&&(r.classList.remove(Zn),r.blur(),this._deactivate(Y.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),x.trigger(r,ap,{relatedTarget:c})):r.classList.remove(Ss)},r,r.classList.contains(dl)))}_keydown(r){if(![hp,ll,pp,ul,Ts,fl].includes(r.key))return;r.stopPropagation(),r.preventDefault();const c=this._getChildren().filter(v=>!h(v));let d;if([Ts,fl].includes(r.key))d=c[r.key===Ts?0:c.length-1];else{const v=[ll,ul].includes(r.key);d=m(c,r.target,v,!0)}d&&(d.focus({preventScroll:!0}),ti.getOrCreateInstance(d).show())}_getChildren(){return Y.find(Ms,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,c){this._setAttributeIfNotExists(r,"role","tablist");for(const d of c)this._setInitialAttributesOnChild(d)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const c=this._elemIsActive(r),d=this._getOuterElement(r);r.setAttribute("aria-selected",c),d!==r&&this._setAttributeIfNotExists(d,"role","presentation"),c||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const c=Y.getElementFromSelector(r);c&&(this._setAttributeIfNotExists(c,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(c,"aria-labelledby",`${r.id}`))}_toggleDropDown(r,c){const d=this._getOuterElement(r);if(!d.classList.contains("dropdown"))return;const v=(b,M)=>{const I=Y.findOne(b,d);I&&I.classList.toggle(M,c)};v(hl,Zn),v(".dropdown-menu",Ss),d.setAttribute("aria-expanded",c)}_setAttributeIfNotExists(r,c,d){r.hasAttribute(c)||r.setAttribute(c,d)}_elemIsActive(r){return r.classList.contains(Zn)}_getInnerElement(r){return r.matches(Ms)?r:Y.findOne(Ms,r)}_getOuterElement(r){return r.closest(".nav-item, .list-group-item")||r}static jQueryInterface(r){return this.each(function(){const c=ti.getOrCreateInstance(this);if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r]()}})}}x.on(document,up,pl,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),h(this)||ti.getOrCreateInstance(this).show()}),x.on(window,dp,()=>{for(const u of Y.find(gp))ti.getOrCreateInstance(u)}),N(ti);const Nn=".bs.toast",mp=`mouseover${Nn}`,_p=`mouseout${Nn}`,vp=`focusin${Nn}`,bp=`focusout${Nn}`,yp=`hide${Nn}`,Ap=`hidden${Nn}`,wp=`show${Nn}`,Ep=`shown${Nn}`,gl="hide",qr="show",Xr="showing",xp={animation:"boolean",autohide:"boolean",delay:"number"},Cp={animation:!0,autohide:!0,delay:5e3};class fr extends ot{constructor(r,c){super(r,c),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Cp}static get DefaultType(){return xp}static get NAME(){return"toast"}show(){x.trigger(this._element,wp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(gl),S(this._element),this._element.classList.add(qr,Xr),this._queueCallback(()=>{this._element.classList.remove(Xr),x.trigger(this._element,Ep),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(x.trigger(this._element,yp).defaultPrevented||(this._element.classList.add(Xr),this._queueCallback(()=>{this._element.classList.add(gl),this._element.classList.remove(Xr,qr),x.trigger(this._element,Ap)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(qr),super.dispose()}isShown(){return this._element.classList.contains(qr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,c){switch(r.type){case"mouseover":case"mouseout":this._hasMouseInteraction=c;break;case"focusin":case"focusout":this._hasKeyboardInteraction=c}if(c)return void this._clearTimeout();const d=r.relatedTarget;this._element===d||this._element.contains(d)||this._maybeScheduleHide()}_setListeners(){x.on(this._element,mp,r=>this._onInteraction(r,!0)),x.on(this._element,_p,r=>this._onInteraction(r,!1)),x.on(this._element,vp,r=>this._onInteraction(r,!0)),x.on(this._element,bp,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const c=fr.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0)throw new TypeError(`No method named "${r}"`);c[r](this)}})}}return Kt(fr),N(fr),{Alert:Jt,Button:Me,Carousel:jt,Collapse:bi,Dropdown:Ve,Modal:qn,Offcanvas:yn,Popover:Yr,ScrollSpy:ur,Tab:ti,Toast:fr,Tooltip:Xn}})}(po)),po.exports}Bp();var D=(t=>(t[t.Common=0]="Common",t[t.Rare=1]="Rare",t[t.Masterpiece=2]="Masterpiece",t[t.Epic=3]="Epic",t[t.Mythical=4]="Mythical",t[t.Unique=5]="Unique",t))(D||{}),qt=(t=>(t.PlayerWin="PlayerWin",t.EnemyWin="EnemyWin",t.Draw="Draw",t))(qt||{}),fi=(t=>(t.Consumable="Consumable",t.Equipment="Equipment",t))(fi||{}),Mt=(t=>(t.Body="body",t.Hand="hand",t.Foot="foot",t.Accessory="accessory",t))(Mt||{}),C=(t=>(t.Attack="Attack",t.Defend="Defend",t.Dodge="Dodge",t.Capture="Capture",t.Special="Special",t.None="None",t))(C||{}),Ee=(t=>(t.Permanent="Permanent",t.Turn="Turn",t.Action="Action",t.Hit="Hit",t.Second="Second",t))(Ee||{}),ee=(t=>(t.OnSecond="OnSecond",t.OnTurnStart="OnTurnStart",t.OnHitStart="OnHitStart",t))(ee||{}),oi=(t=>(t.SpiritBlade="SpiritBlade",t.RedBlade="RedBlade",t.Pain="Pain",t.Unbalance="Unbalance",t.Wound="Wound",t.Burning="Burning",t.QuickRecovery="QuickRecovery",t.Dizzy="Dizzy",t))(oi||{});const Gi={SpiritBlade:{name:"气刃",description:"可以释放气刃大回旋",durationType:Ee.Turn,category:ee.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Ut[L.SpiritRoundSlash],{action1:e,action2:n})},RedBlade:{name:"红刃",description:"可以释放登龙",durationType:Ee.Turn,category:ee.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Ut[L.HelmBreaker],{action1:e,action2:n})},Pain:{name:"痛苦",description:"有概率因痛苦而无法行动",durationType:Ee.Turn,category:ee.OnTurnStart,priority:999,effect:(t,e,n)=>(Math.random()<.1&&(e=Ut[L.Stun],n=Ut[L.Stun]),{action1:e,action2:n})},Unbalance:{name:"失衡",description:"重心不稳，丢失当前Hit",durationType:Ee.Hit,category:ee.OnHitStart,priority:999,effect:(t,e)=>xo},Dizzy:{name:"头晕眼花",description:"丢失当回合所有hit",durationType:Ee.Turn,category:ee.OnHitStart,priority:999,effect:(t,e)=>xo},Wound:{name:"创伤",description:"每次行动(hit)都会损失一定生命值",durationType:Ee.Turn,category:ee.OnHitStart,priority:999,effect:(t,e,n)=>(t.loseHp(n||1),e)},Burning:{name:"燃烧",description:"每回合损失一定生命值",durationType:Ee.Turn,category:ee.OnTurnStart,priority:999,effect:(t,e,n,i)=>(t.loseHp(i||1),{action1:e,action2:n})},QuickRecovery:{name:"快速恢复",description:"自动回复速度大幅度增加",durationType:Ee.Second,category:ee.OnSecond,priority:1,effect:(t,e)=>{t.autoRecoverHpDot(e||1)}}};function Hp(t,e){if(!(t instanceof Vi))return;if(e.health<1){t.addLog(`${e.name}已经死了，无法捕获`);return}const n=t.ability.dex/e.ability.dex*(t.ability.siz/e.ability.siz)/(10*e.health/e.getMaxHealth()),i=t.ability.str/e.ability.str*(t.ability.siz/e.ability.siz)/(10*e.health/e.getMaxHealth());Math.random()<i&&Math.random()<n?(e.health=.9,t.capturedMonster.push(e),t.addLog(`你成功捕获了${e.name}`)):t.addLog(`你尝试捕获${e.name}，但是失败了`)}function ua(t,e){return e.hits.map(n=>`${Wi(n)}${n.continuous?"🔗":""}(${Eo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${Ro(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}function Ro(t,e,n){const i=Math.round((t.str*e.str+t.dex*e.dex+t.int*e.int+t.con*e.con+t.siz*e.siz+t.app*e.app)*n.multiply+n.plus);return i<0?0:i}function Eo(t,e,n){const i=Math.round(Ro(t,e,n)*.1);return i<0?0:i}function di(t,e,n){return Eo(t,e,n)+Math.round((Ro(t,e,n)-Eo(t,e,n))*Math.random())}function Wi(t){switch(t.category){case C.Attack:return"🗡️";case C.Defend:return"🛡️";case C.Dodge:return"💫";case C.Capture:return"🕸️";case C.Special:return"💥";case C.None:return"❔";default:return""}}function Ll(t,e){return`
    <p class="fst-italic">"${e.description}"</p>
    <p>系数 (点数范围)</p>
    <p>${e.hits.map(n=>`${Wi(n)}${n.continuous?"🔗":""}${Object.entries(n.coeff).filter(([i,o])=>o).map(([i,o])=>`${i}: ${o}`).join(", ")} (${Eo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${Ro(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}</p>
  `}var L=(t=>(t.Dazed="Dazed",t.Attack="Attack",t.PowerAttack="PowerAttack",t.QuickAttack="QuickAttack",t.PowerfulDigAttack="PowerfulDigAttack",t.Yarimasune="Yarimasune",t.SleepyTea="SleepyTea",t.Repent="Repent",t.HorizontalSlash="HorizontalSlash",t.Bite="Bite",t.Capture="Capture",t.Stun="Stun",t.Defend="Defend",t.Dodge="Dodge",t.DragonBreath="DragonBreath",t.SpinAttack="SpinAttack",t.DefenseSlash="DefenseSlash",t.Counter="Counter",t.GodStrike="GodStrike",t.ShredFlower="ShredFlower",t.PsyKick="PsyKick",t.PsyExplosion="PsyExplosion",t.PsyInvisibleSword="PsyInvisibleSword",t.PsyDodge="PsyDodge",t.Slash="Slash",t.Claw="Claw",t.HelmBreaker="HelmBreaker",t.StepSlash="StepSlash",t.Mikiri="Mikiri",t.SpiritRoundSlash="SpiritRoundSlash",t.NeverRetreat="NeverRetreat",t.LightningStormSlash="LightningStormSlash",t.LightningFiveStrikes="LightningFiveStrikes",t.CrowFly="CrowFly",t.ParkDestroyer="ParkDestroyer",t.SneakAttack="SneakAttack",t.RunAway="RunAway",t))(L||{});const xo={category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`},Ut={Dazed:{name:"反应不过来",description:"来不及反应",rarity:D.Common,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`}]},Stun:{name:"眩晕",description:"眩晕",rarity:D.Common,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 眩晕了`}]},Attack:{name:"攻击",description:"用拳头或者用武器进行一般通过攻击",rarity:D.Common,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}攻击了${e.name}`}]},PowerAttack:{name:"强力攻击",description:"全身力量集中于一点，进行一次强力的攻击",rarity:D.Rare,hits:[{category:C.Attack,coeff:{str:2,int:0,con:0,siz:1,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}对${e.name}发起了一次强力的攻击`}]},QuickAttack:{name:"迅击",description:"据说剑圣在一个呼吸间就能劈出数刀。虽然你不是剑圣，但你努努力也至少能劈出两刀",rarity:D.Rare,hits:[{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}以迅雷不及掩耳之势向${e.name}发起了攻势`},{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`电光火石之间，${t.name}再次做出了攻击`}]},PowerfulDigAttack:{name:"撅",description:"撅是对知识的渴求。古往今来多少哲学家撅地三尺探求真理",rarity:D.Masterpiece,hits:[{category:C.Attack,coeff:{str:2,int:0,con:0,siz:3,app:0,dex:0},extraEffect:(t,e)=>{e.addStatus(oi.Pain,1)},messageGenerator:(t,e)=>`${t.name}撅了${e.name}，${e.name}痛苦难耐
// 哼哼啊啊啊啊啊啊啊啊啊啊 `}]},SleepyTea:{name:"饮用昏睡红茶",description:"诗人都喜欢饮酒作赋，古代的哲学家也是如此，只是彼时还没有酒",rarity:D.Epic,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，进入睡眠`},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，于睡眠中恢复了<span style="color: green">${t.getAbility().con}</span>点生命值`,extraEffect:(t,e)=>{t.recoverHp(t.getAbility().con/2)}}]},Yarimasune:{name:"这个可以有！(赞赏)",description:"丝毫不吝啬对敌人的赞赏，这就是野兽先辈的气量",rarity:D.Rare,hits:[{category:C.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},Repent:{name:"†你改悔罢†",description:"令敌人改悔的神圣攻击",rarity:D.Masterpiece,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪躲`},{category:C.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}曰: †你改悔罢†`}]},HorizontalSlash:{name:"横斩",description:"千钧之力的大力横劈",rarity:D.Rare,hits:[{category:C.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}猛劈一刀`}]},StepSlash:{name:"踏前斩",description:"前踏一步进行追击，而后猛劈一刀",rarity:D.Rare,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}前踏一步`},{category:C.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}借着前冲的力劈出强力一击`}]},Mikiri:{name:"见切",description:"在敌人攻击的瞬间拔刀后退，成功回避攻击则能乘势将气入刀，以在下回合释放气刃大回旋",rarity:D.Masterpiece,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>`${t.name}在敌人攻击的瞬间拔刀后退`,extraEffect:(t,e)=>{t.addStatus(oi.SpiritBlade,1)}}]},SpiritRoundSlash:{name:"气刃大回旋",description:"将气附于刀刃之上，使出极大幅度回转刀身的斩击，若是击中敌人则可使用登龙",rarity:D.Masterpiece,hits:[{category:C.Attack,coeff:{str:4,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}使出极大幅度回转刀身的斩击`,extraEffect:(t,e)=>{t.addStatus(oi.RedBlade,1)}}]},HelmBreaker:{name:"登龙",description:"快速向前突进，若成功击中命中便会借势踩着敌人的身体一路跃至高空，而后以全身的力量从空中向下劈出泣鬼神的一刀",rarity:D.Mythical,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},continuous:!0,messageGenerator:(t,e)=>`${t.name}向${e.name}突进，踩着${e.name}的身体一路跃至高空`},{category:C.Attack,coeff:{str:10,int:0,con:2,siz:2,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}从天而降，以全身之力劈向${e.name}`}]},Slash:{name:"劈砍",description:"挥舞手中的武器",rarity:D.Common,hits:[{category:C.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}挥舞手中的武器劈向${e.name}`}]},Bite:{name:"撕咬",description:"野兽的原始攻击方式",rarity:D.Common,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}冲过来咬了${e.name}一口`}]},Claw:{name:"爪击",description:"野兽的原始攻击方式",rarity:D.Rare,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`},{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:.5,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`}]},RunAway:{name:"抱头鼠窜",description:"抱头鼠窜",rarity:D.Common,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}抱头鼠窜`},{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}抱头鼠窜`}]},Capture:{name:"尝试捕捉",description:"这不是神奇宝贝，你得用绞技而不是精灵球",rarity:D.Common,hits:[{category:C.Capture,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},extraEffect:Hp,messageGenerator:(t,e)=>`${t.name}尝试通过绞住${e.name}，让${e.name}失去行动力`}]},Defend:{name:"格挡",description:"做一个稳重的人",rarity:D.Common,hits:[{category:C.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`}]},Counter:{name:"反击",description:"格挡后乘势反击",rarity:D.Rare,hits:[{category:C.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},DefenseSlash:{name:"防御斩",description:"快速挥刀后立刻进行防御，不给敌人任何可乘之机",rarity:D.Rare,hits:[{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了一次快速攻击`},{category:C.Defend,coeff:{str:1.5,int:0,con:1.5,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了铁壁一般的防御`}]},Dodge:{name:"闪避",description:"天下武功，唯快不破。若是能闪过敌人的攻击，将使敌人失衡，失去下一个动作",rarity:D.Common,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 对 ${e.name} 的攻击进行了闪躲`}]},PsyDodge:{name:"瞬移",description:"念力的一种用法",rarity:D.Epic,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.Dodge,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 的身影瞬间到了别处`}]},SpinAttack:{name:"回旋击",description:"闪避后趁敌人重心不稳发起攻击",rarity:D.Rare,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪避`},{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 进行了回旋击`}]},DragonBreath:{name:"巨龙吐息",description:"据说巨龙的吐息足以融化钢铁",rarity:D.Epic,hits:[{category:C.Attack,coeff:{str:0,int:10,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了汹涌的火焰`},{category:C.Attack,coeff:{str:0,int:5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了灼热的火焰`},{category:C.Attack,coeff:{str:0,int:2,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了喉咙中残余的火焰`}]},GodStrike:{name:"神击",description:"犹如神灵降下天罚",rarity:D.Mythical,hits:[{category:C.Attack,coeff:{str:12,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`神明的愤怒降临于${e.name}`}]},ShredFlower:{name:"碎花",description:"无人能看清动作，空中轻柔的落花瞬间化为齑粉",rarity:D.Unique,hits:[{category:C.Defend,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 被花瓣包围了`},{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 的身影消失了`},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有残影"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有更多的残影"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${e.name} 同花瓣一同破碎`}]},PsyKick:{name:"念动力踢击",description:"通过念力完成的隔空踢击，力道十足又难以防备",rarity:D.Rare,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.Attack,coeff:{str:1,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}凭空被踢了一脚`}]},PsyExplosion:{name:"不可视爆裂",description:"不可视的念力凝聚成万吨重锤从天而降",rarity:D.Epic,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.Attack,coeff:{str:2,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}所在的位置发生了大爆炸`}]},PsyInvisibleSword:{name:'"不可视之剑"',description:"无数看不见的剑刺向敌人，流淌的血勾勒出它们的形状",rarity:D.Unique,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.Attack,coeff:{str:0,int:1.5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`看不见的剑贯穿${e.name}`},{category:C.Attack,coeff:{str:0,int:3,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`更多看不见的剑贯穿${e.name}`},{category:C.Attack,coeff:{str:0,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`极多看不见的剑贯穿${e.name}`},{category:C.Attack,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`无数看不见的剑贯穿${e.name}`}]},NeverRetreat:{name:"死守不退",description:"全力防御，死守不退",rarity:D.Masterpiece,hits:[{category:C.Defend,coeff:{str:2,int:0,con:2,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 全力防御`},{category:C.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 死守不退`}]},CrowFly:{name:"乌鸦坐飞机",description:"高高跃起后发起攻击",rarity:D.Masterpiece,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 一个大跳`},{category:C.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 从空中一拳打向 ${e.name}`}]},ParkDestroyer:{name:"龙卷风击毁停车场",description:"释放武器中的狂风之力，形成狂暴的龙卷风",rarity:D.Masterpiece,hits:[{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`风卷着尘土袭向 ${e.name}`},{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"回旋的风聚成龙卷"},{category:C.Attack,coeff:{str:1.5,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 从龙卷风中刺出`}]},LightningStormSlash:{name:"闪电旋风劈",description:"闪！电！旋！风！劈！",rarity:D.Masterpiece,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"闪电！"},{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>"旋风！"},{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"劈！"}]},LightningFiveStrikes:{name:"闪电五连鞭",description:"相传武林中有一位马大师，靠着这套五连鞭驰骋江湖，可惜后来被两个年轻人偷袭，从此销声匿迹",rarity:D.Masterpiece,hits:[{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第一鞭！"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第二鞭！"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第三鞭！"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第四鞭！"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第五鞭！"}]},SneakAttack:{name:"偷袭",description:"来！骗！来！偷袭！",rarity:D.Rare,hits:[{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 来！骗！来！偷袭！`,extraEffect:(t,e)=>{e.addStatus(oi.Dizzy,1)}}]}};var ji=(t=>(t.Sword="Sword",t.ShabbyKatana="ShabbyKatana",t.GreatKatana="GreatKatana",t.Ningenmukotsu="Ningenmukotsu",t.Mikadsukimunechika="Mikadsukimunechika",t.MudKnife="MudKnife",t.WindSpinSword="WindSpinSword",t.AyulsaOfNoHonor="AyulsaOfNoHonor",t.RockSword="RockSword",t.Rope="Rope",t.DragonSlayer="DragonSlayer",t.KatanaOfTheHeart="KatanaOfTheHeart",t.WomenDress="WomenDress",t.ToonoDefeaterBadge="ToonoDefeaterBadge",t))(ji||{});const go={Sword:{name:"铁剑",description:"一把平平无奇的剑",rarity:D.Common,position:Mt.Hand,extraActions:[{actionType:L.Slash,weight:.8},{actionType:L.HorizontalSlash,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Attack]:{plus:1,multiply:1}}},Rope:{name:"绳索",description:"一个看起来很适合用来捕捉的武器",rarity:D.Common,position:Mt.Hand,extraActions:[{actionType:L.Capture,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Attack]:{plus:-1,multiply:1},[C.Capture]:{plus:2,multiply:1}}},ShabbyKatana:{name:"残破太刀",description:"太好了，有了这个，你就可以做虾头太刀侠了",rarity:D.Common,position:Mt.Hand,extraActions:[{actionType:L.Slash,weight:.9},{actionType:L.HorizontalSlash,weight:.05},{actionType:L.StepSlash,weight:.04},{actionType:L.Mikiri,weight:.01}],ability:{piercing:25,dex:-1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Attack]:{plus:1,multiply:1},[C.Dodge]:{plus:-1,multiply:1}}},GreatKatana:{name:"大太刀",description:"这把的太刀的刀身比一般的太刀要长，挥舞起来很吃力但是威力巨大",rarity:D.Rare,position:Mt.Hand,extraActions:[{actionType:L.Slash,weight:.7},{actionType:L.HorizontalSlash,weight:.1},{actionType:L.StepSlash,weight:.1},{actionType:L.Mikiri,weight:.05}],ability:{piercing:30,dex:-2},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Attack]:{plus:4,multiply:1},[C.Dodge]:{plus:-2,multiply:1}}},Ningenmukotsu:{name:'太刀"人间无骨"',description:"正面刻着人间，背面刻着无骨的名刀。刀如其名，削骨若无物",rarity:D.Masterpiece,position:Mt.Hand,extraActions:[{actionType:L.HorizontalSlash,weight:.4},{actionType:L.StepSlash,weight:.4},{actionType:L.Mikiri,weight:.15}],ability:{piercing:40},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[C.Attack]:{plus:1,multiply:1.2}}},Mikadsukimunechika:{name:'太刀"三日月宗近"',description:"太刀最高杰作的天下五剑之一，传说中的名刀，有着名物中的名物之称。刀身如同新月一般美丽",rarity:D.Epic,position:Mt.Hand,extraActions:[{actionType:L.HorizontalSlash,weight:.3},{actionType:L.StepSlash,weight:.3},{actionType:L.Mikiri,weight:.3}],ability:{piercing:40,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[C.Attack]:{plus:6,multiply:1},[C.Dodge]:{plus:1,multiply:1}}},KatanaOfTheHeart:{name:"心中的太刀",description:"你看不见它，但它确实在你手中",rarity:D.Mythical,position:Mt.Hand,extraActions:[{actionType:L.Mikiri,weight:1}],ability:{piercing:45},armorGrowthCoeff:0,piercingGrowthCoeff:6.5,actionCoeff:{[C.Attack]:{plus:6,multiply:1.2},[C.Dodge]:{plus:6,multiply:1.2}}},MudKnife:{name:"沼气短刀",description:"刀身闻起来臭臭的",rarity:D.Rare,position:Mt.Hand,extraActions:[{actionType:L.Slash,weight:.4},{actionType:L.PowerfulDigAttack,weight:.1},{actionType:L.QuickAttack,weight:.5}],ability:{piercing:30,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Dodge]:{plus:1,multiply:1}}},WindSpinSword:{name:"风旋刺剑",description:"靠近剑身能听到轻轻的风声",rarity:D.Masterpiece,position:Mt.Hand,extraActions:[{actionType:L.SpinAttack,weight:.6},{actionType:L.ParkDestroyer,weight:.15},{actionType:L.LightningStormSlash,weight:.15}],ability:{piercing:35,dex:2},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[C.Attack]:{plus:1,multiply:1},[C.Dodge]:{plus:2,multiply:1}}},RockSword:{name:"剑型大石头",description:"一把很宽的石头大剑，看起来就像块大石头",rarity:D.Masterpiece,position:Mt.Hand,extraActions:[{actionType:L.DefenseSlash,weight:.3},{actionType:L.Counter,weight:.4},{actionType:L.NeverRetreat,weight:.3}],ability:{str:1,con:1,piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[C.Defend]:{plus:3,multiply:1}}},DragonSlayer:{name:'"弑龙者"',description:"传说这把剑上的龙之力来源于被它杀死的龙的灵魂。你握着它，仿佛能感受到龙的气息",rarity:D.Epic,position:Mt.Hand,extraActions:[{actionType:L.HorizontalSlash,weight:1},{actionType:L.DragonBreath,weight:.1}],ability:{str:1,con:2,piercing:40},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[C.Attack]:{plus:2,multiply:1}}},AyulsaOfNoHonor:{name:"Ayulsa死于徒手",description:"Ayulsa手上没有武器",rarity:D.Unique,position:Mt.Hand,extraActions:[{actionType:L.PsyKick,weight:.2},{actionType:L.PsyExplosion,weight:.2},{actionType:L.PsyInvisibleSword,weight:.1},{actionType:L.PsyDodge,weight:.2}],ability:{int:2,dex:2,piercing:50},armorGrowthCoeff:0,piercingGrowthCoeff:6.75,actionCoeff:{}},WomenDress:{name:"女装",description:"女装",rarity:D.Rare,position:Mt.Body,extraActions:[],ability:{armor:15},armorGrowthCoeff:3,piercingGrowthCoeff:0,actionCoeff:{}},ToonoDefeaterBadge:{name:"远野击败者徽章",description:"隐藏着一些原本属于你的力量",canNotObtainFromChest:!0,rarity:D.Masterpiece,position:Mt.Accessory,extraActions:[{actionType:L.PowerfulDigAttack,weight:.03},{actionType:L.Yarimasune,weight:.03},{actionType:L.Repent,weight:.03},{actionType:L.SleepyTea,weight:.03}],ability:{armor:5,piercing:5},armorGrowthCoeff:0,piercingGrowthCoeff:0,actionCoeff:{}}};class Yu{constructor(e,n,i,o,s,a,l){Ct(this,"name");Ct(this,"uuid");Ct(this,"category");Ct(this,"type");Ct(this,"rarity");Ct(this,"level");Ct(this,"description");this.name=e,this.uuid=n,this.category=i,this.type=o,this.rarity=s,this.level=a,this.description=l}}const Xt=[];for(let t=0;t<256;++t)Xt.push((t+256).toString(16).slice(1));function Fp(t,e=0){return(Xt[t[e+0]]+Xt[t[e+1]]+Xt[t[e+2]]+Xt[t[e+3]]+"-"+Xt[t[e+4]]+Xt[t[e+5]]+"-"+Xt[t[e+6]]+Xt[t[e+7]]+"-"+Xt[t[e+8]]+Xt[t[e+9]]+"-"+Xt[t[e+10]]+Xt[t[e+11]]+Xt[t[e+12]]+Xt[t[e+13]]+Xt[t[e+14]]+Xt[t[e+15]]).toLowerCase()}let Ns;const zp=new Uint8Array(16);function Gp(){if(!Ns){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ns=crypto.getRandomValues.bind(crypto)}return Ns(zp)}const Wp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Nl={randomUUID:Wp};function qu(t,e,n){var o;if(Nl.randomUUID&&!t)return Nl.randomUUID();t=t||{};const i=t.random??((o=t.rng)==null?void 0:o.call(t))??Gp();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Fp(i)}class cn extends Yu{constructor(n,i=0){n=n||ji.Sword;const o=go[n];super(o.name,qu(),fi.Equipment,n,o.rarity,i,o.description);Ct(this,"position");Ct(this,"extraActions");Ct(this,"ability");Ct(this,"armorGrowthCoeff");Ct(this,"piercingGrowthCoeff");Ct(this,"actionCoeff");Ct(this,"prefix");this.armorGrowthCoeff=o.armorGrowthCoeff,this.piercingGrowthCoeff=o.piercingGrowthCoeff,this.position=o.position,this.extraActions=o.extraActions,this.randomExtraActionsWeight(),this.ability=o.ability,this.actionCoeff=o.actionCoeff,this.ability.armor||(this.ability.armor=0),this.ability.piercing||(this.ability.piercing=0),this.ability.armor+=this.armorGrowthCoeff*this.level,this.ability.piercing+=this.piercingGrowthCoeff*this.level,this.prefix=jp(this.randomPrefixRarity(),o.position),this.applyPrefix()}randomExtraActionsWeight(){this.extraActions.forEach(n=>{n.weight=n.weight*(1+Math.random()*.4-.2)})}randomPrefixRarity(){let n=D.Common;for(let i=0;i<10;i++)Math.random()<.05?n-=1:Math.random()>.95&&(n+=1);return n<D.Common?n=D.Common:n>D.Mythical&&(n=D.Mythical),n}applyPrefix(){["str","int","con","siz","app","dex","armor","piercing"].forEach(o=>{var s;(s=this.prefix.ability)!=null&&s[o]&&(this.ability[o]=this.ability[o]?this.ability[o]+this.prefix.ability[o]:this.prefix.ability[o])}),[C.Attack,C.Defend,C.Dodge,C.Capture,C.Special,C.None].forEach(o=>{var s;(s=this.prefix.actionCoeff)!=null&&s[o]&&(this.actionCoeff[o]=this.actionCoeff[o]?{plus:this.actionCoeff[o].plus+this.prefix.actionCoeff[o].plus,multiply:this.actionCoeff[o].multiply*this.prefix.actionCoeff[o].multiply}:this.prefix.actionCoeff[o])}),this.extraActions.push(...this.prefix.extraActions),this.name=`${this.prefix.name}${this.name}`}levelup(){this.level++,this.ability.armor+=this.armorGrowthCoeff,this.ability.piercing+=this.piercingGrowthCoeff}}var Xu=(t=>(t.None="None",t.Heavy="Heavy",t.Light="Light",t.Sharp="Sharp",t.Huge="Huge",t.Masterpiece="Masterpiece",t.Mythical="Mythical",t.Epic="Epic",t.ABitHoly="ABitHoly",t.BeastHeart="BeastHeart",t.DragonForge="DragonForge",t.Sneaky="Sneaky",t.Weak="Weak",t.Strange="Strange",t.Small="Small",t.Sturdy="Sturdy",t.Bold="Bold",t.Cursed="Cursed",t.Elaborate="Elaborate",t.VillageBest="VillageBest",t.Shiny="Shiny",t.Quick="Quick",t.Powerful="Powerful",t.Elegant="Elegant",t.Handy="Handy",t.BlackAdvanced="BlackAdvanced",t.Blessed="Blessed",t.RageCursed="RageCursed",t.Weighty="Weighty",t.BloodCursed="BloodCursed",t.HeavenForge="HeavenForge",t.CrowFly="CrowFly",t.IronWall="IronWall",t.GodBlessed="GodBlessed",t.WindSpeed="WindSpeed",t.DragonScaleArmor="DragonScaleArmor",t.DragonScaleWeapon="DragonScaleWeapon",t.SteelForgeWeapon="SteelForgeWeapon",t.SteelForgeArmor="SteelForgeArmor",t.MasterMa="MasterMa",t.SharpBuffed="SharpBuffed",t.QuickBuffed="QuickBuffed",t.DefendBuffed="DefendBuffed",t.Bloodthirsty="Bloodthirsty",t))(Xu||{});const Di={None:{name:"",position:"AnyPosition",rarity:D.Common,extraActions:[],ability:{},actionCoeff:{}},Heavy:{name:"笨重的",position:"AnyPosition",rarity:D.Common,extraActions:[],ability:{dex:-1},actionCoeff:{}},Cursed:{name:"被诅咒的",position:"AnyPosition",rarity:D.Common,extraActions:[],ability:{con:-1},actionCoeff:{}},Weak:{name:"虚弱的",position:"AnyPosition",rarity:D.Common,extraActions:[],ability:{str:-1},actionCoeff:{}},Strange:{name:"古怪的",position:"AnyPosition",rarity:D.Common,extraActions:[],ability:{int:-1},actionCoeff:{}},Huge:{name:"巨大的",position:Mt.Hand,rarity:D.Common,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:1,multiply:1},[C.Dodge]:{plus:-2,multiply:1}}},Small:{name:"小巧的",position:Mt.Hand,rarity:D.Common,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:-1,multiply:1},[C.Dodge]:{plus:1,multiply:1}}},Light:{name:"轻巧的",position:"AnyPosition",rarity:D.Common,extraActions:[],ability:{},actionCoeff:{[C.Dodge]:{plus:1,multiply:1}}},Sturdy:{name:"结实的",position:Mt.Body,rarity:D.Common,extraActions:[],ability:{armor:5},actionCoeff:{}},Sneaky:{name:"卑鄙的",position:Mt.Hand,rarity:D.Common,extraActions:[{actionType:L.SneakAttack,weight:.2}],ability:{},actionCoeff:{}},Sharp:{name:"锐利的",position:Mt.Hand,rarity:D.Common,extraActions:[],ability:{piercing:5},actionCoeff:{}},Bold:{name:"莽撞的",position:Mt.Hand,rarity:D.Common,extraActions:[{actionType:L.Attack,weight:.6}],ability:{str:1},actionCoeff:{[C.Attack]:{plus:1,multiply:1}}},Elaborate:{name:"精制的",position:"AnyPosition",rarity:D.Rare,extraActions:[],ability:{piercing:5,armor:5},actionCoeff:{}},ABitHoly:{name:"有点神圣的",position:"AnyPosition",rarity:D.Rare,extraActions:[{actionType:L.Repent,weight:.1}],ability:{},actionCoeff:{}},VillageBest:{name:"村里最好的",position:Mt.Hand,rarity:D.Rare,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:1,multiply:1}}},BloodCursed:{name:"嗜血诅咒之",position:Mt.Hand,rarity:D.Rare,extraActions:[],ability:{con:-3,str:3},actionCoeff:{}},RageCursed:{name:"狂化诅咒的",position:Mt.Hand,rarity:D.Rare,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:0,multiply:1.3},[C.Dodge]:{plus:0,multiply:.5},[C.Defend]:{plus:0,multiply:.5}}},Shiny:{name:"闪亮的",position:"AnyPosition",rarity:D.Rare,extraActions:[],ability:{piercing:5},actionCoeff:{[C.Dodge]:{plus:1,multiply:1}}},Weighty:{name:"沉甸甸的",position:"AnyPosition",rarity:D.Rare,extraActions:[],ability:{con:1,dex:-1,armor:5},actionCoeff:{[C.Defend]:{plus:1,multiply:1},[C.Dodge]:{plus:-1,multiply:1}}},Quick:{name:"迅捷的",position:Mt.Hand,rarity:D.Rare,extraActions:[{actionType:L.QuickAttack,weight:.2}],ability:{dex:1},actionCoeff:{}},Powerful:{name:"强力的",position:Mt.Hand,rarity:D.Rare,extraActions:[{actionType:L.PowerAttack,weight:.2}],ability:{str:1},actionCoeff:{}},Elegant:{name:"优雅的",position:"AnyPosition",rarity:D.Rare,extraActions:[],ability:{int:1},actionCoeff:{}},Handy:{name:"趁手的",position:Mt.Hand,rarity:D.Rare,extraActions:[],ability:{piercing:10},actionCoeff:{}},BlackAdvanced:{name:"黑色高级的",position:"AnyPosition",rarity:D.Masterpiece,extraActions:[],ability:{armor:10,piercing:10},actionCoeff:{}},SteelForgeWeapon:{name:"精钢锻造的",position:Mt.Hand,rarity:D.Masterpiece,extraActions:[],ability:{piercing:15},actionCoeff:{}},SteelForgeArmor:{name:"精钢锻造的",position:Mt.Body,rarity:D.Masterpiece,extraActions:[],ability:{armor:20},actionCoeff:{}},Blessed:{name:"祝福的",position:"AnyPosition",rarity:D.Masterpiece,extraActions:[],ability:{con:2,armor:5},actionCoeff:{}},BeastHeart:{name:"野兽之心 ",position:"AnyPosition",rarity:D.Masterpiece,extraActions:[{actionType:L.PowerfulDigAttack,weight:.3}],ability:{con:1},actionCoeff:{}},Masterpiece:{name:"大师的杰作 ",position:"AnyPosition",rarity:D.Masterpiece,extraActions:[],ability:{con:1,piercing:5,armor:5},actionCoeff:{[C.Dodge]:{plus:1,multiply:1}}},CrowFly:{name:"乌鸦坐飞机 ",position:"AnyPosition",rarity:D.Masterpiece,extraActions:[{actionType:L.CrowFly,weight:.3}],ability:{},actionCoeff:{}},MasterMa:{name:"马老师的",position:Mt.Hand,rarity:D.Masterpiece,extraActions:[{actionType:L.LightningFiveStrikes,weight:.3}],ability:{},actionCoeff:{}},IronWall:{name:"铁壁的",position:Mt.Body,rarity:D.Masterpiece,extraActions:[],ability:{armor:10},actionCoeff:{[C.Defend]:{plus:1,multiply:1}}},WindSpeed:{name:"迅疾如风 ",position:"AnyPosition",rarity:D.Masterpiece,extraActions:[],ability:{dex:1},actionCoeff:{[C.Dodge]:{plus:2,multiply:1}}},SharpBuffed:{name:"附有锋利魔法的",position:Mt.Hand,rarity:D.Masterpiece,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:0,multiply:1.1}}},QuickBuffed:{name:"附有迅疾魔法的",position:"AnyPosition",rarity:D.Masterpiece,extraActions:[],ability:{},actionCoeff:{[C.Dodge]:{plus:0,multiply:1.2}}},DefendBuffed:{name:"附有防护魔法的",position:"AnyPosition",rarity:D.Masterpiece,extraActions:[],ability:{},actionCoeff:{[C.Defend]:{plus:0,multiply:1.2}}},Bloodthirsty:{name:"鲜血饥渴 ",position:Mt.Hand,rarity:D.Epic,extraActions:[],ability:{con:-3,piercing:30},actionCoeff:{[C.Attack]:{plus:3,multiply:1}}},GodBlessed:{name:"神佑 ",position:Mt.Hand,rarity:D.Epic,extraActions:[{actionType:L.Repent,weight:.1},{actionType:L.GodStrike,weight:.01}],ability:{con:2,armor:10},actionCoeff:{}},DragonForge:{name:"龙息锻造的",position:Mt.Hand,rarity:D.Epic,extraActions:[{actionType:L.DragonBreath,weight:.1}],ability:{piercing:10},actionCoeff:{}},DragonScaleArmor:{name:"龙鳞制成的",position:Mt.Body,rarity:D.Epic,extraActions:[],ability:{armor:30},actionCoeff:{}},DragonScaleWeapon:{name:"龙鳞制成的",position:Mt.Hand,rarity:D.Epic,extraActions:[],ability:{piercing:30},actionCoeff:{}},Epic:{name:"吟游诗人的歌谣中的",position:"AnyPosition",rarity:D.Epic,extraActions:[],ability:{piercing:10,armor:10},actionCoeff:{[C.Dodge]:{plus:2,multiply:1},[C.Defend]:{plus:2,multiply:1}}},Mythical:{name:"神话时代的遗留物 ",position:"AnyPosition",rarity:D.Mythical,extraActions:[],ability:{str:1,dex:1,app:1,siz:1,con:1,int:1,piercing:5,armor:5},actionCoeff:{[C.Attack]:{plus:1,multiply:1},[C.Defend]:{plus:1,multiply:1},[C.Dodge]:{plus:1,multiply:1},[C.Capture]:{plus:1,multiply:1},[C.Special]:{plus:1,multiply:1}}},HeavenForge:{name:"天堂造物 ",position:"AnyPosition",rarity:D.Mythical,extraActions:[{actionType:L.GodStrike,weight:.1}],ability:{con:1,int:1,piercing:10,armor:10},actionCoeff:{}}};function jp(t,e){const n=Object.keys(Di).filter(s=>Di[s].rarity===t&&(Di[s].position===e||Di[s].position==="AnyPosition")),i=Math.floor(Math.random()*n.length),o=n[i];return Di[o]||Di[Xu.None]}function Vp(t,e){const n=Object.keys(go).filter(s=>go[s].rarity===t&&!go[s].canNotObtainFromChest),i=Math.floor(Math.random()*n.length),o=n[i];return new cn(o,e)}function Up(t){const e=`
    <div class="tooltip-base tooltip-header">
      <h5 class="text-${D[t.rarity]}" style="font-weight: bold;">lv${t.level} ${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
      <p><strong>位置:</strong> ${t.position}</p>
      <br>
    </div>
  `;let n="";t.ability&&Object.keys(t.ability).length>0&&(n=`
    <div class="tooltip-abilities tooltip-extra">
      <p><strong>属性: </strong>
        ${Object.entries(t.ability).filter(([s,a])=>a).map(([s,a])=>`${s}: ${a}`).join(", ")}
      </p>
    </div>
  `);let i="";t.extraActions&&t.extraActions.length>0&&(i=`
      <div class="tooltip-extra-actions tooltip-extra">
        <p><strong>额外行动: </strong>
          ${t.extraActions.map(s=>`${Ut[s.actionType].name} (权重: ${s.weight.toFixed(2)})`).join(", ")}
      </div>
    `);let o="";return t.actionCoeff&&Object.keys(t.actionCoeff).length>0&&(o=`
      <div class="tooltip-action-coeff tooltip-extra">
        <p><strong>行动系数: </strong>
          ${Object.entries(t.actionCoeff).map(([s,a])=>`${s}: ${a.plus<0?"":"+"}${a.plus} ${a.multiply===1?"":"x"+a.multiply}`).join(", ")}
      </div>
    `),e+n+i+o}function dr(t,e){Math.random()<.1?e-=1:Math.random()<.05&&(e+=1),e=e<D.Common?D.Common:e,e=e>D.Mythical?D.Mythical:e;let n=Math.floor(t+10*(Math.random()-.5));return n<0&&(n=0),Vp(e,n)}class Ke extends Yu{constructor(e,n=0){e=e||It.Unknown;const i=Il[e];super(i.name,qu(),fi.Consumable,e,i.rarity,n,i.description)}useItem(e){Il[this.type].effect(e),e.pack=e.pack.filter(n=>n.uuid!==this.uuid)}}var It=(t=>(t.Unknown="Unknown",t.BrokenChest="BrokenChest",t.WoodenChest="WoodenChest",t.SilverChest="SilverChest",t.GoldChest="GoldChest",t.DiamondChest="DiamondChest",t.QuickRecoveryPotion="QuickRecoveryPotion",t.LifePotion="LifePotion",t.LargeLifePotion="LargeLifePotion",t.GiftboxAndLetter="GiftboxAndLetter",t))(It||{});const Il={BrokenChest:{name:"破烂的木宝箱",rarity:D.Common,description:"一个破破烂烂的宝箱",effect:t=>{t.pack.push(dr(1,D.Common))}},WoodenChest:{name:"木质的宝箱",rarity:D.Rare,description:"一个有着漂亮的木质纹理的宝箱",effect:t=>{t.pack.push(dr(1,D.Rare))}},SilverChest:{name:"银色装饰的宝箱",rarity:D.Masterpiece,description:"这个宝箱上有着精细的银制装饰，银锈并不能掩盖它的华丽",effect:t=>{t.pack.push(dr(1,D.Masterpiece))}},GoldChest:{name:"黄金镶边的宝箱",rarity:D.Epic,description:"金光闪闪，这才叫宝箱！光是看着就让人心潮澎湃",effect:t=>{t.pack.push(dr(1,D.Epic))}},DiamondChest:{name:"华丽的宝石宝箱",rarity:D.Mythical,description:"无法用辞藻形容的华丽，你甚至害怕打开它会划伤上面美丽的宝石",effect:t=>{t.pack.push(dr(1,D.Mythical))}},Unknown:{name:"未知",rarity:D.Common,description:"未知",effect:t=>{}},QuickRecoveryPotion:{name:"神秘黄色药水",rarity:D.Epic,description:"看起来不像是这个世界的产物。非常的新鲜，非常的美味<p>自动回复速度提升15倍，持续1分钟</p>",effect:t=>{t.addStatus(oi.QuickRecovery,60,14),console.log("使用快速恢复秘药")}},LifePotion:{name:"生命秘药",rarity:D.Masterpiece,description:"只要没死，区区断胳膊断腿喝下去立马都能长回来。你有个疑问，这玩意儿到底是什么做的？<p>恢复50点生命值</p>",effect:t=>{t.recoverHp(50)}},LargeLifePotion:{name:"大瓶生命秘药",rarity:D.Epic,description:"普通的生命秘药一次只能让你长一只胳膊，而这大瓶装能让你一次全长回来。前提是你还有手可以拿它<p>恢复100点生命值</p>",effect:t=>{t.recoverHp(100)}},GiftboxAndLetter:{name:"礼物箱和一封信",rarity:D.Mythical,description:"一个礼物箱，上面还附了一封信，信上的字模糊不清",effect:t=>{for(let e=0;e<5;e++)t.pack.push(new Ke("QuickRecoveryPotion"));for(let e=0;e<10;e++)t.pack.push(new Ke("LifePotion"));for(let e=0;e<5;e++)t.pack.push(new Ke("LargeLifePotion"));t.pack.push(new cn(ji.Sword)),t.pack.push(new cn(ji.Rope))}}},Qp="data:image/gif;base64,R0lGODlhPAA8APYAAAQEBBgYGCcnJzEwMFoZAGkhCGspEGs1EHMxGXc4JXNFFHNSGXtCMXtjIVJSUmVlZXh4eIRKN4RSOotRRYtVRZRaUpdnVpxzZaV4aqV7c4yNMZSWRJSpQq2GeaXSUoiIiJmZma2MhLWMhLWUiryblqurq7i4uMWspc61rc64tda9utbFvcnJydzKydjY2Obb2+3n6vfv7/f37////4R7KWMZAL2lnMWlnO/m3vfv95y6SpzFSpzOUq3Pbd7Wzt7O1ntaIZlmZr3mhNbvre/33uve5gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAsAAAAADwAPAAAB/+AM4KDhIWGh4iJiouMjY6PkJGSk5EZLYMvFjCYMpSehTAIBh0vJwkEFoIxEh2frjMrBxoKCLIbBRYdDAQjr58dCj07HBw8PBwLChoHKb6ULwUbPcQcOjo7PB4aCDjOki8TBAcHCOUK5w0aCwzekScGCR0nKy0+LS0qJxenCd3tjR0KdIihKAaJBAz8/Ut0oQAKRzEiROi08FCHGs0ewUiQqmKhFjVISGpRQIXHQTIiVFA1g+IhFi5nZJh4cgaKAj9mwDBBsJCMny4+mCD0IsGJmhY6BgVB0MQmnTCimoBQAmXSkzEQPITxAECAAR9KlGARQ4YLFyUEAADggCIJBjH/261IsAnGBwEfHIg1QbblzgcBvroQ1CLBC48dJhBiAcKEi05xWTz44LJIgowLKXQk9BMRjMGcJ4isKGFEXEm5Ksq4fPiQjKeLUi+McTkRC9iKZP+j/dA1jNOHLPSaXds3CBcwWOQevru47989XQuvGIMBZkIueLo0i1uQDAqj/8lg0BuUiQ8gxrK4fTpi+X8RbCT6DCPGb0QvGFyqOH0R8EE/RNDaQhhg4EoLEnTnTQebUdLCBP+90oGBnzwYoSsTMPdMBAr68gIC+3kCQwQrVDQChK58J99CovliAYXtvCCgLyE06MwNFVz4yAmK/YNBBs6k0GM7FBzVkispSLCb/wQ55QBDCiromIgNFPzzggRF6LQPAxfkcEgOZXkX5iAiXPBPCwxsMoJhMFCAwZgxnGCBRBNYYAMMJAw4wwUa+oImQRgMF8MEIsDQQgcSCJdCCymIUMEFFrg0aInt/DnDDRb0VF0ECWCgp30bhTdDCxyemeYMEaXQyQoGUOADZ1HBMEIE0c0gQgQL+WCYIAelYEECos7g5A8qYGDAq4Ns1KcvEYVogQEW6ClDDC1ggEABJBZigwEKtWMBkN5J+6QFDIgWYrIMINDhKyOcasi4nbbQoQzGGnCuNyoUINJPPxUxaw0JXALDCzH9NAICKSBg0kI8GjDCPSqEkAACGUzQ6n0JL9RH0WsnFDBCdUb+MwIGDBRQQDnxDkyCBAUwEAIKGRtqgUBRMRCsMyNYsOgIJKSQMagwFIHCrwggFIEBE6QAagStLBSfDUDX2tK0L7RgQwcjpOAlVBSA2w4OCaigwsDr+hfDiwsV9sMPGXsSQ4ELkRBBEXR/kgMGZj4SCAAh+QQFBAA6ACwQAAMAHQAzAAAG/8CZcEgsGo/IoWwEG8ZGsqR01iJIcDHUhNAZtlC6sHhM1h0aiYRCwzlYSJZapkwPGxqbxkLRoHE8Hhx1dRE1CRMWGRgWFAx8CxFTQjcIFCsxRjEnFAWDZSeSLREML0kWCC2SQjIWCThHGAmlqkMXEVFEKKgzmLhHLL4xDB1lNjMwJphFMswuHyZEKQivQicTUc4gmCZNxzDfJhAlShEjQxXmMA8AAQMfJSUsMTIuLiUCAAAOuCESQjikwnwQ8MEBPBNhZshA9iBAOxdCVLiaYS3HEBYgTLiI4ksIiwcffMGIkGJGBgvKlHQkAgMikRgVSITBMIvWjDIWzE0QkWShKpcMXSaQSMLC0xgMGWQwGHpkoQyjY5TKHATCBYyinrpE4IlkIQwZMaDOmJDhiItkvujBoEMBFAUMR5B9ABGPBYuvmSKsmFHhQpKWMGLgPfJClkkKklYWScEgyogJFm0aeSyEhISUkod0sHBTBwXFkimbhApVRQTSqHVMSE16NevXsGPLnk27tu3buHPr3s27t+/fwIN3HhQEACH5BAUEADUALBAAAgAdACsAAAf/gDOCg4QyMIQwKoSLjIwnETGCLQwFL4Mrlo2NIwQTJBgGQAcTLS0YBCOajRYNNAoKGh46CgUIDQonqowTNEI9O8A7Ohw6OwotuoQxCBpEPcXBwDoImcknEwUcQ8/ROzwcCckzL9gUCQvFPME8PDpABamqLQkUyCoJBw0aHBsaGg0HEFQwcEGTD4IyBr0IYSFCggQMIgQh0QLGvA6MZDCwkHBRDBgvfryI0VHQjwSKCHVAcEgcIxIRSsJAkMslIxgRUAzqQGFQpJKMWACd0aHgjBgJUgiCYSLSIhlQXXwwsaiFhIQnErSUCiKSiZYwwjKFUAIRqRkZLCx9ACDAgA8l80qwIOnCRQkBAAA46CjDAokZFEQs/SDgg4O4JubOMGTiQQC3LgZh6KCxpiAWIEy4SDiUxYMPQEVwZJCy0NBBMCIvImEhRoQWTm02Yu26oiZDLke0fq2KRctkomVEKP0UxulGaQFbLg7CBQwWg2pIn17DAkYLgm+HlRGb+vQJuTBkaOSiaUkZzr1L5z3C6CKmH0DIZeH79KRDKSyon54axsfjM6AQ0wwrSPDbbbqQMIEgKCRQjWyEkDBdBxEcCOFi18wgXQYAuiRDCgnsJ+KI0snwAgPTxXYhahKQ6OKLMMYo44w01mjjjTiSKEOO6o3gg3qBAAA7",Kp="/isekai114514/assets/dragon2-BZv29Gbk.gif",Yp="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QDKRXhpZgAATU0AKgAAAAgABgESAAMAAAABAAEAAAEaAAUAAAABAAAAVgEbAAUAAAABAAAAXgEoAAMAAAABAAIAAAITAAMAAAABAAEAAIdpAAQAAAABAAAAZgAAAAAAAABIAAAAAQAAAEgAAAABAAeQAAAHAAAABDAyMjGRAQAHAAAABAECAwCgAAAHAAAABDAxMDCgAQADAAAAAQABAACgAgAEAAAAAQAAAIqgAwAEAAAAAQAAAIikBgADAAAAAQAAAAAAAAAAAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wgARCACIAIoDASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAAAAIDBAUGAQf/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB0rdY+WKG0C2+poU0sOcBaHGR1lytJll5pcRtTnSk4/NqM606cYRIHYDsqOV0hsnRYksW5HeMTH0OePQpcKaZ59aiUy7Gqti6RmE2HHCBJdVGWhaCBV88h08/laG0DoFLLaXDcppazQLA4kWAAAAEKbCmHQCr5SXVjUeXDl0K8jfxOjc5UnrfR0SoACBXT8SejkeQeY2dYGwk47WDsiaHErDh0AAAz4zmOpNNqMLuTzLllwr+zwk3WdDcOYNZteYjhrqioBEKwCv5Yg5uclrToA1CkVxYMw0Fm/SyyRJp3xU2msyYAAAAAAIaA4AdWAy+Ay+AsAAAAP/EACsQAAIBAwMEAgIABwAAAAAAAAIDAQAEERITFAUQICEiMDRBIyQxMjNCQ//aAAgBAQABBQKZiIUcMGpmKnT2/dfufUV+qbeKTQX9udRMTHbqjNNral/LQXx7T6gfdTOID3T/AIqH3AfKh/t6gnWiun3Uqb26guX0kSSEfGKmcQGWl6GJLcIfjDDlrZLQtBfBc5rMFVwvadVqWu2phwNZjC/4k1OWMIwCtBsoUxFNHRC40we42SXlK/jNxO0N6AuVVnGm1qB3GyeVhGhLC0iVxtibTtnbhGoZnBBrbiBi6vDym/aslkLQKNQs127bK0JzOw+kjbxp/wBSHcJtstoccsaImsVEYqfcXiIaKen66WArGmJCb3v/AMXr11BSJJ+u5nHhiKWzFPDUNsUEPcc+d36t+8TmCxjSWoS4rhKCjse7qnOIzjwvfw+mXOseyLyM/wBYWXp0ZYtpoJF0DqMzXUXA1DBmteajPh1CcWSzlZpZDldk3hrhExcRNuUlwhyu2Wsq048+p3AyNdJd4KaaitL8W/VeX8DEznt0383xR1By6X1JJSLALtuBW6umXiF03qlNuXNnv0382uDc1wbmuFc1wrmuFc1wrmuFdVxLuuFdVwrmuFc1wrmuFc1wbmuDc1wbmrG1eu67meiHXMpkWMKH3OzMvxMHqjdZuSXsbrVWqdz6G/5HjJ3KfYXA62nHuBED2sAUCp8rZCZ9O+ghgolK5mLdUQSFlOyGdsa4ydMgJVx040xq8v/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8BI//EABcRAQADAAAAAAAAAAAAAAAAAAEAQFD/2gAIAQIBAT8BtsHV/8QAMxAAAQMCAwYFAwIHAAAAAAAAAQACERIhAxAxICIyM0FREzBhcZFCYoEjUnKCkqGxwdH/2gAIAQEABj8Ck6KtumV9qcpVlGJM+y4491IM50/uKZHZHYlSpRycMq+rcqXHcdnhtadNVQNFfP7coGmQaOFSnOOTh0Tm5Ybj2yuvwi76RplSFSFvWarFcRKqcpO6xCFELxALdV42HeNcsMemV9AnBBuVLeN3Vb7U0lsFXUq6gNgdJV7tTcQIg9U7DBIQc4bgzc/uped5Qg1Um0ISQ+NKlvDYApMjqpxLNGgVLdMmOc0Gof32I9U0yRCof+CifLwz942D6qjE+VI6bN9su7EHYkK+igONJUfSVIz3IhWF1fZxfZeE83Gme9bupGhUFFbtwoFndlJbU30WjvhWuoCvsYiD26hB46506hV4Zhw1CmVJcqm6+T4Lb3vk7CPuNirDMFU4m6//AD5RZg3PdXyZtAO32+qh0tW64H85cbflcxvyuYD6BfpN/JW887DMuUVyiuUVyiuUVyiuUVwO+VyiuUVyiuUVyiuUVyiuUU1z8MgDY7k6BQ5rT/MpbhtI/jQlrf6lHhk2kwUCBYiVR4bdJ41pZWDNY41S4a6eThe/+k4UkinopJcAwGoN91iANJHh6rRsUNFwgD1wuvVeNGHw6QjTuzhq/Cb6j/iwpM6+TBUuFR7lRQES5oJNlp0jVaT6lRQFceiigKrrt//EACcQAQACAgIBAwUBAQEBAAAAAAEAESExQVEQIHHxYYGRobEw4cHR/9oACAEBAAE/IWbgMrOXjT341YXDxevjlH7CJZHNHEHThKFMeiHqy/TUoSDyecE3V9oa2uEsbm/KyM3PmHchfenuEH4okcgz9EtD3/bwCddXs+VhASrqV3visSjy4hrMC5gysCI3OCNxOD2ZoHOXuCi4lWCFlz3bhcgXhi8COPaDUXYE+AF/GFNr3RYHg+rx1FzAbArgmGs4iA1R7Q7G127gNLeI6O4pr90Ro79Zl3iNTruGM7g6hFWKfFrJF1johhdT3GHnLIBlpVnNyypslxF8Y1jNYJlxghRdMrkQJfJkmbG8wdCFMFaRr3JVFa1eYFFHgdpChktQ5OI/CO4YDoTiYQvgamChZEeIMDH0mgdQnnxB5gs6Hi6sIX0gAUFedBaM5jhOk3bX7kN9mv8AP2OX5x6FgcbT+e7TOX0RTTaOfLgiV+sxb/sEGyzyMzZFxVg33qGoV3Q2tj4Zh07r5i/vJgUp59U3FzNfk8/UqFNgEyG1qdwGPBU8Rv7wiT1DmRZdUbZ9hANBv6kx639PQNxqyiP5lucd78ebmJU4bDMKCDtTcPg05m4DTUoNYgB6d6hZ9S5mVv0BWqfuUNfZx/kVLhesZKrXx/R/PTcuDRitvzK2/VdSgy3Ua3Edh9k+NwZtB9SIlVsNI3Q0RfP9P88fLE+WJ8+T58nz5PnyAaH7nh3yZPnyfPk+fJ8+T5cny5PlyWDGtU69FTixXYw0gT6f1UCsmk/4lMQpdYp+ouQDBkD/ANncXl694cwfgfiIYBpu9R76ezf9QKkKXX9/47fA/wCoZCjkDTmYVioVm0fSDHNNMsKokKKWNcwMy8hhYixblHP/APYU1uJXLctfCVWZYKFEGb9v8an2Sl+kIBMM1iB1DbqbVtKWqjUBAbArY17zoaMWa1lzUxKVTIpkVfr/AP/aAAwDAQACAAMAAAAQmyUowcwwIUUgGlRaSo6M2Z77geg/YAIAAAkA9kLicAAgIWyAgwAAIsUcy4kc8cfAkXSEEAAAAAcA8cAAA//EABoRAQABBQAAAAAAAAAAAAAAAAEAESAwQFD/2gAIAQMBAT8Q1q2jEwjzP//EAB0RAAMAAgIDAAAAAAAAAAAAAAABERAwICFBUFH/2gAIAQIBAT8QJrpaJ0uW5ijJ94rUdEelpMTfn1f/xAAmEAEAAgIBAgYDAQEAAAAAAAABABEhMUFRYRBxgbHB8CAwkdGh/9oACAEBAAE/EBUqoaA6wETnGKocxp3UaXehEFXGO2ZZNE3Bs/SVnUz5TMG9jHRuwe8xUsLK4iBxWtN+sB3NgF/61DGgSWPizrhPyZfYgT0RTvUoh4JlbW3nwFFxG8BgRG+DR1l2C7zKWLoKjh2zhkMoY2guUjDudehd8iXtYmQBC3dpIIgjY+CoinoVj5hGot7S+UYOr/1EpRs1HGuJ1cvvDR7jggO4TfWAZoaOsIhy+uOkDwKf2EWsnMNsWJ6IXaKT01EXVnHnhGyMJkicW8vfXguAK0CWkAytwTzdFy5YtWsY7M8zgmEUbsvnLKQdtX/ss4w4EuZMKyPpBBpC6OOxBaULpz5oVqBou/OL+yRUhIjVUg+4Ark+bygsc56RCQFR4vwSq73vLJYae0BTVvVjJWxLfqkg4ejLQoHWxTryxRKAxS/SFgsxqbZS6COU4ZUupmfcKgOSKQpo6O0GEAo9GBPb/KSmBt3QOOJruRyVcteUgAAAUB4FYCyB7R74FgaCLFLcLgIa2O0w3QN+kQo07L6pumLAXEYYMhiCF5csFNThirtVgVyI0JTku5ZWb+DwCOUBd5PaAhA0B4iao3+p0igvV6YDYBY6gQpg0/WAx3bPSy9/wVpjwl0fJhtDvGAnKnEKy/oPFWNXXE6hXj8yhGrvhM0AEsSx8SepP4x4KTkrUFxb1ZeSIeG05pgZQXjwCmN8SlcviswtIFMDxGmKnA1f487r9yMrjs9QeniEKFgOF6k6jcrp1gFkXl1JlhQydSKERu8S+CJb8EG3bXuAwAjO70lDfYvI15xicnQCLTNuVn4UCI7uVTEqOVVczWLmOrk8LlVJatyET4Qbx38oMQORiALKgqcYVJiARLGNY1yOGAEBboSwoy77/jX2gC4RwRRioZ7+bpPaZ8BRjNemcDonJC6XAyz9unl+lQFWgyrBkIUXHVXePwRau1l3Fp5L/wBT1PEa1BiI0nJFR8ponb/UDXXBl9VamTOMBKxQKgDln/f4vmfXPmXzPTlXKnXerjsf7Hy/hUPQiPMXw+j3T7qPD9zvPqnzPvHzPuHzPrHzNv2PWJ212L5i5S55f9i12v26x+8e8x/Y/s+sfMfvHvPrHzPrHzPrHzNL8KC0cMrxJAxCOU+OsufwKsaLWyosQzB+XdiM5hEkEVbjh3lmHbNIUpU4dJeY0SA2LAd77xARVN0LV65Vr1WsEcPbvECNSgljpyGCRN4rtDB8rP04pwErosD/ALKfIbBalimKzLIsKN7gAOwuy+kOYy0UgF2llW+cFGssuEAbcTE0h2UMVe4xAOIlKO+eai4UMRgtgbFo6Qg4I1GI332ktqtEC44GP0r7RTukTSPDMi4o2oXXblgQa3K1Wr7sLuFPQug6bneVuQ5BdKXvcsICUb2y2ZhAwAIZxrO40RXYYLYPEaoalIUlaz6QHMEsbo6HT8//2Q==";var Qt=(t=>(t.Player="Player",t.Player114514="Player114514",t.FullPowerPlayer114514="FullPowerPlayer114514",t.Slime="Slime",t.Dragon="Dragon",t.AngryDragon="AngryDragon",t.WeakDragon="WeakDragon",t.Wolf="Wolf",t.DiscardedGolem="DiscardedGolem",t.Ayulsa="Ayulsa",t.Toono="Toono",t.Horse="Horse",t.Goblin="Goblin",t.FrightenedGoblinLeader="FrightenedGoblinLeader",t.AngryGoblinLeader="AngryGoblinLeader",t))(Qt||{});const ri={Player:{typeName:"人类",description:"你",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:L.Attack,weight:.5},{actionType:L.Capture,weight:.1},{actionType:L.Defend,weight:.2},{actionType:L.Dodge,weight:.2}],dropItems:[]},Player114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:L.Attack,weight:.5},{actionType:L.Capture,weight:.1},{actionType:L.Defend,weight:.2},{actionType:L.Dodge,weight:.2},{actionType:L.PowerfulDigAttack,weight:.03},{actionType:L.Yarimasune,weight:.03},{actionType:L.Repent,weight:.03},{actionType:L.SleepyTea,weight:.03}],dropItems:[]},FullPowerPlayer114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:L.PowerfulDigAttack,weight:.3},{actionType:L.Yarimasune,weight:.3},{actionType:L.Repent,weight:.3},{actionType:L.SleepyTea,weight:.3}],dropItems:[]},Toono:{typeName:"远野",description:"野兽学派的哲学家后辈",abilityCoeff:{str:{base:10,growth:.1},int:{base:5,growth:.1},con:{base:10,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:L.PowerfulDigAttack,weight:.4},{actionType:L.Counter,weight:.4},{actionType:L.Dodge,weight:.2}],dropItems:[{type:ji.ToonoDefeaterBadge,weight:1}]},Slime:{typeName:"史莱姆",description:"一种行动缓慢的软体生物，武器打上去没有什么手感",abilityCoeff:{str:{base:3,growth:.05},int:{base:0,growth:0},con:{base:3,growth:.1},siz:{base:2,growth:.05},app:{base:0,growth:0},dex:{base:1,growth:.05},armor:{base:25,growth:5.5},piercing:{base:0,growth:4.5}},actions:[{actionType:L.Attack,weight:1},{actionType:L.Defend,weight:1},{actionType:L.Dazed,weight:2}],dropItems:[{type:null,weight:.6},{type:It.BrokenChest,weight:.4},{type:It.WoodenChest,weight:.02},{type:It.SilverChest,weight:.001}]},Dragon:{typeName:'"池沼之主"龙',image:Qp,description:"生态位的顶端，人类在它庞大的身躯面前就像一只蝼蚁。它正用着锐利的目光打量着你，让你不寒而栗。<br>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。",abilityCoeff:{str:{base:10,growth:.2},int:{base:4,growth:.1},con:{base:20,growth:.8},siz:{base:20,growth:.2},app:{base:4,growth:.1},dex:{base:4,growth:.1},armor:{base:50,growth:5},piercing:{base:10,growth:5}},actions:[{actionType:L.Bite,weight:.1},{actionType:L.PowerAttack,weight:.2},{actionType:L.Counter,weight:.2},{actionType:L.DragonBreath,weight:.2},{actionType:L.QuickAttack,weight:.2},{actionType:L.Defend,weight:.1}],dropItems:[]},AngryDragon:{typeName:"愤怒的龙",image:Kp,description:"龙彻底被激怒了，一只蝼蚁居然让它受了伤。它有些虚弱，但是攻击更加狂暴了",abilityCoeff:{str:{base:15,growth:.3},int:{base:3,growth:.05},con:{base:10,growth:.4},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:6,growth:.15},armor:{base:25,growth:5},piercing:{base:20,growth:5}},actions:[{actionType:L.Bite,weight:.1},{actionType:L.PowerAttack,weight:.2},{actionType:L.DragonBreath,weight:.2},{actionType:L.QuickAttack,weight:.2}],dropItems:[]},WeakDragon:{typeName:"虚弱的龙",image:Yp,description:"它抛弃了自己作为龙的尊严，现在一心只想活下去",abilityCoeff:{str:{base:5,growth:.1},int:{base:6,growth:.15},con:{base:5,growth:.2},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:4,growth:.1},armor:{base:20,growth:5},piercing:{base:5,growth:5}},actions:[{actionType:L.Bite,weight:.2},{actionType:L.Counter,weight:.3},{actionType:L.DragonBreath,weight:.2},{actionType:L.Defend,weight:.3}],dropItems:[{type:It.SilverChest,weight:.95},{type:It.GoldChest,weight:.05},{type:It.DiamondChest,weight:.002}]},Wolf:{typeName:"孤狼",description:"一匹行动敏捷的孤狼，对于普通人来说，它是一种危险的生物",abilityCoeff:{str:{base:5,growth:.1},int:{base:2,growth:.05},con:{base:5,growth:.15},siz:{base:4,growth:.05},app:{base:2,growth:0},dex:{base:6,growth:.15},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:L.Bite,weight:1},{actionType:L.QuickAttack,weight:.5},{actionType:L.SpinAttack,weight:.5}],dropItems:[{type:It.BrokenChest,weight:.8},{type:It.WoodenChest,weight:.2},{type:It.SilverChest,weight:.01}]},DiscardedGolem:{typeName:"废弃的岩石魔像",description:"一尊不知何时被废弃的岩石魔像，在风雨的侵蚀下，它的巨大的身躯上布满了裂痕和苔藓。它不该会动呀？",abilityCoeff:{str:{base:15,growth:.3},int:{base:0,growth:0},con:{base:10,growth:.4},siz:{base:15,growth:.1},app:{base:0,growth:0},dex:{base:0,growth:0},armor:{base:75,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:L.Dazed,weight:2},{actionType:L.Defend,weight:1},{actionType:L.PowerAttack,weight:.5},{actionType:L.Counter,weight:.5}],dropItems:[{type:It.BrokenChest,weight:.2},{type:It.WoodenChest,weight:.8},{type:It.SilverChest,weight:.04},{type:It.GoldChest,weight:.002}]},Ayulsa:{typeName:"???",description:"好像并不来自于这个世界",abilityCoeff:{str:{base:5,growth:.2},int:{base:50,growth:.2},con:{base:5,growth:.4},siz:{base:5,growth:.2},app:{base:5,growth:.2},dex:{base:5,growth:.2},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:L.GodStrike,weight:1},{actionType:L.ShredFlower,weight:1},{actionType:L.PsyKick,weight:1},{actionType:L.PsyExplosion,weight:1},{actionType:L.PsyInvisibleSword,weight:1},{actionType:L.PsyDodge,weight:1}],dropItems:[{type:It.DiamondChest,weight:1}]},Horse:{typeName:"马 (?)",description:"看起来好像不是普通的马",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:L.SneakAttack,weight:1},{actionType:L.LightningFiveStrikes,weight:1}],dropItems:[{type:It.BrokenChest,weight:.2},{type:It.WoodenChest,weight:.8},{type:It.SilverChest,weight:.04},{type:It.GoldChest,weight:.002}]},Goblin:{typeName:"哥布林",description:"绿色皮肤，弱小的群居种族，以偷窃和抢劫为生",abilityCoeff:{str:{base:3,growth:.1},int:{base:3,growth:0},con:{base:3,growth:.1},siz:{base:3,growth:.05},app:{base:1,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:L.SneakAttack,weight:1},{actionType:L.Dazed,weight:1},{actionType:L.RunAway,weight:1}],dropItems:[{type:null,weight:.6},{type:It.BrokenChest,weight:.4},{type:It.WoodenChest,weight:.02},{type:It.SilverChest,weight:.001}]},FrightenedGoblinLeader:{typeName:"受到惊吓的哥布林首领",description:"这只哥布林比普通人类还要大上一圈，且穿着皮甲拿着刀，身上挂着很多装饰品。很显然，它就是这里的首领。它看起来被后方出现的你吓了一大跳<p>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。</p>",abilityCoeff:{str:{base:2,growth:.1},int:{base:4,growth:0},con:{base:5,growth:.2},siz:{base:6,growth:.05},app:{base:3,growth:0},dex:{base:2.5,growth:.05},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:L.Defend,weight:1},{actionType:L.Dazed,weight:1},{actionType:L.Counter,weight:.5},{actionType:L.DefenseSlash,weight:.5}],dropItems:[]},AngryGoblinLeader:{typeName:"暴怒的哥布林首领",description:"哥布林们的首领愤怒了，它难听地吼叫着，挥舞着武器向你冲来<p>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。</p>",abilityCoeff:{str:{base:6,growth:.2},int:{base:4,growth:0},con:{base:5,growth:.2},siz:{base:6,growth:.05},app:{base:3,growth:0},dex:{base:5,growth:.1},armor:{base:20,growth:5},piercing:{base:5,growth:5}},actions:[{actionType:L.PowerAttack,weight:1},{actionType:L.Bite,weight:1},{actionType:L.SneakAttack,weight:1},{actionType:L.Defend,weight:1},{actionType:L.Slash,weight:1},{actionType:L.Dodge,weight:1}],dropItems:[{type:It.BrokenChest,weight:.4},{type:It.WoodenChest,weight:.6},{type:It.SilverChest,weight:.02},{type:It.GoldChest,weight:.001}]}};class Ju{constructor(e,n,i,o){Ct(this,"isPlayer",!1);Ct(this,"name");Ct(this,"type");Ct(this,"image");Ct(this,"level");Ct(this,"individualStrength");Ct(this,"maxHealth");Ct(this,"health");Ct(this,"ability");Ct(this,"statuses",[]);Ct(this,"pack",[]);Ct(this,"equipments",{body:null,hand:null,foot:null,accessory:null});Ct(this,"actions");this.name=e,this.type=n,this.level=i,this.individualStrength=o,this.ability=this.calculateAbility(),this.maxHealth=this.ability.con*10+this.ability.siz*5,this.health=this.maxHealth,this.actions=ri[this.type].actions}calculateAbility(){const e=ri[this.type].abilityCoeff,n=["str","int","con","siz","app","dex","armor","piercing"],i={};return n.forEach(o=>{i[o]=e[o].base+e[o].growth*this.level*this.individualStrength}),i}levelup(){this.level++,this.ability=this.calculateAbility();const e=this.maxHealth;this.maxHealth=this.ability.con*10+this.ability.siz*5,this.recoverHp(this.maxHealth-e)}getRandomAction(){const e=Math.random(),n=this.getActions(),i=n.reduce((s,a)=>s+a.weight,0);let o=0;for(const s of n)if(o+=s.weight,e<o/i)return Ut[s.actionType];return Ut[L.Dazed]}wearEquipment(e){this.equipments[e.position]&&this.removeEquipment(e.position),this.equipments[e.position]=e,this.pack.splice(this.pack.indexOf(e),1),this.health>this.getMaxHealth()&&(this.health=this.getMaxHealth())}removeEquipment(e){this.equipments[e]&&(this.pack.push(this.equipments[e]),this.equipments[e]=null),this.health>this.getMaxHealth()&&(this.health=this.getMaxHealth())}discardItem(e){this.pack.splice(this.pack.indexOf(e),1)}loseHp(e){this.health-=e,this.health<0&&(this.health=0)}recoverHp(e){this.health+=e,this.health>this.getMaxHealth()&&(this.health=this.getMaxHealth())}getExtraAbility(){const e={str:0,int:0,con:0,siz:0,app:0,dex:0,armor:0,piercing:0},n=["str","int","con","siz","app","dex","armor","piercing"];for(const i of Object.values(this.equipments))i&&n.forEach(o=>{var s;e[o]+=((s=i.ability)==null?void 0:s[o])??0});return e}getAbility(){const e={...this.ability},n=["str","int","con","siz","app","dex","armor","piercing"],i=this.getExtraAbility();for(const o of n)e[o]+=i[o];return e}getMaxHealth(){const e=this.getAbility();return e.con*10+e.siz*5}getExtraActions(){const e=[];for(const n of Object.values(this.equipments))n&&e.push(...n.extraActions);return e}getActions(){const e=[...this.actions];return e.push(...this.getExtraActions()),e}getActionCoeff(e){var i,o;const n={plus:0,multiply:1};for(const s of Object.values(this.equipments))s&&(n.plus+=((i=s.actionCoeff[e])==null?void 0:i.plus)??0,(o=s.actionCoeff[e])!=null&&o.multiply&&(n.multiply+=s.actionCoeff[e].multiply-1));return n}addStatus(e,n,i){const o=Gi[e],s={name:o.name,description:o.description,type:e,priority:o.priority,durationType:o.durationType,category:o.category,duration:n,statusLevel:i};this.statuses.push(s)}clearStatus(){this.statuses=this.statuses.filter(e=>e.durationType===Ee.Permanent)}clearStatusByCategory(e){this.statuses=this.statuses.filter(n=>n.category!==e)}updateStatusesOnTurnStart(){this.statuses=this.statuses.filter(e=>(e.durationType===Ee.Turn&&(e.duration-=1),e.duration>0))}updateStatusesOnHitStart(){this.statuses=this.statuses.filter(e=>(e.durationType===Ee.Hit&&(e.duration-=1),e.duration>0))}applySecondStatuses(){this.statuses.sort((e,n)=>e.priority-n.priority).forEach(e=>{if(e.category===ee.OnSecond){const n=Gi[e.type].effect;n(this,e.statusLevel)}}),this.statuses=this.statuses.filter(e=>(e.durationType===Ee.Second&&(e.duration-=1),e.duration>0))}}class Vi extends Ju{constructor(n,i){n=n||"吴田所",i=i||Qt.Player;super(n,i,0,1);Ct(this,"log",[]);Ct(this,"tempLog",[]);Ct(this,"capturedMonster",[]);Ct(this,"isAtHome",!0);Ct(this,"exp",0);Ct(this,"isPlayer",!0);Ct(this,"currentMapData",{currentRegionId:"ruin",currentNodeId:null,goingToNodeId:null,visitedNodeIdList:[],boss:[]});Ct(this,"unlockedRegionIdList",["ruin"]);Ct(this,"unlockedNodeIdList",[])}getNextLevelExp(){return this.level<=10?100:this.level<=20?100+(this.level-10)*40:500*Math.pow(1.2,this.level-20)}checkLevelUp(){let n=this.getNextLevelExp(),i=!1;for(;this.exp>=n;)this.exp-=n,this.levelup(),i=!0,n=this.getNextLevelExp();return i}getExpDisplay(){const n=this.getNextLevelExp();return`
      <div class="progress" style="height: 2px; position: relative;">
        <div class="progress-bar" role="progressbar" style="width: ${Math.min(100,this.exp/n*100)}%;"
             aria-valuenow="${this.exp}" aria-valuemin="0" aria-valuemax="${n}">
        </div>
      </div>
    `}getHealthDisplay(){const n=this.getAbility(),i=this.getMaxHealth(),o=Math.min(100,this.health/i*100),s=n.con/5*i/900;return`
    <div class="progress" style="height: 20px; position: relative; background-color: #444;">
      <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: ${o}%;"
           aria-valuenow="${this.health}" aria-valuemin="0" aria-valuemax="${i}">
      </div>
      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
        <div style="text-align: center; line-height: 20px; font-size: 0.9rem; font-weight: bold; color: #fff;">
          hp: ${this.health.toFixed(1)} / ${i.toFixed(1)}
        </div>
        <div style="position: absolute; top: 0; right: 5px; height: 100%; display: flex; align-items: center; font-size: 0.9rem; font-weight: bold; color: #fff;">
          +${s.toFixed(2)}
        </div>
      </div>
    </div>
  `}updateHealthDisplay(){const n=document.getElementById("health-display");n&&(n.innerHTML=this.getHealthDisplay())}autoRecoverHpDot(n=1){const i=this.getAbility(),o=this.getMaxHealth(),s=i.con/5*o/900*n;this.recoverHp(s)}addLog(n){this.log.push(n)}getLogs(){return this.log.join("<br>")}getLastNLog(n){return this.log.slice(-n).join("<br>")}addTempLog(n){this.tempLog.push(n)}getTempLogs(){return this.tempLog.join("<br>")}clearTempLogs(){this.tempLog=[]}joinTempLogs(){this.log.push(this.tempLog.join("<br>")),this.tempLog=[]}clearCurrentMapDataWithoutBoss(){this.currentMapData.currentNodeId=null,this.currentMapData.goingToNodeId=null,this.currentMapData.visitedNodeIdList=[]}clearCurrentMapData(){this.clearCurrentMapDataWithoutBoss(),this.currentMapData.boss=[]}goToRegion(n){this.unlockedRegionIdList.includes(n)&&(this.clearCurrentMapData(),this.currentMapData.currentRegionId=n)}goToNode(n){this.currentMapData.currentNodeId=n,this.currentMapData.visitedNodeIdList.includes(n)||this.currentMapData.visitedNodeIdList.push(n),this.currentMapData.goingToNodeId=null,this.unlockedNodeIdList.includes(n)||this.unlockedNodeIdList.push(n)}}var St;(function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(St||(St={}));var qp=function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return t.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},t.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.findTransformMetadatas=function(e,n,i){return this.findMetadatas(this._transformMetadatas,e,n).filter(function(o){return!o.options||o.options.toClassOnly===!0&&o.options.toPlainOnly===!0?!0:o.options.toClassOnly===!0?i===St.CLASS_TO_CLASS||i===St.PLAIN_TO_CLASS:o.options.toPlainOnly===!0?i===St.CLASS_TO_PLAIN:!0})},t.prototype.findExcludeMetadata=function(e,n){return this.findMetadata(this._excludeMetadatas,e,n)},t.prototype.findExposeMetadata=function(e,n){return this.findMetadata(this._exposeMetadatas,e,n)},t.prototype.findExposeMetadataByCustomName=function(e,n){return this.getExposedMetadatas(e).find(function(i){return i.options&&i.options.name===n})},t.prototype.findTypeMetadata=function(e,n){return this.findMetadata(this._typeMetadatas,e,n)},t.prototype.getStrategy=function(e){var n=this._excludeMetadatas.get(e),i=n&&n.get(void 0),o=this._exposeMetadatas.get(e),s=o&&o.get(void 0);return i&&s||!i&&!s?"none":i?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},t.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},t.prototype.getExposedProperties=function(e,n){return this.getExposedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===St.CLASS_TO_CLASS||n===St.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===St.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.getExcludedProperties=function(e,n){return this.getExcludedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===St.CLASS_TO_CLASS||n===St.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===St.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(e,n){var i=e.get(n),o;i&&(o=Array.from(i.values()).filter(function(w){return w.propertyName!==void 0}));for(var s=[],a=0,l=this.getAncestors(n);a<l.length;a++){var f=l[a],p=e.get(f);if(p){var h=Array.from(p.values()).filter(function(w){return w.propertyName!==void 0});s.push.apply(s,h)}}return s.concat(o||[])},t.prototype.findMetadata=function(e,n,i){var o=e.get(n);if(o){var s=o.get(i);if(s)return s}for(var a=0,l=this.getAncestors(n);a<l.length;a++){var f=l[a],p=e.get(f);if(p){var h=p.get(i);if(h)return h}}},t.prototype.findMetadatas=function(e,n,i){var o=e.get(n),s;o&&(s=o.get(i));for(var a=[],l=0,f=this.getAncestors(n);l<f.length;l++){var p=f[l],h=e.get(p);h&&h.has(i)&&a.push.apply(a,h.get(i))}return a.slice().reverse().concat((s||[]).slice().reverse())},t.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var n=[],i=Object.getPrototypeOf(e.prototype.constructor);typeof i.prototype<"u";i=Object.getPrototypeOf(i.prototype.constructor))n.push(i);this._ancestorsMap.set(e,n)}return this._ancestorsMap.get(e)},t}(),fe=new qp;function Xp(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function Jp(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var $l=function(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,s;i<o;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};function Zp(t){var e=new t;return!(e instanceof Set)&&!("push"in e)?[]:e}var ki=function(){function t(e,n){this.transformationType=e,this.options=n,this.recursionStack=new Set}return t.prototype.transform=function(e,n,i,o,s,a){var l=this;if(a===void 0&&(a=0),Array.isArray(n)||n instanceof Set){var f=o&&this.transformationType===St.PLAIN_TO_CLASS?Zp(o):[];return n.forEach(function(H,N){var U=e?e[N]:void 0;if(!l.options.enableCircularCheck||!l.isCircular(H)){var rt=void 0;if(typeof i!="function"&&i&&i.options&&i.options.discriminator&&i.options.discriminator.property&&i.options.discriminator.subTypes){if(l.transformationType===St.PLAIN_TO_CLASS){rt=i.options.discriminator.subTypes.find(function(k){return k.name===H[i.options.discriminator.property]});var m={newObject:f,object:H,property:void 0},K=i.typeFunction(m);rt===void 0?rt=K:rt=rt.value,i.options.keepDiscriminatorProperty||delete H[i.options.discriminator.property]}l.transformationType===St.CLASS_TO_CLASS&&(rt=H.constructor),l.transformationType===St.CLASS_TO_PLAIN&&(H[i.options.discriminator.property]=i.options.discriminator.subTypes.find(function(k){return k.value===H.constructor}).name)}else rt=i;var z=l.transform(U,H,rt,void 0,H instanceof Map,a+1);f instanceof Set?f.add(z):f.push(z)}else l.transformationType===St.CLASS_TO_CLASS&&(f instanceof Set?f.add(H):f.push(H))}),f}else{if(i===String&&!s)return n==null?n:String(n);if(i===Number&&!s)return n==null?n:Number(n);if(i===Boolean&&!s)return n==null?n:!!n;if((i===Date||n instanceof Date)&&!s)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(Xp().Buffer&&(i===Buffer||n instanceof Buffer)&&!s)return n==null?n:Buffer.from(n);if(Jp(n)&&!s)return new Promise(function(H,N){n.then(function(U){return H(l.transform(void 0,U,i,void 0,void 0,a+1))},N)});if(!s&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!i&&n.constructor!==Object&&(!Array.isArray(n)&&n.constructor===Array||(i=n.constructor)),!i&&e&&(i=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);var p=this.getKeys(i,n,s),h=e||{};!e&&(this.transformationType===St.PLAIN_TO_CLASS||this.transformationType===St.CLASS_TO_CLASS)&&(s?h=new Map:i?h=new i:h={});for(var w=function(H){if(H==="__proto__"||H==="constructor")return"continue";var N=H,U=H,rt=H;if(!_.options.ignoreDecorators&&i){if(_.transformationType===St.PLAIN_TO_CLASS){var m=fe.findExposeMetadataByCustomName(i,H);m&&(rt=m.propertyName,U=m.propertyName)}else if(_.transformationType===St.CLASS_TO_PLAIN||_.transformationType===St.CLASS_TO_CLASS){var m=fe.findExposeMetadata(i,H);m&&m.options&&m.options.name&&(U=m.options.name)}}var K=void 0;_.transformationType===St.PLAIN_TO_CLASS?K=n[N]:n instanceof Map?K=n.get(N):n[N]instanceof Function?K=n[N]():K=n[N];var z=void 0,k=K instanceof Map;if(i&&s)z=i;else if(i){var R=fe.findTypeMetadata(i,rt);if(R){var tt={newObject:h,object:n,property:rt},st=R.typeFunction?R.typeFunction(tt):R.reflectedType;R.options&&R.options.discriminator&&R.options.discriminator.property&&R.options.discriminator.subTypes?n[N]instanceof Array?z=R:(_.transformationType===St.PLAIN_TO_CLASS&&(z=R.options.discriminator.subTypes.find(function(P){if(K&&K instanceof Object&&R.options.discriminator.property in K)return P.name===K[R.options.discriminator.property]}),z===void 0?z=st:z=z.value,R.options.keepDiscriminatorProperty||K&&K instanceof Object&&R.options.discriminator.property in K&&delete K[R.options.discriminator.property]),_.transformationType===St.CLASS_TO_CLASS&&(z=K.constructor),_.transformationType===St.CLASS_TO_PLAIN&&K&&(K[R.options.discriminator.property]=R.options.discriminator.subTypes.find(function(P){return P.value===K.constructor}).name)):z=st,k=k||R.reflectedType===Map}else if(_.options.targetMaps)_.options.targetMaps.filter(function(P){return P.target===i&&!!P.properties[rt]}).forEach(function(P){return z=P.properties[rt]});else if(_.options.enableImplicitConversion&&_.transformationType===St.PLAIN_TO_CLASS){var ht=Reflect.getMetadata("design:type",i.prototype,rt);ht&&(z=ht)}}var ct=Array.isArray(n[N])?_.getReflectedType(i,rt):void 0,mt=e?e[N]:void 0;if(h.constructor.prototype){var y=Object.getOwnPropertyDescriptor(h.constructor.prototype,U);if((_.transformationType===St.PLAIN_TO_CLASS||_.transformationType===St.CLASS_TO_CLASS)&&(y&&!y.set||h[U]instanceof Function))return"continue"}if(!_.options.enableCircularCheck||!_.isCircular(K)){var $=_.transformationType===St.PLAIN_TO_CLASS?U:H,E=void 0;_.transformationType===St.CLASS_TO_PLAIN?(E=n[$],E=_.applyCustomTransformations(E,i,$,n,_.transformationType),E=n[$]===E?K:E,E=_.transform(mt,E,z,ct,k,a+1)):K===void 0&&_.options.exposeDefaultValues?E=h[U]:(E=_.transform(mt,K,z,ct,k,a+1),E=_.applyCustomTransformations(E,i,$,n,_.transformationType)),(E!==void 0||_.options.exposeUnsetFields)&&(h instanceof Map?h.set(U,E):h[U]=E)}else if(_.transformationType===St.CLASS_TO_CLASS){var E=K;E=_.applyCustomTransformations(E,i,H,n,_.transformationType),(E!==void 0||_.options.exposeUnsetFields)&&(h instanceof Map?h.set(U,E):h[U]=E)}},_=this,S=0,W=p;S<W.length;S++){var j=W[S];w(j)}return this.options.enableCircularCheck&&this.recursionStack.delete(n),h}else return n}},t.prototype.applyCustomTransformations=function(e,n,i,o,s){var a=this,l=fe.findTransformMetadatas(n,i,this.transformationType);return this.options.version!==void 0&&(l=l.filter(function(f){return f.options?a.checkVersion(f.options.since,f.options.until):!0})),this.options.groups&&this.options.groups.length?l=l.filter(function(f){return f.options?a.checkGroups(f.options.groups):!0}):l=l.filter(function(f){return!f.options||!f.options.groups||!f.options.groups.length}),l.forEach(function(f){e=f.transformFn({value:e,key:i,obj:o,type:s,options:a.options})}),e},t.prototype.isCircular=function(e){return this.recursionStack.has(e)},t.prototype.getReflectedType=function(e,n){if(e){var i=fe.findTypeMetadata(e,n);return i?i.reflectedType:void 0}},t.prototype.getKeys=function(e,n,i){var o=this,s=fe.getStrategy(e);s==="none"&&(s=this.options.strategy||"exposeAll");var a=[];if((s==="exposeAll"||i)&&(n instanceof Map?a=Array.from(n.keys()):a=Object.keys(n)),i)return a;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var l=fe.getExposedProperties(e,this.transformationType),f=fe.getExcludedProperties(e,this.transformationType);a=$l($l([],l,!0),f,!0)}if(!this.options.ignoreDecorators&&e){var l=fe.getExposedProperties(e,this.transformationType);this.transformationType===St.PLAIN_TO_CLASS&&(l=l.map(function(w){var _=fe.findExposeMetadata(e,w);return _&&_.options&&_.options.name?_.options.name:w})),this.options.excludeExtraneousValues?a=l:a=a.concat(l);var p=fe.getExcludedProperties(e,this.transformationType);p.length>0&&(a=a.filter(function(w){return!p.includes(w)})),this.options.version!==void 0&&(a=a.filter(function(w){var _=fe.findExposeMetadata(e,w);return!_||!_.options?!0:o.checkVersion(_.options.since,_.options.until)})),this.options.groups&&this.options.groups.length?a=a.filter(function(w){var _=fe.findExposeMetadata(e,w);return!_||!_.options?!0:o.checkGroups(_.options.groups)}):a=a.filter(function(w){var _=fe.findExposeMetadata(e,w);return!_||!_.options||!_.options.groups||!_.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(a=a.filter(function(h){return o.options.excludePrefixes.every(function(w){return h.substr(0,w.length)!==w})})),a=a.filter(function(h,w,_){return _.indexOf(h)===w}),a},t.prototype.checkVersion=function(e,n){var i=!0;return i&&e&&(i=this.options.version>=e),i&&n&&(i=this.options.version<n),i},t.prototype.checkGroups=function(e){return e?this.options.groups.some(function(n){return e.includes(n)}):!0},t}(),Li={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},de=function(){return de=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},de.apply(this,arguments)},tg=function(){function t(){}return t.prototype.instanceToPlain=function(e,n){var i=new ki(St.CLASS_TO_PLAIN,de(de({},Li),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(e,n,i){var o=new ki(St.CLASS_TO_PLAIN,de(de({},Li),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.plainToInstance=function(e,n,i){var o=new ki(St.PLAIN_TO_CLASS,de(de({},Li),i));return o.transform(void 0,n,e,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(e,n,i){var o=new ki(St.PLAIN_TO_CLASS,de(de({},Li),i));return o.transform(e,n,void 0,void 0,void 0,void 0)},t.prototype.instanceToInstance=function(e,n){var i=new ki(St.CLASS_TO_CLASS,de(de({},Li),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(e,n,i){var o=new ki(St.CLASS_TO_CLASS,de(de({},Li),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(e,n){return JSON.stringify(this.instanceToPlain(e,n))},t.prototype.deserialize=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t.prototype.deserializeArray=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t}(),Zu=new tg;function eg(t,e){return Zu.instanceToPlain(t,e)}function hr(t,e,n){return Zu.plainToInstance(t,e,n)}let Is=-1,$s=-1,Ps=-1;function fa(t){Is!==-1&&clearInterval(Is),$s!==-1&&clearInterval($s),Ps!==-1&&clearInterval(Ps),Is=setInterval(()=>{t.isAtHome&&(t.autoRecoverHpDot(),t.updateHealthDisplay())},1e3),$s=setInterval(()=>{t.isAtHome&&wn(t)},1e4),Ps=setInterval(()=>{t.isAtHome&&t.applySecondStatuses()},1e3)}function ng(t){const e=t.reduce((o,s)=>o+s.weight,0),n=Math.random()*e;let i=0;for(const o of t)if(i+=o.weight,n<=i)return o}function tf(t,e=0){if(t in It)return new Ke(t,e);if(t in ji)return new cn(t,e);throw new Error("Invalid item type")}function Pl(t){return t instanceof Ke?`
      <div class="tooltip-base tooltip-header">
        <h5 class="text-${D[t.rarity]}">${t.level?`lv${t.level}`:""} ${t.name}</h5>
        <p class="fst-italic">${t.description}</p>
      </div>
    `:t instanceof cn?Up(t):`
    <div class="tooltip-base">
      <h5>${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
    </div>
  `}function Rs(t){switch(t.category){case fi.Equipment:return"🗡️";case fi.Consumable:return"🗝️";default:return""}}class Bo extends Ju{constructor(n,i,o,s){n=n||Qt.Slime,s=s||ri[n].typeName,i=i||1,o=o||1;super(s,n,i,o);Ct(this,"description");Ct(this,"dropItems");Ct(this,"giveExp",0);this.dropItems=ri[n].dropItems,this.description=ri[n].description,ri[n].image&&(this.image=ri[n].image),this.giveExp=Math.floor(this.getMaxHealth())*(1+this.level/10)}randomDropItem(){const n=this.dropItems.reduce((o,s)=>o+s.weight,0);let i=Math.random()*n;for(const o of this.dropItems){if(i<o.weight&&o.type)return tf(o.type,this.level);i-=o.weight}return null}}function wn(t){if(t.type===Qt.FullPowerPlayer114514)return;const e=eg(t);localStorage.setItem("playerData",JSON.stringify(e)),localStorage.setItem("saveTime",JSON.stringify(Date.now()))}function ig(){const t=localStorage.getItem("playerData");if(!t)throw new Error("No player data found");const e=JSON.parse(t),n=hr(Vi,e);fa(n),n.pack=e.pack.map(s=>s.category===fi.Equipment?hr(cn,s):s.category===fi.Consumable?hr(Ke,s):s),Object.keys(n.equipments).forEach(s=>{n.equipments[s]&&(n.equipments[s]=hr(cn,n.equipments[s]))}),n.currentMapData.boss=n.currentMapData.boss.map(s=>(console.log(s),hr(Bo,s))),n.clearStatus();const o=localStorage.getItem("saveTime");if(o){const s=(Date.now()-JSON.parse(o))/1e3;n.autoRecoverHpDot(s)}return n}const rg="/isekai114514/assets/player-8N5Sf3fj.gif";function Oe(){const t=document.getElementById("app");if(!t)throw new Error("无法找到挂载点 #app");return t}var ce="top",xe="bottom",Ce="right",le="left",Ho="auto",nr=[ce,xe,Ce,le],hi="start",Ui="end",ef="clippingParents",ka="viewport",$i="popper",nf="reference",da=nr.reduce(function(t,e){return t.concat([e+"-"+hi,e+"-"+Ui])},[]),La=[].concat(nr,[Ho]).reduce(function(t,e){return t.concat([e,e+"-"+hi,e+"-"+Ui])},[]),rf="beforeRead",of="read",sf="afterRead",af="beforeMain",cf="main",lf="afterMain",uf="beforeWrite",ff="write",df="afterWrite",hf=[rf,of,sf,af,cf,lf,uf,ff,df];function dn(t){return t?(t.nodeName||"").toLowerCase():null}function Te(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function pi(t){var e=Te(t).Element;return t instanceof e||t instanceof Element}function He(t){var e=Te(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Na(t){if(typeof ShadowRoot>"u")return!1;var e=Te(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function og(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!He(s)||!dn(s)||(Object.assign(s.style,i),Object.keys(o).forEach(function(a){var l=o[a];l===!1?s.removeAttribute(a):s.setAttribute(a,l===!0?"":l)}))})}function sg(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=a.reduce(function(f,p){return f[p]="",f},{});!He(o)||!dn(o)||(Object.assign(o.style,l),Object.keys(s).forEach(function(f){o.removeAttribute(f)}))})}}const Fo={name:"applyStyles",enabled:!0,phase:"write",fn:og,effect:sg,requires:["computeStyles"]};function ln(t){return t.split("-")[0]}var li=Math.max,Co=Math.min,Qi=Math.round;function ha(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pf(){return!/^((?!chrome|android).)*safari/i.test(ha())}function Ki(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),o=1,s=1;e&&He(t)&&(o=t.offsetWidth>0&&Qi(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Qi(i.height)/t.offsetHeight||1);var a=pi(t)?Te(t):window,l=a.visualViewport,f=!pf()&&n,p=(i.left+(f&&l?l.offsetLeft:0))/o,h=(i.top+(f&&l?l.offsetTop:0))/s,w=i.width/o,_=i.height/s;return{width:w,height:_,top:h,right:p+w,bottom:h+_,left:p,x:p,y:h}}function Ia(t){var e=Ki(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function gf(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Na(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Tn(t){return Te(t).getComputedStyle(t)}function ag(t){return["table","td","th"].indexOf(dn(t))>=0}function zn(t){return((pi(t)?t.ownerDocument:t.document)||window.document).documentElement}function zo(t){return dn(t)==="html"?t:t.assignedSlot||t.parentNode||(Na(t)?t.host:null)||zn(t)}function Rl(t){return!He(t)||Tn(t).position==="fixed"?null:t.offsetParent}function cg(t){var e=/firefox/i.test(ha()),n=/Trident/i.test(ha());if(n&&He(t)){var i=Tn(t);if(i.position==="fixed")return null}var o=zo(t);for(Na(o)&&(o=o.host);He(o)&&["html","body"].indexOf(dn(o))<0;){var s=Tn(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function Dr(t){for(var e=Te(t),n=Rl(t);n&&ag(n)&&Tn(n).position==="static";)n=Rl(n);return n&&(dn(n)==="html"||dn(n)==="body"&&Tn(n).position==="static")?e:n||cg(t)||e}function $a(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ar(t,e,n){return li(t,Co(e,n))}function lg(t,e,n){var i=Ar(t,e,n);return i>n?n:i}function mf(){return{top:0,right:0,bottom:0,left:0}}function _f(t){return Object.assign({},mf(),t)}function vf(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var ug=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,_f(typeof e!="number"?e:vf(e,nr))};function fg(t){var e,n=t.state,i=t.name,o=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ln(n.placement),f=$a(l),p=[le,Ce].indexOf(l)>=0,h=p?"height":"width";if(!(!s||!a)){var w=ug(o.padding,n),_=Ia(s),S=f==="y"?ce:le,W=f==="y"?xe:Ce,j=n.rects.reference[h]+n.rects.reference[f]-a[f]-n.rects.popper[h],H=a[f]-n.rects.reference[f],N=Dr(s),U=N?f==="y"?N.clientHeight||0:N.clientWidth||0:0,rt=j/2-H/2,m=w[S],K=U-_[h]-w[W],z=U/2-_[h]/2+rt,k=Ar(m,z,K),R=f;n.modifiersData[i]=(e={},e[R]=k,e.centerOffset=k-z,e)}}function dg(t){var e=t.state,n=t.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||gf(e.elements.popper,o)&&(e.elements.arrow=o))}const bf={name:"arrow",enabled:!0,phase:"main",fn:fg,effect:dg,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yi(t){return t.split("-")[1]}var hg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pg(t,e){var n=t.x,i=t.y,o=e.devicePixelRatio||1;return{x:Qi(n*o)/o||0,y:Qi(i*o)/o||0}}function Bl(t){var e,n=t.popper,i=t.popperRect,o=t.placement,s=t.variation,a=t.offsets,l=t.position,f=t.gpuAcceleration,p=t.adaptive,h=t.roundOffsets,w=t.isFixed,_=a.x,S=_===void 0?0:_,W=a.y,j=W===void 0?0:W,H=typeof h=="function"?h({x:S,y:j}):{x:S,y:j};S=H.x,j=H.y;var N=a.hasOwnProperty("x"),U=a.hasOwnProperty("y"),rt=le,m=ce,K=window;if(p){var z=Dr(n),k="clientHeight",R="clientWidth";if(z===Te(n)&&(z=zn(n),Tn(z).position!=="static"&&l==="absolute"&&(k="scrollHeight",R="scrollWidth")),z=z,o===ce||(o===le||o===Ce)&&s===Ui){m=xe;var tt=w&&z===K&&K.visualViewport?K.visualViewport.height:z[k];j-=tt-i.height,j*=f?1:-1}if(o===le||(o===ce||o===xe)&&s===Ui){rt=Ce;var st=w&&z===K&&K.visualViewport?K.visualViewport.width:z[R];S-=st-i.width,S*=f?1:-1}}var ht=Object.assign({position:l},p&&hg),ct=h===!0?pg({x:S,y:j},Te(n)):{x:S,y:j};if(S=ct.x,j=ct.y,f){var mt;return Object.assign({},ht,(mt={},mt[m]=U?"0":"",mt[rt]=N?"0":"",mt.transform=(K.devicePixelRatio||1)<=1?"translate("+S+"px, "+j+"px)":"translate3d("+S+"px, "+j+"px, 0)",mt))}return Object.assign({},ht,(e={},e[m]=U?j+"px":"",e[rt]=N?S+"px":"",e.transform="",e))}function gg(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=i===void 0?!0:i,s=n.adaptive,a=s===void 0?!0:s,l=n.roundOffsets,f=l===void 0?!0:l,p={placement:ln(e.placement),variation:Yi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Bl(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Bl(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Pa={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gg,data:{}};var eo={passive:!0};function mg(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,s=o===void 0?!0:o,a=i.resize,l=a===void 0?!0:a,f=Te(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&p.forEach(function(h){h.addEventListener("scroll",n.update,eo)}),l&&f.addEventListener("resize",n.update,eo),function(){s&&p.forEach(function(h){h.removeEventListener("scroll",n.update,eo)}),l&&f.removeEventListener("resize",n.update,eo)}}const Ra={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mg,data:{}};var _g={left:"right",right:"left",bottom:"top",top:"bottom"};function mo(t){return t.replace(/left|right|bottom|top/g,function(e){return _g[e]})}var vg={start:"end",end:"start"};function Hl(t){return t.replace(/start|end/g,function(e){return vg[e]})}function Ba(t){var e=Te(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Ha(t){return Ki(zn(t)).left+Ba(t).scrollLeft}function bg(t,e){var n=Te(t),i=zn(t),o=n.visualViewport,s=i.clientWidth,a=i.clientHeight,l=0,f=0;if(o){s=o.width,a=o.height;var p=pf();(p||!p&&e==="fixed")&&(l=o.offsetLeft,f=o.offsetTop)}return{width:s,height:a,x:l+Ha(t),y:f}}function yg(t){var e,n=zn(t),i=Ba(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=li(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=li(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-i.scrollLeft+Ha(t),f=-i.scrollTop;return Tn(o||n).direction==="rtl"&&(l+=li(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:a,x:l,y:f}}function Fa(t){var e=Tn(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function yf(t){return["html","body","#document"].indexOf(dn(t))>=0?t.ownerDocument.body:He(t)&&Fa(t)?t:yf(zo(t))}function wr(t,e){var n;e===void 0&&(e=[]);var i=yf(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=Te(i),a=o?[s].concat(s.visualViewport||[],Fa(i)?i:[]):i,l=e.concat(a);return o?l:l.concat(wr(zo(a)))}function pa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ag(t,e){var n=Ki(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Fl(t,e,n){return e===ka?pa(bg(t,n)):pi(e)?Ag(e,n):pa(yg(zn(t)))}function wg(t){var e=wr(zo(t)),n=["absolute","fixed"].indexOf(Tn(t).position)>=0,i=n&&He(t)?Dr(t):t;return pi(i)?e.filter(function(o){return pi(o)&&gf(o,i)&&dn(o)!=="body"}):[]}function Eg(t,e,n,i){var o=e==="clippingParents"?wg(t):[].concat(e),s=[].concat(o,[n]),a=s[0],l=s.reduce(function(f,p){var h=Fl(t,p,i);return f.top=li(h.top,f.top),f.right=Co(h.right,f.right),f.bottom=Co(h.bottom,f.bottom),f.left=li(h.left,f.left),f},Fl(t,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Af(t){var e=t.reference,n=t.element,i=t.placement,o=i?ln(i):null,s=i?Yi(i):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,f;switch(o){case ce:f={x:a,y:e.y-n.height};break;case xe:f={x:a,y:e.y+e.height};break;case Ce:f={x:e.x+e.width,y:l};break;case le:f={x:e.x-n.width,y:l};break;default:f={x:e.x,y:e.y}}var p=o?$a(o):null;if(p!=null){var h=p==="y"?"height":"width";switch(s){case hi:f[p]=f[p]-(e[h]/2-n[h]/2);break;case Ui:f[p]=f[p]+(e[h]/2-n[h]/2);break}}return f}function qi(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=i===void 0?t.placement:i,s=n.strategy,a=s===void 0?t.strategy:s,l=n.boundary,f=l===void 0?ef:l,p=n.rootBoundary,h=p===void 0?ka:p,w=n.elementContext,_=w===void 0?$i:w,S=n.altBoundary,W=S===void 0?!1:S,j=n.padding,H=j===void 0?0:j,N=_f(typeof H!="number"?H:vf(H,nr)),U=_===$i?nf:$i,rt=t.rects.popper,m=t.elements[W?U:_],K=Eg(pi(m)?m:m.contextElement||zn(t.elements.popper),f,h,a),z=Ki(t.elements.reference),k=Af({reference:z,element:rt,placement:o}),R=pa(Object.assign({},rt,k)),tt=_===$i?R:z,st={top:K.top-tt.top+N.top,bottom:tt.bottom-K.bottom+N.bottom,left:K.left-tt.left+N.left,right:tt.right-K.right+N.right},ht=t.modifiersData.offset;if(_===$i&&ht){var ct=ht[o];Object.keys(st).forEach(function(mt){var y=[Ce,xe].indexOf(mt)>=0?1:-1,$=[ce,xe].indexOf(mt)>=0?"y":"x";st[mt]+=ct[$]*y})}return st}function xg(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=n.boundary,s=n.rootBoundary,a=n.padding,l=n.flipVariations,f=n.allowedAutoPlacements,p=f===void 0?La:f,h=Yi(i),w=h?l?da:da.filter(function(W){return Yi(W)===h}):nr,_=w.filter(function(W){return p.indexOf(W)>=0});_.length===0&&(_=w);var S=_.reduce(function(W,j){return W[j]=qi(t,{placement:j,boundary:o,rootBoundary:s,padding:a})[ln(j)],W},{});return Object.keys(S).sort(function(W,j){return S[W]-S[j]})}function Cg(t){if(ln(t)===Ho)return[];var e=mo(t);return[Hl(t),e,Hl(e)]}function Tg(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!0:a,f=n.fallbackPlacements,p=n.padding,h=n.boundary,w=n.rootBoundary,_=n.altBoundary,S=n.flipVariations,W=S===void 0?!0:S,j=n.allowedAutoPlacements,H=e.options.placement,N=ln(H),U=N===H,rt=f||(U||!W?[mo(H)]:Cg(H)),m=[H].concat(rt).reduce(function(pt,Ot){return pt.concat(ln(Ot)===Ho?xg(e,{placement:Ot,boundary:h,rootBoundary:w,padding:p,flipVariations:W,allowedAutoPlacements:j}):Ot)},[]),K=e.rects.reference,z=e.rects.popper,k=new Map,R=!0,tt=m[0],st=0;st<m.length;st++){var ht=m[st],ct=ln(ht),mt=Yi(ht)===hi,y=[ce,xe].indexOf(ct)>=0,$=y?"width":"height",E=qi(e,{placement:ht,boundary:h,rootBoundary:w,altBoundary:_,padding:p}),P=y?mt?Ce:le:mt?xe:ce;K[$]>z[$]&&(P=mo(P));var J=mo(P),at=[];if(s&&at.push(E[ct]<=0),l&&at.push(E[P]<=0,E[J]<=0),at.every(function(pt){return pt})){tt=ht,R=!1;break}k.set(ht,at)}if(R)for(var x=W?3:1,yt=function(Ot){var ot=m.find(function(zt){var Y=k.get(zt);if(Y)return Y.slice(0,Ot).every(function(Kt){return Kt})});if(ot)return tt=ot,"break"},Et=x;Et>0;Et--){var X=yt(Et);if(X==="break")break}e.placement!==tt&&(e.modifiersData[i]._skip=!0,e.placement=tt,e.reset=!0)}}const wf={name:"flip",enabled:!0,phase:"main",fn:Tg,requiresIfExists:["offset"],data:{_skip:!1}};function zl(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Gl(t){return[ce,Ce,xe,le].some(function(e){return t[e]>=0})}function Sg(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,a=qi(e,{elementContext:"reference"}),l=qi(e,{altBoundary:!0}),f=zl(a,i),p=zl(l,o,s),h=Gl(f),w=Gl(p);e.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:w},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":w})}const Ef={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Sg};function Og(t,e,n){var i=ln(t),o=[le,ce].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],l=s[1];return a=a||0,l=(l||0)*o,[le,Ce].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function Mg(t){var e=t.state,n=t.options,i=t.name,o=n.offset,s=o===void 0?[0,0]:o,a=La.reduce(function(h,w){return h[w]=Og(w,e.rects,s),h},{}),l=a[e.placement],f=l.x,p=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=a}const xf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mg};function Dg(t){var e=t.state,n=t.name;e.modifiersData[n]=Af({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const za={name:"popperOffsets",enabled:!0,phase:"read",fn:Dg,data:{}};function kg(t){return t==="x"?"y":"x"}function Lg(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!1:a,f=n.boundary,p=n.rootBoundary,h=n.altBoundary,w=n.padding,_=n.tether,S=_===void 0?!0:_,W=n.tetherOffset,j=W===void 0?0:W,H=qi(e,{boundary:f,rootBoundary:p,padding:w,altBoundary:h}),N=ln(e.placement),U=Yi(e.placement),rt=!U,m=$a(N),K=kg(m),z=e.modifiersData.popperOffsets,k=e.rects.reference,R=e.rects.popper,tt=typeof j=="function"?j(Object.assign({},e.rects,{placement:e.placement})):j,st=typeof tt=="number"?{mainAxis:tt,altAxis:tt}:Object.assign({mainAxis:0,altAxis:0},tt),ht=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ct={x:0,y:0};if(z){if(s){var mt,y=m==="y"?ce:le,$=m==="y"?xe:Ce,E=m==="y"?"height":"width",P=z[m],J=P+H[y],at=P-H[$],x=S?-R[E]/2:0,yt=U===hi?k[E]:R[E],Et=U===hi?-R[E]:-k[E],X=e.elements.arrow,pt=S&&X?Ia(X):{width:0,height:0},Ot=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mf(),ot=Ot[y],zt=Ot[$],Y=Ar(0,k[E],pt[E]),Kt=rt?k[E]/2-x-Y-ot-st.mainAxis:yt-Y-ot-st.mainAxis,me=rt?-k[E]/2+x+Y+zt+st.mainAxis:Et+Y+zt+st.mainAxis,Vt=e.elements.arrow&&Dr(e.elements.arrow),pn=Vt?m==="y"?Vt.clientTop||0:Vt.clientLeft||0:0,Jt=(mt=ht==null?void 0:ht[m])!=null?mt:0,Ze=P+Kt-Jt-pn,Me=P+me-Jt,Zt=Ar(S?Co(J,Ze):J,P,S?li(at,Me):at);z[m]=Zt,ct[m]=Zt-P}if(l){var tn,gn=m==="x"?ce:le,mn=m==="x"?xe:Ce,ue=z[K],_e=K==="y"?"height":"width",We=ue+H[gn],je=ue-H[mn],De=[ce,le].indexOf(N)!==-1,ne=(tn=ht==null?void 0:ht[K])!=null?tn:0,_n=De?We:ue-k[_e]-R[_e]-ne+st.altAxis,te=De?ue+k[_e]+R[_e]-ne-st.altAxis:je,ve=S&&De?lg(_n,ue,te):Ar(S?_n:We,ue,S?te:je);z[K]=ve,ct[K]=ve-ue}e.modifiersData[i]=ct}}const Cf={name:"preventOverflow",enabled:!0,phase:"main",fn:Lg,requiresIfExists:["offset"]};function Ng(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Ig(t){return t===Te(t)||!He(t)?Ba(t):Ng(t)}function $g(t){var e=t.getBoundingClientRect(),n=Qi(e.width)/t.offsetWidth||1,i=Qi(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Pg(t,e,n){n===void 0&&(n=!1);var i=He(e),o=He(e)&&$g(e),s=zn(e),a=Ki(t,o,n),l={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!n)&&((dn(e)!=="body"||Fa(s))&&(l=Ig(e)),He(e)?(f=Ki(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):s&&(f.x=Ha(s))),{x:a.left+l.scrollLeft-f.x,y:a.top+l.scrollTop-f.y,width:a.width,height:a.height}}function Rg(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var f=e.get(l);f&&o(f)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),i}function Bg(t){var e=Rg(t);return hf.reduce(function(n,i){return n.concat(e.filter(function(o){return o.phase===i}))},[])}function Hg(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Fg(t){var e=t.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Wl={placement:"bottom",modifiers:[],strategy:"absolute"};function jl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Go(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?Wl:o;return function(l,f,p){p===void 0&&(p=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wl,s),modifiersData:{},elements:{reference:l,popper:f},attributes:{},styles:{}},w=[],_=!1,S={state:h,setOptions:function(N){var U=typeof N=="function"?N(h.options):N;j(),h.options=Object.assign({},s,h.options,U),h.scrollParents={reference:pi(l)?wr(l):l.contextElement?wr(l.contextElement):[],popper:wr(f)};var rt=Bg(Fg([].concat(i,h.options.modifiers)));return h.orderedModifiers=rt.filter(function(m){return m.enabled}),W(),S.update()},forceUpdate:function(){if(!_){var N=h.elements,U=N.reference,rt=N.popper;if(jl(U,rt)){h.rects={reference:Pg(U,Dr(rt),h.options.strategy==="fixed"),popper:Ia(rt)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(st){return h.modifiersData[st.name]=Object.assign({},st.data)});for(var m=0;m<h.orderedModifiers.length;m++){if(h.reset===!0){h.reset=!1,m=-1;continue}var K=h.orderedModifiers[m],z=K.fn,k=K.options,R=k===void 0?{}:k,tt=K.name;typeof z=="function"&&(h=z({state:h,options:R,name:tt,instance:S})||h)}}}},update:Hg(function(){return new Promise(function(H){S.forceUpdate(),H(h)})}),destroy:function(){j(),_=!0}};if(!jl(l,f))return S;S.setOptions(p).then(function(H){!_&&p.onFirstUpdate&&p.onFirstUpdate(H)});function W(){h.orderedModifiers.forEach(function(H){var N=H.name,U=H.options,rt=U===void 0?{}:U,m=H.effect;if(typeof m=="function"){var K=m({state:h,name:N,instance:S,options:rt}),z=function(){};w.push(K||z)}})}function j(){w.forEach(function(H){return H()}),w=[]}return S}}var zg=Go(),Gg=[Ra,za,Pa,Fo],Wg=Go({defaultModifiers:Gg}),jg=[Ra,za,Pa,Fo,xf,wf,Cf,bf,Ef],Wo=Go({defaultModifiers:jg});const Tf=Object.freeze(Object.defineProperty({__proto__:null,afterMain:lf,afterRead:sf,afterWrite:df,applyStyles:Fo,arrow:bf,auto:Ho,basePlacements:nr,beforeMain:af,beforeRead:rf,beforeWrite:uf,bottom:xe,clippingParents:ef,computeStyles:Pa,createPopper:Wo,createPopperBase:zg,createPopperLite:Wg,detectOverflow:qi,end:Ui,eventListeners:Ra,flip:wf,hide:Ef,left:le,main:cf,modifierPhases:hf,offset:xf,placements:La,popper:$i,popperGenerator:Go,popperOffsets:za,preventOverflow:Cf,read:of,reference:nf,right:Ce,start:hi,top:ce,variationPlacements:da,viewport:ka,write:ff},Symbol.toStringTag,{value:"Module"}));var Vg="tippy-box",Sf="tippy-content",Ug="tippy-backdrop",Of="tippy-arrow",Mf="tippy-svg-arrow",ii={passive:!0,capture:!0},Df=function(){return document.body};function Bs(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function Ga(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function kf(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Vl(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function Qg(t){return t.split(/\s+/).filter(Boolean)}function Pi(t){return[].concat(t)}function Ul(t,e){t.indexOf(e)===-1&&t.push(e)}function Kg(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Yg(t){return t.split("-")[0]}function To(t){return[].slice.call(t)}function Ql(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Er(){return document.createElement("div")}function jo(t){return["Element","Fragment"].some(function(e){return Ga(t,e)})}function qg(t){return Ga(t,"NodeList")}function Xg(t){return Ga(t,"MouseEvent")}function Jg(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Zg(t){return jo(t)?[t]:qg(t)?To(t):Array.isArray(t)?t:To(document.querySelectorAll(t))}function Hs(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Kl(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function tm(t){var e,n=Pi(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function em(t,e){var n=e.clientX,i=e.clientY;return t.every(function(o){var s=o.popperRect,a=o.popperState,l=o.props,f=l.interactiveBorder,p=Yg(a.placement),h=a.modifiersData.offset;if(!h)return!0;var w=p==="bottom"?h.top.y:0,_=p==="top"?h.bottom.y:0,S=p==="right"?h.left.x:0,W=p==="left"?h.right.x:0,j=s.top-i+w>f,H=i-s.bottom-_>f,N=s.left-n+S>f,U=n-s.right-W>f;return j||H||N||U})}function Fs(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[i](o,n)})}function Yl(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var an={isTouch:!1},ql=0;function nm(){an.isTouch||(an.isTouch=!0,window.performance&&document.addEventListener("mousemove",Lf))}function Lf(){var t=performance.now();t-ql<20&&(an.isTouch=!1,document.removeEventListener("mousemove",Lf)),ql=t}function im(){var t=document.activeElement;if(Jg(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function rm(){document.addEventListener("touchstart",nm,ii),window.addEventListener("blur",im)}var om=typeof window<"u"&&typeof document<"u",sm=om?!!window.msCrypto:!1,am={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},cm={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ye=Object.assign({appendTo:Df,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},am,cm),lm=Object.keys(Ye),um=function(e){var n=Object.keys(e);n.forEach(function(i){Ye[i]=e[i]})};function Nf(t){var e=t.plugins||[],n=e.reduce(function(i,o){var s=o.name,a=o.defaultValue;if(s){var l;i[s]=t[s]!==void 0?t[s]:(l=Ye[s])!=null?l:a}return i},{});return Object.assign({},t,n)}function fm(t,e){var n=e?Object.keys(Nf(Object.assign({},Ye,{plugins:e}))):lm,i=n.reduce(function(o,s){var a=(t.getAttribute("data-tippy-"+s)||"").trim();if(!a)return o;if(s==="content")o[s]=a;else try{o[s]=JSON.parse(a)}catch{o[s]=a}return o},{});return i}function Xl(t,e){var n=Object.assign({},e,{content:kf(e.content,[t])},e.ignoreAttributes?{}:fm(t,e.plugins));return n.aria=Object.assign({},Ye.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var dm=function(){return"innerHTML"};function ga(t,e){t[dm()]=e}function Jl(t){var e=Er();return t===!0?e.className=Of:(e.className=Mf,jo(t)?e.appendChild(t):ga(e,t)),e}function Zl(t,e){jo(e.content)?(ga(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?ga(t,e.content):t.textContent=e.content)}function ma(t){var e=t.firstElementChild,n=To(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(Sf)}),arrow:n.find(function(i){return i.classList.contains(Of)||i.classList.contains(Mf)}),backdrop:n.find(function(i){return i.classList.contains(Ug)})}}function If(t){var e=Er(),n=Er();n.className=Vg,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Er();i.className=Sf,i.setAttribute("data-state","hidden"),Zl(i,t.props),e.appendChild(n),n.appendChild(i),o(t.props,t.props);function o(s,a){var l=ma(e),f=l.box,p=l.content,h=l.arrow;a.theme?f.setAttribute("data-theme",a.theme):f.removeAttribute("data-theme"),typeof a.animation=="string"?f.setAttribute("data-animation",a.animation):f.removeAttribute("data-animation"),a.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?f.setAttribute("role",a.role):f.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&Zl(p,t.props),a.arrow?h?s.arrow!==a.arrow&&(f.removeChild(h),f.appendChild(Jl(a.arrow))):f.appendChild(Jl(a.arrow)):h&&f.removeChild(h)}return{popper:e,onUpdate:o}}If.$$tippy=!0;var hm=1,no=[],zs=[];function pm(t,e){var n=Xl(t,Object.assign({},Ye,Nf(Ql(e)))),i,o,s,a=!1,l=!1,f=!1,p=!1,h,w,_,S=[],W=Vl(Ze,n.interactiveDebounce),j,H=hm++,N=null,U=Kg(n.plugins),rt={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:H,reference:t,popper:Er(),popperInstance:N,props:n,state:rt,plugins:U,clearDelayTimeouts:_n,setProps:te,setContent:ve,show:en,hide:Dn,hideWithInteractivity:jn,enable:De,disable:ne,unmount:A,destroy:T};if(!n.render)return m;var K=n.render(m),z=K.popper,k=K.onUpdate;z.setAttribute("data-tippy-root",""),z.id="tippy-"+m.id,m.popper=z,t._tippy=m,z._tippy=m;var R=U.map(function(g){return g.fn(m)}),tt=t.hasAttribute("aria-expanded");return Vt(),x(),P(),J("onCreate",[m]),n.showOnCreate&&We(),z.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),z.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&y().addEventListener("mousemove",W)}),m;function st(){var g=m.props.touch;return Array.isArray(g)?g:[g,0]}function ht(){return st()[0]==="hold"}function ct(){var g;return!!((g=m.props.render)!=null&&g.$$tippy)}function mt(){return j||t}function y(){var g=mt().parentNode;return g?tm(g):document}function $(){return ma(z)}function E(g){return m.state.isMounted&&!m.state.isVisible||an.isTouch||h&&h.type==="focus"?0:Bs(m.props.delay,g?0:1,Ye.delay)}function P(g){g===void 0&&(g=!1),z.style.pointerEvents=m.props.interactive&&!g?"":"none",z.style.zIndex=""+m.props.zIndex}function J(g,O,F){if(F===void 0&&(F=!0),R.forEach(function(ut){ut[g]&&ut[g].apply(ut,O)}),F){var ft;(ft=m.props)[g].apply(ft,O)}}function at(){var g=m.props.aria;if(g.content){var O="aria-"+g.content,F=z.id,ft=Pi(m.props.triggerTarget||t);ft.forEach(function(ut){var lt=ut.getAttribute(O);if(m.state.isVisible)ut.setAttribute(O,lt?lt+" "+F:F);else{var G=lt&&lt.replace(F,"").trim();G?ut.setAttribute(O,G):ut.removeAttribute(O)}})}}function x(){if(!(tt||!m.props.aria.expanded)){var g=Pi(m.props.triggerTarget||t);g.forEach(function(O){m.props.interactive?O.setAttribute("aria-expanded",m.state.isVisible&&O===mt()?"true":"false"):O.removeAttribute("aria-expanded")})}}function yt(){y().removeEventListener("mousemove",W),no=no.filter(function(g){return g!==W})}function Et(g){if(!(an.isTouch&&(f||g.type==="mousedown"))){var O=g.composedPath&&g.composedPath()[0]||g.target;if(!(m.props.interactive&&Yl(z,O))){if(Pi(m.props.triggerTarget||t).some(function(F){return Yl(F,O)})){if(an.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else J("onClickOutside",[m,g]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),l=!0,setTimeout(function(){l=!1}),m.state.isMounted||ot())}}}function X(){f=!0}function pt(){f=!1}function Ot(){var g=y();g.addEventListener("mousedown",Et,!0),g.addEventListener("touchend",Et,ii),g.addEventListener("touchstart",pt,ii),g.addEventListener("touchmove",X,ii)}function ot(){var g=y();g.removeEventListener("mousedown",Et,!0),g.removeEventListener("touchend",Et,ii),g.removeEventListener("touchstart",pt,ii),g.removeEventListener("touchmove",X,ii)}function zt(g,O){Kt(g,function(){!m.state.isVisible&&z.parentNode&&z.parentNode.contains(z)&&O()})}function Y(g,O){Kt(g,O)}function Kt(g,O){var F=$().box;function ft(ut){ut.target===F&&(Fs(F,"remove",ft),O())}if(g===0)return O();Fs(F,"remove",w),Fs(F,"add",ft),w=ft}function me(g,O,F){F===void 0&&(F=!1);var ft=Pi(m.props.triggerTarget||t);ft.forEach(function(ut){ut.addEventListener(g,O,F),S.push({node:ut,eventType:g,handler:O,options:F})})}function Vt(){ht()&&(me("touchstart",Jt,{passive:!0}),me("touchend",Me,{passive:!0})),Qg(m.props.trigger).forEach(function(g){if(g!=="manual")switch(me(g,Jt),g){case"mouseenter":me("mouseleave",Me);break;case"focus":me(sm?"focusout":"blur",Zt);break;case"focusin":me("focusout",Zt);break}})}function pn(){S.forEach(function(g){var O=g.node,F=g.eventType,ft=g.handler,ut=g.options;O.removeEventListener(F,ft,ut)}),S=[]}function Jt(g){var O,F=!1;if(!(!m.state.isEnabled||tn(g)||l)){var ft=((O=h)==null?void 0:O.type)==="focus";h=g,j=g.currentTarget,x(),!m.state.isVisible&&Xg(g)&&no.forEach(function(ut){return ut(g)}),g.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||a)&&m.props.hideOnClick!==!1&&m.state.isVisible?F=!0:We(g),g.type==="click"&&(a=!F),F&&!ft&&je(g)}}function Ze(g){var O=g.target,F=mt().contains(O)||z.contains(O);if(!(g.type==="mousemove"&&F)){var ft=_e().concat(z).map(function(ut){var lt,G=ut._tippy,Q=(lt=G.popperInstance)==null?void 0:lt.state;return Q?{popperRect:ut.getBoundingClientRect(),popperState:Q,props:n}:null}).filter(Boolean);em(ft,g)&&(yt(),je(g))}}function Me(g){var O=tn(g)||m.props.trigger.indexOf("click")>=0&&a;if(!O){if(m.props.interactive){m.hideWithInteractivity(g);return}je(g)}}function Zt(g){m.props.trigger.indexOf("focusin")<0&&g.target!==mt()||m.props.interactive&&g.relatedTarget&&z.contains(g.relatedTarget)||je(g)}function tn(g){return an.isTouch?ht()!==g.type.indexOf("touch")>=0:!1}function gn(){mn();var g=m.props,O=g.popperOptions,F=g.placement,ft=g.offset,ut=g.getReferenceClientRect,lt=g.moveTransition,G=ct()?ma(z).arrow:null,Q=ut?{getBoundingClientRect:ut,contextElement:ut.contextElement||mt()}:t,et={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(kt){var Nt=kt.state;if(ct()){var jt=$(),ke=jt.box;["placement","reference-hidden","escaped"].forEach(function(kn){kn==="placement"?ke.setAttribute("data-placement",Nt.placement):Nt.attributes.popper["data-popper-"+kn]?ke.setAttribute("data-"+kn,""):ke.removeAttribute("data-"+kn)}),Nt.attributes.popper={}}}},Z=[{name:"offset",options:{offset:ft}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!lt}},et];ct()&&G&&Z.push({name:"arrow",options:{element:G,padding:3}}),Z.push.apply(Z,(O==null?void 0:O.modifiers)||[]),m.popperInstance=Wo(Q,z,Object.assign({},O,{placement:F,onFirstUpdate:_,modifiers:Z}))}function mn(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function ue(){var g=m.props.appendTo,O,F=mt();m.props.interactive&&g===Df||g==="parent"?O=F.parentNode:O=kf(g,[F]),O.contains(z)||O.appendChild(z),m.state.isMounted=!0,gn()}function _e(){return To(z.querySelectorAll("[data-tippy-root]"))}function We(g){m.clearDelayTimeouts(),g&&J("onTrigger",[m,g]),Ot();var O=E(!0),F=st(),ft=F[0],ut=F[1];an.isTouch&&ft==="hold"&&ut&&(O=ut),O?i=setTimeout(function(){m.show()},O):m.show()}function je(g){if(m.clearDelayTimeouts(),J("onUntrigger",[m,g]),!m.state.isVisible){ot();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(g.type)>=0&&a)){var O=E(!1);O?o=setTimeout(function(){m.state.isVisible&&m.hide()},O):s=requestAnimationFrame(function(){m.hide()})}}function De(){m.state.isEnabled=!0}function ne(){m.hide(),m.state.isEnabled=!1}function _n(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(s)}function te(g){if(!m.state.isDestroyed){J("onBeforeUpdate",[m,g]),pn();var O=m.props,F=Xl(t,Object.assign({},O,Ql(g),{ignoreAttributes:!0}));m.props=F,Vt(),O.interactiveDebounce!==F.interactiveDebounce&&(yt(),W=Vl(Ze,F.interactiveDebounce)),O.triggerTarget&&!F.triggerTarget?Pi(O.triggerTarget).forEach(function(ft){ft.removeAttribute("aria-expanded")}):F.triggerTarget&&t.removeAttribute("aria-expanded"),x(),P(),k&&k(O,F),m.popperInstance&&(gn(),_e().forEach(function(ft){requestAnimationFrame(ft._tippy.popperInstance.forceUpdate)})),J("onAfterUpdate",[m,g])}}function ve(g){m.setProps({content:g})}function en(){var g=m.state.isVisible,O=m.state.isDestroyed,F=!m.state.isEnabled,ft=an.isTouch&&!m.props.touch,ut=Bs(m.props.duration,0,Ye.duration);if(!(g||O||F||ft)&&!mt().hasAttribute("disabled")&&(J("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,ct()&&(z.style.visibility="visible"),P(),Ot(),m.state.isMounted||(z.style.transition="none"),ct()){var lt=$(),G=lt.box,Q=lt.content;Hs([G,Q],0)}_=function(){var Z;if(!(!m.state.isVisible||p)){if(p=!0,z.offsetHeight,z.style.transition=m.props.moveTransition,ct()&&m.props.animation){var At=$(),kt=At.box,Nt=At.content;Hs([kt,Nt],ut),Kl([kt,Nt],"visible")}at(),x(),Ul(zs,m),(Z=m.popperInstance)==null||Z.forceUpdate(),J("onMount",[m]),m.props.animation&&ct()&&Y(ut,function(){m.state.isShown=!0,J("onShown",[m])})}},ue()}}function Dn(){var g=!m.state.isVisible,O=m.state.isDestroyed,F=!m.state.isEnabled,ft=Bs(m.props.duration,1,Ye.duration);if(!(g||O||F)&&(J("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,p=!1,a=!1,ct()&&(z.style.visibility="hidden"),yt(),ot(),P(!0),ct()){var ut=$(),lt=ut.box,G=ut.content;m.props.animation&&(Hs([lt,G],ft),Kl([lt,G],"hidden"))}at(),x(),m.props.animation?ct()&&zt(ft,m.unmount):m.unmount()}}function jn(g){y().addEventListener("mousemove",W),Ul(no,W),W(g)}function A(){m.state.isVisible&&m.hide(),m.state.isMounted&&(mn(),_e().forEach(function(g){g._tippy.unmount()}),z.parentNode&&z.parentNode.removeChild(z),zs=zs.filter(function(g){return g!==m}),m.state.isMounted=!1,J("onHidden",[m]))}function T(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),pn(),delete t._tippy,m.state.isDestroyed=!0,J("onDestroy",[m]))}}function Rn(t,e){e===void 0&&(e={});var n=Ye.plugins.concat(e.plugins||[]);rm();var i=Object.assign({},e,{plugins:n}),o=Zg(t),s=o.reduce(function(a,l){var f=l&&pm(l,i);return f&&a.push(f),a},[]);return jo(t)?s[0]:s}Rn.defaultProps=Ye;Rn.setDefaultProps=um;Rn.currentInput=an;Object.assign({},Fo,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});Rn.setDefaultProps({render:If});/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const $n=new Map,Gs={set(t,e,n){$n.has(t)||$n.set(t,new Map);const i=$n.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,n)},get(t,e){return $n.has(t)&&$n.get(t).get(e)||null},remove(t,e){if(!$n.has(t))return;const n=$n.get(t);n.delete(e),n.size===0&&$n.delete(t)}},gm=1e6,mm=1e3,_a="transitionend",$f=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),_m=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),vm=t=>{do t+=Math.floor(Math.random()*gm);while(document.getElementById(t));return t},bm=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),o=Number.parseFloat(n);return!i&&!o?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*mm)},Pf=t=>{t.dispatchEvent(new Event(_a))},xn=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Bn=t=>xn(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector($f(t)):null,ir=t=>{if(!xn(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const i=t.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return e},Hn=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Rf=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Rf(t.parentNode):null},So=()=>{},kr=t=>{t.offsetHeight},Bf=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ws=[],ym=t=>{document.readyState==="loading"?(Ws.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Ws)e()}),Ws.push(t)):t()},Fe=()=>document.documentElement.dir==="rtl",Ge=t=>{ym(()=>{const e=Bf();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}})},pe=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,Hf=(t,e,n=!0)=>{if(!n){pe(t);return}const o=bm(e)+5;let s=!1;const a=({target:l})=>{l===e&&(s=!0,e.removeEventListener(_a,a),pe(t))};e.addEventListener(_a,a),setTimeout(()=>{s||Pf(e)},o)},Wa=(t,e,n,i)=>{const o=t.length;let s=t.indexOf(e);return s===-1?!n&&i?t[o-1]:t[0]:(s+=n?1:-1,i&&(s=(s+o)%o),t[Math.max(0,Math.min(s,o-1))])},Am=/[^.]*(?=\..*)\.|.*/,wm=/\..*/,Em=/::\d+$/,js={};let tu=1;const Ff={mouseenter:"mouseover",mouseleave:"mouseout"},xm=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function zf(t,e){return e&&`${e}::${tu++}`||t.uidEvent||tu++}function Gf(t){const e=zf(t);return t.uidEvent=e,js[e]=js[e]||{},js[e]}function Cm(t,e){return function n(i){return ja(i,{delegateTarget:t}),n.oneOff&&B.off(t,i.type,e),e.apply(t,[i])}}function Tm(t,e,n){return function i(o){const s=t.querySelectorAll(e);for(let{target:a}=o;a&&a!==this;a=a.parentNode)for(const l of s)if(l===a)return ja(o,{delegateTarget:a}),i.oneOff&&B.off(t,o.type,e,n),n.apply(a,[o])}}function Wf(t,e,n=null){return Object.values(t).find(i=>i.callable===e&&i.delegationSelector===n)}function jf(t,e,n){const i=typeof e=="string",o=i?n:e||n;let s=Vf(t);return xm.has(s)||(s=t),[i,o,s]}function eu(t,e,n,i,o){if(typeof e!="string"||!t)return;let[s,a,l]=jf(e,n,i);e in Ff&&(a=(W=>function(j){if(!j.relatedTarget||j.relatedTarget!==j.delegateTarget&&!j.delegateTarget.contains(j.relatedTarget))return W.call(this,j)})(a));const f=Gf(t),p=f[l]||(f[l]={}),h=Wf(p,a,s?n:null);if(h){h.oneOff=h.oneOff&&o;return}const w=zf(a,e.replace(Am,"")),_=s?Tm(t,n,a):Cm(t,a);_.delegationSelector=s?n:null,_.callable=a,_.oneOff=o,_.uidEvent=w,p[w]=_,t.addEventListener(l,_,s)}function va(t,e,n,i,o){const s=Wf(e[n],i,o);s&&(t.removeEventListener(n,s,!!o),delete e[n][s.uidEvent])}function Sm(t,e,n,i){const o=e[n]||{};for(const[s,a]of Object.entries(o))s.includes(i)&&va(t,e,n,a.callable,a.delegationSelector)}function Vf(t){return t=t.replace(wm,""),Ff[t]||t}const B={on(t,e,n,i){eu(t,e,n,i,!1)},one(t,e,n,i){eu(t,e,n,i,!0)},off(t,e,n,i){if(typeof e!="string"||!t)return;const[o,s,a]=jf(e,n,i),l=a!==e,f=Gf(t),p=f[a]||{},h=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(p).length)return;va(t,f,a,s,o?n:null);return}if(h)for(const w of Object.keys(f))Sm(t,f,w,e.slice(1));for(const[w,_]of Object.entries(p)){const S=w.replace(Em,"");(!l||e.includes(S))&&va(t,f,a,_.callable,_.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const i=Bf(),o=Vf(e),s=e!==o;let a=null,l=!0,f=!0,p=!1;s&&i&&(a=i.Event(e,n),i(t).trigger(a),l=!a.isPropagationStopped(),f=!a.isImmediatePropagationStopped(),p=a.isDefaultPrevented());const h=ja(new Event(e,{bubbles:l,cancelable:!0}),n);return p&&h.preventDefault(),f&&t.dispatchEvent(h),h.defaultPrevented&&a&&a.preventDefault(),h}};function ja(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch{Object.defineProperty(t,n,{configurable:!0,get(){return i}})}return t}function nu(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Vs(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Cn={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Vs(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Vs(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let o=i.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=nu(t.dataset[i])}return e},getDataAttribute(t,e){return nu(t.getAttribute(`data-bs-${Vs(e)}`))}};class Lr{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const i=xn(n)?Cn.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...xn(n)?Cn.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[i,o]of Object.entries(n)){const s=e[i],a=xn(s)?"element":_m(s);if(!new RegExp(o).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${o}".`)}}}const Om="5.3.3";class Xe extends Lr{constructor(e,n){super(),e=Bn(e),e&&(this._element=e,this._config=this._getConfig(n),Gs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Gs.remove(this._element,this.constructor.DATA_KEY),B.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){Hf(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Gs.get(Bn(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return Om}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Us=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>$f(n)).join(","):null},dt={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Hn(n)&&ir(n))},getSelectorFromElement(t){const e=Us(t);return e&&dt.findOne(e)?e:null},getElementFromSelector(t){const e=Us(t);return e?dt.findOne(e):null},getMultipleElementsFromSelector(t){const e=Us(t);return e?dt.find(e):[]}},Vo=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;B.on(document,n,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Hn(this))return;const s=dt.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(s)[e]()})},Mm="alert",Dm="bs.alert",Uf=`.${Dm}`,km=`close${Uf}`,Lm=`closed${Uf}`,Nm="fade",Im="show";class Uo extends Xe{static get NAME(){return Mm}close(){if(B.trigger(this._element,km).defaultPrevented)return;this._element.classList.remove(Im);const n=this._element.classList.contains(Nm);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),B.trigger(this._element,Lm),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Uo.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Vo(Uo,"close");Ge(Uo);const $m="button",Pm="bs.button",Rm=`.${Pm}`,Bm=".data-api",Hm="active",iu='[data-bs-toggle="button"]',Fm=`click${Rm}${Bm}`;class Qo extends Xe{static get NAME(){return $m}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Hm))}static jQueryInterface(e){return this.each(function(){const n=Qo.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}B.on(document,Fm,iu,t=>{t.preventDefault();const e=t.target.closest(iu);Qo.getOrCreateInstance(e).toggle()});Ge(Qo);const zm="swipe",rr=".bs.swipe",Gm=`touchstart${rr}`,Wm=`touchmove${rr}`,jm=`touchend${rr}`,Vm=`pointerdown${rr}`,Um=`pointerup${rr}`,Qm="touch",Km="pen",Ym="pointer-event",qm=40,Xm={endCallback:null,leftCallback:null,rightCallback:null},Jm={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Oo extends Lr{constructor(e,n){super(),this._element=e,!(!e||!Oo.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Xm}static get DefaultType(){return Jm}static get NAME(){return zm}dispose(){B.off(this._element,rr)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),pe(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=qm)return;const n=e/this._deltaX;this._deltaX=0,n&&pe(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(B.on(this._element,Vm,e=>this._start(e)),B.on(this._element,Um,e=>this._end(e)),this._element.classList.add(Ym)):(B.on(this._element,Gm,e=>this._start(e)),B.on(this._element,Wm,e=>this._move(e)),B.on(this._element,jm,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Km||e.pointerType===Qm)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Zm="carousel",t_="bs.carousel",Gn=`.${t_}`,Qf=".data-api",e_="ArrowLeft",n_="ArrowRight",i_=500,pr="next",Ni="prev",Ri="left",_o="right",r_=`slide${Gn}`,Qs=`slid${Gn}`,o_=`keydown${Gn}`,s_=`mouseenter${Gn}`,a_=`mouseleave${Gn}`,c_=`dragstart${Gn}`,l_=`load${Gn}${Qf}`,u_=`click${Gn}${Qf}`,Kf="carousel",io="active",f_="slide",d_="carousel-item-end",h_="carousel-item-start",p_="carousel-item-next",g_="carousel-item-prev",Yf=".active",qf=".carousel-item",m_=Yf+qf,__=".carousel-item img",v_=".carousel-indicators",b_="[data-bs-slide], [data-bs-slide-to]",y_='[data-bs-ride="carousel"]',A_={[e_]:_o,[n_]:Ri},w_={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},E_={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Nr extends Xe{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=dt.findOne(v_,this._element),this._addEventListeners(),this._config.ride===Kf&&this.cycle()}static get Default(){return w_}static get DefaultType(){return E_}static get NAME(){return Zm}next(){this._slide(pr)}nextWhenVisible(){!document.hidden&&ir(this._element)&&this.next()}prev(){this._slide(Ni)}pause(){this._isSliding&&Pf(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){B.one(this._element,Qs,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){B.one(this._element,Qs,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const o=e>i?pr:Ni;this._slide(o,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&B.on(this._element,o_,e=>this._keydown(e)),this._config.pause==="hover"&&(B.on(this._element,s_,()=>this.pause()),B.on(this._element,a_,()=>this._maybeEnableCycle())),this._config.touch&&Oo.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of dt.find(__,this._element))B.on(i,c_,o=>o.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Ri)),rightCallback:()=>this._slide(this._directionToOrder(_o)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),i_+this._config.interval))}};this._swipeHelper=new Oo(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=A_[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=dt.findOne(Yf,this._indicatorsElement);n.classList.remove(io),n.removeAttribute("aria-current");const i=dt.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(io),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const i=this._getActive(),o=e===pr,s=n||Wa(this._getItems(),i,o,this._config.wrap);if(s===i)return;const a=this._getItemIndex(s),l=S=>B.trigger(this._element,S,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:a});if(l(r_).defaultPrevented||!i||!s)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const h=o?h_:d_,w=o?p_:g_;s.classList.add(w),kr(s),i.classList.add(h),s.classList.add(h);const _=()=>{s.classList.remove(h,w),s.classList.add(io),i.classList.remove(io,w,h),this._isSliding=!1,l(Qs)};this._queueCallback(_,i,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(f_)}_getActive(){return dt.findOne(m_,this._element)}_getItems(){return dt.find(qf,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Fe()?e===Ri?Ni:pr:e===Ri?pr:Ni}_orderToDirection(e){return Fe()?e===Ni?Ri:_o:e===Ni?_o:Ri}static jQueryInterface(e){return this.each(function(){const n=Nr.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}B.on(document,u_,b_,function(t){const e=dt.getElementFromSelector(this);if(!e||!e.classList.contains(Kf))return;t.preventDefault();const n=Nr.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(Cn.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});B.on(window,l_,()=>{const t=dt.find(y_);for(const e of t)Nr.getOrCreateInstance(e)});Ge(Nr);const x_="collapse",C_="bs.collapse",Ir=`.${C_}`,T_=".data-api",S_=`show${Ir}`,O_=`shown${Ir}`,M_=`hide${Ir}`,D_=`hidden${Ir}`,k_=`click${Ir}${T_}`,Ks="show",Hi="collapse",ro="collapsing",L_="collapsed",N_=`:scope .${Hi} .${Hi}`,I_="collapse-horizontal",$_="width",P_="height",R_=".collapse.show, .collapse.collapsing",ba='[data-bs-toggle="collapse"]',B_={parent:null,toggle:!0},H_={parent:"(null|element)",toggle:"boolean"};class xr extends Xe{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const i=dt.find(ba);for(const o of i){const s=dt.getSelectorFromElement(o),a=dt.find(s).filter(l=>l===this._element);s!==null&&a.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return B_}static get DefaultType(){return H_}static get NAME(){return x_}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(R_).filter(l=>l!==this._element).map(l=>xr.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||B.trigger(this._element,S_).defaultPrevented)return;for(const l of e)l.hide();const i=this._getDimension();this._element.classList.remove(Hi),this._element.classList.add(ro),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(ro),this._element.classList.add(Hi,Ks),this._element.style[i]="",B.trigger(this._element,O_)},a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||B.trigger(this._element,M_).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,kr(this._element),this._element.classList.add(ro),this._element.classList.remove(Hi,Ks);for(const o of this._triggerArray){const s=dt.getElementFromSelector(o);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(ro),this._element.classList.add(Hi),B.trigger(this._element,D_)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ks)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Bn(e.parent),e}_getDimension(){return this._element.classList.contains(I_)?$_:P_}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ba);for(const n of e){const i=dt.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(e){const n=dt.find(N_,this._config.parent);return dt.find(e,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const i of e)i.classList.toggle(L_,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const i=xr.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}B.on(document,k_,ba,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of dt.getMultipleElementsFromSelector(this))xr.getOrCreateInstance(e,{toggle:!1}).toggle()});Ge(xr);const ru="dropdown",F_="bs.dropdown",mi=`.${F_}`,Va=".data-api",z_="Escape",ou="Tab",G_="ArrowUp",su="ArrowDown",W_=2,j_=`hide${mi}`,V_=`hidden${mi}`,U_=`show${mi}`,Q_=`shown${mi}`,Xf=`click${mi}${Va}`,Jf=`keydown${mi}${Va}`,K_=`keyup${mi}${Va}`,Bi="show",Y_="dropup",q_="dropend",X_="dropstart",J_="dropup-center",Z_="dropdown-center",si='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',tv=`${si}.${Bi}`,vo=".dropdown-menu",ev=".navbar",nv=".navbar-nav",iv=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",rv=Fe()?"top-end":"top-start",ov=Fe()?"top-start":"top-end",sv=Fe()?"bottom-end":"bottom-start",av=Fe()?"bottom-start":"bottom-end",cv=Fe()?"left-start":"right-start",lv=Fe()?"right-start":"left-start",uv="top",fv="bottom",dv={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},hv={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class un extends Xe{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=dt.next(this._element,vo)[0]||dt.prev(this._element,vo)[0]||dt.findOne(vo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return dv}static get DefaultType(){return hv}static get NAME(){return ru}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Hn(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!B.trigger(this._element,U_,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(nv))for(const i of[].concat(...document.body.children))B.on(i,"mouseover",So);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bi),this._element.classList.add(Bi),B.trigger(this._element,Q_,e)}}hide(){if(Hn(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!B.trigger(this._element,j_,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))B.off(i,"mouseover",So);this._popper&&this._popper.destroy(),this._menu.classList.remove(Bi),this._element.classList.remove(Bi),this._element.setAttribute("aria-expanded","false"),Cn.removeDataAttribute(this._menu,"popper"),B.trigger(this._element,V_,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!xn(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${ru.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Tf>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:xn(this._config.reference)?e=Bn(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Wo(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Bi)}_getPlacement(){const e=this._parent;if(e.classList.contains(q_))return cv;if(e.classList.contains(X_))return lv;if(e.classList.contains(J_))return uv;if(e.classList.contains(Z_))return fv;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Y_)?n?ov:rv:n?av:sv}_detectNavbar(){return this._element.closest(ev)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Cn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...pe(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const i=dt.find(iv,this._menu).filter(o=>ir(o));i.length&&Wa(i,n,e===su,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=un.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===W_||e.type==="keyup"&&e.key!==ou)return;const n=dt.find(tv);for(const i of n){const o=un.getInstance(i);if(!o||o._config.autoClose===!1)continue;const s=e.composedPath(),a=s.includes(o._menu);if(s.includes(o._element)||o._config.autoClose==="inside"&&!a||o._config.autoClose==="outside"&&a||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===ou||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:o._element};e.type==="click"&&(l.clickEvent=e),o._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),i=e.key===z_,o=[G_,su].includes(e.key);if(!o&&!i||n&&!i)return;e.preventDefault();const s=this.matches(si)?this:dt.prev(this,si)[0]||dt.next(this,si)[0]||dt.findOne(si,e.delegateTarget.parentNode),a=un.getOrCreateInstance(s);if(o){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}}B.on(document,Jf,si,un.dataApiKeydownHandler);B.on(document,Jf,vo,un.dataApiKeydownHandler);B.on(document,Xf,un.clearMenus);B.on(document,K_,un.clearMenus);B.on(document,Xf,si,function(t){t.preventDefault(),un.getOrCreateInstance(this).toggle()});Ge(un);const Zf="backdrop",pv="fade",au="show",cu=`mousedown.bs.${Zf}`,gv={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},mv={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class td extends Lr{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return gv}static get DefaultType(){return mv}static get NAME(){return Zf}show(e){if(!this._config.isVisible){pe(e);return}this._append();const n=this._getElement();this._config.isAnimated&&kr(n),n.classList.add(au),this._emulateAnimation(()=>{pe(e)})}hide(e){if(!this._config.isVisible){pe(e);return}this._getElement().classList.remove(au),this._emulateAnimation(()=>{this.dispose(),pe(e)})}dispose(){this._isAppended&&(B.off(this._element,cu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(pv),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Bn(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),B.on(e,cu,()=>{pe(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Hf(e,this._getElement(),this._config.isAnimated)}}const _v="focustrap",vv="bs.focustrap",Mo=`.${vv}`,bv=`focusin${Mo}`,yv=`keydown.tab${Mo}`,Av="Tab",wv="forward",lu="backward",Ev={autofocus:!0,trapElement:null},xv={autofocus:"boolean",trapElement:"element"};class ed extends Lr{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ev}static get DefaultType(){return xv}static get NAME(){return _v}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),B.off(document,Mo),B.on(document,bv,e=>this._handleFocusin(e)),B.on(document,yv,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,B.off(document,Mo))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const i=dt.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===lu?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===Av&&(this._lastTabNavDirection=e.shiftKey?lu:wv)}}const uu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fu=".sticky-top",oo="padding-right",du="margin-right";class ya{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,oo,n=>n+e),this._setElementAttributes(uu,oo,n=>n+e),this._setElementAttributes(fu,du,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,oo),this._resetElementAttributes(uu,oo),this._resetElementAttributes(fu,du)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,i){const o=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+o)return;this._saveInitialAttribute(a,n);const l=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${i(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&Cn.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){const i=o=>{const s=Cn.getDataAttribute(o,n);if(s===null){o.style.removeProperty(n);return}Cn.removeDataAttribute(o,n),o.style.setProperty(n,s)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,n){if(xn(e)){n(e);return}for(const i of dt.find(e,this._element))n(i)}}const Cv="modal",Tv="bs.modal",ze=`.${Tv}`,Sv=".data-api",Ov="Escape",Mv=`hide${ze}`,Dv=`hidePrevented${ze}`,nd=`hidden${ze}`,id=`show${ze}`,kv=`shown${ze}`,Lv=`resize${ze}`,Nv=`click.dismiss${ze}`,Iv=`mousedown.dismiss${ze}`,$v=`keydown.dismiss${ze}`,Pv=`click${ze}${Sv}`,hu="modal-open",Rv="fade",pu="show",Ys="modal-static",Bv=".modal.show",Hv=".modal-dialog",Fv=".modal-body",zv='[data-bs-toggle="modal"]',Gv={backdrop:!0,focus:!0,keyboard:!0},Wv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Xi extends Xe{constructor(e,n){super(e,n),this._dialog=dt.findOne(Hv,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ya,this._addEventListeners()}static get Default(){return Gv}static get DefaultType(){return Wv}static get NAME(){return Cv}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||B.trigger(this._element,id,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(hu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||B.trigger(this._element,Mv).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(pu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){B.off(window,ze),B.off(this._dialog,ze),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new td({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ed({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=dt.findOne(Fv,this._dialog);n&&(n.scrollTop=0),kr(this._element),this._element.classList.add(pu);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,B.trigger(this._element,kv,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){B.on(this._element,$v,e=>{if(e.key===Ov){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),B.on(window,Lv,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),B.on(this._element,Iv,e=>{B.one(this._element,Nv,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(hu),this._resetAdjustments(),this._scrollBar.reset(),B.trigger(this._element,nd)})}_isAnimated(){return this._element.classList.contains(Rv)}_triggerBackdropTransition(){if(B.trigger(this._element,Dv).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Ys)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Ys),this._queueCallback(()=>{this._element.classList.remove(Ys),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!e){const o=Fe()?"paddingLeft":"paddingRight";this._element.style[o]=`${n}px`}if(!i&&e){const o=Fe()?"paddingRight":"paddingLeft";this._element.style[o]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const i=Xi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](n)}})}}B.on(document,Pv,zv,function(t){const e=dt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),B.one(e,id,o=>{o.defaultPrevented||B.one(e,nd,()=>{ir(this)&&this.focus()})});const n=dt.findOne(Bv);n&&Xi.getInstance(n).hide(),Xi.getOrCreateInstance(e).toggle(this)});Vo(Xi);Ge(Xi);const jv="offcanvas",Vv="bs.offcanvas",Mn=`.${Vv}`,rd=".data-api",Uv=`load${Mn}${rd}`,Qv="Escape",gu="show",mu="showing",_u="hiding",Kv="offcanvas-backdrop",od=".offcanvas.show",Yv=`show${Mn}`,qv=`shown${Mn}`,Xv=`hide${Mn}`,vu=`hidePrevented${Mn}`,sd=`hidden${Mn}`,Jv=`resize${Mn}`,Zv=`click${Mn}${rd}`,tb=`keydown.dismiss${Mn}`,eb='[data-bs-toggle="offcanvas"]',nb={backdrop:!0,keyboard:!0,scroll:!1},ib={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Fn extends Xe{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nb}static get DefaultType(){return ib}static get NAME(){return jv}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||B.trigger(this._element,Yv,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ya().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(mu);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(gu),this._element.classList.remove(mu),B.trigger(this._element,qv,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||B.trigger(this._element,Xv).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(_u),this._backdrop.hide();const n=()=>{this._element.classList.remove(gu,_u),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ya().reset(),B.trigger(this._element,sd)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){B.trigger(this._element,vu);return}this.hide()},n=!!this._config.backdrop;return new td({className:Kv,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new ed({trapElement:this._element})}_addEventListeners(){B.on(this._element,tb,e=>{if(e.key===Qv){if(this._config.keyboard){this.hide();return}B.trigger(this._element,vu)}})}static jQueryInterface(e){return this.each(function(){const n=Fn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}B.on(document,Zv,eb,function(t){const e=dt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Hn(this))return;B.one(e,sd,()=>{ir(this)&&this.focus()});const n=dt.findOne(od);n&&n!==e&&Fn.getInstance(n).hide(),Fn.getOrCreateInstance(e).toggle(this)});B.on(window,Uv,()=>{for(const t of dt.find(od))Fn.getOrCreateInstance(t).show()});B.on(window,Jv,()=>{for(const t of dt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Fn.getOrCreateInstance(t).hide()});Vo(Fn);Ge(Fn);const rb=/^aria-[\w-]*$/i,ad={"*":["class","dir","id","lang","role",rb],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ob=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),sb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ab=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?ob.has(n)?!!sb.test(t.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function cb(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const o=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...o.body.querySelectorAll("*"));for(const a of s){const l=a.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){a.remove();continue}const f=[].concat(...a.attributes),p=[].concat(e["*"]||[],e[l]||[]);for(const h of f)ab(h,p)||a.removeAttribute(h.nodeName)}return o.body.innerHTML}const lb="TemplateFactory",ub={allowList:ad,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},fb={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},db={entry:"(string|element|function|null)",selector:"(string|element)"};class hb extends Lr{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return ub}static get DefaultType(){return fb}static get NAME(){return lb}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,s]of Object.entries(this._config.content))this._setContent(e,s,o);const n=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,i]of Object.entries(e))super._typeCheckConfig({selector:n,entry:i},db)}_setContent(e,n,i){const o=dt.findOne(i,e);if(o){if(n=this._resolvePossibleFunction(n),!n){o.remove();return}if(xn(n)){this._putElementInTemplate(Bn(n),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(n);return}o.textContent=n}}_maybeSanitize(e){return this._config.sanitize?cb(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return pe(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const pb="tooltip",gb=new Set(["sanitize","allowList","sanitizeFn"]),qs="fade",mb="modal",so="show",_b=".tooltip-inner",bu=`.${mb}`,yu="hide.bs.modal",gr="hover",Xs="focus",vb="click",bb="manual",yb="hide",Ab="hidden",wb="show",Eb="shown",xb="inserted",Cb="click",Tb="focusin",Sb="focusout",Ob="mouseenter",Mb="mouseleave",Db={AUTO:"auto",TOP:"top",RIGHT:Fe()?"left":"right",BOTTOM:"bottom",LEFT:Fe()?"right":"left"},kb={allowList:ad,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Lb={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class or extends Xe{constructor(e,n){if(typeof Tf>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return kb}static get DefaultType(){return Lb}static get NAME(){return pb}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),B.off(this._element.closest(bu),yu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=B.trigger(this._element,this.constructor.eventName(wb)),i=(Rf(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(o),B.trigger(this._element,this.constructor.eventName(xb))),this._popper=this._createPopper(o),o.classList.add(so),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))B.on(l,"mouseover",So);const a=()=>{B.trigger(this._element,this.constructor.eventName(Eb)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||B.trigger(this._element,this.constructor.eventName(yb)).defaultPrevented)return;if(this._getTipElement().classList.remove(so),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))B.off(o,"mouseover",So);this._activeTrigger[vb]=!1,this._activeTrigger[Xs]=!1,this._activeTrigger[gr]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),B.trigger(this._element,this.constructor.eventName(Ab)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(qs,so),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=vm(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(qs),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new hb({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[_b]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(qs)}_isShown(){return this.tip&&this.tip.classList.contains(so)}_createPopper(e){const n=pe(this._config.placement,[this,e,this._element]),i=Db[n.toUpperCase()];return Wo(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return pe(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...pe(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")B.on(this._element,this.constructor.eventName(Cb),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==bb){const i=n===gr?this.constructor.eventName(Ob):this.constructor.eventName(Tb),o=n===gr?this.constructor.eventName(Mb):this.constructor.eventName(Sb);B.on(this._element,i,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?Xs:gr]=!0,a._enter()}),B.on(this._element,o,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?Xs:gr]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},B.on(this._element.closest(bu),yu,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Cn.getDataAttributes(this._element);for(const i of Object.keys(n))gb.has(i)&&delete n[i];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Bn(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(e[n]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=or.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ge(or);const Nb="popover",Ib=".popover-header",$b=".popover-body",Pb={...or.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Rb={...or.DefaultType,content:"(null|string|element|function)"};class Ko extends or{static get Default(){return Pb}static get DefaultType(){return Rb}static get NAME(){return Nb}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ib]:this._getTitle(),[$b]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Ko.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ge(Ko);const Bb="scrollspy",Hb="bs.scrollspy",Ua=`.${Hb}`,Fb=".data-api",zb=`activate${Ua}`,Au=`click${Ua}`,Gb=`load${Ua}${Fb}`,Wb="dropdown-item",Ii="active",jb='[data-bs-spy="scroll"]',Js="[href]",Vb=".nav, .list-group",wu=".nav-link",Ub=".nav-item",Qb=".list-group-item",Kb=`${wu}, ${Ub} > ${wu}, ${Qb}`,Yb=".dropdown",qb=".dropdown-toggle",Xb={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Jb={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Yo extends Xe{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Xb}static get DefaultType(){return Jb}static get NAME(){return Bb}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Bn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(B.off(this._config.target,Au),B.on(this._config.target,Au,Js,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const i=this._rootElement||window,o=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:o,behavior:"smooth"});return}i.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},o=(this._rootElement||document.documentElement).scrollTop,s=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const l=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&l){if(i(a),!o)return;continue}!s&&!l&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=dt.find(Js,this._config.target);for(const n of e){if(!n.hash||Hn(n))continue;const i=dt.findOne(decodeURI(n.hash),this._element);ir(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ii),this._activateParents(e),B.trigger(this._element,zb,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Wb)){dt.findOne(qb,e.closest(Yb)).classList.add(Ii);return}for(const n of dt.parents(e,Vb))for(const i of dt.prev(n,Kb))i.classList.add(Ii)}_clearActiveClass(e){e.classList.remove(Ii);const n=dt.find(`${Js}.${Ii}`,e);for(const i of n)i.classList.remove(Ii)}static jQueryInterface(e){return this.each(function(){const n=Yo.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}B.on(window,Gb,()=>{for(const t of dt.find(jb))Yo.getOrCreateInstance(t)});Ge(Yo);const Zb="tab",ty="bs.tab",_i=`.${ty}`,ey=`hide${_i}`,ny=`hidden${_i}`,iy=`show${_i}`,ry=`shown${_i}`,oy=`click${_i}`,sy=`keydown${_i}`,ay=`load${_i}`,cy="ArrowLeft",Eu="ArrowRight",ly="ArrowUp",xu="ArrowDown",Zs="Home",Cu="End",ai="active",Tu="fade",ta="show",uy="dropdown",cd=".dropdown-toggle",fy=".dropdown-menu",ea=`:not(${cd})`,dy='.list-group, .nav, [role="tablist"]',hy=".nav-item, .list-group-item",py=`.nav-link${ea}, .list-group-item${ea}, [role="tab"]${ea}`,ld='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',na=`${py}, ${ld}`,gy=`.${ai}[data-bs-toggle="tab"], .${ai}[data-bs-toggle="pill"], .${ai}[data-bs-toggle="list"]`;class Ji extends Xe{constructor(e){super(e),this._parent=this._element.closest(dy),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),B.on(this._element,sy,n=>this._keydown(n)))}static get NAME(){return Zb}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),i=n?B.trigger(n,ey,{relatedTarget:e}):null;B.trigger(e,iy,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(ai),this._activate(dt.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(ta);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),B.trigger(e,ry,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(Tu))}_deactivate(e,n){if(!e)return;e.classList.remove(ai),e.blur(),this._deactivate(dt.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(ta);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),B.trigger(e,ny,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(Tu))}_keydown(e){if(![cy,Eu,ly,xu,Zs,Cu].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(o=>!Hn(o));let i;if([Zs,Cu].includes(e.key))i=n[e.key===Zs?0:n.length-1];else{const o=[Eu,xu].includes(e.key);i=Wa(n,e.target,o,!0)}i&&(i.focus({preventScroll:!0}),Ji.getOrCreateInstance(i).show())}_getChildren(){return dt.find(na,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",n),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=dt.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const i=this._getOuterElement(e);if(!i.classList.contains(uy))return;const o=(s,a)=>{const l=dt.findOne(s,i);l&&l.classList.toggle(a,n)};o(cd,ai),o(fy,ta),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,i){e.hasAttribute(n)||e.setAttribute(n,i)}_elemIsActive(e){return e.classList.contains(ai)}_getInnerElement(e){return e.matches(na)?e:dt.findOne(na,e)}_getOuterElement(e){return e.closest(hy)||e}static jQueryInterface(e){return this.each(function(){const n=Ji.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}B.on(document,oy,ld,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Hn(this)&&Ji.getOrCreateInstance(this).show()});B.on(window,ay,()=>{for(const t of dt.find(gy))Ji.getOrCreateInstance(t)});Ge(Ji);const my="toast",_y="bs.toast",Wn=`.${_y}`,vy=`mouseover${Wn}`,by=`mouseout${Wn}`,yy=`focusin${Wn}`,Ay=`focusout${Wn}`,wy=`hide${Wn}`,Ey=`hidden${Wn}`,xy=`show${Wn}`,Cy=`shown${Wn}`,Ty="fade",Su="hide",ao="show",co="showing",Sy={animation:"boolean",autohide:"boolean",delay:"number"},Oy={animation:!0,autohide:!0,delay:5e3};class $r extends Xe{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Oy}static get DefaultType(){return Sy}static get NAME(){return my}show(){if(B.trigger(this._element,xy).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Ty);const n=()=>{this._element.classList.remove(co),B.trigger(this._element,Cy),this._maybeScheduleHide()};this._element.classList.remove(Su),kr(this._element),this._element.classList.add(ao,co),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||B.trigger(this._element,wy).defaultPrevented)return;const n=()=>{this._element.classList.add(Su),this._element.classList.remove(co,ao),B.trigger(this._element,Ey)};this._element.classList.add(co),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ao),super.dispose()}isShown(){return this._element.classList.contains(ao)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){B.on(this._element,vy,e=>this._onInteraction(e,!0)),B.on(this._element,by,e=>this._onInteraction(e,!1)),B.on(this._element,yy,e=>this._onInteraction(e,!0)),B.on(this._element,Ay,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=$r.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Vo($r);Ge($r);const ia=new Map,ra=[],oa={str:"力量",dex:"敏捷",con:"体质",int:"智力",siz:"体型",app:"魅力",armor:"护甲",piercing:"穿刺"},My={str:"影响具有力量系数的动作。大部分的攻击动作都具有力量系数。",dex:"影响具有敏捷系数的动作，一部分迅捷的攻击动作，以及大部分闪避动作都具有敏捷系数。",con:"影响具有体质系数的动作，同时影响生命值上限和自然回复生命值的速度。",int:"影响具有智力系数的动作。",siz:"影响具有体型系数的动作。",app:"暂时没用",armor:"护甲值决定对伤害的减免程度。",piercing:"穿刺值决定攻击时无视目标护甲的能力。"},Dy={body:"防具",hand:"武器",foot:"鞋子",accessory:"饰品"};function vr(t){var n;ia.forEach(i=>{i.forEach(o=>o.destroy())}),ia.clear(),ra.forEach(i=>i.destroy()),ra.length=0;const e=Oe();e.innerHTML=`
    <div class="container mt-4">
      <h2 class="text-center mb-4">状态</h2>

      <div class="row">
        <!-- 属性栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${t.name} 的属性</h4>
            </div>
            <div class="card-body">
              <div id="attribute-bar" class="list-group list-group-flush">
                ${(()=>{const i=t.getAbility(),o=t.getExtraAbility();return Object.entries(i).map(([s,a])=>{const l=o[s]||0;let f="";return l>0?f=`<span class="badge bg-success ms-2">+${l}</span>`:l<0&&(f=`<span class="badge bg-danger ms-2">${l}</span>`),`
                      <div class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-bold">${oa[s]||s}</span>
                        <div>
                          <span class="text-muted">${a}</span>
                          ${f}
                        </div>
                      </div>
                    `}).join("")})()}
              </div>
            </div>
          </div>
        </div>

        <!-- 行动列表区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${t.name} 的行动列表</h4>
            </div>
            <div class="card-body">
              <!-- Tab 导航 -->
              <ul class="nav nav-underline mb-3" id="actionTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="extra-tab" data-bs-toggle="tab" data-bs-target="#extra-actions" type="button" role="tab" aria-controls="extra-actions" aria-selected="true">
                    装备额外行动
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="base-tab" data-bs-toggle="tab" data-bs-target="#base-actions" type="button" role="tab" aria-controls="base-actions" aria-selected="false">
                    基础行动
                  </button>
                </li>
              </ul>
              <!-- Tab 内容 -->
              <div class="tab-content" id="actionTabContent">
                <!-- 装备额外行动列表（默认激活） -->
                <div class="tab-pane fade show active" id="extra-actions" role="tabpanel" aria-labelledby="extra-tab">
                  <ul class="list-group">
                    ${t.getExtraActions().sort((i,o)=>Ut[o.actionType].rarity-Ut[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Ut[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Ll(t,Ut[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Ut[i.actionType].name}</span>
                            <span class="badge bg-${D[Ut[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
                <!-- 基础行动列表 -->
                <div class="tab-pane fade" id="base-actions" role="tabpanel" aria-labelledby="base-tab">
                  <ul class="list-group">
                    ${t.actions.sort((i,o)=>Ut[o.actionType].rarity-Ut[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Ut[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Ll(t,Ut[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Ut[i.actionType].name}</span>
                            <span class="badge bg-${D[Ut[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 装备栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的装备</h4>
            </div>
            <div class="card-body">
              <div id="equipment-bar" class="list-group">
                ${Object.entries(t.equipments).map(([i,o])=>`
                  <div id="equipment-slot-${i}" class="list-group-item">
                    <div class="d-flex align-items-center gap-2">
                      <span class="fw-bold">${Dy[i]||i}</span>
                      ${o?`<span id="equipment-slot-${i}" class="badge bg-${D[o.rarity]}">${o.name}</span>`:'<span class="badge bg-secondary">空</span>'}
                    </div>
                  </div>
                `).join("")}
              </div>
            </div>
          </div>
        </div>

      <!-- 背包区域 -->
      <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
          <div class="card-header bg-secondary text-white">
            <h4 class="card-title mb-0">${t.name} 的背包</h4>
          </div>
          <div class="card-body">
            <!-- Tab 导航 -->
            <ul class="nav nav-underline mb-3" id="packTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab" aria-controls="all" aria-selected="true">
                  全部
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="equip-tab" data-bs-toggle="tab" data-bs-target="#equip" type="button" role="tab" aria-controls="equip" aria-selected="false">
                  装备
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="consumable-tab" data-bs-toggle="tab" data-bs-target="#consumable" type="button" role="tab" aria-controls="consumable" aria-selected="false">
                  消耗品
                </button>
              </li>
            </ul>
            <!-- Tab 内容 -->
            <div class="tab-content" id="packTabContent">
              <!-- 全部标签 -->
              <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                <div id="pack-all" class="d-flex flex-wrap gap-2">
                  ${t.pack.length>0?t.pack.sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${D[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Rs(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">背包为空</p>'}
                </div>
              </div>
              <!-- 装备标签 -->
              <div class="tab-pane fade" id="equip" role="tabpanel" aria-labelledby="equip-tab">
                <div id="pack-equip" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof cn).length>0?t.pack.filter(i=>i instanceof cn).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${D[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Rs(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有装备</p>'}
                </div>
              </div>
              <!-- 道具标签 -->
              <div class="tab-pane fade" id="consumable" role="tabpanel" aria-labelledby="consumable-tab">
                <div id="pack-consumable" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof Ke).length>0?t.pack.filter(i=>i instanceof Ke).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${D[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Rs(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有道具</p>'}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 宠物区域 -->
      <div class="row mb-4">
        <div class="col">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的宠物</h4>
            </div>
            <div class="card-body">
              <div id="pet" class="list-group">
                ${t.capturedMonster.length>0?t.capturedMonster.map(i=>`
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                          <span class="fw-bold">${i.name}</span>
                          <span class="text-muted">Lv. ${i.level}</span>
                        </div>
                      `).join(""):'<p class="text-muted">暂无宠物</p>'}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 返回主菜单按钮 -->
      <div class="text-center">
        <button id="back-btn" class="btn btn-primary">返回主菜单</button>
      </div>
    </div>
  `,(n=document.getElementById("back-btn"))==null||n.addEventListener("click",()=>{On(t)});for(const i of t.pack){const o=Pl(i),s=document.querySelectorAll(`[id="use-btn${i.uuid}"]`),a=[];ia.set(i.uuid,a),s.forEach(l=>{const f=Rn(l,{theme:"game",content:`
          ${o}
          <button id="use-btn${i.uuid}" class="btn btn-success">
            ${i instanceof Ke?"使用":"装备"}
          </button>
          <button id="discard-btn${i.uuid}" class="btn btn-danger">
            丢弃
          </button>
        `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(p){const h=p.popper.querySelector(`#use-btn${i.uuid}`);h&&h.addEventListener("click",_=>{_.stopPropagation(),p.hide(),i instanceof Ke?(i.useItem(t),t.addLog(`${t.name} 使用了 ${i.name}`),wn(t),vr(t)):i instanceof cn&&(t.wearEquipment(i),wn(t),vr(t))});const w=p.popper.querySelector(`#discard-btn${i.uuid}`);w&&w.addEventListener("click",_=>{_.stopPropagation(),p.hide(),t.discardItem(i),wn(t),vr(t)})}});a.push(f)})}for(const[i,o]of Object.entries(t.equipments)){if(!o)continue;const s=Pl(o),a=document.getElementById(`equipment-slot-${i}`);a&&Rn(a,{theme:"game",content:`
        ${s}
        <button id="remove-btn${o.uuid}" class="btn btn-primary">
          卸下
        </button>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(l){const f=l.popper.querySelector(`#remove-btn${o.uuid}`);f&&f.addEventListener("click",p=>{p.stopPropagation(),l.hide(),t.removeEquipment(i),wn(t),vr(t)})}})}setTimeout(()=>{document.querySelectorAll("#attribute-bar .list-group-item").forEach(o=>{var h;const s=o.querySelector(".fw-bold");if(!s)return;const a=((h=s.textContent)==null?void 0:h.trim())||"",l=Object.keys(oa).find(w=>oa[w]===a)||a,f=My[l]||"暂无描述",p=Rn(o,{content:`<div class="p-2">${f}</div>`,allowHTML:!0,theme:"game",placement:"top",interactive:!0,trigger:"click",hideOnClick:!0});ra.push(p)})},100),document.querySelectorAll('[data-bs-toggle="popover"]').forEach(i=>{new Ko(i)})}var Be=(t=>(t.NormalMonster="NormalMonster",t.EliteMonster="EliteMonster",t.Boss="Boss",t.Treasure="Treasure",t.Camp="Camp",t.BackHome="BackHome",t.Rest="Rest",t.Event="Event",t.ToOtherRegion="ToOtherRegion",t))(Be||{});const ud={name:"森林1-1",id:"forest1_1",description:"森林1-1",type:Be.NormalMonster,position:{x:100,y:100},toNodeList:[],monsterList:[{monster:Qt.Slime,maxLevel:1,minLevel:1,weight:1}]},Ou={name:"森林入口",id:"forest0_1",description:"森林入口",type:Be.Camp,position:{x:200,y:200},toNodeList:[ud]},fd={name:"森林",id:"forest",description:"森林",isOpen:!1,startNode:Ou,nodeList:[Ou,ud]},dd={name:"遗迹出口",id:"ruin3_2",description:"外面是一眼望不到头的森林，你可以闻到森林中传来的泥土和青草的气息",type:Be.ToOtherRegion,position:{x:450,y:900},toNodeList:[],region:fd},Qa={name:"靠近出口的房间",id:"ruin2_1",description:"一只强壮且凶恶的哥布林正镇守在这里",type:Be.Boss,position:{x:600,y:700},toNodeList:[dd],bossStageList:[{monster:Qt.FrightenedGoblinLeader,maxLevel:1,minLevel:1,maxIndividualStrength:1.1,minIndividualStrength:1},{monster:Qt.AngryGoblinLeader,maxLevel:1,minLevel:1,maxIndividualStrength:1.1,minIndividualStrength:1}]},hd={name:"哥布林的藏宝室",id:"ruin2_2",description:"哥布林把掠夺来的宝物藏在了这里",type:Be.Treasure,position:{x:700,y:550},toNodeList:[Qa],firstTimeTreasureList:[{item:It.SilverChest,minLevel:1,maxLevel:1,weight:1}],repeatableTreasureList:[]},pd={name:"遗迹走廊",id:"ruin1_1",description:"这个遗迹似乎已经成为了哥布林的巢穴",type:Be.NormalMonster,position:{x:500,y:550},toNodeList:[Qa,hd],monsterList:[{monster:Qt.Goblin,maxLevel:1,minLevel:1,weight:1}]},Mu={name:"遗迹深处的房间",id:"ruin0_1",description:"遗迹深处的房间，被厚厚的石门封锁着。正中间正是你躺了一百年的石棺",type:Be.Camp,position:{x:300,y:450},toNodeList:[pd]},ky={name:"遗迹",id:"ruin",description:"遗迹",isOpen:!0,startNode:Mu,nodeList:[Mu,pd,Qa,hd,dd]},Ly={forest:fd,ruin:ky};function he(t){return Ly[t]}function Ny(t){var i;const e=Oe(),n=t.unlockedRegionIdList.map(o=>he(o));e.innerHTML=`
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        ${n.map(o=>`
            <div class="col-12 col-md-4">
              <button id="${o.id}-btn" class="btn btn-primary w-100 py-3">
                ${o.name}
              </button>
            </div>
          `).join("")}
        <div class="col-12 col-md-4">
          <button id="return-btn" class="btn btn-success w-100 py-3">返回主菜单</button>
        </div>
      </div>
    </div>
    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,n.forEach(o=>{var s;(s=document.getElementById(`${o.id}-btn`))==null||s.addEventListener("click",()=>{he(o.id).isOpen?(t.goToRegion(o.id),On(t)):alert("前面的区域以后再来探索吧？")})}),(i=document.getElementById("return-btn"))==null||i.addEventListener("click",()=>{On(t)})}const Iy="/isekai114514/assets/ruin-BbvlXD7H.png";var $y={value:()=>{}};function Ka(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new bo(n)}function bo(t){this._=t}function Py(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}bo.prototype=Ka.prototype={constructor:bo,on:function(t,e){var n=this._,i=Py(t+"",n),o,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((o=(t=i[s]).type)&&(o=Ry(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(o=(t=i[s]).type)n[o]=Du(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Du(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new bo(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,o=s.length;i<o;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,s=i.length;o<s;++o)i[o].value.apply(e,n)}};function Ry(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Du(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=$y,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Aa="http://www.w3.org/1999/xhtml";const ku={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ku.hasOwnProperty(e)?{space:ku[e],local:t}:t}function By(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Aa&&e.documentElement.namespaceURI===Aa?e.createElement(t):e.createElementNS(n,t)}}function Hy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gd(t){var e=qo(t);return(e.local?Hy:By)(e)}function Fy(){}function Ya(t){return t==null?Fy:function(){return this.querySelector(t)}}function zy(t){typeof t!="function"&&(t=Ya(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],a=s.length,l=i[o]=new Array(a),f,p,h=0;h<a;++h)(f=s[h])&&(p=t.call(f,f.__data__,h,s))&&("__data__"in f&&(p.__data__=f.__data__),l[h]=p);return new Se(i,this._parents)}function Gy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Wy(){return[]}function md(t){return t==null?Wy:function(){return this.querySelectorAll(t)}}function jy(t){return function(){return Gy(t.apply(this,arguments))}}function Vy(t){typeof t=="function"?t=jy(t):t=md(t);for(var e=this._groups,n=e.length,i=[],o=[],s=0;s<n;++s)for(var a=e[s],l=a.length,f,p=0;p<l;++p)(f=a[p])&&(i.push(t.call(f,f.__data__,p,a)),o.push(f));return new Se(i,o)}function _d(t){return function(){return this.matches(t)}}function vd(t){return function(e){return e.matches(t)}}var Uy=Array.prototype.find;function Qy(t){return function(){return Uy.call(this.children,t)}}function Ky(){return this.firstElementChild}function Yy(t){return this.select(t==null?Ky:Qy(typeof t=="function"?t:vd(t)))}var qy=Array.prototype.filter;function Xy(){return Array.from(this.children)}function Jy(t){return function(){return qy.call(this.children,t)}}function Zy(t){return this.selectAll(t==null?Xy:Jy(typeof t=="function"?t:vd(t)))}function t0(t){typeof t!="function"&&(t=_d(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],a=s.length,l=i[o]=[],f,p=0;p<a;++p)(f=s[p])&&t.call(f,f.__data__,p,s)&&l.push(f);return new Se(i,this._parents)}function bd(t){return new Array(t.length)}function e0(){return new Se(this._enter||this._groups.map(bd),this._parents)}function Do(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Do.prototype={constructor:Do,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function n0(t){return function(){return t}}function i0(t,e,n,i,o,s){for(var a=0,l,f=e.length,p=s.length;a<p;++a)(l=e[a])?(l.__data__=s[a],i[a]=l):n[a]=new Do(t,s[a]);for(;a<f;++a)(l=e[a])&&(o[a]=l)}function r0(t,e,n,i,o,s,a){var l,f,p=new Map,h=e.length,w=s.length,_=new Array(h),S;for(l=0;l<h;++l)(f=e[l])&&(_[l]=S=a.call(f,f.__data__,l,e)+"",p.has(S)?o[l]=f:p.set(S,f));for(l=0;l<w;++l)S=a.call(t,s[l],l,s)+"",(f=p.get(S))?(i[l]=f,f.__data__=s[l],p.delete(S)):n[l]=new Do(t,s[l]);for(l=0;l<h;++l)(f=e[l])&&p.get(_[l])===f&&(o[l]=f)}function o0(t){return t.__data__}function s0(t,e){if(!arguments.length)return Array.from(this,o0);var n=e?r0:i0,i=this._parents,o=this._groups;typeof t!="function"&&(t=n0(t));for(var s=o.length,a=new Array(s),l=new Array(s),f=new Array(s),p=0;p<s;++p){var h=i[p],w=o[p],_=w.length,S=a0(t.call(h,h&&h.__data__,p,i)),W=S.length,j=l[p]=new Array(W),H=a[p]=new Array(W),N=f[p]=new Array(_);n(h,w,j,H,N,S,e);for(var U=0,rt=0,m,K;U<W;++U)if(m=j[U]){for(U>=rt&&(rt=U+1);!(K=H[rt])&&++rt<W;);m._next=K||null}}return a=new Se(a,i),a._enter=l,a._exit=f,a}function a0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function c0(){return new Se(this._exit||this._groups.map(bd),this._parents)}function l0(t,e,n){var i=this.enter(),o=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function u0(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,s=i.length,a=Math.min(o,s),l=new Array(o),f=0;f<a;++f)for(var p=n[f],h=i[f],w=p.length,_=l[f]=new Array(w),S,W=0;W<w;++W)(S=p[W]||h[W])&&(_[W]=S);for(;f<o;++f)l[f]=n[f];return new Se(l,this._parents)}function f0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,s=i[o],a;--o>=0;)(a=i[o])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function d0(t){t||(t=h0);function e(w,_){return w&&_?t(w.__data__,_.__data__):!w-!_}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var a=n[s],l=a.length,f=o[s]=new Array(l),p,h=0;h<l;++h)(p=a[h])&&(f[h]=p);f.sort(e)}return new Se(o,this._parents).order()}function h0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function p0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function g0(){return Array.from(this)}function m0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length;o<s;++o){var a=i[o];if(a)return a}return null}function _0(){let t=0;for(const e of this)++t;return t}function v0(){return!this.node()}function b0(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],s=0,a=o.length,l;s<a;++s)(l=o[s])&&t.call(l,l.__data__,s,o);return this}function y0(t){return function(){this.removeAttribute(t)}}function A0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function w0(t,e){return function(){this.setAttribute(t,e)}}function E0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function x0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function C0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function T0(t,e){var n=qo(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?A0:y0:typeof e=="function"?n.local?C0:x0:n.local?E0:w0)(n,e))}function yd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function S0(t){return function(){this.style.removeProperty(t)}}function O0(t,e,n){return function(){this.style.setProperty(t,e,n)}}function M0(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function D0(t,e,n){return arguments.length>1?this.each((e==null?S0:typeof e=="function"?M0:O0)(t,e,n??"")):Zi(this.node(),t)}function Zi(t,e){return t.style.getPropertyValue(e)||yd(t).getComputedStyle(t,null).getPropertyValue(e)}function k0(t){return function(){delete this[t]}}function L0(t,e){return function(){this[t]=e}}function N0(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function I0(t,e){return arguments.length>1?this.each((e==null?k0:typeof e=="function"?N0:L0)(t,e)):this.node()[t]}function Ad(t){return t.trim().split(/^|\s+/)}function qa(t){return t.classList||new wd(t)}function wd(t){this._node=t,this._names=Ad(t.getAttribute("class")||"")}wd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ed(t,e){for(var n=qa(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function xd(t,e){for(var n=qa(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function $0(t){return function(){Ed(this,t)}}function P0(t){return function(){xd(this,t)}}function R0(t,e){return function(){(e.apply(this,arguments)?Ed:xd)(this,t)}}function B0(t,e){var n=Ad(t+"");if(arguments.length<2){for(var i=qa(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?R0:e?$0:P0)(n,e))}function H0(){this.textContent=""}function F0(t){return function(){this.textContent=t}}function z0(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function G0(t){return arguments.length?this.each(t==null?H0:(typeof t=="function"?z0:F0)(t)):this.node().textContent}function W0(){this.innerHTML=""}function j0(t){return function(){this.innerHTML=t}}function V0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function U0(t){return arguments.length?this.each(t==null?W0:(typeof t=="function"?V0:j0)(t)):this.node().innerHTML}function Q0(){this.nextSibling&&this.parentNode.appendChild(this)}function K0(){return this.each(Q0)}function Y0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function q0(){return this.each(Y0)}function X0(t){var e=typeof t=="function"?t:gd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function J0(){return null}function Z0(t,e){var n=typeof t=="function"?t:gd(t),i=e==null?J0:typeof e=="function"?e:Ya(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function tA(){var t=this.parentNode;t&&t.removeChild(this)}function eA(){return this.each(tA)}function nA(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function iA(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rA(t){return this.select(t?iA:nA)}function oA(t){return arguments.length?this.property("__data__",t):this.node().__data__}function sA(t){return function(e){t.call(this,e,this.__data__)}}function aA(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function cA(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,s;n<o;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function lA(t,e,n){return function(){var i=this.__on,o,s=sA(e);if(i){for(var a=0,l=i.length;a<l;++a)if((o=i[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=e;return}}this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(o):this.__on=[o]}}function uA(t,e,n){var i=aA(t+""),o,s=i.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var f=0,p=l.length,h;f<p;++f)for(o=0,h=l[f];o<s;++o)if((a=i[o]).type===h.type&&a.name===h.name)return h.value}return}for(l=e?lA:cA,o=0;o<s;++o)this.each(l(i[o],e,n));return this}function Cd(t,e,n){var i=yd(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function fA(t,e){return function(){return Cd(this,t,e)}}function dA(t,e){return function(){return Cd(this,t,e.apply(this,arguments))}}function hA(t,e){return this.each((typeof e=="function"?dA:fA)(t,e))}function*pA(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&(yield a)}var Td=[null];function Se(t,e){this._groups=t,this._parents=e}function Pr(){return new Se([[document.documentElement]],Td)}function gA(){return this}Se.prototype=Pr.prototype={constructor:Se,select:zy,selectAll:Vy,selectChild:Yy,selectChildren:Zy,filter:t0,data:s0,enter:e0,exit:c0,join:l0,merge:u0,selection:gA,order:f0,sort:d0,call:p0,nodes:g0,node:m0,size:_0,empty:v0,each:b0,attr:T0,style:D0,property:I0,classed:B0,text:G0,html:U0,raise:K0,lower:q0,append:X0,insert:Z0,remove:eA,clone:rA,datum:oA,on:uA,dispatch:hA,[Symbol.iterator]:pA};function Re(t){return typeof t=="string"?new Se([[document.querySelector(t)]],[document.documentElement]):new Se([[t]],Td)}function mA(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ni(t,e){if(t=mA(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const wa={capture:!0,passive:!1};function Ea(t){t.preventDefault(),t.stopImmediatePropagation()}function _A(t){var e=t.document.documentElement,n=Re(t).on("dragstart.drag",Ea,wa);"onselectstart"in e?n.on("selectstart.drag",Ea,wa):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function vA(t,e){var n=t.document.documentElement,i=Re(t).on("dragstart.drag",null);e&&(i.on("click.drag",Ea,wa),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Xa(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Sd(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Rr(){}var Cr=.7,ko=1/Cr,zi="\\s*([+-]?\\d+)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bA=/^#([0-9a-f]{3,8})$/,yA=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),AA=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),wA=new RegExp(`^rgba\\(${zi},${zi},${zi},${Tr}\\)$`),EA=new RegExp(`^rgba\\(${fn},${fn},${fn},${Tr}\\)$`),xA=new RegExp(`^hsl\\(${Tr},${fn},${fn}\\)$`),CA=new RegExp(`^hsla\\(${Tr},${fn},${fn},${Tr}\\)$`),Lu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xa(Rr,Sr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Nu,formatHex:Nu,formatHex8:TA,formatHsl:SA,formatRgb:Iu,toString:Iu});function Nu(){return this.rgb().formatHex()}function TA(){return this.rgb().formatHex8()}function SA(){return Od(this).formatHsl()}function Iu(){return this.rgb().formatRgb()}function Sr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bA.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$u(e):n===3?new ge(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?lo(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?lo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yA.exec(t))?new ge(e[1],e[2],e[3],1):(e=AA.exec(t))?new ge(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wA.exec(t))?lo(e[1],e[2],e[3],e[4]):(e=EA.exec(t))?lo(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xA.exec(t))?Bu(e[1],e[2]/100,e[3]/100,1):(e=CA.exec(t))?Bu(e[1],e[2]/100,e[3]/100,e[4]):Lu.hasOwnProperty(t)?$u(Lu[t]):t==="transparent"?new ge(NaN,NaN,NaN,0):null}function $u(t){return new ge(t>>16&255,t>>8&255,t&255,1)}function lo(t,e,n,i){return i<=0&&(t=e=n=NaN),new ge(t,e,n,i)}function OA(t){return t instanceof Rr||(t=Sr(t)),t?(t=t.rgb(),new ge(t.r,t.g,t.b,t.opacity)):new ge}function xa(t,e,n,i){return arguments.length===1?OA(t):new ge(t,e,n,i??1)}function ge(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Xa(ge,xa,Sd(Rr,{brighter(t){return t=t==null?ko:Math.pow(ko,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cr:Math.pow(Cr,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ge(ui(this.r),ui(this.g),ui(this.b),Lo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pu,formatHex:Pu,formatHex8:MA,formatRgb:Ru,toString:Ru}));function Pu(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}`}function MA(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}${ci((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ru(){const t=Lo(this.opacity);return`${t===1?"rgb(":"rgba("}${ui(this.r)}, ${ui(this.g)}, ${ui(this.b)}${t===1?")":`, ${t})`}`}function Lo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ui(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ci(t){return t=ui(t),(t<16?"0":"")+t.toString(16)}function Bu(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qe(t,e,n,i)}function Od(t){if(t instanceof Qe)return new Qe(t.h,t.s,t.l,t.opacity);if(t instanceof Rr||(t=Sr(t)),!t)return new Qe;if(t instanceof Qe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),s=Math.max(e,n,i),a=NaN,l=s-o,f=(s+o)/2;return l?(e===s?a=(n-i)/l+(n<i)*6:n===s?a=(i-e)/l+2:a=(e-n)/l+4,l/=f<.5?s+o:2-s-o,a*=60):l=f>0&&f<1?0:a,new Qe(a,l,f,t.opacity)}function DA(t,e,n,i){return arguments.length===1?Od(t):new Qe(t,e,n,i??1)}function Qe(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Xa(Qe,DA,Sd(Rr,{brighter(t){return t=t==null?ko:Math.pow(ko,t),new Qe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cr:Math.pow(Cr,t),new Qe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new ge(sa(t>=240?t-240:t+120,o,i),sa(t,o,i),sa(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Qe(Hu(this.h),uo(this.s),uo(this.l),Lo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lo(this.opacity);return`${t===1?"hsl(":"hsla("}${Hu(this.h)}, ${uo(this.s)*100}%, ${uo(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Hu(t){return t=(t||0)%360,t<0?t+360:t}function uo(t){return Math.max(0,Math.min(1,t||0))}function sa(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Md=t=>()=>t;function kA(t,e){return function(n){return t+n*e}}function LA(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function NA(t){return(t=+t)==1?Dd:function(e,n){return n-e?LA(e,n,t):Md(isNaN(e)?n:e)}}function Dd(t,e){var n=e-t;return n?kA(t,n):Md(isNaN(t)?e:t)}const Fu=function t(e){var n=NA(e);function i(o,s){var a=n((o=xa(o)).r,(s=xa(s)).r),l=n(o.g,s.g),f=n(o.b,s.b),p=Dd(o.opacity,s.opacity);return function(h){return o.r=a(h),o.g=l(h),o.b=f(h),o.opacity=p(h),o+""}}return i.gamma=t,i}(1);function Pn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ca=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aa=new RegExp(Ca.source,"g");function IA(t){return function(){return t}}function $A(t){return function(e){return t(e)+""}}function PA(t,e){var n=Ca.lastIndex=aa.lastIndex=0,i,o,s,a=-1,l=[],f=[];for(t=t+"",e=e+"";(i=Ca.exec(t))&&(o=aa.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(i=i[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,f.push({i:a,x:Pn(i,o)})),n=aa.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?f[0]?$A(f[0].x):IA(e):(e=f.length,function(p){for(var h=0,w;h<e;++h)l[(w=f[h]).i]=w.x(p);return l.join("")})}var zu=180/Math.PI,Ta={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kd(t,e,n,i,o,s){var a,l,f;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,f/=l),t*i<e*n&&(t=-t,e=-e,f=-f,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*zu,skewX:Math.atan(f)*zu,scaleX:a,scaleY:l}}var fo;function RA(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ta:kd(e.a,e.b,e.c,e.d,e.e,e.f)}function BA(t){return t==null||(fo||(fo=document.createElementNS("http://www.w3.org/2000/svg","g")),fo.setAttribute("transform",t),!(t=fo.transform.baseVal.consolidate()))?Ta:(t=t.matrix,kd(t.a,t.b,t.c,t.d,t.e,t.f))}function Ld(t,e,n,i){function o(p){return p.length?p.pop()+" ":""}function s(p,h,w,_,S,W){if(p!==w||h!==_){var j=S.push("translate(",null,e,null,n);W.push({i:j-4,x:Pn(p,w)},{i:j-2,x:Pn(h,_)})}else(w||_)&&S.push("translate("+w+e+_+n)}function a(p,h,w,_){p!==h?(p-h>180?h+=360:h-p>180&&(p+=360),_.push({i:w.push(o(w)+"rotate(",null,i)-2,x:Pn(p,h)})):h&&w.push(o(w)+"rotate("+h+i)}function l(p,h,w,_){p!==h?_.push({i:w.push(o(w)+"skewX(",null,i)-2,x:Pn(p,h)}):h&&w.push(o(w)+"skewX("+h+i)}function f(p,h,w,_,S,W){if(p!==w||h!==_){var j=S.push(o(S)+"scale(",null,",",null,")");W.push({i:j-4,x:Pn(p,w)},{i:j-2,x:Pn(h,_)})}else(w!==1||_!==1)&&S.push(o(S)+"scale("+w+","+_+")")}return function(p,h){var w=[],_=[];return p=t(p),h=t(h),s(p.translateX,p.translateY,h.translateX,h.translateY,w,_),a(p.rotate,h.rotate,w,_),l(p.skewX,h.skewX,w,_),f(p.scaleX,p.scaleY,h.scaleX,h.scaleY,w,_),p=h=null,function(S){for(var W=-1,j=_.length,H;++W<j;)w[(H=_[W]).i]=H.x(S);return w.join("")}}}var HA=Ld(RA,"px, ","px)","deg)"),FA=Ld(BA,", ",")",")"),zA=1e-12;function Gu(t){return((t=Math.exp(t))+1/t)/2}function GA(t){return((t=Math.exp(t))-1/t)/2}function WA(t){return((t=Math.exp(2*t))-1)/(t+1)}const jA=function t(e,n,i){function o(s,a){var l=s[0],f=s[1],p=s[2],h=a[0],w=a[1],_=a[2],S=h-l,W=w-f,j=S*S+W*W,H,N;if(j<zA)N=Math.log(_/p)/e,H=function(k){return[l+k*S,f+k*W,p*Math.exp(e*k*N)]};else{var U=Math.sqrt(j),rt=(_*_-p*p+i*j)/(2*p*n*U),m=(_*_-p*p-i*j)/(2*_*n*U),K=Math.log(Math.sqrt(rt*rt+1)-rt),z=Math.log(Math.sqrt(m*m+1)-m);N=(z-K)/e,H=function(k){var R=k*N,tt=Gu(K),st=p/(n*U)*(tt*WA(e*R+K)-GA(K));return[l+st*S,f+st*W,p*tt/Gu(e*R+K)]}}return H.duration=N*1e3*e/Math.SQRT2,H}return o.rho=function(s){var a=Math.max(.001,+s),l=a*a,f=l*l;return t(a,l,f)},o}(Math.SQRT2,2,4);var tr=0,br=0,mr=0,Nd=1e3,No,yr,Io=0,gi=0,Xo=0,Or=typeof performance=="object"&&performance.now?performance:Date,Id=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ja(){return gi||(Id(VA),gi=Or.now()+Xo)}function VA(){gi=0}function $o(){this._call=this._time=this._next=null}$o.prototype=$d.prototype={constructor:$o,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ja():+n)+(e==null?0:+e),!this._next&&yr!==this&&(yr?yr._next=this:No=this,yr=this),this._call=t,this._time=n,Sa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sa())}};function $d(t,e,n){var i=new $o;return i.restart(t,e,n),i}function UA(){Ja(),++tr;for(var t=No,e;t;)(e=gi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--tr}function Wu(){gi=(Io=Or.now())+Xo,tr=br=0;try{UA()}finally{tr=0,KA(),gi=0}}function QA(){var t=Or.now(),e=t-Io;e>Nd&&(Xo-=e,Io=t)}function KA(){for(var t,e=No,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:No=n);yr=t,Sa(i)}function Sa(t){if(!tr){br&&(br=clearTimeout(br));var e=t-gi;e>24?(t<1/0&&(br=setTimeout(Wu,t-Or.now()-Xo)),mr&&(mr=clearInterval(mr))):(mr||(Io=Or.now(),mr=setInterval(QA,Nd)),tr=1,Id(Wu))}}function ju(t,e,n){var i=new $o;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var YA=Ka("start","end","cancel","interrupt"),qA=[],Pd=0,Vu=1,Oa=2,yo=3,Uu=4,Ma=5,Ao=6;function Jo(t,e,n,i,o,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;XA(t,n,{name:e,index:i,group:o,on:YA,tween:qA,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Pd})}function Za(t,e){var n=Je(t,e);if(n.state>Pd)throw new Error("too late; already scheduled");return n}function hn(t,e){var n=Je(t,e);if(n.state>yo)throw new Error("too late; already running");return n}function Je(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function XA(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=$d(s,0,n.time);function s(p){n.state=Vu,n.timer.restart(a,n.delay,n.time),n.delay<=p&&a(p-n.delay)}function a(p){var h,w,_,S;if(n.state!==Vu)return f();for(h in i)if(S=i[h],S.name===n.name){if(S.state===yo)return ju(a);S.state===Uu?(S.state=Ao,S.timer.stop(),S.on.call("interrupt",t,t.__data__,S.index,S.group),delete i[h]):+h<e&&(S.state=Ao,S.timer.stop(),S.on.call("cancel",t,t.__data__,S.index,S.group),delete i[h])}if(ju(function(){n.state===yo&&(n.state=Uu,n.timer.restart(l,n.delay,n.time),l(p))}),n.state=Oa,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Oa){for(n.state=yo,o=new Array(_=n.tween.length),h=0,w=-1;h<_;++h)(S=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(o[++w]=S);o.length=w+1}}function l(p){for(var h=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(f),n.state=Ma,1),w=-1,_=o.length;++w<_;)o[w].call(t,h);n.state===Ma&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Ao,n.timer.stop(),delete i[e];for(var p in i)return;delete t.__transition}}function wo(t,e){var n=t.__transition,i,o,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((i=n[a]).name!==e){s=!1;continue}o=i.state>Oa&&i.state<Ma,i.state=Ao,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[a]}s&&delete t.__transition}}function JA(t){return this.each(function(){wo(this,t)})}function ZA(t,e){var n,i;return function(){var o=hn(this,t),s=o.tween;if(s!==n){i=n=s;for(var a=0,l=i.length;a<l;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}o.tween=i}}function tw(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=hn(this,t),a=s.tween;if(a!==i){o=(i=a).slice();for(var l={name:e,value:n},f=0,p=o.length;f<p;++f)if(o[f].name===e){o[f]=l;break}f===p&&o.push(l)}s.tween=o}}function ew(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Je(this.node(),n).tween,o=0,s=i.length,a;o<s;++o)if((a=i[o]).name===t)return a.value;return null}return this.each((e==null?ZA:tw)(n,t,e))}function tc(t,e,n){var i=t._id;return t.each(function(){var o=hn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Je(o,i).value[e]}}function Rd(t,e){var n;return(typeof e=="number"?Pn:e instanceof Sr?Fu:(n=Sr(e))?(e=n,Fu):PA)(t,e)}function nw(t){return function(){this.removeAttribute(t)}}function iw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rw(t,e,n){var i,o=n+"",s;return function(){var a=this.getAttribute(t);return a===o?null:a===i?s:s=e(i=a,n)}}function ow(t,e,n){var i,o=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?s:s=e(i=a,n)}}function sw(t,e,n){var i,o,s;return function(){var a,l=n(this),f;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=l+"",a===f?null:a===i&&f===o?s:(o=f,s=e(i=a,l)))}}function aw(t,e,n){var i,o,s;return function(){var a,l=n(this),f;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=l+"",a===f?null:a===i&&f===o?s:(o=f,s=e(i=a,l)))}}function cw(t,e){var n=qo(t),i=n==="transform"?FA:Rd;return this.attrTween(t,typeof e=="function"?(n.local?aw:sw)(n,i,tc(this,"attr."+t,e)):e==null?(n.local?iw:nw)(n):(n.local?ow:rw)(n,i,e))}function lw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function uw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fw(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&uw(t,s)),n}return o._value=e,o}function dw(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&lw(t,s)),n}return o._value=e,o}function hw(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=qo(t);return this.tween(n,(i.local?fw:dw)(i,e))}function pw(t,e){return function(){Za(this,t).delay=+e.apply(this,arguments)}}function gw(t,e){return e=+e,function(){Za(this,t).delay=e}}function mw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?pw:gw)(e,t)):Je(this.node(),e).delay}function _w(t,e){return function(){hn(this,t).duration=+e.apply(this,arguments)}}function vw(t,e){return e=+e,function(){hn(this,t).duration=e}}function bw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_w:vw)(e,t)):Je(this.node(),e).duration}function yw(t,e){if(typeof e!="function")throw new Error;return function(){hn(this,t).ease=e}}function Aw(t){var e=this._id;return arguments.length?this.each(yw(e,t)):Je(this.node(),e).ease}function ww(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;hn(this,t).ease=n}}function Ew(t){if(typeof t!="function")throw new Error;return this.each(ww(this._id,t))}function xw(t){typeof t!="function"&&(t=_d(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],a=s.length,l=i[o]=[],f,p=0;p<a;++p)(f=s[p])&&t.call(f,f.__data__,p,s)&&l.push(f);return new Sn(i,this._parents,this._name,this._id)}function Cw(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var f=e[l],p=n[l],h=f.length,w=a[l]=new Array(h),_,S=0;S<h;++S)(_=f[S]||p[S])&&(w[S]=_);for(;l<i;++l)a[l]=e[l];return new Sn(a,this._parents,this._name,this._id)}function Tw(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Sw(t,e,n){var i,o,s=Tw(e)?Za:hn;return function(){var a=s(this,t),l=a.on;l!==i&&(o=(i=l).copy()).on(e,n),a.on=o}}function Ow(t,e){var n=this._id;return arguments.length<2?Je(this.node(),n).on.on(t):this.each(Sw(n,t,e))}function Mw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Dw(){return this.on("end.remove",Mw(this._id))}function kw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ya(t));for(var i=this._groups,o=i.length,s=new Array(o),a=0;a<o;++a)for(var l=i[a],f=l.length,p=s[a]=new Array(f),h,w,_=0;_<f;++_)(h=l[_])&&(w=t.call(h,h.__data__,_,l))&&("__data__"in h&&(w.__data__=h.__data__),p[_]=w,Jo(p[_],e,n,_,p,Je(h,n)));return new Sn(s,this._parents,e,n)}function Lw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=md(t));for(var i=this._groups,o=i.length,s=[],a=[],l=0;l<o;++l)for(var f=i[l],p=f.length,h,w=0;w<p;++w)if(h=f[w]){for(var _=t.call(h,h.__data__,w,f),S,W=Je(h,n),j=0,H=_.length;j<H;++j)(S=_[j])&&Jo(S,e,n,j,_,W);s.push(_),a.push(h)}return new Sn(s,a,e,n)}var Nw=Pr.prototype.constructor;function Iw(){return new Nw(this._groups,this._parents)}function $w(t,e){var n,i,o;return function(){var s=Zi(this,t),a=(this.style.removeProperty(t),Zi(this,t));return s===a?null:s===n&&a===i?o:o=e(n=s,i=a)}}function Bd(t){return function(){this.style.removeProperty(t)}}function Pw(t,e,n){var i,o=n+"",s;return function(){var a=Zi(this,t);return a===o?null:a===i?s:s=e(i=a,n)}}function Rw(t,e,n){var i,o,s;return function(){var a=Zi(this,t),l=n(this),f=l+"";return l==null&&(f=l=(this.style.removeProperty(t),Zi(this,t))),a===f?null:a===i&&f===o?s:(o=f,s=e(i=a,l))}}function Bw(t,e){var n,i,o,s="style."+e,a="end."+s,l;return function(){var f=hn(this,t),p=f.on,h=f.value[s]==null?l||(l=Bd(e)):void 0;(p!==n||o!==h)&&(i=(n=p).copy()).on(a,o=h),f.on=i}}function Hw(t,e,n){var i=(t+="")=="transform"?HA:Rd;return e==null?this.styleTween(t,$w(t,i)).on("end.style."+t,Bd(t)):typeof e=="function"?this.styleTween(t,Rw(t,i,tc(this,"style."+t,e))).each(Bw(this._id,t)):this.styleTween(t,Pw(t,i,e),n).on("end.style."+t,null)}function Fw(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function zw(t,e,n){var i,o;function s(){var a=e.apply(this,arguments);return a!==o&&(i=(o=a)&&Fw(t,a,n)),i}return s._value=e,s}function Gw(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,zw(t,e,n??""))}function Ww(t){return function(){this.textContent=t}}function jw(t){return function(){var e=t(this);this.textContent=e??""}}function Vw(t){return this.tween("text",typeof t=="function"?jw(tc(this,"text",t)):Ww(t==null?"":t+""))}function Uw(t){return function(e){this.textContent=t.call(this,e)}}function Qw(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Uw(o)),e}return i._value=t,i}function Kw(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Qw(t))}function Yw(){for(var t=this._name,e=this._id,n=Hd(),i=this._groups,o=i.length,s=0;s<o;++s)for(var a=i[s],l=a.length,f,p=0;p<l;++p)if(f=a[p]){var h=Je(f,e);Jo(f,t,n,p,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Sn(i,this._parents,t,n)}function qw(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(s,a){var l={value:a},f={value:function(){--o===0&&s()}};n.each(function(){var p=hn(this,i),h=p.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(f)),p.on=e}),o===0&&s()})}var Xw=0;function Sn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Hd(){return++Xw}var An=Pr.prototype;Sn.prototype={constructor:Sn,select:kw,selectAll:Lw,selectChild:An.selectChild,selectChildren:An.selectChildren,filter:xw,merge:Cw,selection:Iw,transition:Yw,call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:Ow,attr:cw,attrTween:hw,style:Hw,styleTween:Gw,text:Vw,textTween:Kw,remove:Dw,tween:ew,delay:mw,duration:bw,ease:Aw,easeVarying:Ew,end:qw,[Symbol.iterator]:An[Symbol.iterator]};function Jw(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Zw={time:null,delay:0,duration:250,ease:Jw};function tE(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function eE(t){var e,n;t instanceof Sn?(e=t._id,t=t._name):(e=Hd(),(n=Zw).time=Ja(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var a=i[s],l=a.length,f,p=0;p<l;++p)(f=a[p])&&Jo(f,t,e,p,a,n||tE(f,e));return new Sn(i,this._parents,t,e)}Pr.prototype.interrupt=JA;Pr.prototype.transition=eE;const ho=t=>()=>t;function nE(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function En(t,e,n){this.k=t,this.x=e,this.y=n}En.prototype={constructor:En,scale:function(t){return t===1?this:new En(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new En(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fi=new En(1,0,0);En.prototype;function ca(t){t.stopImmediatePropagation()}function _r(t){t.preventDefault(),t.stopImmediatePropagation()}function iE(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function rE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Qu(){return this.__zoom||Fi}function oE(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function sE(){return navigator.maxTouchPoints||"ontouchstart"in this}function aE(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function cE(){var t=iE,e=rE,n=aE,i=oE,o=sE,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,f=jA,p=Ka("start","zoom","end"),h,w,_,S=500,W=150,j=0,H=10;function N(y){y.property("__zoom",Qu).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",tt).on("dblclick.zoom",st).filter(o).on("touchstart.zoom",ht).on("touchmove.zoom",ct).on("touchend.zoom touchcancel.zoom",mt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(y,$,E,P){var J=y.selection?y.selection():y;J.property("__zoom",Qu),y!==J?K(y,$,E,P):J.interrupt().each(function(){z(this,arguments).event(P).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},N.scaleBy=function(y,$,E,P){N.scaleTo(y,function(){var J=this.__zoom.k,at=typeof $=="function"?$.apply(this,arguments):$;return J*at},E,P)},N.scaleTo=function(y,$,E,P){N.transform(y,function(){var J=e.apply(this,arguments),at=this.__zoom,x=E==null?m(J):typeof E=="function"?E.apply(this,arguments):E,yt=at.invert(x),Et=typeof $=="function"?$.apply(this,arguments):$;return n(rt(U(at,Et),x,yt),J,a)},E,P)},N.translateBy=function(y,$,E,P){N.transform(y,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof E=="function"?E.apply(this,arguments):E),e.apply(this,arguments),a)},null,P)},N.translateTo=function(y,$,E,P,J){N.transform(y,function(){var at=e.apply(this,arguments),x=this.__zoom,yt=P==null?m(at):typeof P=="function"?P.apply(this,arguments):P;return n(Fi.translate(yt[0],yt[1]).scale(x.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof E=="function"?-E.apply(this,arguments):-E),at,a)},P,J)};function U(y,$){return $=Math.max(s[0],Math.min(s[1],$)),$===y.k?y:new En($,y.x,y.y)}function rt(y,$,E){var P=$[0]-E[0]*y.k,J=$[1]-E[1]*y.k;return P===y.x&&J===y.y?y:new En(y.k,P,J)}function m(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function K(y,$,E,P){y.on("start.zoom",function(){z(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(P).end()}).tween("zoom",function(){var J=this,at=arguments,x=z(J,at).event(P),yt=e.apply(J,at),Et=E==null?m(yt):typeof E=="function"?E.apply(J,at):E,X=Math.max(yt[1][0]-yt[0][0],yt[1][1]-yt[0][1]),pt=J.__zoom,Ot=typeof $=="function"?$.apply(J,at):$,ot=f(pt.invert(Et).concat(X/pt.k),Ot.invert(Et).concat(X/Ot.k));return function(zt){if(zt===1)zt=Ot;else{var Y=ot(zt),Kt=X/Y[2];zt=new En(Kt,Et[0]-Y[0]*Kt,Et[1]-Y[1]*Kt)}x.zoom(null,zt)}})}function z(y,$,E){return!E&&y.__zooming||new k(y,$)}function k(y,$){this.that=y,this.args=$,this.active=0,this.sourceEvent=null,this.extent=e.apply(y,$),this.taps=0}k.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,$){return this.mouse&&y!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var $=Re(this.that).datum();p.call(y,this.that,new nE(y,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:p}),$)}};function R(y,...$){if(!t.apply(this,arguments))return;var E=z(this,$).event(y),P=this.__zoom,J=Math.max(s[0],Math.min(s[1],P.k*Math.pow(2,i.apply(this,arguments)))),at=ni(y);if(E.wheel)(E.mouse[0][0]!==at[0]||E.mouse[0][1]!==at[1])&&(E.mouse[1]=P.invert(E.mouse[0]=at)),clearTimeout(E.wheel);else{if(P.k===J)return;E.mouse=[at,P.invert(at)],wo(this),E.start()}_r(y),E.wheel=setTimeout(x,W),E.zoom("mouse",n(rt(U(P,J),E.mouse[0],E.mouse[1]),E.extent,a));function x(){E.wheel=null,E.end()}}function tt(y,...$){if(_||!t.apply(this,arguments))return;var E=y.currentTarget,P=z(this,$,!0).event(y),J=Re(y.view).on("mousemove.zoom",Et,!0).on("mouseup.zoom",X,!0),at=ni(y,E),x=y.clientX,yt=y.clientY;_A(y.view),ca(y),P.mouse=[at,this.__zoom.invert(at)],wo(this),P.start();function Et(pt){if(_r(pt),!P.moved){var Ot=pt.clientX-x,ot=pt.clientY-yt;P.moved=Ot*Ot+ot*ot>j}P.event(pt).zoom("mouse",n(rt(P.that.__zoom,P.mouse[0]=ni(pt,E),P.mouse[1]),P.extent,a))}function X(pt){J.on("mousemove.zoom mouseup.zoom",null),vA(pt.view,P.moved),_r(pt),P.event(pt).end()}}function st(y,...$){if(t.apply(this,arguments)){var E=this.__zoom,P=ni(y.changedTouches?y.changedTouches[0]:y,this),J=E.invert(P),at=E.k*(y.shiftKey?.5:2),x=n(rt(U(E,at),P,J),e.apply(this,$),a);_r(y),l>0?Re(this).transition().duration(l).call(K,x,P,y):Re(this).call(N.transform,x,P,y)}}function ht(y,...$){if(t.apply(this,arguments)){var E=y.touches,P=E.length,J=z(this,$,y.changedTouches.length===P).event(y),at,x,yt,Et;for(ca(y),x=0;x<P;++x)yt=E[x],Et=ni(yt,this),Et=[Et,this.__zoom.invert(Et),yt.identifier],J.touch0?!J.touch1&&J.touch0[2]!==Et[2]&&(J.touch1=Et,J.taps=0):(J.touch0=Et,at=!0,J.taps=1+!!h);h&&(h=clearTimeout(h)),at&&(J.taps<2&&(w=Et[0],h=setTimeout(function(){h=null},S)),wo(this),J.start())}}function ct(y,...$){if(this.__zooming){var E=z(this,$).event(y),P=y.changedTouches,J=P.length,at,x,yt,Et;for(_r(y),at=0;at<J;++at)x=P[at],yt=ni(x,this),E.touch0&&E.touch0[2]===x.identifier?E.touch0[0]=yt:E.touch1&&E.touch1[2]===x.identifier&&(E.touch1[0]=yt);if(x=E.that.__zoom,E.touch1){var X=E.touch0[0],pt=E.touch0[1],Ot=E.touch1[0],ot=E.touch1[1],zt=(zt=Ot[0]-X[0])*zt+(zt=Ot[1]-X[1])*zt,Y=(Y=ot[0]-pt[0])*Y+(Y=ot[1]-pt[1])*Y;x=U(x,Math.sqrt(zt/Y)),yt=[(X[0]+Ot[0])/2,(X[1]+Ot[1])/2],Et=[(pt[0]+ot[0])/2,(pt[1]+ot[1])/2]}else if(E.touch0)yt=E.touch0[0],Et=E.touch0[1];else return;E.zoom("touch",n(rt(x,yt,Et),E.extent,a))}}function mt(y,...$){if(this.__zooming){var E=z(this,$).event(y),P=y.changedTouches,J=P.length,at,x;for(ca(y),_&&clearTimeout(_),_=setTimeout(function(){_=null},S),at=0;at<J;++at)x=P[at],E.touch0&&E.touch0[2]===x.identifier?delete E.touch0:E.touch1&&E.touch1[2]===x.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2&&(x=ni(x,this),Math.hypot(w[0]-x[0],w[1]-x[1])<H)){var yt=Re(this).on("dblclick.zoom");yt&&yt.apply(this,arguments)}}}return N.wheelDelta=function(y){return arguments.length?(i=typeof y=="function"?y:ho(+y),N):i},N.filter=function(y){return arguments.length?(t=typeof y=="function"?y:ho(!!y),N):t},N.touchable=function(y){return arguments.length?(o=typeof y=="function"?y:ho(!!y),N):o},N.extent=function(y){return arguments.length?(e=typeof y=="function"?y:ho([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),N):e},N.scaleExtent=function(y){return arguments.length?(s[0]=+y[0],s[1]=+y[1],N):[s[0],s[1]]},N.translateExtent=function(y){return arguments.length?(a[0][0]=+y[0][0],a[1][0]=+y[1][0],a[0][1]=+y[0][1],a[1][1]=+y[1][1],N):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},N.constrain=function(y){return arguments.length?(n=y,N):n},N.duration=function(y){return arguments.length?(l=+y,N):l},N.interpolate=function(y){return arguments.length?(f=y,N):f},N.on=function(){var y=p.on.apply(p,arguments);return y===p?N:y},N.clickDistance=function(y){return arguments.length?(j=(y=+y)*y,N):Math.sqrt(j)},N.tapDistance=function(y){return arguments.length?(H=+y,N):H},N}function Mr(t,e,n){const i=e-n>0?e-n:0;return t*(50/(i+50))}function Zo(t,e,n,i,o,s){let a="",l="";return n.category===C.None?a=n.messageGenerator(t,e):a=t.name+Wi(n)+'<span style="color: blue;">'+Math.round(o)+"</span> ",i.category===C.None?l=i.messageGenerator(e,t):l=e.name+Wi(i)+'<span style="color: orange;">'+Math.round(s)+"</span> ","掷骰："+a+l}function lE(t,e,n){function i(o,s){return o.name+"看起来似乎会使用"+s.name+"<br>"+ua(o,s)}return Math.random()*t.getAbility().int>Math.random()*e.getAbility().int?i(e,n):"你分辨不出"+e.name+"即将使用的动作"}function uE(t,e,n,i){var s,a;let o=qt.Draw;return n.category===C.Capture&&(n.category=C.Attack),n.category===C.Attack&&i.category===C.Attack?o=dE(t,e,n,i):n.category===C.Attack&&i.category===C.None||n.category===C.None&&i.category===C.Attack?o=hE(t,e,n,i):n.category===C.Attack&&i.category===C.Defend||n.category===C.Defend&&i.category===C.Attack?o=pE(t,e,n,i):n.category===C.Dodge&&i.category===C.Attack||n.category===C.Attack&&i.category===C.Dodge?o=gE(t,e,n,i):t.addTempLog("无事发生("+t.name+Wi(n)+" "+e.name+Wi(i)+")"),o===qt.PlayerWin?(s=n.extraEffect)==null||s.call(n,t,e):o===qt.EnemyWin&&((a=i.extraEffect)==null||a.call(i,e,t)),o}function fE(t,e,n,i){t.addTempLog(t.name+"使用了"+n.name+"，"+e.name+"使用了"+i.name);let o=0;for(;n.hits[o]||i.hits[o];){let s=n.hits[o]||xo,a=i.hits[o]||xo;t.statuses.sort((f,p)=>f.priority-p.priority).forEach(f=>{if(f.category===ee.OnHitStart){const p=Gi[f.type].effect;s=p(t,s,f.statusLevel)}}),e.statuses.sort((f,p)=>f.priority-p.priority).forEach(f=>{if(f.category===ee.OnHitStart){const p=Gi[f.type].effect;a=p(e,a,f.statusLevel)}}),t.updateStatusesOnHitStart(),e.updateStatusesOnHitStart();const l=uE(t,e,s,a);s.continuous&&l!==qt.PlayerWin&&(n.hits.splice(o+1),t.addTempLog(t.name+"的连续hit中断")),a.continuous&&l!==qt.EnemyWin&&(i.hits.splice(o+1),t.addTempLog(e.name+"的连续hit中断")),o++}t.clearStatusByCategory(ee.OnHitStart),e.clearStatusByCategory(ee.OnHitStart)}function dE(t,e,n,i){const o=di(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=di(i.coeff,e.getAbility(),e.getActionCoeff(i.category));if(t.addTempLog(Zo(t,e,n,i,o,s)),o>=s){const a=Mr(o,e.getAbility().armor,t.getAbility().piercing);return e.loseHp(a),t.addTempLog(n.messageGenerator(t,e)+'造成了<span style="color: red;">'+Math.round(a)+"</span>点伤害"),qt.PlayerWin}else{const a=Mr(s,t.getAbility().armor,e.getAbility().piercing);return t.loseHp(a),t.addTempLog(i.messageGenerator(e,t)+'造成了<span style="color: red;">'+Math.round(a)+"</span>点伤害"),qt.EnemyWin}}function hE(t,e,n,i){let o,s,a;i.category===C.None?(o=t,s=e,a=n):(o=e,s=t,a=i);const l=di(a.coeff,o.getAbility(),o.getActionCoeff(a.category));t.addTempLog(Zo(t,e,n,i,o.isPlayer?l:0,o.isPlayer?l:0));const f=Mr(l,s.getAbility().armor,o.getAbility().piercing);return s.loseHp(f),t.addTempLog(a.messageGenerator(o,s)+'造成了<span style="color: red;">'+Math.round(f)+"</span>点伤害"),o instanceof Vi?qt.PlayerWin:qt.EnemyWin}function pE(t,e,n,i){const o=di(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=di(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(Zo(t,e,n,i,o,s));const a=n.category===C.Attack,l=a?t:e,f=a?e:t,p=a?n:i,h=a?i:n,w=a?o:s,_=a?s:o,S=w-_>0?w-_:0,W=Mr(S,f.getAbility().armor,l.getAbility().piercing);return f.loseHp(W),S>0?(t.addTempLog(p.messageGenerator(l,f)+`击穿了${f.name}的防御，造成了<span style="color: red;">`+Math.round(W)+`(-${_})</span>点伤害`),a?qt.PlayerWin:qt.EnemyWin):(t.addTempLog(h.messageGenerator(f,l)+","+p.messageGenerator(l,f)+"但没有造成伤害"),a?qt.EnemyWin:qt.PlayerWin)}function gE(t,e,n,i){const o=di(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=di(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(Zo(t,e,n,i,o,s));const a=n.category===C.Attack,l=a?t:e,f=a?e:t,p=a?n:i,h=a?i:n,w=a?o:s;if(w>(a?s:o)){const S=Mr(w,f.getAbility().armor,l.getAbility().piercing);return f.loseHp(S),t.addTempLog(p.messageGenerator(l,f)+"对"+f.name+'造成了<span style="color: red;">'+Math.round(S)+"</span>点伤害"),a?qt.PlayerWin:qt.EnemyWin}else return l.addStatus(oi.Unbalance,1),t.addTempLog(h.messageGenerator(f,l)+","+l.name+"失衡了"),a?qt.EnemyWin:qt.PlayerWin}var ae=(t=>(t.Win="Win",t.Lose="Lose",t.Withdraw="Withdraw",t))(ae||{});function er(t,e,n,i,o){var h,w,_;const s=Oe();n&&i&&(t.addTempLog("--------------------------回合-----------------------------"),fE(t,e,n,i));let a=e.getRandomAction();const l=lE(t,e,a);let f=t.getRandomAction(),p=t.getRandomAction();if(t.statuses.sort((S,W)=>S.priority-W.priority).forEach(S=>{if(S.category===ee.OnTurnStart){const W=Gi[S.type].effect,j=W(t,f,p);f=j.action1,p=j.action2,console.log(f,p)}}),e.statuses.sort((S,W)=>S.priority-W.priority).forEach(S=>{if(S.category===ee.OnTurnStart){const W=Gi[S.type].effect;a=W(e,a,a).action1}}),t.updateStatusesOnTurnStart(),e.updateStatusesOnTurnStart(),t.health<=0){t.addLog(t.name+"撑不住了"),t.clearStatus(),la(t,e,ae.Lose,o);return}if(e.health<1){t.addLog(t.name+"击败了"+e.name),t.clearStatus(),la(t,e,ae.Win,o);return}wn(t),s.innerHTML=`
  <button id="return-btn" type="button" class="btn btn-primary" style="
    position: absolute;
    left: 20px;
    top: 80px;
    z-index: 999;
  ">
    逃跑
  </button>

  <div class="container mt-4">
    <h2 class="text-center mb-3">战斗</h2>

    <!-- 敌人信息 -->
    <div class="card mb-3">
      <div class="card-header bg-danger text-white">
        <h4 class="mb-0">${e.name}<span style="font-size: 12px; margin-left: 10px;" class="badge bg-secondary">lv.${e.level}</span></h4>
      </div>
      <div class="card-body">
        <p class="card-text fst-italic">"${e.description}"</p>
        <p class="card-text">${l}</p>
        <p class="card-text">HP: <strong>${Math.ceil(e.health)}</strong></p>
      </div>
    </div>

    <!-- 分割线 -->
    <hr>

    <!-- 玩家信息 -->
    <div class="card mb-4">
      <div class="card-header bg-success text-white">
        <h4 class="mb-0">${t.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text">HP: <strong>${Math.ceil(t.health)}</strong></p>
      </div>
    </div>

    <!-- 动作选择 -->
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${f.name}</h5>
            <p class="card-text fst-italic">"${f.description}"</p>
            <p class="card-text">${ua(t,f)}</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${p.name}</h5>
            <p class="card-text fst-italic">"${p.description}"</p>
            <p class="card-text">${ua(t,p)}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 战斗记录 -->
    <div class="card">
      <div class="card-header">
        记录
      </div>
      <div class="card-body" id="log" style="max-height: 200px; overflow-y: auto;">
        ${t.getTempLogs()}
      </div>
    </div>
  </div>
`,(h=document.getElementById("action1-btn"))==null||h.addEventListener("click",()=>{er(t,e,f,a,o)}),(w=document.getElementById("action2-btn"))==null||w.addEventListener("click",()=>{er(t,e,p,a,o)}),(_=document.getElementById("return-btn"))==null||_.addEventListener("click",()=>{la(t,e,ae.Withdraw,o)})}function la(t,e,n,i){var l;const o=Oe();let s=!1,a=null;n===ae.Win?(a=e.randomDropItem(),t.exp+=Math.floor(e.giveExp),s=t.checkLevelUp(),t.exp=Math.floor(t.exp),t.addLog(e.name+"掉落了<span style='color: gold;'>"+((a==null?void 0:a.name)??"无")+"</span>"),a&&t.pack.push(a)):n===ae.Lose?(t.health=1,t.addLog(t.name+"拼死从"+e.name+"的手中逃了出来，拖着残破的身躯，回到了城镇")):n===ae.Withdraw&&t.addLog(t.name+"在与"+e.name+"的战斗中逃跑了"),o.innerHTML=`
  <div class="container mt-4">
    <div class="card text-center shadow">
      <div class="card-header bg-dark text-white">
        <h2 class="mb-0">战斗结束</h2>
      </div>
      <div class="card-body">
        <h4 class="card-title">
          ${t.name}
          ${n===ae.Win?"<span class='text-success'>胜利</span>":n===ae.Lose?"<span class='text-danger'>失败</span>":"<span class='text-warning'>逃跑</span>"}
          <p>lv: ${t.level}${s?"🔺":""} exp: ${t.exp}/${t.getNextLevelExp()}</p>
          ${n===ae.Win?`<p>获得经验: <span class="text-info">${Math.floor(e.giveExp)}</span>  ${a?`获得物品: <span class="text-${D[a.rarity]}">${a.name}</span>`:""}</p>`:""}
        </h4>
        <hr>
        <h5>记录</h5>
        <div id="log" class="border rounded p-3" style="max-height: 250px; overflow-y: auto;">
          ${t.getTempLogs()}
        </div>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" id="continue-btn">继续</button>
      </div>
    </div>
  </div>
`,t.clearTempLogs(),wn(t),(l=document.getElementById("continue-btn"))==null||l.addEventListener("click",()=>{i(t,e,n)})}function mE(t){const e=t.reduce((o,s)=>o+s.weight,0),n=Math.random()*e;let i=0;for(const o of t)if(i+=o.weight,n<=i)return o}function Po(t,e){return Math.floor(Math.random()*(e-t+1))+t}function _E(t,e,n){if(n===ae.Lose||n===ae.Withdraw||t.currentMapData.goingToNodeId===null){On(t);return}t.goToNode(t.currentMapData.goingToNodeId),qe(t)}function vE(t,e){const n=mE(t.monsterList);if(!n){e.goToNode(t.id),qe(e);return}const i=Po(n.minLevel,n.maxLevel),o=new Bo(n.monster,i,1);er(e,o,null,null,_E)}function Fd(t,e,n){if(n===ae.Lose||n===ae.Withdraw){const i=t.currentMapData.boss[0].health,o=e.health;i-o>e.getMaxHealth()*.2&&(t.currentMapData.boss[0].health=o),On(t);return}if(t.currentMapData.boss.shift(),t.currentMapData.boss.length===0)if(t.currentMapData.goingToNodeId){t.goToNode(t.currentMapData.goingToNodeId),qe(t);return}else{On(t);return}er(t,t.currentMapData.boss[0],null,null,Fd)}function bE(t,e){const n=t.bossStageList;if(!n){e.goToNode(t.id),qe(e);return}e.currentMapData.boss.length===0&&n.forEach(o=>{const s=Po(o.minLevel,o.maxLevel),a=Po(o.minIndividualStrength,o.maxIndividualStrength),l=new Bo(o.monster,s,a);e.currentMapData.boss.push(l)});const i=e.currentMapData.boss[0];console.log(i),er(e,i,null,null,Fd)}function yE(t,e){let n=t.firstTimeTreasureList;if(e.unlockedNodeIdList.includes(t.id)&&(n=t.repeatableTreasureList),!e.currentMapData.visitedNodeIdList.includes(t.id)){const i=ng(n);if(i){const o=Po(i.minLevel,i.maxLevel),s=tf(i.item,o);e.pack.push(s);const a=document.createElement("div");a.className="toast-container position-fixed bottom-0 end-0 p-3",a.innerHTML=`
        <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-header">
            <strong class="me-auto">获得宝物</strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
          <div class="toast-body">
            获得了 ${s.name}！
          </div>
        </div>
      `,document.body.appendChild(a);const l=a.querySelector(".toast");new $r(l,{autohide:!0,delay:5e3}).show(),l==null||l.addEventListener("hidden.bs.toast",()=>{a.remove()})}}e.goToNode(t.id),qe(e)}function AE(t,e){const n=he(t.region.id);if(e.unlockedRegionIdList.includes(n.id)||e.unlockedRegionIdList.push(n.id),n.isOpen){e.goToRegion(n.id),e.goToNode(n.startNode.id),qe(e);return}else alert("前面的区域以后再来探索吧？")}function wE(t,e){if(e.currentMapData.goingToNodeId=t.id,e.currentMapData.visitedNodeIdList.includes(t.id)&&window.currentMapSvg&&window.updateMapForNode){e.goToNode(e.currentMapData.goingToNodeId),window.updateMapForNode(e,t.id);return}if(e.currentMapData.visitedNodeIdList.includes(t.id)){e.goToNode(e.currentMapData.goingToNodeId),qe(e);return}if(t.type===Be.NormalMonster)vE(t,e);else if(t.type===Be.Boss)bE(t,e);else if(t.type===Be.Treasure)yE(t,e);else if(t.type===Be.ToOtherRegion)AE(t,e);else{e.goToNode(e.currentMapData.goingToNodeId),qe(e);return}}function qe(t){var rt,m,K,z;const e=Oe(),n=[],i=[],o=new Set;function s(k){o.has(k.id)||(o.add(k.id),n.push({id:k.id,label:k.name,x:k.position.x,y:k.position.y,node:k}),k.toNodeList.forEach(R=>{i.push({source:k.id,target:R.id}),s(R)}))}s(he(t.currentMapData.currentRegionId).startNode);let a="营地";if(t.currentMapData.currentNodeId){const k=n.find(R=>R.id===t.currentMapData.currentNodeId);k?a=k.label:a="未知"}e.innerHTML=`
  <div id="map-container" class="d-flex flex-column" style="flex: 1; position: relative;">
    <!-- 地图标题和信息栏 -->
    <div class="map-header" style="
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 20px;
      border-bottom: 2px solid #4caf50;
      z-index: 10;
      display: flex;
      justify-content: space-between;
      align-items: center;
    ">
      <div>
        <h2 style="margin: 0; font-size: 1.5rem;">
          ${he(t.currentMapData.currentRegionId).name||"未知区域"}
        </h2>
        <p style="margin: 0; font-size: 0.9rem; opacity: 0.8;">
          已探索: ${t.currentMapData.visitedNodeIdList.length} 个地点
        </p>
      </div>
      <div id="player-location" style="font-size: 0.9rem;">
        当前位置: <span style="color: #4caf50; font-weight: bold;">
          ${a}
        </span>
      </div>
    </div>

    <!-- 地图控制面板 -->
    <div class="map-controls" style="
      position: absolute;
      top: 70px;
      right: 20px;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 5px;
      padding: 10px;
      z-index: 10;
      display: flex;
      flex-direction: column;
      gap: 10px;
    ">
      <button id="zoom-in-btn" class="btn btn-sm btn-dark" style="width: 40px; height: 40px;">
        +
      </button>
      <button id="zoom-out-btn" class="btn btn-sm btn-dark" style="width: 40px; height: 40px;">
        -
      </button>
      <button id="center-map-btn" class="btn btn-sm btn-dark" style="width: 40px; height: 40px;">
        ⌖
      </button>
    </div>

    <!-- 地图图例 -->
    <div class="map-legend" style="
      position: absolute;
      bottom: 80px;
      left: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border-radius: 5px;
      padding: 10px;
      z-index: 10;
      font-size: 0.9rem;
    ">
      <div style="margin-bottom: 5px; font-weight: bold;">地图图例:</div>
      <div style="display: flex; align-items: center; margin-bottom: 5px;">
        <div style="width: 12px; height: 12px; border-radius: 50%; background: #007bff; margin-right: 10px;"></div>
        <span>当前位置</span>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 5px;">
        <div style="width: 12px; height: 12px; border-radius: 50%; background: #28a745; margin-right: 10px;"></div>
        <span>可前往地点</span>
      </div>
      <div style="display: flex; align-items: center;">
        <div style="width: 12px; height: 12px; border-radius: 50%; background: #6c757d; margin-right: 10px;"></div>
        <span>已知地点</span>
      </div>
    </div>

    <svg id="map-svg" style="flex: 1; background-color: #1a1a1a;"></svg>

    <button id="return-btn" type="button" class="btn btn-primary" style="
      position: absolute;
      left: 50%;
      bottom: 20px;
      transform: translateX(-50%);
      z-index: 10;
      background-color: #4caf50;
      border: none;
      padding: 10px 20px;
      border-radius: 30px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    ">
      返回营地
    </button>
  </div>
  `;const l=Re("#map-svg");window.currentMapSvg=l;const f=l.append("g").attr("class","zoomable"),p=cE().scaleExtent([.5,2]).translateExtent([[0,0],[1e3,1e3]]).on("zoom",k=>{f.attr("transform",k.transform),t.currentMapData.viewState||(t.currentMapData.viewState={x:0,y:0,scale:1}),t.currentMapData.viewState={x:k.transform.x,y:k.transform.y,scale:k.transform.k}});window.currentZoomBehavior=p,l.call(p);function h(k){var R,tt;if(k){const st=((R=l.node())==null?void 0:R.clientWidth)||800,ht=((tt=l.node())==null?void 0:tt.clientHeight)||600,ct=Fi.translate(st/2,ht/2).scale(1.2).translate(-k.x,-k.y);l.transition().duration(750).call(p.transform,ct)}}f.append("image").attr("xlink:href",Iy).attr("x",0).attr("y",0).attr("width",1e3).attr("height",1e3).attr("filter","brightness(0.9) contrast(1.1)").lower();const w=50,_=f.append("g").attr("class","grid").lower();for(let k=0;k<=1e3;k+=w)_.append("line").attr("x1",k).attr("y1",0).attr("x2",k).attr("y2",1e3).attr("stroke","rgba(255, 255, 255, 0.05)").attr("stroke-width",1);for(let k=0;k<=1e3;k+=w)_.append("line").attr("x1",0).attr("y1",k).attr("x2",1e3).attr("y2",k).attr("stroke","rgba(255, 255, 255, 0.05)").attr("stroke-width",1);const S=f.append("g").attr("class","edges");i.forEach(k=>{const R=n.find(E=>E.id===k.source),tt=n.find(E=>E.id===k.target);if(!R||!tt)return;const st=W(R.node,t,n),ht=W(tt.node,t,n),ct=j(R.node,tt.node,t);if(!st||!ht)return;const mt=(R.x+tt.x)/2,y=(R.y+tt.y)/2-50,$=`M ${R.x} ${R.y} Q ${mt} ${y}, ${tt.x} ${tt.y}`;S.append("path").attr("d",$).attr("stroke",ct?"#4caf50":"#aaa").attr("stroke-width",ct?3:1.5).attr("fill","none").attr("opacity",ct?1:.6)});function W(k,R,tt){var $;const st=R.unlockedNodeIdList.includes(k.id),ht=R.currentMapData.currentNodeId===k.id,ct=R.currentMapData.visitedNodeIdList.includes(k.id),mt=!R.currentMapData.currentNodeId&&k===he(R.currentMapData.currentRegionId).startNode,y=R.currentMapData.currentNodeId?($=tt.find(E=>E.id===R.currentMapData.currentNodeId))==null?void 0:$.node.toNodeList.some(E=>E.id===k.id):!1;return st||ht||ct||y||mt}function j(k,R,tt){return!!(tt.currentMapData.currentNodeId===k.id&&k.toNodeList.some(st=>st.id===R.id)||tt.currentMapData.currentNodeId===R.id&&R.toNodeList.some(st=>st.id===k.id)||tt.currentMapData.visitedNodeIdList.includes(k.id)&&tt.currentMapData.visitedNodeIdList.includes(R.id))}const N=f.append("g").attr("class","nodes").selectAll("g.node").data(n).enter().append("g").attr("class","node").attr("transform",k=>`translate(${k.x}, ${k.y})`).style("cursor","pointer").style("display",k=>W(k.node,t,n)?"block":"none");window.currentNodeElements=N,window.currentEdgeElements=S.selectAll("path"),N.append("circle").attr("r",12).attr("fill",k=>{var st;if(t.currentMapData.currentNodeId===k.node.id||!t.currentMapData.currentNodeId&&k.node===he(t.currentMapData.currentRegionId).startNode)return"#007bff";const R=t.currentMapData.currentNodeId?(st=n.find(ht=>ht.id===t.currentMapData.currentNodeId))==null?void 0:st.node.toNodeList.some(ht=>ht.id===k.node.id):!1,tt=t.currentMapData.visitedNodeIdList.includes(k.node.id);return R||tt?"#28a745":"#6c757d"}).attr("stroke","#f8f9fa").attr("stroke-width",2).attr("filter","drop-shadow(0px 2px 3px rgba(0,0,0,0.5))"),N.append("circle").attr("r",20).attr("fill","none").attr("stroke",k=>t.currentMapData.currentNodeId===k.node.id||!t.currentMapData.currentNodeId&&k.node===he(t.currentMapData.currentRegionId).startNode?"#007bff":"transparent").attr("stroke-width",2).attr("opacity",.5).attr("stroke-dasharray","3,3").style("animation","pulse 2s infinite"),N.append("text").attr("x",0).attr("y",-20).text(k=>k.label).attr("text-anchor","middle").attr("font-size","12px").attr("fill","#f8f9fa").attr("filter","drop-shadow(0px 1px 2px rgba(0,0,0,0.8))").style("pointer-events","none"),N.each(function(k){var y;const R=k.node,tt=t.currentMapData.currentNodeId===R.id,st=!t.currentMapData.currentNodeId&&R===he(t.currentMapData.currentRegionId).startNode,ht=t.currentMapData.currentNodeId?(y=n.find($=>$.id===t.currentMapData.currentNodeId))==null?void 0:y.node.toNodeList.some($=>$.id===R.id):!1,ct=t.currentMapData.visitedNodeIdList.includes(R.id),mt=!tt&&!st&&(ht||ct);Rn(this,{content:`
        <div>
          <h3>${R.name}</h3>
          <p>${R.description}</p>
          ${mt?`<a class="btn btn-primary" id="go-${R.id}">
              前往
            </a>`:""}
        </div>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown($){if(mt){const E=$.popper.querySelector(`#go-${R.id}`);E&&E.addEventListener("click",P=>{P.stopPropagation(),$.hide(),t.currentMapData.isMovingBetweenNodes=!0,wE(R,t)})}}})}),N.attr("opacity",0).transition().duration(500).attr("opacity",1),(rt=document.getElementById("return-btn"))==null||rt.addEventListener("click",()=>{On(t)}),(m=document.getElementById("zoom-in-btn"))==null||m.addEventListener("click",()=>{l.transition().duration(300).call(p.scaleBy,1.3)}),(K=document.getElementById("zoom-out-btn"))==null||K.addEventListener("click",()=>{l.transition().duration(300).call(p.scaleBy,.7)}),(z=document.getElementById("center-map-btn"))==null||z.addEventListener("click",()=>{const k=t.currentMapData.currentNodeId,R=k?n.find(tt=>tt.id===k):n.find(tt=>tt.node===he(t.currentMapData.currentRegionId).startNode);h(R)}),setTimeout(()=>{var k,R;if(t.currentMapData.viewState){const tt=t.currentMapData.viewState;if(t.currentMapData.isMovingBetweenNodes){const st=t.currentMapData.currentNodeId,ht=st?n.find(ct=>ct.id===st):n.find(ct=>ct.node===he(t.currentMapData.currentRegionId).startNode);if(ht){const ct=((k=l.node())==null?void 0:k.clientWidth)||800,mt=((R=l.node())==null?void 0:R.clientHeight)||600,y=Fi.translate(ct/2,mt/2).scale(tt.scale).translate(-ht.x,-ht.y);l.transition().duration(750).call(p.transform,y)}t.currentMapData.isMovingBetweenNodes=!1}else{const st=Fi.translate(tt.x,tt.y).scale(tt.scale);l.call(p.transform,st)}}else{const tt=t.currentMapData.currentNodeId,st=tt?n.find(ht=>ht.id===tt):n.find(ht=>ht.node===he(t.currentMapData.currentRegionId).startNode);h(st)}},100);const U=document.createElement("style");U.textContent=`
    @keyframes pulse {
      0% { stroke-opacity: 0.8; r: 16; }
      50% { stroke-opacity: 0.4; r: 20; }
      100% { stroke-opacity: 0.8; r: 16; }
    }
  `,document.head.appendChild(U),window.updateMapForNode=function(k,R){var tt,st,ht;try{const ct=n.find(y=>y.id===R);if(ct){const y=document.getElementById("player-location");y&&(y.innerHTML=`当前位置: <span style="color: #4caf50; font-weight: bold;">${ct.label}</span>`)}window.currentNodeElements&&(window.currentNodeElements.selectAll("circle:first-child").attr("fill",function(y){try{const E=this.parentNode,P=Re(E).datum();if(!P||!P.node)return"#6c757d";if(R===P.node.id)return"#007bff";const J=ct==null?void 0:ct.node.toNodeList.some(x=>x.id===P.node.id),at=k.currentMapData.visitedNodeIdList.includes(P.node.id);return J||at?"#28a745":"#6c757d"}catch($){return console.warn("Error updating node color:",$),"#6c757d"}}),window.currentNodeElements.selectAll("circle:nth-child(2)").attr("stroke",function(y){try{const E=this.parentNode,P=Re(E).datum();return!P||!P.node?"transparent":R===P.node.id?"#007bff":"transparent"}catch($){return console.warn("Error updating glow effect:",$),"transparent"}})),window.currentEdgeElements&&window.currentEdgeElements.attr("stroke",function(y){var $,E;try{const J=this.getAttribute("d");if(!J)return"#aaa";const at=J.match(/M\s*(\d+)\s*(\d+).+?(\d+)\s*(\d+)$/);if(!at)return"#aaa";const[,x,yt,Et,X]=at.map(Number),pt=($=n.find(ot=>Math.abs(ot.x-x)<1&&Math.abs(ot.y-yt)<1))==null?void 0:$.node,Ot=(E=n.find(ot=>Math.abs(ot.x-Et)<1&&Math.abs(ot.y-X)<1))==null?void 0:E.node;return!pt||!Ot?"#aaa":R===pt.id&&pt.toNodeList.some(ot=>ot.id===Ot.id)||R===Ot.id&&Ot.toNodeList.some(ot=>ot.id===pt.id)||k.currentMapData.visitedNodeIdList.includes(pt.id)&&k.currentMapData.visitedNodeIdList.includes(Ot.id)?"#4caf50":"#aaa"}catch(P){return console.warn("Error updating edge color:",P),"#aaa"}}).attr("stroke-width",function(){return Re(this).attr("stroke")==="#4caf50"?3:1.5}).attr("opacity",function(){return Re(this).attr("stroke")==="#4caf50"?1:.6});const mt=n.find(y=>y.id===R);if(mt&&window.currentMapSvg&&window.currentZoomBehavior){const y=((tt=window.currentMapSvg.node())==null?void 0:tt.clientWidth)||800,$=((st=window.currentMapSvg.node())==null?void 0:st.clientHeight)||600,E=((ht=k.currentMapData.viewState)==null?void 0:ht.scale)||1.2,P=Fi.translate(y/2,$/2).scale(E).translate(-mt.x,-mt.y),J=window.currentZoomBehavior.transform;window.currentMapSvg.transition().duration(750).call(J,P)}}catch(ct){console.error("Error in updateMapForNode:",ct),qe(k)}}}function On(t){var i,o,s,a;const e=document.getElementById("game-title");t.type===Qt.Player&&(e.textContent="异世界"+t.name);const n=Oe();t.isAtHome=!0,t.clearCurrentMapDataWithoutBoss(),wn(t),console.log(t),n.innerHTML=`
    <!-- 顶部区域：显示血条和玩家信息 -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <!-- 血条区域 -->
        <div id="health-display" class="mb-3">
          ${t.getHealthDisplay()}
        </div>
        <!-- 玩家信息区域 -->
        <div class="text-center">
          <h2 class="card-title mb-1">
            <span class="badge bg-${t.type===Qt.Player114514?"danger":"primary"} ms-2" style="font-size: 0.75rem; padding: 0.35em 0.5em;">
              ${t.type===Qt.Player114514?"野兽":"人类"}
            </span>
            ${t.name}
            <small class="text-muted"> lv ${t.level}</small>
          </h2>
          <!-- 经验条 -->
          <div id="exp-display" class="mt-2" style="max-width: 200px; margin: 0 auto;">
            ${t.getExpDisplay()}
          </div>
        </div>

        <!-- 玩家形象区域 -->
        <div class="text-center mt-3">
          <img src=${rg} alt="玩家形象" class="img-fluid" style="max-height: 200px;">
        </div>
      </div>
    </div>

    <!-- 主菜单区域：用 mt-auto 自动向下推 -->
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        <div class="col-12 col-md-4">
          <button id="battle-btn" class="btn btn-primary w-100 py-3">
            ${t.type===Qt.Player114514?"救世啊！":"动身"} 现在地点: ${he(t.currentMapData.currentRegionId).name}
          </button>
        </div>
        <div class="col-12 col-md-4">
          <button id="travel-btn" class="btn btn-primary w-100 py-3">快速旅行</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="status-btn" class="btn btn-success w-100 py-3">状态</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="restart-btn" class="btn btn-danger w-100 py-3">秽土转生</button>
        </div>
      </div>

      <!-- 查看记录按钮 -->
      <div class="text-center mt-4">
        <button class="btn btn-info" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
          查看记录
        </button>
      </div>
    </div>

    <!-- Offcanvas 记录面板 -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasRightLabel">记录</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="关闭"></button>
      </div>
      <div class="offcanvas-body">
        <div style="max-height: 60vh; overflow-y: auto;">
          <p>${t.getLastNLog(100)}</p>
        </div>
      </div>
    </div>

    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,(i=document.getElementById("battle-btn"))==null||i.addEventListener("click",()=>{t.goToNode(he(t.currentMapData.currentRegionId).startNode.id),qe(t)}),(o=document.getElementById("travel-btn"))==null||o.addEventListener("click",()=>{Ny(t)}),(s=document.getElementById("status-btn"))==null||s.addEventListener("click",()=>{vr(t)}),(a=document.getElementById("restart-btn"))==null||a.addEventListener("click",()=>{window.confirm("你确定要 remake 吗？")&&(localStorage.clear(),window.location.reload())})}const EE="/isekai114514/assets/1919-2_wCU3Nu.gif";function xE(){var e,n;const t=Oe();t.innerHTML=`
    <h1>你是谁？</h1>
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">普通人</h5>
            <p class="card-text fst-italic">"我不抽烟，酒仅浅尝辄止。晚上11点睡，保证睡足8小时。睡前喝一杯温牛奶，然后做20分钟的舒缓运动再睡觉，一觉熟睡到天亮，绝不把疲劳和压力留到第二天。医生都说我很正常。"</p>
            <p class="card-text" style="font-weight: bold;">(适合不了解野兽先辈的玩家)</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">野兽仙贝</h5>
            <p class="card-text fst-italic">"伟大的古希腊哲学家，野兽学派的大先辈田所曾这样警醒后人：逸一时，误一世。(如果一时放纵自己，贪图安逸，就可能误了一生的前程) 现在，你将扮演这位伟大的贤人。好时代，来临罢！"</p>
            <p class="card-text" style="font-weight: bold;">(适合拥有野兽之心的玩家)</p>
            </div>
        </div>
      </div>
    </div>
  `,(e=document.getElementById("action1-btn"))==null||e.addEventListener("click",()=>{const i=new Vi("吴田所",Qt.Player);fa(i),Da(i)}),(n=document.getElementById("action2-btn"))==null||n.addEventListener("click",()=>{const i=new Vi("田所",Qt.FullPowerPlayer114514);fa(i);const o=new Bo(Qt.Toono,1,1,"远野");i.isAtHome=!1,er(i,o,null,null,(s,a,l)=>{l===ae.Win?CE(s):TE(s)})})}function CE(t){var n;const e=Oe();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>距离击败远野已不知过去了多久，但一切都还历历在目。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你不再沉沦，高呼道：伊已逝，吾亦逝。忆旧已久罢忆灵！(你逝去了，而我的心也逝去了，空留肉体如行尸走肉般存活。我已经缅怀故人多时，罢了罢了，是时候随你而去了！)</p>
		<p>你闭上了眼睛。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{ec(t)})}function TE(t){var n;const e=Oe();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>你被远野击败了。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你愤怒地将手指向远野，不甘心地嘶吼：你是一个一个一个一个，呐，哼哼，啊啊啊啊啊啊啊！！！<p>
    <img src="${EE}" alt="1919">
		<p>但是意识逐渐模糊，你最终还是倒下了。<p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{ec(t)})}function Da(t){var o,s;const e=Oe(),n=Math.floor(Math.random()*4);let i="";switch(n){case 0:i="<p>车 →→→ 你</p>";break;case 1:i="<p>你 ←←← 车</p>";break;case 2:i=`
      <p style="text-align: center;">  车</p>
      <p style="text-align: center;">  ↓</p>
      <p style="text-align: center;">  你</p>`;break;case 3:i=`
      <p style="text-align: center;">  你</p>
      <p style="text-align: center;">  ↑</p>
      <p style="text-align: center;">  车</p>`;break}e.innerHTML=`
  <h1>躲避大卡车</h1>
  <p>一辆卡车正在向你快速驶来，请选择躲避方向</p>
  ${i}
  <button id="left-btn">向左躲避</button>
  <button id="right-btn">向右躲避</button>
`,(o=document.getElementById("left-btn"))==null||o.addEventListener("click",()=>{Math.random()>.3?Da(t):Ku(t)}),(s=document.getElementById("right-btn"))==null||s.addEventListener("click",()=>{Math.random()>.3?Da(t):Ku(t)})}function Ku(t){var n;const e=Oe();e.innerHTML=`
    <h1>躲避大卡车</h1>
    <p>躲避失败，你嗝屁了</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{ec(t)})}function ec(t){var n;if(t.type===Qt.FullPowerPlayer114514){const i=t.pack;t=new Vi("田所",Qt.Player114514),t.pack=i}const e=Oe();e.innerHTML=`
    <h1>???</h1>
    <p>请输入你的名字</p>
    <input type="text" id="name-input" placeholder="${t.name}">
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{const o=document.getElementById("name-input").value.trim();o?(t.name=o,SE(t)):alert("请输入你的名字！")})}function SE(t){var n;const e=Oe();e.innerHTML=`
    <h1>???</h1>
    <p>你睁开了眼睛，看到了陌生的天花板。</p>
    <p>这里似乎是什么遗迹？周围的墙上刻着壁画和奇怪的文字，而你正躺在房间正中心的石棺中。你虽然看不懂那些文字，但它们的意思却飞入脑中：</p>
    <p class="fst-italic">
    一百年前，一位叫<span style="font-weight: bold;">远野</span>的异界来客统领着野兽大军从极北之地<span style="font-weight: bold;">“下北泽”</span>南下，在毁灭了诸多城市后，远野在下北泽建立了魔王城，在那里指挥大军继续南下侵略。
    为了阻止远野，人类根据预言中的指引从异世界召唤了勇者。但被召唤的勇者一直没有苏醒，人类最终难挡野兽大军的攻势，不得不退守大陆的最南端。
    </p>
    <p>看起来，你正是故事中被召唤的勇者。
    ${t.type===Qt.Player114514?"而这位远野，正是前世你最爱却又背叛你的那个人！你握紧了拳头，暗暗发誓一定要报仇雪恨！</p>":"责任感和使命感让你决定挺身而出，阻止远野的侵略。</p>"}
    <p>你站起身来，准备向北进发。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{t.pack.push(new Ke(It.GiftboxAndLetter)),wn(t),On(t)})}document.addEventListener("DOMContentLoaded",()=>{let t;try{t=ig()}catch(e){console.log(e),localStorage.clear(),xE();return}if(t.currentMapData.currentNodeId){const e=document.getElementById("game-title");t.type===Qt.Player&&(e.textContent="异世界"+t.name),qe(t)}else On(t)});
