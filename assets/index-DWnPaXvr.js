var kp=Object.defineProperty;var Mp=(t,e,n)=>e in t?kp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bt=(t,e,n)=>Mp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xl={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Tl;function Np(){if(Tl)return xl;Tl=1;var t;return function(e){(function(n){var i=typeof globalThis=="object"?globalThis:typeof El=="object"?El:typeof self=="object"?self:typeof this=="object"?this:f(),o=s(e);typeof i.Reflect<"u"&&(o=s(i.Reflect,o)),n(o,i),typeof i.Reflect>"u"&&(i.Reflect=e);function s(p,h){return function(A,_){Object.defineProperty(p,A,{configurable:!0,writable:!0,value:_}),h&&h(A,_)}}function c(){try{return Function("return this;")()}catch{}}function u(){try{return(0,eval)("(function() { return this; })()")}catch{}}function f(){return c()||u()}})(function(n,i){var o=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",c=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",u=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",f=typeof Object.create=="function",p={__proto__:[]}instanceof Array,h=!f&&!p,A={create:f?function(){return Gn(Object.create(null))}:p?function(){return Gn({__proto__:null})}:function(){return Gn({})},has:h?function(y,x){return o.call(y,x)}:function(y,x){return x in y},get:h?function(y,x){return o.call(y,x)?y[x]:void 0}:function(y,x){return y[x]}},_=Object.getPrototypeOf(Function),T=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:me(),z=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Je(),M=typeof WeakMap=="function"?WeakMap:Sn(),L=s?Symbol.for("@reflect-metadata:registry"):void 0,k=De(),F=ne(k);function Y(y,x,g,C){if(X(g)){if(!fn(y))throw new TypeError;if(!qe(x))throw new TypeError;return Tt(y,x)}else{if(!fn(y))throw new TypeError;if(!lt(x))throw new TypeError;if(!lt(C)&&!X(C)&&!dt(C))throw new TypeError;return dt(C)&&(C=void 0),g=Wt(g),E(y,x,g,C)}}n("decorate",Y);function m(y,x){function g(C,P){if(!lt(C))throw new TypeError;if(!X(P)&&!Oe(P))throw new TypeError;ot(y,x,C,P)}return g}n("metadata",m);function V(y,x,g,C){if(!lt(g))throw new TypeError;return X(C)||(C=Wt(C)),ot(y,x,g,C)}n("defineMetadata",V);function R(y,x,g){if(!lt(x))throw new TypeError;return X(g)||(g=Wt(g)),W(y,x,g)}n("hasMetadata",R);function ct(y,x,g){if(!lt(x))throw new TypeError;return X(g)||(g=Wt(g)),O(y,x,g)}n("hasOwnMetadata",ct);function nt(y,x,g){if(!lt(x))throw new TypeError;return X(g)||(g=Wt(g)),G(y,x,g)}n("getMetadata",nt);function Ct(y,x,g){if(!lt(x))throw new TypeError;return X(g)||(g=Wt(g)),et(y,x,g)}n("getOwnMetadata",Ct);function Et(y,x){if(!lt(y))throw new TypeError;return X(x)||(x=Wt(x)),w(y,x)}n("getMetadataKeys",Et);function It(y,x){if(!lt(y))throw new TypeError;return X(x)||(x=Wt(x)),mt(y,x)}n("getOwnMetadataKeys",It);function St(y,x,g){if(!lt(x))throw new TypeError;if(X(g)||(g=Wt(g)),!lt(x))throw new TypeError;X(g)||(g=Wt(g));var C=Jt(x,g,!1);return X(C)?!1:C.OrdinaryDeleteMetadata(y,x,g)}n("deleteMetadata",St);function Tt(y,x){for(var g=y.length-1;g>=0;--g){var C=y[g],P=C(x);if(!X(P)&&!dt(P)){if(!qe(P))throw new TypeError;x=P}}return x}function E(y,x,g,C){for(var P=y.length-1;P>=0;--P){var st=y[P],rt=st(x,g,C);if(!X(rt)&&!dt(rt)){if(!lt(rt))throw new TypeError;C=rt}}return C}function W(y,x,g){var C=O(y,x,g);if(C)return!0;var P=ze(x);return dt(P)?!1:W(y,P,g)}function O(y,x,g){var C=Jt(x,g,!1);return X(C)?!1:Qt(C.OrdinaryHasOwnMetadata(y,x,g))}function G(y,x,g){var C=O(y,x,g);if(C)return et(y,x,g);var P=ze(x);if(!dt(P))return G(y,P,g)}function et(y,x,g){var C=Jt(x,g,!1);if(!X(C))return C.OrdinaryGetOwnMetadata(y,x,g)}function ot(y,x,g,C){var P=Jt(g,C,!0);P.OrdinaryDefineOwnMetadata(y,x,g,C)}function w(y,x){var g=mt(y,x),C=ze(y);if(C===null)return g;var P=w(C,x);if(P.length<=0)return g;if(g.length<=0)return P;for(var st=new z,rt=[],it=0,H=g;it<H.length;it++){var U=H[it],J=st.has(U);J||(st.add(U),rt.push(U))}for(var q=0,gt=P;q<gt.length;q++){var U=gt[q],J=st.has(U);J||(st.add(U),rt.push(U))}return rt}function mt(y,x){var g=Jt(y,x,!1);return g?g.OrdinaryOwnMetadataKeys(y,x):[]}function yt(y){if(y===null)return 1;switch(typeof y){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return y===null?1:6;default:return 6}}function X(y){return y===void 0}function dt(y){return y===null}function Dt(y){return typeof y=="symbol"}function lt(y){return typeof y=="object"?y!==null:typeof y=="function"}function Ft(y,x){switch(yt(y)){case 0:return y;case 1:return y;case 2:return y;case 3:return y;case 4:return y;case 5:return y}var g="string",C=Xe(y,c);if(C!==void 0){var P=C.call(y,g);if(lt(P))throw new TypeError;return P}return Q(y)}function Q(y,x){var g,C,P;{var st=y.toString;if(qt(st)){var C=st.call(y);if(!lt(C))return C}var g=y.valueOf;if(qt(g)){var C=g.call(y);if(!lt(C))return C}}throw new TypeError}function Qt(y){return!!y}function pe(y){return""+y}function Wt(y){var x=Ft(y);return Dt(x)?x:pe(x)}function fn(y){return Array.isArray?Array.isArray(y):y instanceof Object?y instanceof Array:Object.prototype.toString.call(y)==="[object Array]"}function qt(y){return typeof y=="function"}function qe(y){return typeof y=="function"}function Oe(y){switch(yt(y)){case 3:return!0;case 4:return!0;default:return!1}}function Xt(y,x){return y===x||y!==y&&x!==x}function Xe(y,x){var g=y[x];if(g!=null){if(!qt(g))throw new TypeError;return g}}function dn(y){var x=Xe(y,u);if(!qt(x))throw new TypeError;var g=x.call(y);if(!lt(g))throw new TypeError;return g}function hn(y){return y.value}function le(y){var x=y.next();return x.done?!1:x}function ge(y){var x=y.return;x&&x.call(y)}function ze(y){var x=Object.getPrototypeOf(y);if(typeof y!="function"||y===_||x!==_)return x;var g=y.prototype,C=g&&Object.getPrototypeOf(g);if(C==null||C===Object.prototype)return x;var P=C.constructor;return typeof P!="function"||P===y?x:P}function Ge(){var y;!X(L)&&typeof i.Reflect<"u"&&!(L in i.Reflect)&&typeof i.Reflect.defineMetadata=="function"&&(y=pn(i.Reflect));var x,g,C,P=new M,st={registerProvider:rt,getProvider:H,setProvider:J};return st;function rt(q){if(!Object.isExtensible(st))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case y===q:break;case X(x):x=q;break;case x===q:break;case X(g):g=q;break;case g===q:break;default:C===void 0&&(C=new z),C.add(q);break}}function it(q,gt){if(!X(x)){if(x.isProviderFor(q,gt))return x;if(!X(g)){if(g.isProviderFor(q,gt))return x;if(!X(C))for(var Ot=dn(C);;){var kt=le(Ot);if(!kt)return;var jt=hn(kt);if(jt.isProviderFor(q,gt))return ge(Ot),jt}}}if(!X(y)&&y.isProviderFor(q,gt))return y}function H(q,gt){var Ot=P.get(q),kt;return X(Ot)||(kt=Ot.get(gt)),X(kt)&&(kt=it(q,gt),X(kt)||(X(Ot)&&(Ot=new T,P.set(q,Ot)),Ot.set(gt,kt))),kt}function U(q){if(X(q))throw new TypeError;return x===q||g===q||!X(C)&&C.has(q)}function J(q,gt,Ot){if(!U(Ot))throw new Error("Metadata provider not registered.");var kt=H(q,gt);if(kt!==Ot){if(!X(kt))return!1;var jt=P.get(q);X(jt)&&(jt=new T,P.set(q,jt)),jt.set(gt,Ot)}return!0}}function De(){var y;return!X(L)&&lt(i.Reflect)&&Object.isExtensible(i.Reflect)&&(y=i.Reflect[L]),X(y)&&(y=Ge()),!X(L)&&lt(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,L,{enumerable:!1,configurable:!1,writable:!1,value:y}),y}function ne(y){var x=new M,g={isProviderFor:function(U,J){var q=x.get(U);return X(q)?!1:q.has(J)},OrdinaryDefineOwnMetadata:rt,OrdinaryHasOwnMetadata:P,OrdinaryGetOwnMetadata:st,OrdinaryOwnMetadataKeys:it,OrdinaryDeleteMetadata:H};return k.registerProvider(g),g;function C(U,J,q){var gt=x.get(U),Ot=!1;if(X(gt)){if(!q)return;gt=new T,x.set(U,gt),Ot=!0}var kt=gt.get(J);if(X(kt)){if(!q)return;if(kt=new T,gt.set(J,kt),!y.setProvider(U,J,g))throw gt.delete(J),Ot&&x.delete(U),new Error("Wrong provider for target.")}return kt}function P(U,J,q){var gt=C(J,q,!1);return X(gt)?!1:Qt(gt.has(U))}function st(U,J,q){var gt=C(J,q,!1);if(!X(gt))return gt.get(U)}function rt(U,J,q,gt){var Ot=C(q,gt,!0);Ot.set(U,J)}function it(U,J){var q=[],gt=C(U,J,!1);if(X(gt))return q;for(var Ot=gt.keys(),kt=dn(Ot),jt=0;;){var Le=le(kt);if(!Le)return q.length=jt,q;var On=hn(Le);try{q[jt]=On}catch(Xo){try{ge(kt)}finally{throw Xo}}jt++}}function H(U,J,q){var gt=C(J,q,!1);if(X(gt)||!gt.delete(U))return!1;if(gt.size===0){var Ot=x.get(J);X(Ot)||(Ot.delete(q),Ot.size===0&&x.delete(Ot))}return!0}}function pn(y){var x=y.defineMetadata,g=y.hasOwnMetadata,C=y.getOwnMetadata,P=y.getOwnMetadataKeys,st=y.deleteMetadata,rt=new M,it={isProviderFor:function(H,U){var J=rt.get(H);return!X(J)&&J.has(U)?!0:P(H,U).length?(X(J)&&(J=new z,rt.set(H,J)),J.add(U),!0):!1},OrdinaryDefineOwnMetadata:x,OrdinaryHasOwnMetadata:g,OrdinaryGetOwnMetadata:C,OrdinaryOwnMetadataKeys:P,OrdinaryDeleteMetadata:st};return it}function Jt(y,x,g){var C=k.getProvider(y,x);if(!X(C))return C;if(g){if(k.setProvider(y,x,F))return F;throw new Error("Illegal state.")}}function me(){var y={},x=[],g=function(){function it(H,U,J){this._index=0,this._keys=H,this._values=U,this._selector=J}return it.prototype["@@iterator"]=function(){return this},it.prototype[u]=function(){return this},it.prototype.next=function(){var H=this._index;if(H>=0&&H<this._keys.length){var U=this._selector(this._keys[H],this._values[H]);return H+1>=this._keys.length?(this._index=-1,this._keys=x,this._values=x):this._index++,{value:U,done:!1}}return{value:void 0,done:!0}},it.prototype.throw=function(H){throw this._index>=0&&(this._index=-1,this._keys=x,this._values=x),H},it.prototype.return=function(H){return this._index>=0&&(this._index=-1,this._keys=x,this._values=x),{value:H,done:!0}},it}(),C=function(){function it(){this._keys=[],this._values=[],this._cacheKey=y,this._cacheIndex=-2}return Object.defineProperty(it.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),it.prototype.has=function(H){return this._find(H,!1)>=0},it.prototype.get=function(H){var U=this._find(H,!1);return U>=0?this._values[U]:void 0},it.prototype.set=function(H,U){var J=this._find(H,!0);return this._values[J]=U,this},it.prototype.delete=function(H){var U=this._find(H,!1);if(U>=0){for(var J=this._keys.length,q=U+1;q<J;q++)this._keys[q-1]=this._keys[q],this._values[q-1]=this._values[q];return this._keys.length--,this._values.length--,Xt(H,this._cacheKey)&&(this._cacheKey=y,this._cacheIndex=-2),!0}return!1},it.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=y,this._cacheIndex=-2},it.prototype.keys=function(){return new g(this._keys,this._values,P)},it.prototype.values=function(){return new g(this._keys,this._values,st)},it.prototype.entries=function(){return new g(this._keys,this._values,rt)},it.prototype["@@iterator"]=function(){return this.entries()},it.prototype[u]=function(){return this.entries()},it.prototype._find=function(H,U){if(!Xt(this._cacheKey,H)){this._cacheIndex=-1;for(var J=0;J<this._keys.length;J++)if(Xt(this._keys[J],H)){this._cacheIndex=J;break}}return this._cacheIndex<0&&U&&(this._cacheIndex=this._keys.length,this._keys.push(H),this._values.push(void 0)),this._cacheIndex},it}();return C;function P(it,H){return it}function st(it,H){return H}function rt(it,H){return[it,H]}}function Je(){var y=function(){function x(){this._map=new T}return Object.defineProperty(x.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),x.prototype.has=function(g){return this._map.has(g)},x.prototype.add=function(g){return this._map.set(g,g),this},x.prototype.delete=function(g){return this._map.delete(g)},x.prototype.clear=function(){this._map.clear()},x.prototype.keys=function(){return this._map.keys()},x.prototype.values=function(){return this._map.keys()},x.prototype.entries=function(){return this._map.entries()},x.prototype["@@iterator"]=function(){return this.keys()},x.prototype[u]=function(){return this.keys()},x}();return y}function Sn(){var y=16,x=A.create(),g=C();return function(){function H(){this._key=C()}return H.prototype.has=function(U){var J=P(U,!1);return J!==void 0?A.has(J,this._key):!1},H.prototype.get=function(U){var J=P(U,!1);return J!==void 0?A.get(J,this._key):void 0},H.prototype.set=function(U,J){var q=P(U,!0);return q[this._key]=J,this},H.prototype.delete=function(U){var J=P(U,!1);return J!==void 0?delete J[this._key]:!1},H.prototype.clear=function(){this._key=C()},H}();function C(){var H;do H="@@WeakMap@@"+it();while(A.has(x,H));return x[H]=!0,H}function P(H,U){if(!o.call(H,g)){if(!U)return;Object.defineProperty(H,g,{value:A.create()})}return H[g]}function st(H,U){for(var J=0;J<U;++J)H[J]=Math.random()*255|0;return H}function rt(H){if(typeof Uint8Array=="function"){var U=new Uint8Array(H);return typeof crypto<"u"?crypto.getRandomValues(U):typeof msCrypto<"u"?msCrypto.getRandomValues(U):st(U,H),U}return st(new Array(H),H)}function it(){var H=rt(y);H[6]=H[6]&79|64,H[8]=H[8]&191|128;for(var U="",J=0;J<y;++J){var q=H[J];(J===4||J===6||J===8)&&(U+="-"),q<16&&(U+="0"),U+=q.toString(16).toLowerCase()}return U}}function Gn(y){return y.__=void 0,delete y.__,y}})}(t||(t={})),xl}Np();var uo={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ip=uo.exports,Cl;function $p(){return Cl||(Cl=1,function(t,e){(function(n,i){t.exports=i()})(Ip,function(){const n=new Map,i={set(l,r,a){n.has(l)||n.set(l,new Map);const d=n.get(l);d.has(r)||d.size===0?d.set(r,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(d.keys())[0]}.`)},get:(l,r)=>n.has(l)&&n.get(l).get(r)||null,remove(l,r){if(!n.has(l))return;const a=n.get(l);a.delete(r),a.size===0&&n.delete(l)}},o="transitionend",s=l=>(l&&window.CSS&&window.CSS.escape&&(l=l.replace(/#([^\s"#']+)/g,(r,a)=>`#${CSS.escape(a)}`)),l),c=l=>{l.dispatchEvent(new Event(o))},u=l=>!(!l||typeof l!="object")&&(l.jquery!==void 0&&(l=l[0]),l.nodeType!==void 0),f=l=>u(l)?l.jquery?l[0]:l:typeof l=="string"&&l.length>0?document.querySelector(s(l)):null,p=l=>{if(!u(l)||l.getClientRects().length===0)return!1;const r=getComputedStyle(l).getPropertyValue("visibility")==="visible",a=l.closest("details:not([open])");if(!a)return r;if(a!==l){const d=l.closest("summary");if(d&&d.parentNode!==a||d===null)return!1}return r},h=l=>!l||l.nodeType!==Node.ELEMENT_NODE||!!l.classList.contains("disabled")||(l.disabled!==void 0?l.disabled:l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"),A=l=>{if(!document.documentElement.attachShadow)return null;if(typeof l.getRootNode=="function"){const r=l.getRootNode();return r instanceof ShadowRoot?r:null}return l instanceof ShadowRoot?l:l.parentNode?A(l.parentNode):null},_=()=>{},T=l=>{l.offsetHeight},z=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,M=[],L=()=>document.documentElement.dir==="rtl",k=l=>{var r;r=()=>{const a=z();if(a){const d=l.NAME,v=a.fn[d];a.fn[d]=l.jQueryInterface,a.fn[d].Constructor=l,a.fn[d].noConflict=()=>(a.fn[d]=v,l.jQueryInterface)}},document.readyState==="loading"?(M.length||document.addEventListener("DOMContentLoaded",()=>{for(const a of M)a()}),M.push(r)):r()},F=(l,r=[],a=l)=>typeof l=="function"?l(...r):a,Y=(l,r,a=!0)=>{if(!a)return void F(l);const d=(D=>{if(!D)return 0;let{transitionDuration:N,transitionDelay:j}=window.getComputedStyle(D);const Z=Number.parseFloat(N),tt=Number.parseFloat(j);return Z||tt?(N=N.split(",")[0],j=j.split(",")[0],1e3*(Number.parseFloat(N)+Number.parseFloat(j))):0})(r)+5;let v=!1;const b=({target:D})=>{D===r&&(v=!0,r.removeEventListener(o,b),F(l))};r.addEventListener(o,b),setTimeout(()=>{v||c(r)},d)},m=(l,r,a,d)=>{const v=l.length;let b=l.indexOf(r);return b===-1?!a&&d?l[v-1]:l[0]:(b+=a?1:-1,d&&(b=(b+v)%v),l[Math.max(0,Math.min(b,v-1))])},V=/[^.]*(?=\..*)\.|.*/,R=/\..*/,ct=/::\d+$/,nt={};let Ct=1;const Et={mouseenter:"mouseover",mouseleave:"mouseout"},It=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function St(l,r){return r&&`${r}::${Ct++}`||l.uidEvent||Ct++}function Tt(l){const r=St(l);return l.uidEvent=r,nt[r]=nt[r]||{},nt[r]}function E(l,r,a=null){return Object.values(l).find(d=>d.callable===r&&d.delegationSelector===a)}function W(l,r,a){const d=typeof r=="string",v=d?a:r||a;let b=ot(l);return It.has(b)||(b=l),[d,v,b]}function O(l,r,a,d,v){if(typeof r!="string"||!l)return;let[b,D,N]=W(r,a,d);r in Et&&(D=(ht=>function(ft){if(!ft.relatedTarget||ft.relatedTarget!==ft.delegateTarget&&!ft.delegateTarget.contains(ft.relatedTarget))return ht.call(this,ft)})(D));const j=Tt(l),Z=j[N]||(j[N]={}),tt=E(Z,D,b?a:null);if(tt)return void(tt.oneOff=tt.oneOff&&v);const K=St(D,r.replace(V,"")),_t=b?function(ut,ht,ft){return function pt($t){const Ht=ut.querySelectorAll(ht);for(let{target:At}=$t;At&&At!==this;At=At.parentNode)for(const Lt of Ht)if(Lt===At)return mt($t,{delegateTarget:At}),pt.oneOff&&w.off(ut,$t.type,ht,ft),ft.apply(At,[$t])}}(l,a,D):function(ut,ht){return function ft(pt){return mt(pt,{delegateTarget:ut}),ft.oneOff&&w.off(ut,pt.type,ht),ht.apply(ut,[pt])}}(l,D);_t.delegationSelector=b?a:null,_t.callable=D,_t.oneOff=v,_t.uidEvent=K,Z[K]=_t,l.addEventListener(N,_t,b)}function G(l,r,a,d,v){const b=E(r[a],d,v);b&&(l.removeEventListener(a,b,!!v),delete r[a][b.uidEvent])}function et(l,r,a,d){const v=r[a]||{};for(const[b,D]of Object.entries(v))b.includes(d)&&G(l,r,a,D.callable,D.delegationSelector)}function ot(l){return l=l.replace(R,""),Et[l]||l}const w={on(l,r,a,d){O(l,r,a,d,!1)},one(l,r,a,d){O(l,r,a,d,!0)},off(l,r,a,d){if(typeof r!="string"||!l)return;const[v,b,D]=W(r,a,d),N=D!==r,j=Tt(l),Z=j[D]||{},tt=r.startsWith(".");if(b===void 0){if(tt)for(const K of Object.keys(j))et(l,j,K,r.slice(1));for(const[K,_t]of Object.entries(Z)){const ut=K.replace(ct,"");N&&!r.includes(ut)||G(l,j,D,_t.callable,_t.delegationSelector)}}else{if(!Object.keys(Z).length)return;G(l,j,D,b,v?a:null)}},trigger(l,r,a){if(typeof r!="string"||!l)return null;const d=z();let v=null,b=!0,D=!0,N=!1;r!==ot(r)&&d&&(v=d.Event(r,a),d(l).trigger(v),b=!v.isPropagationStopped(),D=!v.isImmediatePropagationStopped(),N=v.isDefaultPrevented());const j=mt(new Event(r,{bubbles:b,cancelable:!0}),a);return N&&j.preventDefault(),D&&l.dispatchEvent(j),j.defaultPrevented&&v&&v.preventDefault(),j}};function mt(l,r={}){for(const[a,d]of Object.entries(r))try{l[a]=d}catch{Object.defineProperty(l,a,{configurable:!0,get:()=>d})}return l}function yt(l){if(l==="true")return!0;if(l==="false")return!1;if(l===Number(l).toString())return Number(l);if(l===""||l==="null")return null;if(typeof l!="string")return l;try{return JSON.parse(decodeURIComponent(l))}catch{return l}}function X(l){return l.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const dt={setDataAttribute(l,r,a){l.setAttribute(`data-bs-${X(r)}`,a)},removeDataAttribute(l,r){l.removeAttribute(`data-bs-${X(r)}`)},getDataAttributes(l){if(!l)return{};const r={},a=Object.keys(l.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of a){let v=d.replace(/^bs/,"");v=v.charAt(0).toLowerCase()+v.slice(1,v.length),r[v]=yt(l.dataset[d])}return r},getDataAttribute:(l,r)=>yt(l.getAttribute(`data-bs-${X(r)}`))};class Dt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,a){const d=u(a)?dt.getDataAttribute(a,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...u(a)?dt.getDataAttributes(a):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,a=this.constructor.DefaultType){for(const[v,b]of Object.entries(a)){const D=r[v],N=u(D)?"element":(d=D)==null?`${d}`:Object.prototype.toString.call(d).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(b).test(N))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${N}" but expected type "${b}".`)}var d}}class lt extends Dt{constructor(r,a){super(),(r=f(r))&&(this._element=r,this._config=this._getConfig(a),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),w.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,a,d=!0){Y(r,a,d)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return i.get(f(r),this.DATA_KEY)}static getOrCreateInstance(r,a={}){return this.getInstance(r)||new this(r,typeof a=="object"?a:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const Ft=l=>{let r=l.getAttribute("data-bs-target");if(!r||r==="#"){let a=l.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),r=a&&a!=="#"?a.trim():null}return r?r.split(",").map(a=>s(a)).join(","):null},Q={find:(l,r=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(r,l)),findOne:(l,r=document.documentElement)=>Element.prototype.querySelector.call(r,l),children:(l,r)=>[].concat(...l.children).filter(a=>a.matches(r)),parents(l,r){const a=[];let d=l.parentNode.closest(r);for(;d;)a.push(d),d=d.parentNode.closest(r);return a},prev(l,r){let a=l.previousElementSibling;for(;a;){if(a.matches(r))return[a];a=a.previousElementSibling}return[]},next(l,r){let a=l.nextElementSibling;for(;a;){if(a.matches(r))return[a];a=a.nextElementSibling}return[]},focusableChildren(l){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(r,l).filter(a=>!h(a)&&p(a))},getSelectorFromElement(l){const r=Ft(l);return r&&Q.findOne(r)?r:null},getElementFromSelector(l){const r=Ft(l);return r?Q.findOne(r):null},getMultipleElementsFromSelector(l){const r=Ft(l);return r?Q.find(r):[]}},Qt=(l,r="hide")=>{const a=`click.dismiss${l.EVENT_KEY}`,d=l.NAME;w.on(document,a,`[data-bs-dismiss="${d}"]`,function(v){if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),h(this))return;const b=Q.getElementFromSelector(this)||this.closest(`.${d}`);l.getOrCreateInstance(b)[r]()})},pe=".bs.alert",Wt=`close${pe}`,fn=`closed${pe}`;class qt extends lt{static get NAME(){return"alert"}close(){if(w.trigger(this._element,Wt).defaultPrevented)return;this._element.classList.remove("show");const r=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),w.trigger(this._element,fn),this.dispose()}static jQueryInterface(r){return this.each(function(){const a=qt.getOrCreateInstance(this);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r](this)}})}}Qt(qt,"close"),k(qt);const qe='[data-bs-toggle="button"]';class Oe extends lt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(r){return this.each(function(){const a=Oe.getOrCreateInstance(this);r==="toggle"&&a[r]()})}}w.on(document,"click.bs.button.data-api",qe,l=>{l.preventDefault();const r=l.target.closest(qe);Oe.getOrCreateInstance(r).toggle()}),k(Oe);const Xt=".bs.swipe",Xe=`touchstart${Xt}`,dn=`touchmove${Xt}`,hn=`touchend${Xt}`,le=`pointerdown${Xt}`,ge=`pointerup${Xt}`,ze={endCallback:null,leftCallback:null,rightCallback:null},Ge={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class De extends Dt{constructor(r,a){super(),this._element=r,r&&De.isSupported()&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ze}static get DefaultType(){return Ge}static get NAME(){return"swipe"}dispose(){w.off(this._element,Xt)}_start(r){this._supportPointerEvents?this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX):this._deltaX=r.touches[0].clientX}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),F(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=40)return;const a=r/this._deltaX;this._deltaX=0,a&&F(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(w.on(this._element,le,r=>this._start(r)),w.on(this._element,ge,r=>this._end(r)),this._element.classList.add("pointer-event")):(w.on(this._element,Xe,r=>this._start(r)),w.on(this._element,dn,r=>this._move(r)),w.on(this._element,hn,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType==="pen"||r.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ne=".bs.carousel",pn=".data-api",Jt="next",me="prev",Je="left",Sn="right",Gn=`slide${ne}`,y=`slid${ne}`,x=`keydown${ne}`,g=`mouseenter${ne}`,C=`mouseleave${ne}`,P=`dragstart${ne}`,st=`load${ne}${pn}`,rt=`click${ne}${pn}`,it="carousel",H="active",U=".active",J=".carousel-item",q=U+J,gt={ArrowLeft:Sn,ArrowRight:Je},Ot={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},kt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class jt extends lt{constructor(r,a){super(r,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===it&&this.cycle()}static get Default(){return Ot}static get DefaultType(){return kt}static get NAME(){return"carousel"}next(){this._slide(Jt)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(me)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?w.one(this._element,y,()=>this.cycle()):this.cycle())}to(r){const a=this._getItems();if(r>a.length-1||r<0)return;if(this._isSliding)return void w.one(this._element,y,()=>this.to(r));const d=this._getItemIndex(this._getActive());if(d===r)return;const v=r>d?Jt:me;this._slide(v,a[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&w.on(this._element,x,r=>this._keydown(r)),this._config.pause==="hover"&&(w.on(this._element,g,()=>this.pause()),w.on(this._element,C,()=>this._maybeEnableCycle())),this._config.touch&&De.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const a of Q.find(".carousel-item img",this._element))w.on(a,P,d=>d.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(Je)),rightCallback:()=>this._slide(this._directionToOrder(Sn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new De(this._element,r)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const a=gt[r.key];a&&(r.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const a=Q.findOne(U,this._indicatorsElement);a.classList.remove(H),a.removeAttribute("aria-current");const d=Q.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);d&&(d.classList.add(H),d.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const a=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(r,a=null){if(this._isSliding)return;const d=this._getActive(),v=r===Jt,b=a||m(this._getItems(),d,v,this._config.wrap);if(b===d)return;const D=this._getItemIndex(b),N=K=>w.trigger(this._element,K,{relatedTarget:b,direction:this._orderToDirection(r),from:this._getItemIndex(d),to:D});if(N(Gn).defaultPrevented||!d||!b)return;const j=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(D),this._activeElement=b;const Z=v?"carousel-item-start":"carousel-item-end",tt=v?"carousel-item-next":"carousel-item-prev";b.classList.add(tt),T(b),d.classList.add(Z),b.classList.add(Z),this._queueCallback(()=>{b.classList.remove(Z,tt),b.classList.add(H),d.classList.remove(H,tt,Z),this._isSliding=!1,N(y)},d,this._isAnimated()),j&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Q.findOne(q,this._element)}_getItems(){return Q.find(J,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return L()?r===Je?me:Jt:r===Je?Jt:me}_orderToDirection(r){return L()?r===me?Je:Sn:r===me?Sn:Je}static jQueryInterface(r){return this.each(function(){const a=jt.getOrCreateInstance(this,r);if(typeof r!="number"){if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r]()}}else a.to(r)})}}w.on(document,rt,"[data-bs-slide], [data-bs-slide-to]",function(l){const r=Q.getElementFromSelector(this);if(!r||!r.classList.contains(it))return;l.preventDefault();const a=jt.getOrCreateInstance(r),d=this.getAttribute("data-bs-slide-to");return d?(a.to(d),void a._maybeEnableCycle()):dt.getDataAttribute(this,"slide")==="next"?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())}),w.on(window,st,()=>{const l=Q.find('[data-bs-ride="carousel"]');for(const r of l)jt.getOrCreateInstance(r)}),k(jt);const Le=".bs.collapse",On=`show${Le}`,Xo=`shown${Le}`,Bd=`hide${Le}`,Hd=`hidden${Le}`,Fd=`click${Le}.data-api`,Jo="show",vi="collapse",Ir="collapsing",zd=`:scope .${vi} .${vi}`,Zo='[data-bs-toggle="collapse"]',Gd={parent:null,toggle:!0},jd={parent:"(null|element)",toggle:"boolean"};class bi extends lt{constructor(r,a){super(r,a),this._isTransitioning=!1,this._triggerArray=[];const d=Q.find(Zo);for(const v of d){const b=Q.getSelectorFromElement(v),D=Q.find(b).filter(N=>N===this._element);b!==null&&D.length&&this._triggerArray.push(v)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Gd}static get DefaultType(){return jd}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(v=>v!==this._element).map(v=>bi.getOrCreateInstance(v,{toggle:!1}))),r.length&&r[0]._isTransitioning||w.trigger(this._element,On).defaultPrevented)return;for(const v of r)v.hide();const a=this._getDimension();this._element.classList.remove(vi),this._element.classList.add(Ir),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ir),this._element.classList.add(vi,Jo),this._element.style[a]="",w.trigger(this._element,Xo)},this._element,!0),this._element.style[a]=`${this._element[d]}px`}hide(){if(this._isTransitioning||!this._isShown()||w.trigger(this._element,Bd).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,T(this._element),this._element.classList.add(Ir),this._element.classList.remove(vi,Jo);for(const a of this._triggerArray){const d=Q.getElementFromSelector(a);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0,this._element.style[r]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ir),this._element.classList.add(vi),w.trigger(this._element,Hd)},this._element,!0)}_isShown(r=this._element){return r.classList.contains(Jo)}_configAfterMerge(r){return r.toggle=!!r.toggle,r.parent=f(r.parent),r}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(Zo);for(const a of r){const d=Q.getElementFromSelector(a);d&&this._addAriaAndCollapsedClass([a],this._isShown(d))}}_getFirstLevelChildren(r){const a=Q.find(zd,this._config.parent);return Q.find(r,this._config.parent).filter(d=>!a.includes(d))}_addAriaAndCollapsedClass(r,a){if(r.length)for(const d of r)d.classList.toggle("collapsed",!a),d.setAttribute("aria-expanded",a)}static jQueryInterface(r){const a={};return typeof r=="string"&&/show|hide/.test(r)&&(a.toggle=!1),this.each(function(){const d=bi.getOrCreateInstance(this,a);if(typeof r=="string"){if(d[r]===void 0)throw new TypeError(`No method named "${r}"`);d[r]()}})}}w.on(document,Fd,Zo,function(l){(l.target.tagName==="A"||l.delegateTarget&&l.delegateTarget.tagName==="A")&&l.preventDefault();for(const r of Q.getMultipleElementsFromSelector(this))bi.getOrCreateInstance(r,{toggle:!1}).toggle()}),k(bi);var ie="top",_e="bottom",ve="right",re="left",$r="auto",yi=[ie,_e,ve,re],jn="start",Ai="end",Xa="clippingParents",ts="viewport",wi="popper",Ja="reference",es=yi.reduce(function(l,r){return l.concat([r+"-"+jn,r+"-"+Ai])},[]),ns=[].concat(yi,[$r]).reduce(function(l,r){return l.concat([r,r+"-"+jn,r+"-"+Ai])},[]),Za="beforeRead",tc="read",ec="afterRead",nc="beforeMain",ic="main",rc="afterMain",oc="beforeWrite",sc="write",ac="afterWrite",cc=[Za,tc,ec,nc,ic,rc,oc,sc,ac];function Ze(l){return l?(l.nodeName||"").toLowerCase():null}function be(l){if(l==null)return window;if(l.toString()!=="[object Window]"){var r=l.ownerDocument;return r&&r.defaultView||window}return l}function Wn(l){return l instanceof be(l).Element||l instanceof Element}function ke(l){return l instanceof be(l).HTMLElement||l instanceof HTMLElement}function is(l){return typeof ShadowRoot<"u"&&(l instanceof be(l).ShadowRoot||l instanceof ShadowRoot)}const rs={name:"applyStyles",enabled:!0,phase:"write",fn:function(l){var r=l.state;Object.keys(r.elements).forEach(function(a){var d=r.styles[a]||{},v=r.attributes[a]||{},b=r.elements[a];ke(b)&&Ze(b)&&(Object.assign(b.style,d),Object.keys(v).forEach(function(D){var N=v[D];N===!1?b.removeAttribute(D):b.setAttribute(D,N===!0?"":N)}))})},effect:function(l){var r=l.state,a={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,a.popper),r.styles=a,r.elements.arrow&&Object.assign(r.elements.arrow.style,a.arrow),function(){Object.keys(r.elements).forEach(function(d){var v=r.elements[d],b=r.attributes[d]||{},D=Object.keys(r.styles.hasOwnProperty(d)?r.styles[d]:a[d]).reduce(function(N,j){return N[j]="",N},{});ke(v)&&Ze(v)&&(Object.assign(v.style,D),Object.keys(b).forEach(function(N){v.removeAttribute(N)}))})}},requires:["computeStyles"]};function tn(l){return l.split("-")[0]}var Vn=Math.max,Pr=Math.min,Ei=Math.round;function os(){var l=navigator.userAgentData;return l!=null&&l.brands&&Array.isArray(l.brands)?l.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function lc(){return!/^((?!chrome|android).)*safari/i.test(os())}function xi(l,r,a){r===void 0&&(r=!1),a===void 0&&(a=!1);var d=l.getBoundingClientRect(),v=1,b=1;r&&ke(l)&&(v=l.offsetWidth>0&&Ei(d.width)/l.offsetWidth||1,b=l.offsetHeight>0&&Ei(d.height)/l.offsetHeight||1);var D=(Wn(l)?be(l):window).visualViewport,N=!lc()&&a,j=(d.left+(N&&D?D.offsetLeft:0))/v,Z=(d.top+(N&&D?D.offsetTop:0))/b,tt=d.width/v,K=d.height/b;return{width:tt,height:K,top:Z,right:j+tt,bottom:Z+K,left:j,x:j,y:Z}}function ss(l){var r=xi(l),a=l.offsetWidth,d=l.offsetHeight;return Math.abs(r.width-a)<=1&&(a=r.width),Math.abs(r.height-d)<=1&&(d=r.height),{x:l.offsetLeft,y:l.offsetTop,width:a,height:d}}function uc(l,r){var a=r.getRootNode&&r.getRootNode();if(l.contains(r))return!0;if(a&&is(a)){var d=r;do{if(d&&l.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function gn(l){return be(l).getComputedStyle(l)}function Wd(l){return["table","td","th"].indexOf(Ze(l))>=0}function Dn(l){return((Wn(l)?l.ownerDocument:l.document)||window.document).documentElement}function Rr(l){return Ze(l)==="html"?l:l.assignedSlot||l.parentNode||(is(l)?l.host:null)||Dn(l)}function fc(l){return ke(l)&&gn(l).position!=="fixed"?l.offsetParent:null}function rr(l){for(var r=be(l),a=fc(l);a&&Wd(a)&&gn(a).position==="static";)a=fc(a);return a&&(Ze(a)==="html"||Ze(a)==="body"&&gn(a).position==="static")?r:a||function(d){var v=/firefox/i.test(os());if(/Trident/i.test(os())&&ke(d)&&gn(d).position==="fixed")return null;var b=Rr(d);for(is(b)&&(b=b.host);ke(b)&&["html","body"].indexOf(Ze(b))<0;){var D=gn(b);if(D.transform!=="none"||D.perspective!=="none"||D.contain==="paint"||["transform","perspective"].indexOf(D.willChange)!==-1||v&&D.willChange==="filter"||v&&D.filter&&D.filter!=="none")return b;b=b.parentNode}return null}(l)||r}function as(l){return["top","bottom"].indexOf(l)>=0?"x":"y"}function or(l,r,a){return Vn(l,Pr(r,a))}function dc(l){return Object.assign({},{top:0,right:0,bottom:0,left:0},l)}function hc(l,r){return r.reduce(function(a,d){return a[d]=l,a},{})}const pc={name:"arrow",enabled:!0,phase:"main",fn:function(l){var r,a=l.state,d=l.name,v=l.options,b=a.elements.arrow,D=a.modifiersData.popperOffsets,N=tn(a.placement),j=as(N),Z=[re,ve].indexOf(N)>=0?"height":"width";if(b&&D){var tt=function(Pt,Nt){return dc(typeof(Pt=typeof Pt=="function"?Pt(Object.assign({},Nt.rects,{placement:Nt.placement})):Pt)!="number"?Pt:hc(Pt,yi))}(v.padding,a),K=ss(b),_t=j==="y"?ie:re,ut=j==="y"?_e:ve,ht=a.rects.reference[Z]+a.rects.reference[j]-D[j]-a.rects.popper[Z],ft=D[j]-a.rects.reference[j],pt=rr(b),$t=pt?j==="y"?pt.clientHeight||0:pt.clientWidth||0:0,Ht=ht/2-ft/2,At=tt[_t],Lt=$t-K[Z]-tt[ut],vt=$t/2-K[Z]/2+Ht,xt=or(At,vt,Lt),Mt=j;a.modifiersData[d]=((r={})[Mt]=xt,r.centerOffset=xt-vt,r)}},effect:function(l){var r=l.state,a=l.options.element,d=a===void 0?"[data-popper-arrow]":a;d!=null&&(typeof d!="string"||(d=r.elements.popper.querySelector(d)))&&uc(r.elements.popper,d)&&(r.elements.arrow=d)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ti(l){return l.split("-")[1]}var Vd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gc(l){var r,a=l.popper,d=l.popperRect,v=l.placement,b=l.variation,D=l.offsets,N=l.position,j=l.gpuAcceleration,Z=l.adaptive,tt=l.roundOffsets,K=l.isFixed,_t=D.x,ut=_t===void 0?0:_t,ht=D.y,ft=ht===void 0?0:ht,pt=typeof tt=="function"?tt({x:ut,y:ft}):{x:ut,y:ft};ut=pt.x,ft=pt.y;var $t=D.hasOwnProperty("x"),Ht=D.hasOwnProperty("y"),At=re,Lt=ie,vt=window;if(Z){var xt=rr(a),Mt="clientHeight",Pt="clientWidth";xt===be(a)&&gn(xt=Dn(a)).position!=="static"&&N==="absolute"&&(Mt="scrollHeight",Pt="scrollWidth"),(v===ie||(v===re||v===ve)&&b===Ai)&&(Lt=_e,ft-=(K&&xt===vt&&vt.visualViewport?vt.visualViewport.height:xt[Mt])-d.height,ft*=j?1:-1),v!==re&&(v!==ie&&v!==_e||b!==Ai)||(At=ve,ut-=(K&&xt===vt&&vt.visualViewport?vt.visualViewport.width:xt[Pt])-d.width,ut*=j?1:-1)}var Nt,Gt=Object.assign({position:N},Z&&Vd),ye=tt===!0?function(We,oe){var Ne=We.x,Ie=We.y,zt=oe.devicePixelRatio||1;return{x:Ei(Ne*zt)/zt||0,y:Ei(Ie*zt)/zt||0}}({x:ut,y:ft},be(a)):{x:ut,y:ft};return ut=ye.x,ft=ye.y,j?Object.assign({},Gt,((Nt={})[Lt]=Ht?"0":"",Nt[At]=$t?"0":"",Nt.transform=(vt.devicePixelRatio||1)<=1?"translate("+ut+"px, "+ft+"px)":"translate3d("+ut+"px, "+ft+"px, 0)",Nt)):Object.assign({},Gt,((r={})[Lt]=Ht?ft+"px":"",r[At]=$t?ut+"px":"",r.transform="",r))}const cs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(l){var r=l.state,a=l.options,d=a.gpuAcceleration,v=d===void 0||d,b=a.adaptive,D=b===void 0||b,N=a.roundOffsets,j=N===void 0||N,Z={placement:tn(r.placement),variation:Ti(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:v,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,gc(Object.assign({},Z,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:D,roundOffsets:j})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,gc(Object.assign({},Z,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:j})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})},data:{}};var Br={passive:!0};const ls={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(l){var r=l.state,a=l.instance,d=l.options,v=d.scroll,b=v===void 0||v,D=d.resize,N=D===void 0||D,j=be(r.elements.popper),Z=[].concat(r.scrollParents.reference,r.scrollParents.popper);return b&&Z.forEach(function(tt){tt.addEventListener("scroll",a.update,Br)}),N&&j.addEventListener("resize",a.update,Br),function(){b&&Z.forEach(function(tt){tt.removeEventListener("scroll",a.update,Br)}),N&&j.removeEventListener("resize",a.update,Br)}},data:{}};var Ud={left:"right",right:"left",bottom:"top",top:"bottom"};function Hr(l){return l.replace(/left|right|bottom|top/g,function(r){return Ud[r]})}var Qd={start:"end",end:"start"};function mc(l){return l.replace(/start|end/g,function(r){return Qd[r]})}function us(l){var r=be(l);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function fs(l){return xi(Dn(l)).left+us(l).scrollLeft}function ds(l){var r=gn(l),a=r.overflow,d=r.overflowX,v=r.overflowY;return/auto|scroll|overlay|hidden/.test(a+v+d)}function _c(l){return["html","body","#document"].indexOf(Ze(l))>=0?l.ownerDocument.body:ke(l)&&ds(l)?l:_c(Rr(l))}function sr(l,r){var a;r===void 0&&(r=[]);var d=_c(l),v=d===((a=l.ownerDocument)==null?void 0:a.body),b=be(d),D=v?[b].concat(b.visualViewport||[],ds(d)?d:[]):d,N=r.concat(D);return v?N:N.concat(sr(Rr(D)))}function hs(l){return Object.assign({},l,{left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height})}function vc(l,r,a){return r===ts?hs(function(d,v){var b=be(d),D=Dn(d),N=b.visualViewport,j=D.clientWidth,Z=D.clientHeight,tt=0,K=0;if(N){j=N.width,Z=N.height;var _t=lc();(_t||!_t&&v==="fixed")&&(tt=N.offsetLeft,K=N.offsetTop)}return{width:j,height:Z,x:tt+fs(d),y:K}}(l,a)):Wn(r)?function(d,v){var b=xi(d,!1,v==="fixed");return b.top=b.top+d.clientTop,b.left=b.left+d.clientLeft,b.bottom=b.top+d.clientHeight,b.right=b.left+d.clientWidth,b.width=d.clientWidth,b.height=d.clientHeight,b.x=b.left,b.y=b.top,b}(r,a):hs(function(d){var v,b=Dn(d),D=us(d),N=(v=d.ownerDocument)==null?void 0:v.body,j=Vn(b.scrollWidth,b.clientWidth,N?N.scrollWidth:0,N?N.clientWidth:0),Z=Vn(b.scrollHeight,b.clientHeight,N?N.scrollHeight:0,N?N.clientHeight:0),tt=-D.scrollLeft+fs(d),K=-D.scrollTop;return gn(N||b).direction==="rtl"&&(tt+=Vn(b.clientWidth,N?N.clientWidth:0)-j),{width:j,height:Z,x:tt,y:K}}(Dn(l)))}function bc(l){var r,a=l.reference,d=l.element,v=l.placement,b=v?tn(v):null,D=v?Ti(v):null,N=a.x+a.width/2-d.width/2,j=a.y+a.height/2-d.height/2;switch(b){case ie:r={x:N,y:a.y-d.height};break;case _e:r={x:N,y:a.y+a.height};break;case ve:r={x:a.x+a.width,y:j};break;case re:r={x:a.x-d.width,y:j};break;default:r={x:a.x,y:a.y}}var Z=b?as(b):null;if(Z!=null){var tt=Z==="y"?"height":"width";switch(D){case jn:r[Z]=r[Z]-(a[tt]/2-d[tt]/2);break;case Ai:r[Z]=r[Z]+(a[tt]/2-d[tt]/2)}}return r}function Ci(l,r){r===void 0&&(r={});var a=r,d=a.placement,v=d===void 0?l.placement:d,b=a.strategy,D=b===void 0?l.strategy:b,N=a.boundary,j=N===void 0?Xa:N,Z=a.rootBoundary,tt=Z===void 0?ts:Z,K=a.elementContext,_t=K===void 0?wi:K,ut=a.altBoundary,ht=ut!==void 0&&ut,ft=a.padding,pt=ft===void 0?0:ft,$t=dc(typeof pt!="number"?pt:hc(pt,yi)),Ht=_t===wi?Ja:wi,At=l.rects.popper,Lt=l.elements[ht?Ht:_t],vt=function(oe,Ne,Ie,zt){var en=Ne==="clippingParents"?function(Bt){var se=sr(Rr(Bt)),$e=["absolute","fixed"].indexOf(gn(Bt).position)>=0&&ke(Bt)?rr(Bt):Bt;return Wn($e)?se.filter(function(kn){return Wn(kn)&&uc(kn,$e)&&Ze(kn)!=="body"}):[]}(oe):[].concat(Ne),nn=[].concat(en,[Ie]),Di=nn[0],Kt=nn.reduce(function(Bt,se){var $e=vc(oe,se,zt);return Bt.top=Vn($e.top,Bt.top),Bt.right=Pr($e.right,Bt.right),Bt.bottom=Pr($e.bottom,Bt.bottom),Bt.left=Vn($e.left,Bt.left),Bt},vc(oe,Di,zt));return Kt.width=Kt.right-Kt.left,Kt.height=Kt.bottom-Kt.top,Kt.x=Kt.left,Kt.y=Kt.top,Kt}(Wn(Lt)?Lt:Lt.contextElement||Dn(l.elements.popper),j,tt,D),xt=xi(l.elements.reference),Mt=bc({reference:xt,element:At,placement:v}),Pt=hs(Object.assign({},At,Mt)),Nt=_t===wi?Pt:xt,Gt={top:vt.top-Nt.top+$t.top,bottom:Nt.bottom-vt.bottom+$t.bottom,left:vt.left-Nt.left+$t.left,right:Nt.right-vt.right+$t.right},ye=l.modifiersData.offset;if(_t===wi&&ye){var We=ye[v];Object.keys(Gt).forEach(function(oe){var Ne=[ve,_e].indexOf(oe)>=0?1:-1,Ie=[ie,_e].indexOf(oe)>=0?"y":"x";Gt[oe]+=We[Ie]*Ne})}return Gt}function Kd(l,r){r===void 0&&(r={});var a=r,d=a.placement,v=a.boundary,b=a.rootBoundary,D=a.padding,N=a.flipVariations,j=a.allowedAutoPlacements,Z=j===void 0?ns:j,tt=Ti(d),K=tt?N?es:es.filter(function(ht){return Ti(ht)===tt}):yi,_t=K.filter(function(ht){return Z.indexOf(ht)>=0});_t.length===0&&(_t=K);var ut=_t.reduce(function(ht,ft){return ht[ft]=Ci(l,{placement:ft,boundary:v,rootBoundary:b,padding:D})[tn(ft)],ht},{});return Object.keys(ut).sort(function(ht,ft){return ut[ht]-ut[ft]})}const yc={name:"flip",enabled:!0,phase:"main",fn:function(l){var r=l.state,a=l.options,d=l.name;if(!r.modifiersData[d]._skip){for(var v=a.mainAxis,b=v===void 0||v,D=a.altAxis,N=D===void 0||D,j=a.fallbackPlacements,Z=a.padding,tt=a.boundary,K=a.rootBoundary,_t=a.altBoundary,ut=a.flipVariations,ht=ut===void 0||ut,ft=a.allowedAutoPlacements,pt=r.options.placement,$t=tn(pt),Ht=j||($t!==pt&&ht?function(Bt){if(tn(Bt)===$r)return[];var se=Hr(Bt);return[mc(Bt),se,mc(se)]}(pt):[Hr(pt)]),At=[pt].concat(Ht).reduce(function(Bt,se){return Bt.concat(tn(se)===$r?Kd(r,{placement:se,boundary:tt,rootBoundary:K,padding:Z,flipVariations:ht,allowedAutoPlacements:ft}):se)},[]),Lt=r.rects.reference,vt=r.rects.popper,xt=new Map,Mt=!0,Pt=At[0],Nt=0;Nt<At.length;Nt++){var Gt=At[Nt],ye=tn(Gt),We=Ti(Gt)===jn,oe=[ie,_e].indexOf(ye)>=0,Ne=oe?"width":"height",Ie=Ci(r,{placement:Gt,boundary:tt,rootBoundary:K,altBoundary:_t,padding:Z}),zt=oe?We?ve:re:We?_e:ie;Lt[Ne]>vt[Ne]&&(zt=Hr(zt));var en=Hr(zt),nn=[];if(b&&nn.push(Ie[ye]<=0),N&&nn.push(Ie[zt]<=0,Ie[en]<=0),nn.every(function(Bt){return Bt})){Pt=Gt,Mt=!1;break}xt.set(Gt,nn)}if(Mt)for(var Di=function(Bt){var se=At.find(function($e){var kn=xt.get($e);if(kn)return kn.slice(0,Bt).every(function(Kr){return Kr})});if(se)return Pt=se,"break"},Kt=ht?3:1;Kt>0&&Di(Kt)!=="break";Kt--);r.placement!==Pt&&(r.modifiersData[d]._skip=!0,r.placement=Pt,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ac(l,r,a){return a===void 0&&(a={x:0,y:0}),{top:l.top-r.height-a.y,right:l.right-r.width+a.x,bottom:l.bottom-r.height+a.y,left:l.left-r.width-a.x}}function wc(l){return[ie,ve,_e,re].some(function(r){return l[r]>=0})}const Ec={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(l){var r=l.state,a=l.name,d=r.rects.reference,v=r.rects.popper,b=r.modifiersData.preventOverflow,D=Ci(r,{elementContext:"reference"}),N=Ci(r,{altBoundary:!0}),j=Ac(D,d),Z=Ac(N,v,b),tt=wc(j),K=wc(Z);r.modifiersData[a]={referenceClippingOffsets:j,popperEscapeOffsets:Z,isReferenceHidden:tt,hasPopperEscaped:K},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":tt,"data-popper-escaped":K})}},xc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(l){var r=l.state,a=l.options,d=l.name,v=a.offset,b=v===void 0?[0,0]:v,D=ns.reduce(function(tt,K){return tt[K]=function(_t,ut,ht){var ft=tn(_t),pt=[re,ie].indexOf(ft)>=0?-1:1,$t=typeof ht=="function"?ht(Object.assign({},ut,{placement:_t})):ht,Ht=$t[0],At=$t[1];return Ht=Ht||0,At=(At||0)*pt,[re,ve].indexOf(ft)>=0?{x:At,y:Ht}:{x:Ht,y:At}}(K,r.rects,b),tt},{}),N=D[r.placement],j=N.x,Z=N.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=j,r.modifiersData.popperOffsets.y+=Z),r.modifiersData[d]=D}},ps={name:"popperOffsets",enabled:!0,phase:"read",fn:function(l){var r=l.state,a=l.name;r.modifiersData[a]=bc({reference:r.rects.reference,element:r.rects.popper,placement:r.placement})},data:{}},Tc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(l){var r=l.state,a=l.options,d=l.name,v=a.mainAxis,b=v===void 0||v,D=a.altAxis,N=D!==void 0&&D,j=a.boundary,Z=a.rootBoundary,tt=a.altBoundary,K=a.padding,_t=a.tether,ut=_t===void 0||_t,ht=a.tetherOffset,ft=ht===void 0?0:ht,pt=Ci(r,{boundary:j,rootBoundary:Z,padding:K,altBoundary:tt}),$t=tn(r.placement),Ht=Ti(r.placement),At=!Ht,Lt=as($t),vt=Lt==="x"?"y":"x",xt=r.modifiersData.popperOffsets,Mt=r.rects.reference,Pt=r.rects.popper,Nt=typeof ft=="function"?ft(Object.assign({},r.rects,{placement:r.placement})):ft,Gt=typeof Nt=="number"?{mainAxis:Nt,altAxis:Nt}:Object.assign({mainAxis:0,altAxis:0},Nt),ye=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,We={x:0,y:0};if(xt){if(b){var oe,Ne=Lt==="y"?ie:re,Ie=Lt==="y"?_e:ve,zt=Lt==="y"?"height":"width",en=xt[Lt],nn=en+pt[Ne],Di=en-pt[Ie],Kt=ut?-Pt[zt]/2:0,Bt=Ht===jn?Mt[zt]:Pt[zt],se=Ht===jn?-Pt[zt]:-Mt[zt],$e=r.elements.arrow,kn=ut&&$e?ss($e):{width:0,height:0},Kr=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},fl=Kr[Ne],dl=Kr[Ie],Yr=or(0,Mt[zt],kn[zt]),Ep=At?Mt[zt]/2-Kt-Yr-fl-Gt.mainAxis:Bt-Yr-fl-Gt.mainAxis,xp=At?-Mt[zt]/2+Kt+Yr+dl+Gt.mainAxis:se+Yr+dl+Gt.mainAxis,Ss=r.elements.arrow&&rr(r.elements.arrow),Tp=Ss?Lt==="y"?Ss.clientTop||0:Ss.clientLeft||0:0,hl=(oe=ye==null?void 0:ye[Lt])!=null?oe:0,Cp=en+xp-hl,pl=or(ut?Pr(nn,en+Ep-hl-Tp):nn,en,ut?Vn(Di,Cp):Di);xt[Lt]=pl,We[Lt]=pl-en}if(N){var gl,Sp=Lt==="x"?ie:re,Op=Lt==="x"?_e:ve,Zn=xt[vt],qr=vt==="y"?"height":"width",ml=Zn+pt[Sp],_l=Zn-pt[Op],Os=[ie,re].indexOf($t)!==-1,vl=(gl=ye==null?void 0:ye[vt])!=null?gl:0,bl=Os?ml:Zn-Mt[qr]-Pt[qr]-vl+Gt.altAxis,yl=Os?Zn+Mt[qr]+Pt[qr]-vl-Gt.altAxis:_l,Al=ut&&Os?function(Dp,Lp,Ds){var wl=or(Dp,Lp,Ds);return wl>Ds?Ds:wl}(bl,Zn,yl):or(ut?bl:ml,Zn,ut?yl:_l);xt[vt]=Al,We[vt]=Al-Zn}r.modifiersData[d]=We}},requiresIfExists:["offset"]};function Yd(l,r,a){a===void 0&&(a=!1);var d,v,b=ke(r),D=ke(r)&&function(K){var _t=K.getBoundingClientRect(),ut=Ei(_t.width)/K.offsetWidth||1,ht=Ei(_t.height)/K.offsetHeight||1;return ut!==1||ht!==1}(r),N=Dn(r),j=xi(l,D,a),Z={scrollLeft:0,scrollTop:0},tt={x:0,y:0};return(b||!b&&!a)&&((Ze(r)!=="body"||ds(N))&&(Z=(d=r)!==be(d)&&ke(d)?{scrollLeft:(v=d).scrollLeft,scrollTop:v.scrollTop}:us(d)),ke(r)?((tt=xi(r,!0)).x+=r.clientLeft,tt.y+=r.clientTop):N&&(tt.x=fs(N))),{x:j.left+Z.scrollLeft-tt.x,y:j.top+Z.scrollTop-tt.y,width:j.width,height:j.height}}function qd(l){var r=new Map,a=new Set,d=[];function v(b){a.add(b.name),[].concat(b.requires||[],b.requiresIfExists||[]).forEach(function(D){if(!a.has(D)){var N=r.get(D);N&&v(N)}}),d.push(b)}return l.forEach(function(b){r.set(b.name,b)}),l.forEach(function(b){a.has(b.name)||v(b)}),d}var Cc={placement:"bottom",modifiers:[],strategy:"absolute"};function Sc(){for(var l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return!r.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function Fr(l){l===void 0&&(l={});var r=l,a=r.defaultModifiers,d=a===void 0?[]:a,v=r.defaultOptions,b=v===void 0?Cc:v;return function(D,N,j){j===void 0&&(j=b);var Z,tt,K={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cc,b),modifiersData:{},elements:{reference:D,popper:N},attributes:{},styles:{}},_t=[],ut=!1,ht={state:K,setOptions:function(pt){var $t=typeof pt=="function"?pt(K.options):pt;ft(),K.options=Object.assign({},b,K.options,$t),K.scrollParents={reference:Wn(D)?sr(D):D.contextElement?sr(D.contextElement):[],popper:sr(N)};var Ht,At,Lt=function(vt){var xt=qd(vt);return cc.reduce(function(Mt,Pt){return Mt.concat(xt.filter(function(Nt){return Nt.phase===Pt}))},[])}((Ht=[].concat(d,K.options.modifiers),At=Ht.reduce(function(vt,xt){var Mt=vt[xt.name];return vt[xt.name]=Mt?Object.assign({},Mt,xt,{options:Object.assign({},Mt.options,xt.options),data:Object.assign({},Mt.data,xt.data)}):xt,vt},{}),Object.keys(At).map(function(vt){return At[vt]})));return K.orderedModifiers=Lt.filter(function(vt){return vt.enabled}),K.orderedModifiers.forEach(function(vt){var xt=vt.name,Mt=vt.options,Pt=Mt===void 0?{}:Mt,Nt=vt.effect;if(typeof Nt=="function"){var Gt=Nt({state:K,name:xt,instance:ht,options:Pt});_t.push(Gt||function(){})}}),ht.update()},forceUpdate:function(){if(!ut){var pt=K.elements,$t=pt.reference,Ht=pt.popper;if(Sc($t,Ht)){K.rects={reference:Yd($t,rr(Ht),K.options.strategy==="fixed"),popper:ss(Ht)},K.reset=!1,K.placement=K.options.placement,K.orderedModifiers.forEach(function(Nt){return K.modifiersData[Nt.name]=Object.assign({},Nt.data)});for(var At=0;At<K.orderedModifiers.length;At++)if(K.reset!==!0){var Lt=K.orderedModifiers[At],vt=Lt.fn,xt=Lt.options,Mt=xt===void 0?{}:xt,Pt=Lt.name;typeof vt=="function"&&(K=vt({state:K,options:Mt,name:Pt,instance:ht})||K)}else K.reset=!1,At=-1}}},update:(Z=function(){return new Promise(function(pt){ht.forceUpdate(),pt(K)})},function(){return tt||(tt=new Promise(function(pt){Promise.resolve().then(function(){tt=void 0,pt(Z())})})),tt}),destroy:function(){ft(),ut=!0}};if(!Sc(D,N))return ht;function ft(){_t.forEach(function(pt){return pt()}),_t=[]}return ht.setOptions(j).then(function(pt){!ut&&j.onFirstUpdate&&j.onFirstUpdate(pt)}),ht}}var Xd=Fr(),Jd=Fr({defaultModifiers:[ls,ps,cs,rs]}),gs=Fr({defaultModifiers:[ls,ps,cs,rs,xc,yc,Tc,pc,Ec]});const Oc=Object.freeze(Object.defineProperty({__proto__:null,afterMain:rc,afterRead:ec,afterWrite:ac,applyStyles:rs,arrow:pc,auto:$r,basePlacements:yi,beforeMain:nc,beforeRead:Za,beforeWrite:oc,bottom:_e,clippingParents:Xa,computeStyles:cs,createPopper:gs,createPopperBase:Xd,createPopperLite:Jd,detectOverflow:Ci,end:Ai,eventListeners:ls,flip:yc,hide:Ec,left:re,main:ic,modifierPhases:cc,offset:xc,placements:ns,popper:wi,popperGenerator:Fr,popperOffsets:ps,preventOverflow:Tc,read:tc,reference:Ja,right:ve,start:jn,top:ie,variationPlacements:es,viewport:ts,write:sc},Symbol.toStringTag,{value:"Module"})),Dc="dropdown",Un=".bs.dropdown",ms=".data-api",Zd="ArrowUp",Lc="ArrowDown",th=`hide${Un}`,eh=`hidden${Un}`,nh=`show${Un}`,ih=`shown${Un}`,kc=`click${Un}${ms}`,Mc=`keydown${Un}${ms}`,rh=`keyup${Un}${ms}`,Si="show",Qn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',oh=`${Qn}.${Si}`,zr=".dropdown-menu",sh=L()?"top-end":"top-start",ah=L()?"top-start":"top-end",ch=L()?"bottom-end":"bottom-start",lh=L()?"bottom-start":"bottom-end",uh=L()?"left-start":"right-start",fh=L()?"right-start":"left-start",dh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},hh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class je extends lt{constructor(r,a){super(r,a),this._popper=null,this._parent=this._element.parentNode,this._menu=Q.next(this._element,zr)[0]||Q.prev(this._element,zr)[0]||Q.findOne(zr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return dh}static get DefaultType(){return hh}static get NAME(){return Dc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!w.trigger(this._element,nh,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const a of[].concat(...document.body.children))w.on(a,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Si),this._element.classList.add(Si),w.trigger(this._element,ih,r)}}hide(){if(h(this._element)||!this._isShown())return;const r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!w.trigger(this._element,th,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))w.off(a,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Si),this._element.classList.remove(Si),this._element.setAttribute("aria-expanded","false"),dt.removeDataAttribute(this._menu,"popper"),w.trigger(this._element,eh,r)}}_getConfig(r){if(typeof(r=super._getConfig(r)).reference=="object"&&!u(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${Dc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(Oc===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:u(this._config.reference)?r=f(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);const a=this._getPopperConfig();this._popper=gs(r,this._menu,a)}_isShown(){return this._menu.classList.contains(Si)}_getPlacement(){const r=this._parent;if(r.classList.contains("dropend"))return uh;if(r.classList.contains("dropstart"))return fh;if(r.classList.contains("dropup-center"))return"top";if(r.classList.contains("dropdown-center"))return"bottom";const a=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains("dropup")?a?ah:sh:a?lh:ch}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(a=>Number.parseInt(a,10)):typeof r=="function"?a=>r(a,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(dt.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...F(this._config.popperConfig,[r])}}_selectMenuItem({key:r,target:a}){const d=Q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(v=>p(v));d.length&&m(d,a,r===Lc,!d.includes(a)).focus()}static jQueryInterface(r){return this.each(function(){const a=je.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r]()}})}static clearMenus(r){if(r.button===2||r.type==="keyup"&&r.key!=="Tab")return;const a=Q.find(oh);for(const d of a){const v=je.getInstance(d);if(!v||v._config.autoClose===!1)continue;const b=r.composedPath(),D=b.includes(v._menu);if(b.includes(v._element)||v._config.autoClose==="inside"&&!D||v._config.autoClose==="outside"&&D||v._menu.contains(r.target)&&(r.type==="keyup"&&r.key==="Tab"||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const N={relatedTarget:v._element};r.type==="click"&&(N.clickEvent=r),v._completeHide(N)}}static dataApiKeydownHandler(r){const a=/input|textarea/i.test(r.target.tagName),d=r.key==="Escape",v=[Zd,Lc].includes(r.key);if(!v&&!d||a&&!d)return;r.preventDefault();const b=this.matches(Qn)?this:Q.prev(this,Qn)[0]||Q.next(this,Qn)[0]||Q.findOne(Qn,r.delegateTarget.parentNode),D=je.getOrCreateInstance(b);if(v)return r.stopPropagation(),D.show(),void D._selectMenuItem(r);D._isShown()&&(r.stopPropagation(),D.hide(),b.focus())}}w.on(document,Mc,Qn,je.dataApiKeydownHandler),w.on(document,Mc,zr,je.dataApiKeydownHandler),w.on(document,kc,je.clearMenus),w.on(document,rh,je.clearMenus),w.on(document,kc,Qn,function(l){l.preventDefault(),je.getOrCreateInstance(this).toggle()}),k(je);const Nc="backdrop",Ic="show",$c=`mousedown.bs.${Nc}`,ph={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},gh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Pc extends Dt{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return ph}static get DefaultType(){return gh}static get NAME(){return Nc}show(r){if(!this._config.isVisible)return void F(r);this._append();const a=this._getElement();this._config.isAnimated&&T(a),a.classList.add(Ic),this._emulateAnimation(()=>{F(r)})}hide(r){this._config.isVisible?(this._getElement().classList.remove(Ic),this._emulateAnimation(()=>{this.dispose(),F(r)})):F(r)}dispose(){this._isAppended&&(w.off(this._element,$c),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add("fade"),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=f(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),w.on(r,$c,()=>{F(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){Y(r,this._getElement(),this._config.isAnimated)}}const Gr=".bs.focustrap",mh=`focusin${Gr}`,_h=`keydown.tab${Gr}`,Rc="backward",vh={autofocus:!0,trapElement:null},bh={autofocus:"boolean",trapElement:"element"};class Bc extends Dt{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return vh}static get DefaultType(){return bh}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),w.off(document,Gr),w.on(document,mh,r=>this._handleFocusin(r)),w.on(document,_h,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,w.off(document,Gr))}_handleFocusin(r){const{trapElement:a}=this._config;if(r.target===document||r.target===a||a.contains(r.target))return;const d=Q.focusableChildren(a);d.length===0?a.focus():this._lastTabNavDirection===Rc?d[d.length-1].focus():d[0].focus()}_handleKeydown(r){r.key==="Tab"&&(this._lastTabNavDirection=r.shiftKey?Rc:"forward")}}const Hc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Fc=".sticky-top",jr="padding-right",zc="margin-right";class _s{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,jr,a=>a+r),this._setElementAttributes(Hc,jr,a=>a+r),this._setElementAttributes(Fc,zc,a=>a-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,jr),this._resetElementAttributes(Hc,jr),this._resetElementAttributes(Fc,zc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,a,d){const v=this.getWidth();this._applyManipulationCallback(r,b=>{if(b!==this._element&&window.innerWidth>b.clientWidth+v)return;this._saveInitialAttribute(b,a);const D=window.getComputedStyle(b).getPropertyValue(a);b.style.setProperty(a,`${d(Number.parseFloat(D))}px`)})}_saveInitialAttribute(r,a){const d=r.style.getPropertyValue(a);d&&dt.setDataAttribute(r,a,d)}_resetElementAttributes(r,a){this._applyManipulationCallback(r,d=>{const v=dt.getDataAttribute(d,a);v!==null?(dt.removeDataAttribute(d,a),d.style.setProperty(a,v)):d.style.removeProperty(a)})}_applyManipulationCallback(r,a){if(u(r))a(r);else for(const d of Q.find(r,this._element))a(d)}}const Me=".bs.modal",yh=`hide${Me}`,Ah=`hidePrevented${Me}`,Gc=`hidden${Me}`,jc=`show${Me}`,wh=`shown${Me}`,Eh=`resize${Me}`,xh=`click.dismiss${Me}`,Th=`mousedown.dismiss${Me}`,Ch=`keydown.dismiss${Me}`,Sh=`click${Me}.data-api`,Wc="modal-open",Vc="show",vs="modal-static",Oh={backdrop:!0,focus:!0,keyboard:!0},Dh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Kn extends lt{constructor(r,a){super(r,a),this._dialog=Q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _s,this._addEventListeners()}static get Default(){return Oh}static get DefaultType(){return Dh}static get NAME(){return"modal"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||w.trigger(this._element,jc,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Wc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){this._isShown&&!this._isTransitioning&&(w.trigger(this._element,yh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Vc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){w.off(window,Me),w.off(this._dialog,Me),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Pc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Bc({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=Q.findOne(".modal-body",this._dialog);a&&(a.scrollTop=0),T(this._element),this._element.classList.add(Vc),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,w.trigger(this._element,wh,{relatedTarget:r})},this._dialog,this._isAnimated())}_addEventListeners(){w.on(this._element,Ch,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),w.on(window,Eh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),w.on(this._element,Th,r=>{w.one(this._element,xh,a=>{this._element===r.target&&this._element===a.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Wc),this._resetAdjustments(),this._scrollBar.reset(),w.trigger(this._element,Gc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(w.trigger(this._element,Ah).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,a=this._element.style.overflowY;a==="hidden"||this._element.classList.contains(vs)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(vs),this._queueCallback(()=>{this._element.classList.remove(vs),this._queueCallback(()=>{this._element.style.overflowY=a},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),d=a>0;if(d&&!r){const v=L()?"paddingLeft":"paddingRight";this._element.style[v]=`${a}px`}if(!d&&r){const v=L()?"paddingRight":"paddingLeft";this._element.style[v]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,a){return this.each(function(){const d=Kn.getOrCreateInstance(this,r);if(typeof r=="string"){if(d[r]===void 0)throw new TypeError(`No method named "${r}"`);d[r](a)}})}}w.on(document,Sh,'[data-bs-toggle="modal"]',function(l){const r=Q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&l.preventDefault(),w.one(r,jc,d=>{d.defaultPrevented||w.one(r,Gc,()=>{p(this)&&this.focus()})});const a=Q.findOne(".modal.show");a&&Kn.getInstance(a).hide(),Kn.getOrCreateInstance(r).toggle(this)}),Qt(Kn),k(Kn);const mn=".bs.offcanvas",Uc=".data-api",Lh=`load${mn}${Uc}`,Qc="show",Kc="showing",Yc="hiding",qc=".offcanvas.show",kh=`show${mn}`,Mh=`shown${mn}`,Nh=`hide${mn}`,Xc=`hidePrevented${mn}`,Jc=`hidden${mn}`,Ih=`resize${mn}`,$h=`click${mn}${Uc}`,Ph=`keydown.dismiss${mn}`,Rh={backdrop:!0,keyboard:!0,scroll:!1},Bh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class _n extends lt{constructor(r,a){super(r,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Rh}static get DefaultType(){return Bh}static get NAME(){return"offcanvas"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||w.trigger(this._element,kh,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new _s().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Kc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Qc),this._element.classList.remove(Kc),w.trigger(this._element,Mh,{relatedTarget:r})},this._element,!0))}hide(){this._isShown&&(w.trigger(this._element,Nh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Yc),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Qc,Yc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _s().reset(),w.trigger(this._element,Jc)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=!!this._config.backdrop;return new Pc({className:"offcanvas-backdrop",isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?()=>{this._config.backdrop!=="static"?this.hide():w.trigger(this._element,Xc)}:null})}_initializeFocusTrap(){return new Bc({trapElement:this._element})}_addEventListeners(){w.on(this._element,Ph,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():w.trigger(this._element,Xc))})}static jQueryInterface(r){return this.each(function(){const a=_n.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r](this)}})}}w.on(document,$h,'[data-bs-toggle="offcanvas"]',function(l){const r=Q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&l.preventDefault(),h(this))return;w.one(r,Jc,()=>{p(this)&&this.focus()});const a=Q.findOne(qc);a&&a!==r&&_n.getInstance(a).hide(),_n.getOrCreateInstance(r).toggle(this)}),w.on(window,Lh,()=>{for(const l of Q.find(qc))_n.getOrCreateInstance(l).show()}),w.on(window,Ih,()=>{for(const l of Q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(l).position!=="fixed"&&_n.getOrCreateInstance(l).hide()}),Qt(_n),k(_n);const Zc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Hh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Fh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,zh=(l,r)=>{const a=l.nodeName.toLowerCase();return r.includes(a)?!Hh.has(a)||!!Fh.test(l.nodeValue):r.filter(d=>d instanceof RegExp).some(d=>d.test(a))},Gh={allowList:Zc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},jh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Wh={entry:"(string|element|function|null)",selector:"(string|element)"};class Vh extends Dt{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return Gh}static get DefaultType(){return jh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[v,b]of Object.entries(this._config.content))this._setContent(r,b,v);const a=r.children[0],d=this._resolvePossibleFunction(this._config.extraClass);return d&&a.classList.add(...d.split(" ")),a}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[a,d]of Object.entries(r))super._typeCheckConfig({selector:a,entry:d},Wh)}_setContent(r,a,d){const v=Q.findOne(d,r);v&&((a=this._resolvePossibleFunction(a))?u(a)?this._putElementInTemplate(f(a),v):this._config.html?v.innerHTML=this._maybeSanitize(a):v.textContent=a:v.remove())}_maybeSanitize(r){return this._config.sanitize?function(a,d,v){if(!a.length)return a;if(v&&typeof v=="function")return v(a);const b=new window.DOMParser().parseFromString(a,"text/html"),D=[].concat(...b.body.querySelectorAll("*"));for(const N of D){const j=N.nodeName.toLowerCase();if(!Object.keys(d).includes(j)){N.remove();continue}const Z=[].concat(...N.attributes),tt=[].concat(d["*"]||[],d[j]||[]);for(const K of Z)zh(K,tt)||N.removeAttribute(K.nodeName)}return b.body.innerHTML}(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return F(r,[this])}_putElementInTemplate(r,a){if(this._config.html)return a.innerHTML="",void a.append(r);a.textContent=r.textContent}}const Uh=new Set(["sanitize","allowList","sanitizeFn"]),bs="fade",Wr="show",tl=".modal",el="hide.bs.modal",ar="hover",ys="focus",Qh={AUTO:"auto",TOP:"top",RIGHT:L()?"left":"right",BOTTOM:"bottom",LEFT:L()?"right":"left"},Kh={allowList:Zc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Yh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Yn extends lt{constructor(r,a){if(Oc===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Kh}static get DefaultType(){return Yh}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),w.off(this._element.closest(tl),el,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const r=w.trigger(this._element,this.constructor.eventName("show")),a=(A(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!a)return;this._disposePopper();const d=this._getTipElement();this._element.setAttribute("aria-describedby",d.getAttribute("id"));const{container:v}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(v.append(d),w.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(d),d.classList.add(Wr),"ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))w.on(b,"mouseover",_);this._queueCallback(()=>{w.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!w.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Wr),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))w.off(r,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger[ys]=!1,this._activeTrigger[ar]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),w.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const a=this._getTemplateFactory(r).toHtml();if(!a)return null;a.classList.remove(bs,Wr),a.classList.add(`bs-${this.constructor.NAME}-auto`);const d=(v=>{do v+=Math.floor(1e6*Math.random());while(document.getElementById(v));return v})(this.constructor.NAME).toString();return a.setAttribute("id",d),this._isAnimated()&&a.classList.add(bs),a}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new Vh({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(bs)}_isShown(){return this.tip&&this.tip.classList.contains(Wr)}_createPopper(r){const a=F(this._config.placement,[this,r,this._element]),d=Qh[a.toUpperCase()];return gs(this._element,r,this._getPopperConfig(d))}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(a=>Number.parseInt(a,10)):typeof r=="function"?a=>r(a,this._element):r}_resolvePossibleFunction(r){return F(r,[this._element])}_getPopperConfig(r){const a={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:d=>{this._getTipElement().setAttribute("data-popper-placement",d.state.placement)}}]};return{...a,...F(this._config.popperConfig,[a])}}_setListeners(){const r=this._config.trigger.split(" ");for(const a of r)if(a==="click")w.on(this._element,this.constructor.eventName("click"),this._config.selector,d=>{this._initializeOnDelegatedTarget(d).toggle()});else if(a!=="manual"){const d=a===ar?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),v=a===ar?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");w.on(this._element,d,this._config.selector,b=>{const D=this._initializeOnDelegatedTarget(b);D._activeTrigger[b.type==="focusin"?ys:ar]=!0,D._enter()}),w.on(this._element,v,this._config.selector,b=>{const D=this._initializeOnDelegatedTarget(b);D._activeTrigger[b.type==="focusout"?ys:ar]=D._element.contains(b.relatedTarget),D._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},w.on(this._element.closest(tl),el,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");r&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,a){clearTimeout(this._timeout),this._timeout=setTimeout(r,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const a=dt.getDataAttributes(this._element);for(const d of Object.keys(a))Uh.has(d)&&delete a[d];return r={...a,...typeof r=="object"&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:f(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const[a,d]of Object.entries(this._config))this.constructor.Default[a]!==d&&(r[a]=d);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){const a=Yn.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r]()}})}}k(Yn);const qh={...Yn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Xh={...Yn.DefaultType,content:"(null|string|element|function)"};class Vr extends Yn{static get Default(){return qh}static get DefaultType(){return Xh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const a=Vr.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r]()}})}}k(Vr);const As=".bs.scrollspy",Jh=`activate${As}`,nl=`click${As}`,Zh=`load${As}.data-api`,Oi="active",ws="[href]",il=".nav-link",tp=`${il}, .nav-item > ${il}, .list-group-item`,ep={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},np={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class cr extends lt{constructor(r,a){super(r,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ep}static get DefaultType(){return np}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=f(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(a=>Number.parseFloat(a))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(w.off(this._config.target,nl),w.on(this._config.target,nl,ws,r=>{const a=this._observableSections.get(r.target.hash);if(a){r.preventDefault();const d=this._rootElement||window,v=a.offsetTop-this._element.offsetTop;if(d.scrollTo)return void d.scrollTo({top:v,behavior:"smooth"});d.scrollTop=v}}))}_getNewObserver(){const r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(a=>this._observerCallback(a),r)}_observerCallback(r){const a=D=>this._targetLinks.get(`#${D.target.id}`),d=D=>{this._previousScrollData.visibleEntryTop=D.target.offsetTop,this._process(a(D))},v=(this._rootElement||document.documentElement).scrollTop,b=v>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=v;for(const D of r){if(!D.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(D));continue}const N=D.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(b&&N){if(d(D),!v)return}else b||N||d(D)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=Q.find(ws,this._config.target);for(const a of r){if(!a.hash||h(a))continue;const d=Q.findOne(decodeURI(a.hash),this._element);p(d)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,d))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(Oi),this._activateParents(r),w.trigger(this._element,Jh,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains("dropdown-item"))Q.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(Oi);else for(const a of Q.parents(r,".nav, .list-group"))for(const d of Q.prev(a,tp))d.classList.add(Oi)}_clearActiveClass(r){r.classList.remove(Oi);const a=Q.find(`${ws}.${Oi}`,r);for(const d of a)d.classList.remove(Oi)}static jQueryInterface(r){return this.each(function(){const a=cr.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r]()}})}}w.on(window,Zh,()=>{for(const l of Q.find('[data-bs-spy="scroll"]'))cr.getOrCreateInstance(l)}),k(cr);const qn=".bs.tab",ip=`hide${qn}`,rp=`hidden${qn}`,op=`show${qn}`,sp=`shown${qn}`,ap=`click${qn}`,cp=`keydown${qn}`,lp=`load${qn}`,up="ArrowLeft",rl="ArrowRight",fp="ArrowUp",ol="ArrowDown",Es="Home",sl="End",Xn="active",al="fade",xs="show",cl=".dropdown-toggle",Ts=`:not(${cl})`,ll='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Cs=`.nav-link${Ts}, .list-group-item${Ts}, [role="tab"]${Ts}, ${ll}`,dp=`.${Xn}[data-bs-toggle="tab"], .${Xn}[data-bs-toggle="pill"], .${Xn}[data-bs-toggle="list"]`;class Jn extends lt{constructor(r){super(r),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),w.on(this._element,cp,a=>this._keydown(a)))}static get NAME(){return"tab"}show(){const r=this._element;if(this._elemIsActive(r))return;const a=this._getActiveElem(),d=a?w.trigger(a,ip,{relatedTarget:r}):null;w.trigger(r,op,{relatedTarget:a}).defaultPrevented||d&&d.defaultPrevented||(this._deactivate(a,r),this._activate(r,a))}_activate(r,a){r&&(r.classList.add(Xn),this._activate(Q.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),w.trigger(r,sp,{relatedTarget:a})):r.classList.add(xs)},r,r.classList.contains(al)))}_deactivate(r,a){r&&(r.classList.remove(Xn),r.blur(),this._deactivate(Q.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),w.trigger(r,rp,{relatedTarget:a})):r.classList.remove(xs)},r,r.classList.contains(al)))}_keydown(r){if(![up,rl,fp,ol,Es,sl].includes(r.key))return;r.stopPropagation(),r.preventDefault();const a=this._getChildren().filter(v=>!h(v));let d;if([Es,sl].includes(r.key))d=a[r.key===Es?0:a.length-1];else{const v=[rl,ol].includes(r.key);d=m(a,r.target,v,!0)}d&&(d.focus({preventScroll:!0}),Jn.getOrCreateInstance(d).show())}_getChildren(){return Q.find(Cs,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,a){this._setAttributeIfNotExists(r,"role","tablist");for(const d of a)this._setInitialAttributesOnChild(d)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const a=this._elemIsActive(r),d=this._getOuterElement(r);r.setAttribute("aria-selected",a),d!==r&&this._setAttributeIfNotExists(d,"role","presentation"),a||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const a=Q.getElementFromSelector(r);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${r.id}`))}_toggleDropDown(r,a){const d=this._getOuterElement(r);if(!d.classList.contains("dropdown"))return;const v=(b,D)=>{const N=Q.findOne(b,d);N&&N.classList.toggle(D,a)};v(cl,Xn),v(".dropdown-menu",xs),d.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(r,a,d){r.hasAttribute(a)||r.setAttribute(a,d)}_elemIsActive(r){return r.classList.contains(Xn)}_getInnerElement(r){return r.matches(Cs)?r:Q.findOne(Cs,r)}_getOuterElement(r){return r.closest(".nav-item, .list-group-item")||r}static jQueryInterface(r){return this.each(function(){const a=Jn.getOrCreateInstance(this);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r]()}})}}w.on(document,ap,ll,function(l){["A","AREA"].includes(this.tagName)&&l.preventDefault(),h(this)||Jn.getOrCreateInstance(this).show()}),w.on(window,lp,()=>{for(const l of Q.find(dp))Jn.getOrCreateInstance(l)}),k(Jn);const Ln=".bs.toast",hp=`mouseover${Ln}`,pp=`mouseout${Ln}`,gp=`focusin${Ln}`,mp=`focusout${Ln}`,_p=`hide${Ln}`,vp=`hidden${Ln}`,bp=`show${Ln}`,yp=`shown${Ln}`,ul="hide",Ur="show",Qr="showing",Ap={animation:"boolean",autohide:"boolean",delay:"number"},wp={animation:!0,autohide:!0,delay:5e3};class lr extends lt{constructor(r,a){super(r,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return wp}static get DefaultType(){return Ap}static get NAME(){return"toast"}show(){w.trigger(this._element,bp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ul),T(this._element),this._element.classList.add(Ur,Qr),this._queueCallback(()=>{this._element.classList.remove(Qr),w.trigger(this._element,yp),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(w.trigger(this._element,_p).defaultPrevented||(this._element.classList.add(Qr),this._queueCallback(()=>{this._element.classList.add(ul),this._element.classList.remove(Qr,Ur),w.trigger(this._element,vp)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ur),super.dispose()}isShown(){return this._element.classList.contains(Ur)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,a){switch(r.type){case"mouseover":case"mouseout":this._hasMouseInteraction=a;break;case"focusin":case"focusout":this._hasKeyboardInteraction=a}if(a)return void this._clearTimeout();const d=r.relatedTarget;this._element===d||this._element.contains(d)||this._maybeScheduleHide()}_setListeners(){w.on(this._element,hp,r=>this._onInteraction(r,!0)),w.on(this._element,pp,r=>this._onInteraction(r,!1)),w.on(this._element,gp,r=>this._onInteraction(r,!0)),w.on(this._element,mp,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const a=lr.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r](this)}})}}return Qt(lr),k(lr),{Alert:qt,Button:Oe,Carousel:jt,Collapse:bi,Dropdown:je,Modal:Kn,Offcanvas:_n,Popover:Vr,ScrollSpy:cr,Tab:Jn,Toast:lr,Tooltip:Yn}})}(uo)),uo.exports}$p();var B=(t=>(t[t.Common=0]="Common",t[t.Rare=1]="Rare",t[t.Masterpiece=2]="Masterpiece",t[t.Epic=3]="Epic",t[t.Mythical=4]="Mythical",t[t.Unique=5]="Unique",t))(B||{}),te=(t=>(t.PlayerWin="PlayerWin",t.EnemyWin="EnemyWin",t.Draw="Draw",t))(te||{}),li=(t=>(t.Consumable="Consumable",t.Equipment="Equipment",t))(li||{}),Vt=(t=>(t.Body="body",t.Hand="hand",t.Foot="foot",t.Accessory="accessory",t))(Vt||{}),S=(t=>(t.Attack="Attack",t.Defend="Defend",t.Dodge="Dodge",t.Capture="Capture",t.Special="Special",t.None="None",t))(S||{}),Ae=(t=>(t.Permanent="Permanent",t.Turn="Turn",t.Action="Action",t.Hit="Hit",t.Second="Second",t))(Ae||{}),Zt=(t=>(t.OnSecond="OnSecond",t.OnTurnStart="OnTurnStart",t.OnHitStart="OnHitStart",t))(Zt||{}),ii=(t=>(t.SpiritBlade="SpiritBlade",t.RedBlade="RedBlade",t.Pain="Pain",t.Unbalance="Unbalance",t.Wound="Wound",t.Burning="Burning",t.QuickRecovery="QuickRecovery",t.Dizzy="Dizzy",t))(ii||{});const zi={SpiritBlade:{name:"气刃",description:"可以释放气刃大回旋",durationType:Ae.Turn,category:Zt.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Ut[I.SpiritRoundSlash],{action1:e,action2:n})},RedBlade:{name:"红刃",description:"可以释放登龙",durationType:Ae.Turn,category:Zt.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Ut[I.HelmBreaker],{action1:e,action2:n})},Pain:{name:"痛苦",description:"有概率因痛苦而无法行动",durationType:Ae.Turn,category:Zt.OnTurnStart,priority:999,effect:(t,e,n)=>(Math.random()<.1&&(e=Ut[I.Stun],n=Ut[I.Stun]),{action1:e,action2:n})},Unbalance:{name:"失衡",description:"重心不稳，丢失当前Hit",durationType:Ae.Hit,category:Zt.OnHitStart,priority:999,effect:(t,e)=>Ao},Dizzy:{name:"头晕眼花",description:"丢失当回合所有hit",durationType:Ae.Turn,category:Zt.OnHitStart,priority:999,effect:(t,e)=>Ao},Wound:{name:"创伤",description:"每次行动(hit)都会损失一定生命值",durationType:Ae.Turn,category:Zt.OnHitStart,priority:999,effect:(t,e,n)=>(t.loseHp(n||1),e)},Burning:{name:"燃烧",description:"每回合损失一定生命值",durationType:Ae.Turn,category:Zt.OnTurnStart,priority:999,effect:(t,e,n,i)=>(t.loseHp(i||1),{action1:e,action2:n})},QuickRecovery:{name:"快速恢复",description:"自动回复速度大幅度增加",durationType:Ae.Second,category:Zt.OnSecond,priority:1,effect:(t,e)=>{t.autoRecoverHpDot(e||1)}}};function Pp(t,e){if(!(t instanceof Wi))return;if(e.health<1){t.addLog(`${e.name}已经死了，无法捕获`);return}const n=t.ability.dex/e.ability.dex*(t.ability.siz/e.ability.siz)/(10*e.health/e.maxHealth),i=t.ability.str/e.ability.str*(t.ability.siz/e.ability.siz)/(10*e.health/e.maxHealth);Math.random()<i&&Math.random()<n?(e.health=.9,t.capturedMonster.push(e),t.addLog(`你成功捕获了${e.name}`)):t.addLog(`你尝试捕获${e.name}，但是失败了`)}function oa(t,e){return e.hits.map(n=>`${Gi(n)}${n.continuous?"🔗":""}(${yo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${Io(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}function Io(t,e,n){const i=Math.round((t.str*e.str+t.dex*e.dex+t.int*e.int+t.con*e.con+t.siz*e.siz+t.app*e.app)*n.multiply+n.plus);return i<0?0:i}function yo(t,e,n){const i=Math.round(Io(t,e,n)*.1);return i<0?0:i}function ui(t,e,n){return yo(t,e,n)+Math.round((Io(t,e,n)-yo(t,e,n))*Math.random())}function Gi(t){switch(t.category){case S.Attack:return"🗡️";case S.Defend:return"🛡️";case S.Dodge:return"💫";case S.Capture:return"🕸️";case S.Special:return"💥";case S.None:return"❔";default:return""}}function Sl(t,e){return`
    <p class="fst-italic">"${e.description}"</p>
    <p>系数 (点数范围)</p>
    <p>${e.hits.map(n=>`${Gi(n)}${n.continuous?"🔗":""}${Object.entries(n.coeff).filter(([i,o])=>o).map(([i,o])=>`${i}: ${o}`).join(", ")} (${yo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${Io(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}</p>
  `}var I=(t=>(t.Dazed="Dazed",t.Attack="Attack",t.PowerAttack="PowerAttack",t.QuickAttack="QuickAttack",t.PowerfulDigAttack="PowerfulDigAttack",t.Yarimasune="Yarimasune",t.SleepyTea="SleepyTea",t.Repent="Repent",t.HorizontalSlash="HorizontalSlash",t.Bite="Bite",t.Capture="Capture",t.Stun="Stun",t.Defend="Defend",t.Dodge="Dodge",t.DragonBreath="DragonBreath",t.SpinAttack="SpinAttack",t.DefenseSlash="DefenseSlash",t.Counter="Counter",t.GodStrike="GodStrike",t.ShredFlower="ShredFlower",t.PsyKick="PsyKick",t.PsyExplosion="PsyExplosion",t.PsyInvisibleSword="PsyInvisibleSword",t.PsyDodge="PsyDodge",t.Slash="Slash",t.Claw="Claw",t.HelmBreaker="HelmBreaker",t.StepSlash="StepSlash",t.Mikiri="Mikiri",t.SpiritRoundSlash="SpiritRoundSlash",t.NeverRetreat="NeverRetreat",t.LightningStormSlash="LightningStormSlash",t.LightningFiveStrikes="LightningFiveStrikes",t.CrowFly="CrowFly",t.ParkDestroyer="ParkDestroyer",t.SneakAttack="SneakAttack",t))(I||{});const Ao={category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`},Ut={Dazed:{name:"反应不过来",description:"来不及反应",rarity:B.Common,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`}]},Stun:{name:"眩晕",description:"眩晕",rarity:B.Common,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 眩晕了`}]},Attack:{name:"攻击",description:"用拳头或者用武器进行一般通过攻击",rarity:B.Common,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}攻击了${e.name}`}]},PowerAttack:{name:"强力攻击",description:"全身力量集中于一点，进行一次强力的攻击",rarity:B.Rare,hits:[{category:S.Attack,coeff:{str:2,int:0,con:0,siz:1,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}对${e.name}发起了一次强力的攻击`}]},QuickAttack:{name:"迅击",description:"据说剑圣在一个呼吸间就能劈出数刀。虽然你不是剑圣，但你努努力也至少能劈出两刀",rarity:B.Rare,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}以迅雷不及掩耳之势向${e.name}发起了攻势`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`电光火石之间，${t.name}再次做出了攻击`}]},PowerfulDigAttack:{name:"撅",description:"撅是对知识的渴求。古往今来多少哲学家撅地三尺探求真理",rarity:B.Masterpiece,hits:[{category:S.Attack,coeff:{str:2,int:0,con:0,siz:3,app:0,dex:0},extraEffect:(t,e)=>{e.addStatus(ii.Pain,1)},messageGenerator:(t,e)=>`${t.name}撅了${e.name}，${e.name}痛苦难耐
// 哼哼啊啊啊啊啊啊啊啊啊啊 `}]},SleepyTea:{name:"饮用昏睡红茶",description:"诗人都喜欢饮酒作赋，古代的哲学家也是如此，只是彼时还没有酒",rarity:B.Epic,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，进入睡眠`},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，于睡眠中恢复了<span style="color: green">${t.getAbility().con}</span>点生命值`,extraEffect:(t,e)=>{t.recoverHp(t.getAbility().con/2)}}]},Yarimasune:{name:"这个可以有！(赞赏)",description:"丝毫不吝啬对敌人的赞赏，这就是野兽先辈的气量",rarity:B.Rare,hits:[{category:S.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},Repent:{name:"†你改悔罢†",description:"令敌人改悔的神圣攻击",rarity:B.Masterpiece,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪躲`},{category:S.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}曰: †你改悔罢†`}]},HorizontalSlash:{name:"横斩",description:"千钧之力的大力横劈",rarity:B.Rare,hits:[{category:S.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}猛劈一刀`}]},StepSlash:{name:"踏前斩",description:"前踏一步进行追击，而后猛劈一刀",rarity:B.Rare,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}前踏一步`},{category:S.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}借着前冲的力劈出强力一击`}]},Mikiri:{name:"见切",description:"在敌人攻击的瞬间拔刀后退，成功回避攻击则能乘势将气入刀，以在下回合释放气刃大回旋",rarity:B.Masterpiece,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>`${t.name}在敌人攻击的瞬间拔刀后退`,extraEffect:(t,e)=>{t.addStatus(ii.SpiritBlade,1)}}]},SpiritRoundSlash:{name:"气刃大回旋",description:"将气附于刀刃之上，使出极大幅度回转刀身的斩击，若是击中敌人则可使用登龙",rarity:B.Masterpiece,hits:[{category:S.Attack,coeff:{str:4,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}使出极大幅度回转刀身的斩击`,extraEffect:(t,e)=>{t.addStatus(ii.RedBlade,1)}}]},HelmBreaker:{name:"登龙",description:"快速向前突进，若成功击中命中便会借势踩着敌人的身体一路跃至高空，而后以全身的力量从空中向下劈出泣鬼神的一刀",rarity:B.Mythical,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},continuous:!0,messageGenerator:(t,e)=>`${t.name}向${e.name}突进，踩着${e.name}的身体一路跃至高空`},{category:S.Attack,coeff:{str:10,int:0,con:2,siz:2,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}从天而降，以全身之力劈向${e.name}`}]},Slash:{name:"劈砍",description:"挥舞手中的武器",rarity:B.Common,hits:[{category:S.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}挥舞手中的武器劈向${e.name}`}]},Bite:{name:"撕咬",description:"野兽的原始攻击方式",rarity:B.Common,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}冲过来咬了${e.name}一口`}]},Claw:{name:"爪击",description:"野兽的原始攻击方式",rarity:B.Rare,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:.5,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`}]},Capture:{name:"尝试捕捉",description:"这不是神奇宝贝，你得用绞技而不是精灵球",rarity:B.Common,hits:[{category:S.Capture,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},extraEffect:Pp,messageGenerator:(t,e)=>`${t.name}尝试通过绞住${e.name}，让${e.name}失去行动力`}]},Defend:{name:"格挡",description:"做一个稳重的人",rarity:B.Common,hits:[{category:S.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`}]},Counter:{name:"反击",description:"格挡后乘势反击",rarity:B.Rare,hits:[{category:S.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},DefenseSlash:{name:"防御斩",description:"快速挥刀后立刻进行防御，不给敌人任何可乘之机",rarity:B.Rare,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了一次快速攻击`},{category:S.Defend,coeff:{str:1.5,int:0,con:1.5,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了铁壁一般的防御`}]},Dodge:{name:"闪避",description:"天下武功，唯快不破。若是能闪过敌人的攻击，将使敌人失衡，失去下一个动作",rarity:B.Common,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 对 ${e.name} 的攻击进行了闪躲`}]},PsyDodge:{name:"瞬移",description:"念力的一种用法",rarity:B.Epic,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Dodge,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 的身影瞬间到了别处`}]},SpinAttack:{name:"回旋击",description:"闪避后趁敌人重心不稳发起攻击",rarity:B.Rare,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪避`},{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 进行了回旋击`}]},DragonBreath:{name:"巨龙吐息",description:"据说巨龙的吐息足以融化钢铁",rarity:B.Epic,hits:[{category:S.Attack,coeff:{str:0,int:10,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了汹涌的火焰`},{category:S.Attack,coeff:{str:0,int:5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了灼热的火焰`},{category:S.Attack,coeff:{str:0,int:2,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了喉咙中残余的火焰`}]},GodStrike:{name:"神击",description:"犹如神灵降下天罚",rarity:B.Mythical,hits:[{category:S.Attack,coeff:{str:12,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`神明的愤怒降临于${e.name}`}]},ShredFlower:{name:"碎花",description:"无人能看清动作，空中轻柔的落花瞬间化为齑粉",rarity:B.Unique,hits:[{category:S.Defend,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 被花瓣包围了`},{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 的身影消失了`},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有残影"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有更多的残影"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${e.name} 同花瓣一同破碎`}]},PsyKick:{name:"念动力踢击",description:"通过念力完成的隔空踢击，力道十足又难以防备",rarity:B.Rare,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Attack,coeff:{str:1,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}凭空被踢了一脚`}]},PsyExplosion:{name:"不可视爆裂",description:"不可视的念力凝聚成万吨重锤从天而降",rarity:B.Epic,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Attack,coeff:{str:2,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}所在的位置发生了大爆炸`}]},PsyInvisibleSword:{name:'"不可视之剑"',description:"无数看不见的剑刺向敌人，流淌的血勾勒出它们的形状",rarity:B.Unique,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Attack,coeff:{str:0,int:1.5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`看不见的剑贯穿${e.name}`},{category:S.Attack,coeff:{str:0,int:3,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`更多看不见的剑贯穿${e.name}`},{category:S.Attack,coeff:{str:0,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`极多看不见的剑贯穿${e.name}`},{category:S.Attack,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`无数看不见的剑贯穿${e.name}`}]},NeverRetreat:{name:"死守不退",description:"全力防御，死守不退",rarity:B.Masterpiece,hits:[{category:S.Defend,coeff:{str:2,int:0,con:2,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 全力防御`},{category:S.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 死守不退`}]},CrowFly:{name:"乌鸦坐飞机",description:"高高跃起后发起攻击",rarity:B.Masterpiece,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 一个大跳`},{category:S.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 从空中一拳打向 ${e.name}`}]},ParkDestroyer:{name:"龙卷风击毁停车场",description:"释放武器中的狂风之力，形成狂暴的龙卷风",rarity:B.Masterpiece,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`风卷着尘土袭向 ${e.name}`},{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"回旋的风聚成龙卷"},{category:S.Attack,coeff:{str:1.5,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 从龙卷风中刺出`}]},LightningStormSlash:{name:"闪电旋风劈",description:"闪！电！旋！风！劈！",rarity:B.Masterpiece,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"闪电！"},{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>"旋风！"},{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"劈！"}]},LightningFiveStrikes:{name:"闪电五连鞭",description:"相传武林中有一位马大师，靠着这套五连鞭驰骋江湖，可惜后来被两个年轻人偷袭，从此销声匿迹",rarity:B.Masterpiece,hits:[{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第一鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第二鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第三鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第四鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第五鞭！"}]},SneakAttack:{name:"偷袭",description:"来！骗！来！偷袭！",rarity:B.Rare,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 来！骗！来！偷袭！`,extraEffect:(t,e)=>{e.addStatus(ii.Dizzy,1)}}]}};var ji=(t=>(t.Sword="Sword",t.ShabbyKatana="ShabbyKatana",t.GreatKatana="GreatKatana",t.Ningenmukotsu="Ningenmukotsu",t.Mikadsukimunechika="Mikadsukimunechika",t.MudKnife="MudKnife",t.WindSpinSword="WindSpinSword",t.AyulsaOfNoHonor="AyulsaOfNoHonor",t.RockSword="RockSword",t.Rope="Rope",t.DragonSlayer="DragonSlayer",t.KatanaOfTheHeart="KatanaOfTheHeart",t.WomenDress="WomenDress",t.ToonoDefeaterBadge="ToonoDefeaterBadge",t))(ji||{});const fo={Sword:{name:"铁剑",description:"一把平平无奇的剑",rarity:B.Common,position:Vt.Hand,extraActions:[{actionType:I.Slash,weight:.8},{actionType:I.HorizontalSlash,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:1,multiply:1}}},Rope:{name:"绳索",description:"一个看起来很适合用来捕捉的武器",rarity:B.Common,position:Vt.Hand,extraActions:[{actionType:I.Capture,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:-1,multiply:1},[S.Capture]:{plus:2,multiply:1}}},ShabbyKatana:{name:"残破太刀",description:"太好了，有了这个，你就可以做虾头太刀侠了",rarity:B.Common,position:Vt.Hand,extraActions:[{actionType:I.Slash,weight:.9},{actionType:I.HorizontalSlash,weight:.05},{actionType:I.StepSlash,weight:.04},{actionType:I.Mikiri,weight:.01}],ability:{piercing:25,dex:-1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:1,multiply:1},[S.Dodge]:{plus:-1,multiply:1}}},GreatKatana:{name:"大太刀",description:"这把的太刀的刀身比一般的太刀要长，挥舞起来很吃力但是威力巨大",rarity:B.Rare,position:Vt.Hand,extraActions:[{actionType:I.Slash,weight:.7},{actionType:I.HorizontalSlash,weight:.1},{actionType:I.StepSlash,weight:.1},{actionType:I.Mikiri,weight:.05}],ability:{piercing:30,dex:-2},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:4,multiply:1},[S.Dodge]:{plus:-2,multiply:1}}},Ningenmukotsu:{name:'太刀"人间无骨"',description:"正面刻着人间，背面刻着无骨的名刀。刀如其名，削骨若无物",rarity:B.Masterpiece,position:Vt.Hand,extraActions:[{actionType:I.HorizontalSlash,weight:.4},{actionType:I.StepSlash,weight:.4},{actionType:I.Mikiri,weight:.15}],ability:{piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[S.Attack]:{plus:3,multiply:1.1}}},Mikadsukimunechika:{name:'太刀"三日月宗近"',description:"太刀最高杰作的天下五剑之一，传说中的名刀，有着名物中的名物之称。刀身如同新月一般美丽",rarity:B.Epic,position:Vt.Hand,extraActions:[{actionType:I.HorizontalSlash,weight:.3},{actionType:I.StepSlash,weight:.3},{actionType:I.Mikiri,weight:.3}],ability:{piercing:40,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[S.Attack]:{plus:10,multiply:1},[S.Dodge]:{plus:1,multiply:1}}},KatanaOfTheHeart:{name:"心中的太刀",description:"你看不见它，但它确实在你手中",rarity:B.Mythical,position:Vt.Hand,extraActions:[{actionType:I.Mikiri,weight:1}],ability:{piercing:45},armorGrowthCoeff:0,piercingGrowthCoeff:6.5,actionCoeff:{[S.Attack]:{plus:10,multiply:1.2},[S.Dodge]:{plus:10,multiply:1.2}}},MudKnife:{name:"沼气短刀",description:"刀身闻起来臭臭的",rarity:B.Rare,position:Vt.Hand,extraActions:[{actionType:I.Slash,weight:.4},{actionType:I.PowerfulDigAttack,weight:.1},{actionType:I.QuickAttack,weight:.5}],ability:{piercing:30,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Dodge]:{plus:1,multiply:1}}},WindSpinSword:{name:"风旋刺剑",description:"靠近剑身能听到轻轻的风声",rarity:B.Masterpiece,position:Vt.Hand,extraActions:[{actionType:I.SpinAttack,weight:.6},{actionType:I.ParkDestroyer,weight:.15},{actionType:I.LightningStormSlash,weight:.15}],ability:{piercing:35,dex:2},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[S.Attack]:{plus:1,multiply:1},[S.Dodge]:{plus:2,multiply:1}}},RockSword:{name:"剑型大石头",description:"一把很宽的石头大剑，看起来就像块大石头",rarity:B.Masterpiece,position:Vt.Hand,extraActions:[{actionType:I.DefenseSlash,weight:.3},{actionType:I.Counter,weight:.4},{actionType:I.NeverRetreat,weight:.3}],ability:{str:1,con:1,piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[S.Defend]:{plus:3,multiply:1}}},DragonSlayer:{name:'"弑龙者"',description:"传说这把剑上的龙之力来源于被它杀死的龙的灵魂。你握着它，仿佛能感受到龙的气息",rarity:B.Epic,position:Vt.Hand,extraActions:[{actionType:I.HorizontalSlash,weight:1},{actionType:I.DragonBreath,weight:.1}],ability:{str:1,con:2,piercing:40},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[S.Attack]:{plus:3,multiply:1.1}}},AyulsaOfNoHonor:{name:"Ayulsa死于徒手",description:"Ayulsa手上没有武器",rarity:B.Unique,position:Vt.Hand,extraActions:[{actionType:I.PsyKick,weight:.2},{actionType:I.PsyExplosion,weight:.2},{actionType:I.PsyInvisibleSword,weight:.1},{actionType:I.PsyDodge,weight:.2}],ability:{int:2,dex:2,piercing:50},armorGrowthCoeff:0,piercingGrowthCoeff:6.75,actionCoeff:{}},WomenDress:{name:"女装",description:"女装",rarity:B.Rare,position:Vt.Body,extraActions:[{actionType:I.CrowFly,weight:.05}],ability:{armor:15},armorGrowthCoeff:3,piercingGrowthCoeff:0,actionCoeff:{}},ToonoDefeaterBadge:{name:"远野击败者徽章",description:"隐藏着一些原本属于你的力量",canNotObtainFromChest:!0,rarity:B.Masterpiece,position:Vt.Accessory,extraActions:[{actionType:I.PowerfulDigAttack,weight:.03},{actionType:I.Yarimasune,weight:.03},{actionType:I.Repent,weight:.03},{actionType:I.SleepyTea,weight:.03}],ability:{armor:5,piercing:5},armorGrowthCoeff:0,piercingGrowthCoeff:0,actionCoeff:{}}};class Wu{constructor(e,n,i,o,s,c,u){bt(this,"name");bt(this,"uuid");bt(this,"category");bt(this,"type");bt(this,"rarity");bt(this,"level");bt(this,"description");this.name=e,this.uuid=n,this.category=i,this.type=o,this.rarity=s,this.level=c,this.description=u}}const Yt=[];for(let t=0;t<256;++t)Yt.push((t+256).toString(16).slice(1));function Rp(t,e=0){return(Yt[t[e+0]]+Yt[t[e+1]]+Yt[t[e+2]]+Yt[t[e+3]]+"-"+Yt[t[e+4]]+Yt[t[e+5]]+"-"+Yt[t[e+6]]+Yt[t[e+7]]+"-"+Yt[t[e+8]]+Yt[t[e+9]]+"-"+Yt[t[e+10]]+Yt[t[e+11]]+Yt[t[e+12]]+Yt[t[e+13]]+Yt[t[e+14]]+Yt[t[e+15]]).toLowerCase()}let Ls;const Bp=new Uint8Array(16);function Hp(){if(!Ls){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ls=crypto.getRandomValues.bind(crypto)}return Ls(Bp)}const Fp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ol={randomUUID:Fp};function Vu(t,e,n){var o;if(Ol.randomUUID&&!t)return Ol.randomUUID();t=t||{};const i=t.random??((o=t.rng)==null?void 0:o.call(t))??Hp();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Rp(i)}class on extends Wu{constructor(n,i=0){n=n||ji.Sword;const o=fo[n];super(o.name,Vu(),li.Equipment,n,o.rarity,i,o.description);bt(this,"position");bt(this,"extraActions");bt(this,"ability");bt(this,"armorGrowthCoeff");bt(this,"piercingGrowthCoeff");bt(this,"actionCoeff");bt(this,"prefix");this.armorGrowthCoeff=o.armorGrowthCoeff,this.piercingGrowthCoeff=o.piercingGrowthCoeff,this.position=o.position,this.extraActions=o.extraActions,this.randomExtraActionsWeight(),this.ability=o.ability,this.actionCoeff=o.actionCoeff,this.ability.armor||(this.ability.armor=0),this.ability.piercing||(this.ability.piercing=0),this.ability.armor+=this.armorGrowthCoeff*this.level,this.ability.piercing+=this.piercingGrowthCoeff*this.level,this.prefix=zp(this.randomPrefixRarity(),o.position),this.applyPrefix()}randomExtraActionsWeight(){this.extraActions.forEach(n=>{n.weight=n.weight*(1+Math.random()*.4-.2)})}randomPrefixRarity(){let n=B.Common;for(let i=0;i<10;i++)Math.random()<.05?n-=1:Math.random()>.95&&(n+=1);return n<B.Common?n=B.Common:n>B.Mythical&&(n=B.Mythical),n}applyPrefix(){["str","int","con","siz","app","dex","armor","piercing"].forEach(o=>{var s;(s=this.prefix.ability)!=null&&s[o]&&(this.ability[o]=this.ability[o]?this.ability[o]+this.prefix.ability[o]:this.prefix.ability[o])}),[S.Attack,S.Defend,S.Dodge,S.Capture,S.Special,S.None].forEach(o=>{var s;(s=this.prefix.actionCoeff)!=null&&s[o]&&(this.actionCoeff[o]=this.actionCoeff[o]?{plus:this.actionCoeff[o].plus+this.prefix.actionCoeff[o].plus,multiply:this.actionCoeff[o].multiply*this.prefix.actionCoeff[o].multiply}:this.prefix.actionCoeff[o])}),this.extraActions.push(...this.prefix.extraActions),this.name=`${this.prefix.name}${this.name}`}levelup(){this.level++,this.ability.armor+=this.armorGrowthCoeff,this.ability.piercing+=this.piercingGrowthCoeff}}var Uu=(t=>(t.None="None",t.Heavy="Heavy",t.Light="Light",t.Sharp="Sharp",t.Huge="Huge",t.Masterpiece="Masterpiece",t.Mythical="Mythical",t.Epic="Epic",t.Holy="Holy",t.BeastHeart="BeastHeart",t.DragonForge="DragonForge",t.Sneaky="Sneaky",t))(Uu||{});const Li={None:{name:"",position:"AnyPosition",rarity:B.Common,extraActions:[],ability:{},actionCoeff:{}},Heavy:{name:"笨重的",position:"AnyPosition",rarity:B.Common,extraActions:[],ability:{dex:-1},actionCoeff:{}},Huge:{name:"巨大的",position:Vt.Hand,rarity:B.Common,extraActions:[],ability:{},actionCoeff:{[S.Attack]:{plus:2,multiply:1},[S.Dodge]:{plus:-1,multiply:1}}},Light:{name:"轻巧的",position:"AnyPosition",rarity:B.Common,extraActions:[],ability:{},actionCoeff:{[S.Dodge]:{plus:1,multiply:1}}},Sneaky:{name:"卑鄙的",position:Vt.Hand,rarity:B.Common,extraActions:[{actionType:I.SneakAttack,weight:.2}],ability:{},actionCoeff:{}},Sharp:{name:"锐利的",position:Vt.Hand,rarity:B.Rare,extraActions:[],ability:{piercing:1},actionCoeff:{[S.Attack]:{plus:1,multiply:1}}},Holy:{name:"有点神圣的",position:"AnyPosition",rarity:B.Rare,extraActions:[{actionType:I.Repent,weight:.1}],ability:{},actionCoeff:{}},BeastHeart:{name:"野兽之心 ",position:"AnyPosition",rarity:B.Masterpiece,extraActions:[{actionType:I.PowerfulDigAttack,weight:.3}],ability:{con:1},actionCoeff:{}},Masterpiece:{name:"大师的杰作 ",position:"AnyPosition",rarity:B.Masterpiece,extraActions:[],ability:{con:1,piercing:5,armor:5},actionCoeff:{[S.Dodge]:{plus:1,multiply:1}}},DragonForge:{name:"龙息锻造的",position:Vt.Hand,rarity:B.Epic,extraActions:[{actionType:I.DragonBreath,weight:.1}],ability:{piercing:10},actionCoeff:{[S.Attack]:{plus:2,multiply:1}}},Epic:{name:"吟游诗人的歌谣中的",position:"AnyPosition",rarity:B.Epic,extraActions:[],ability:{piercing:10,armor:10},actionCoeff:{[S.Attack]:{plus:2,multiply:1},[S.Defend]:{plus:2,multiply:1}}},Mythical:{name:"神话时代的遗留物 ",position:"AnyPosition",rarity:B.Mythical,extraActions:[],ability:{str:1,dex:1,app:1,siz:1,con:1,int:1,piercing:5,armor:5},actionCoeff:{[S.Attack]:{plus:1,multiply:1},[S.Defend]:{plus:1,multiply:1},[S.Dodge]:{plus:1,multiply:1},[S.Capture]:{plus:1,multiply:1},[S.Special]:{plus:1,multiply:1}}}};function zp(t,e){const n=Object.keys(Li).filter(s=>Li[s].rarity===t&&(Li[s].position===e||Li[s].position==="AnyPosition")),i=Math.floor(Math.random()*n.length),o=n[i];return Li[o]||Li[Uu.None]}function Gp(t,e){const n=Object.keys(fo).filter(s=>fo[s].rarity===t&&!fo[s].canNotObtainFromChest),i=Math.floor(Math.random()*n.length),o=n[i];return new on(o,e)}function jp(t){const e=`
    <div class="tooltip-base tooltip-header">
      <h5 class="text-${B[t.rarity]}" style="font-weight: bold;">lv${t.level} ${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
      <p><strong>位置:</strong> ${t.position}</p>
      <br>
    </div>
  `;let n="";t.ability&&Object.keys(t.ability).length>0&&(n=`
    <div class="tooltip-abilities tooltip-extra">
      <p><strong>属性: </strong>
        ${Object.entries(t.ability).filter(([s,c])=>c).map(([s,c])=>`${s}: ${c}`).join(", ")}
      </p>
    </div>
  `);let i="";t.extraActions&&t.extraActions.length>0&&(i=`
      <div class="tooltip-extra-actions tooltip-extra">
        <p><strong>额外行动: </strong>
          ${t.extraActions.map(s=>`${Ut[s.actionType].name} (权重: ${s.weight.toFixed(2)})`).join(", ")}
      </div>
    `);let o="";return t.actionCoeff&&Object.keys(t.actionCoeff).length>0&&(o=`
      <div class="tooltip-action-coeff tooltip-extra">
        <p><strong>行动系数: </strong>
          ${Object.entries(t.actionCoeff).map(([s,c])=>`${s}: ${c.plus<0?"":"+"}${c.plus} ${c.multiply===1?"":"x"+c.multiply}`).join(", ")}
      </div>
    `),e+n+i+o}function ur(t,e){Math.random()<.1?e-=1:Math.random()<.05&&(e+=1),e=e<B.Common?B.Common:e,e=e>B.Mythical?B.Mythical:e;let n=Math.floor(t+10*(Math.random()-.5));return n<0&&(n=0),Gp(e,n)}class Ue extends Wu{constructor(e,n=0){e=e||Rt.Unknown;const i=Dl[e];super(i.name,Vu(),li.Consumable,e,i.rarity,n,i.description)}useItem(e){Dl[this.type].effect(e),e.pack=e.pack.filter(n=>n.uuid!==this.uuid)}}var Rt=(t=>(t.Unknown="Unknown",t.BrokenChest="BrokenChest",t.WoodenChest="WoodenChest",t.SilverChest="SilverChest",t.GoldChest="GoldChest",t.DiamondChest="DiamondChest",t.QuickRecoveryPotion="QuickRecoveryPotion",t.LifePotion="LifePotion",t.LargeLifePotion="LargeLifePotion",t.GiftboxAndLetter="GiftboxAndLetter",t))(Rt||{});const Dl={BrokenChest:{name:"破烂的木宝箱",rarity:B.Common,description:"一个破破烂烂的宝箱",effect:t=>{t.pack.push(ur(1,B.Common))}},WoodenChest:{name:"木质的宝箱",rarity:B.Rare,description:"一个有着漂亮的木质纹理的宝箱",effect:t=>{t.pack.push(ur(1,B.Rare))}},SilverChest:{name:"银色装饰的宝箱",rarity:B.Masterpiece,description:"这个宝箱上有着精细的银制装饰，银锈并不能掩盖它的华丽",effect:t=>{t.pack.push(ur(1,B.Masterpiece))}},GoldChest:{name:"黄金镶边的宝箱",rarity:B.Epic,description:"金光闪闪，这才叫宝箱！光是看着就让人心潮澎湃",effect:t=>{t.pack.push(ur(1,B.Epic))}},DiamondChest:{name:"华丽的宝石宝箱",rarity:B.Mythical,description:"无法用辞藻形容的华丽，你甚至害怕打开它会划伤上面美丽的宝石",effect:t=>{t.pack.push(ur(1,B.Mythical))}},Unknown:{name:"未知",rarity:B.Common,description:"未知",effect:t=>{}},QuickRecoveryPotion:{name:"神秘黄色药水",rarity:B.Epic,description:"看起来不像是这个世界的产物。非常的新鲜，非常的美味<p>自动回复速度提升15倍，持续1分钟</p>",effect:t=>{t.addStatus(ii.QuickRecovery,60,14),console.log("使用快速恢复秘药")}},LifePotion:{name:"生命秘药",rarity:B.Masterpiece,description:"只要没死，区区断胳膊断腿喝下去立马都能长回来。你有个疑问，这玩意儿到底是什么做的？<p>恢复50点生命值</p>",effect:t=>{t.recoverHp(50)}},LargeLifePotion:{name:"大瓶生命秘药",rarity:B.Epic,description:"普通的生命秘药一次只能让你长一只胳膊，而这大瓶装能让你一次全长回来。前提是你还有手可以拿它<p>恢复100点生命值</p>",effect:t=>{t.recoverHp(100)}},GiftboxAndLetter:{name:"礼物箱和一封信",rarity:B.Mythical,description:"一个礼物箱，上面还附了一封信，信上的字模糊不清",effect:t=>{for(let e=0;e<5;e++)t.pack.push(new Ue("QuickRecoveryPotion"));for(let e=0;e<10;e++)t.pack.push(new Ue("LifePotion"));for(let e=0;e<5;e++)t.pack.push(new Ue("LargeLifePotion"));t.pack.push(new on(ji.Sword)),t.pack.push(new on(ji.Rope))}}},Wp="data:image/gif;base64,R0lGODlhPAA8APYAAAQEBBgYGCcnJzEwMFoZAGkhCGspEGs1EHMxGXc4JXNFFHNSGXtCMXtjIVJSUmVlZXh4eIRKN4RSOotRRYtVRZRaUpdnVpxzZaV4aqV7c4yNMZSWRJSpQq2GeaXSUoiIiJmZma2MhLWMhLWUiryblqurq7i4uMWspc61rc64tda9utbFvcnJydzKydjY2Obb2+3n6vfv7/f37////4R7KWMZAL2lnMWlnO/m3vfv95y6SpzFSpzOUq3Pbd7Wzt7O1ntaIZlmZr3mhNbvre/33uve5gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAsAAAAADwAPAAAB/+AM4KDhIWGh4iJiouMjY6PkJGSk5EZLYMvFjCYMpSehTAIBh0vJwkEFoIxEh2frjMrBxoKCLIbBRYdDAQjr58dCj07HBw8PBwLChoHKb6ULwUbPcQcOjo7PB4aCDjOki8TBAcHCOUK5w0aCwzekScGCR0nKy0+LS0qJxenCd3tjR0KdIihKAaJBAz8/Ut0oQAKRzEiROi08FCHGs0ewUiQqmKhFjVISGpRQIXHQTIiVFA1g+IhFi5nZJh4cgaKAj9mwDBBsJCMny4+mCD0IsGJmhY6BgVB0MQmnTCimoBQAmXSkzEQPITxAECAAR9KlGARQ4YLFyUEAADggCIJBjH/261IsAnGBwEfHIg1QbblzgcBvroQ1CLBC48dJhBiAcKEi05xWTz44LJIgowLKXQk9BMRjMGcJ4isKGFEXEm5Ksq4fPiQjKeLUi+McTkRC9iKZP+j/dA1jNOHLPSaXds3CBcwWOQevru47989XQuvGIMBZkIueLo0i1uQDAqj/8lg0BuUiQ8gxrK4fTpi+X8RbCT6DCPGb0QvGFyqOH0R8EE/RNDaQhhg4EoLEnTnTQebUdLCBP+90oGBnzwYoSsTMPdMBAr68gIC+3kCQwQrVDQChK58J99CovliAYXtvCCgLyE06MwNFVz4yAmK/YNBBs6k0GM7FBzVkispSLCb/wQ55QBDCiromIgNFPzzggRF6LQPAxfkcEgOZXkX5iAiXPBPCwxsMoJhMFCAwZgxnGCBRBNYYAMMJAw4wwUa+oImQRgMF8MEIsDQQgcSCJdCCymIUMEFFrg0aInt/DnDDRb0VF0ECWCgp30bhTdDCxyemeYMEaXQyQoGUOADZ1HBMEIE0c0gQgQL+WCYIAelYEECos7g5A8qYGDAq4Ns1KcvEYVogQEW6ClDDC1ggEABJBZigwEKtWMBkN5J+6QFDIgWYrIMINDhKyOcasi4nbbQoQzGGnCuNyoUINJPPxUxaw0JXALDCzH9NAICKSBg0kI8GjDCPSqEkAACGUzQ6n0JL9RH0WsnFDBCdUb+MwIGDBRQQDnxDkyCBAUwEAIKGRtqgUBRMRCsMyNYsOgIJKSQMagwFIHCrwggFIEBE6QAagStLBSfDUDX2tK0L7RgQwcjpOAlVBSA2w4OCaigwsDr+hfDiwsV9sMPGXsSQ4ELkRBBEXR/kgMGZj4SCAAh+QQFBAA6ACwQAAMAHQAzAAAG/8CZcEgsGo/IoWwEG8ZGsqR01iJIcDHUhNAZtlC6sHhM1h0aiYRCwzlYSJZapkwPGxqbxkLRoHE8Hhx1dRE1CRMWGRgWFAx8CxFTQjcIFCsxRjEnFAWDZSeSLREML0kWCC2SQjIWCThHGAmlqkMXEVFEKKgzmLhHLL4xDB1lNjMwJphFMswuHyZEKQivQicTUc4gmCZNxzDfJhAlShEjQxXmMA8AAQMfJSUsMTIuLiUCAAAOuCESQjikwnwQ8MEBPBNhZshA9iBAOxdCVLiaYS3HEBYgTLiI4ksIiwcffMGIkGJGBgvKlHQkAgMikRgVSITBMIvWjDIWzE0QkWShKpcMXSaQSMLC0xgMGWQwGHpkoQyjY5TKHATCBYyinrpE4IlkIQwZMaDOmJDhiItkvujBoEMBFAUMR5B9ABGPBYuvmSKsmFHhQpKWMGLgPfJClkkKklYWScEgyogJFm0aeSyEhISUkod0sHBTBwXFkimbhApVRQTSqHVMSE16NevXsGPLnk27tu3buHPr3s27t+/fwIN3HhQEACH5BAUEADUALBAAAgAdACsAAAf/gDOCg4QyMIQwKoSLjIwnETGCLQwFL4Mrlo2NIwQTJBgGQAcTLS0YBCOajRYNNAoKGh46CgUIDQonqowTNEI9O8A7Ohw6OwotuoQxCBpEPcXBwDoImcknEwUcQ8/ROzwcCckzL9gUCQvFPME8PDpABamqLQkUyCoJBw0aHBsaGg0HEFQwcEGTD4IyBr0IYSFCggQMIgQh0QLGvA6MZDCwkHBRDBgvfryI0VHQjwSKCHVAcEgcIxIRSsJAkMslIxgRUAzqQGFQpJKMWACd0aHgjBgJUgiCYSLSIhlQXXwwsaiFhIQnErSUCiKSiZYwwjKFUAIRqRkZLCx9ACDAgA8l80qwIOnCRQkBAAA46CjDAokZFEQs/SDgg4O4JubOMGTiQQC3LgZh6KCxpiAWIEy4SDiUxYMPQEVwZJCy0NBBMCIvImEhRoQWTm02Yu26oiZDLke0fq2KRctkomVEKP0UxulGaQFbLg7CBQwWg2pIn17DAkYLgm+HlRGb+vQJuTBkaOSiaUkZzr1L5z3C6CKmH0DIZeH79KRDKSyon54axsfjM6AQ0wwrSPDbbbqQMIEgKCRQjWyEkDBdBxEcCOFi18wgXQYAuiRDCgnsJ+KI0snwAgPTxXYhahKQ6OKLMMYo44w01mjjjTiSKEOO6o3gg3qBAAA7",Vp="/otherworld114514/assets/dragon2-BZv29Gbk.gif",Up="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QDKRXhpZgAATU0AKgAAAAgABgESAAMAAAABAAEAAAEaAAUAAAABAAAAVgEbAAUAAAABAAAAXgEoAAMAAAABAAIAAAITAAMAAAABAAEAAIdpAAQAAAABAAAAZgAAAAAAAABIAAAAAQAAAEgAAAABAAeQAAAHAAAABDAyMjGRAQAHAAAABAECAwCgAAAHAAAABDAxMDCgAQADAAAAAQABAACgAgAEAAAAAQAAAIqgAwAEAAAAAQAAAIikBgADAAAAAQAAAAAAAAAAAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wgARCACIAIoDASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAAAAIDBAUGAQf/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB0rdY+WKG0C2+poU0sOcBaHGR1lytJll5pcRtTnSk4/NqM606cYRIHYDsqOV0hsnRYksW5HeMTH0OePQpcKaZ59aiUy7Gqti6RmE2HHCBJdVGWhaCBV88h08/laG0DoFLLaXDcppazQLA4kWAAAAEKbCmHQCr5SXVjUeXDl0K8jfxOjc5UnrfR0SoACBXT8SejkeQeY2dYGwk47WDsiaHErDh0AAAz4zmOpNNqMLuTzLllwr+zwk3WdDcOYNZteYjhrqioBEKwCv5Yg5uclrToA1CkVxYMw0Fm/SyyRJp3xU2msyYAAAAAAIaA4AdWAy+Ay+AsAAAAP/EACsQAAIBAwMEAgIABwAAAAAAAAIDAQAEERITFAUQICEiMDRBIyQxMjNCQ//aAAgBAQABBQKZiIUcMGpmKnT2/dfufUV+qbeKTQX9udRMTHbqjNNral/LQXx7T6gfdTOID3T/AIqH3AfKh/t6gnWiun3Uqb26guX0kSSEfGKmcQGWl6GJLcIfjDDlrZLQtBfBc5rMFVwvadVqWu2phwNZjC/4k1OWMIwCtBsoUxFNHRC40we42SXlK/jNxO0N6AuVVnGm1qB3GyeVhGhLC0iVxtibTtnbhGoZnBBrbiBi6vDym/aslkLQKNQs127bK0JzOw+kjbxp/wBSHcJtstoccsaImsVEYqfcXiIaKen66WArGmJCb3v/AMXr11BSJJ+u5nHhiKWzFPDUNsUEPcc+d36t+8TmCxjSWoS4rhKCjse7qnOIzjwvfw+mXOseyLyM/wBYWXp0ZYtpoJF0DqMzXUXA1DBmteajPh1CcWSzlZpZDldk3hrhExcRNuUlwhyu2Wsq048+p3AyNdJd4KaaitL8W/VeX8DEznt0383xR1By6X1JJSLALtuBW6umXiF03qlNuXNnv0382uDc1wbmuFc1wrmuFc1wrmuFdVxLuuFdVwrmuFc1wrmuFc1wbmuDc1wbmrG1eu67meiHXMpkWMKH3OzMvxMHqjdZuSXsbrVWqdz6G/5HjJ3KfYXA62nHuBED2sAUCp8rZCZ9O+ghgolK5mLdUQSFlOyGdsa4ydMgJVx040xq8v/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8BI//EABcRAQADAAAAAAAAAAAAAAAAAAEAQFD/2gAIAQIBAT8BtsHV/8QAMxAAAQMCAwYFAwIHAAAAAAAAAQACERIhAxAxICIyM0FREzBhcZFCYoEjUnKCkqGxwdH/2gAIAQEABj8Ck6KtumV9qcpVlGJM+y4491IM50/uKZHZHYlSpRycMq+rcqXHcdnhtadNVQNFfP7coGmQaOFSnOOTh0Tm5Ybj2yuvwi76RplSFSFvWarFcRKqcpO6xCFELxALdV42HeNcsMemV9AnBBuVLeN3Vb7U0lsFXUq6gNgdJV7tTcQIg9U7DBIQc4bgzc/uped5Qg1Um0ISQ+NKlvDYApMjqpxLNGgVLdMmOc0Gof32I9U0yRCof+CifLwz942D6qjE+VI6bN9su7EHYkK+igONJUfSVIz3IhWF1fZxfZeE83Gme9bupGhUFFbtwoFndlJbU30WjvhWuoCvsYiD26hB46506hV4Zhw1CmVJcqm6+T4Lb3vk7CPuNirDMFU4m6//AD5RZg3PdXyZtAO32+qh0tW64H85cbflcxvyuYD6BfpN/JW887DMuUVyiuUVyiuUVyiuUVwO+VyiuUVyiuUVyiuUVyiuUU1z8MgDY7k6BQ5rT/MpbhtI/jQlrf6lHhk2kwUCBYiVR4bdJ41pZWDNY41S4a6eThe/+k4UkinopJcAwGoN91iANJHh6rRsUNFwgD1wuvVeNGHw6QjTuzhq/Cb6j/iwpM6+TBUuFR7lRQES5oJNlp0jVaT6lRQFceiigKrrt//EACcQAQACAgIBAwUBAQEBAAAAAAEAESExQVEQIHHxYYGRobEw4cHR/9oACAEBAAE/IWbgMrOXjT341YXDxevjlH7CJZHNHEHThKFMeiHqy/TUoSDyecE3V9oa2uEsbm/KyM3PmHchfenuEH4okcgz9EtD3/bwCddXs+VhASrqV3visSjy4hrMC5gysCI3OCNxOD2ZoHOXuCi4lWCFlz3bhcgXhi8COPaDUXYE+AF/GFNr3RYHg+rx1FzAbArgmGs4iA1R7Q7G127gNLeI6O4pr90Ro79Zl3iNTruGM7g6hFWKfFrJF1johhdT3GHnLIBlpVnNyypslxF8Y1jNYJlxghRdMrkQJfJkmbG8wdCFMFaRr3JVFa1eYFFHgdpChktQ5OI/CO4YDoTiYQvgamChZEeIMDH0mgdQnnxB5gs6Hi6sIX0gAUFedBaM5jhOk3bX7kN9mv8AP2OX5x6FgcbT+e7TOX0RTTaOfLgiV+sxb/sEGyzyMzZFxVg33qGoV3Q2tj4Zh07r5i/vJgUp59U3FzNfk8/UqFNgEyG1qdwGPBU8Rv7wiT1DmRZdUbZ9hANBv6kx639PQNxqyiP5lucd78ebmJU4bDMKCDtTcPg05m4DTUoNYgB6d6hZ9S5mVv0BWqfuUNfZx/kVLhesZKrXx/R/PTcuDRitvzK2/VdSgy3Ua3Edh9k+NwZtB9SIlVsNI3Q0RfP9P88fLE+WJ8+T58nz5PnyAaH7nh3yZPnyfPk+fJ8+T5cny5PlyWDGtU69FTixXYw0gT6f1UCsmk/4lMQpdYp+ouQDBkD/ANncXl694cwfgfiIYBpu9R76ezf9QKkKXX9/47fA/wCoZCjkDTmYVioVm0fSDHNNMsKokKKWNcwMy8hhYixblHP/APYU1uJXLctfCVWZYKFEGb9v8an2Sl+kIBMM1iB1DbqbVtKWqjUBAbArY17zoaMWa1lzUxKVTIpkVfr/AP/aAAwDAQACAAMAAAAQmyUowcwwIUUgGlRaSo6M2Z77geg/YAIAAAkA9kLicAAgIWyAgwAAIsUcy4kc8cfAkXSEEAAAAAcA8cAAA//EABoRAQABBQAAAAAAAAAAAAAAAAEAESAwQFD/2gAIAQMBAT8Q1q2jEwjzP//EAB0RAAMAAgIDAAAAAAAAAAAAAAABERAwICFBUFH/2gAIAQIBAT8QJrpaJ0uW5ijJ94rUdEelpMTfn1f/xAAmEAEAAgIBAgYDAQEAAAAAAAABABEhMUFRYRBxgbHB8CAwkdGh/9oACAEBAAE/EBUqoaA6wETnGKocxp3UaXehEFXGO2ZZNE3Bs/SVnUz5TMG9jHRuwe8xUsLK4iBxWtN+sB3NgF/61DGgSWPizrhPyZfYgT0RTvUoh4JlbW3nwFFxG8BgRG+DR1l2C7zKWLoKjh2zhkMoY2guUjDudehd8iXtYmQBC3dpIIgjY+CoinoVj5hGot7S+UYOr/1EpRs1HGuJ1cvvDR7jggO4TfWAZoaOsIhy+uOkDwKf2EWsnMNsWJ6IXaKT01EXVnHnhGyMJkicW8vfXguAK0CWkAytwTzdFy5YtWsY7M8zgmEUbsvnLKQdtX/ss4w4EuZMKyPpBBpC6OOxBaULpz5oVqBou/OL+yRUhIjVUg+4Ark+bygsc56RCQFR4vwSq73vLJYae0BTVvVjJWxLfqkg4ejLQoHWxTryxRKAxS/SFgsxqbZS6COU4ZUupmfcKgOSKQpo6O0GEAo9GBPb/KSmBt3QOOJruRyVcteUgAAAUB4FYCyB7R74FgaCLFLcLgIa2O0w3QN+kQo07L6pumLAXEYYMhiCF5csFNThirtVgVyI0JTku5ZWb+DwCOUBd5PaAhA0B4iao3+p0igvV6YDYBY6gQpg0/WAx3bPSy9/wVpjwl0fJhtDvGAnKnEKy/oPFWNXXE6hXj8yhGrvhM0AEsSx8SepP4x4KTkrUFxb1ZeSIeG05pgZQXjwCmN8SlcviswtIFMDxGmKnA1f487r9yMrjs9QeniEKFgOF6k6jcrp1gFkXl1JlhQydSKERu8S+CJb8EG3bXuAwAjO70lDfYvI15xicnQCLTNuVn4UCI7uVTEqOVVczWLmOrk8LlVJatyET4Qbx38oMQORiALKgqcYVJiARLGNY1yOGAEBboSwoy77/jX2gC4RwRRioZ7+bpPaZ8BRjNemcDonJC6XAyz9unl+lQFWgyrBkIUXHVXePwRau1l3Fp5L/wBT1PEa1BiI0nJFR8ponb/UDXXBl9VamTOMBKxQKgDln/f4vmfXPmXzPTlXKnXerjsf7Hy/hUPQiPMXw+j3T7qPD9zvPqnzPvHzPuHzPrHzNv2PWJ212L5i5S55f9i12v26x+8e8x/Y/s+sfMfvHvPrHzPrHzPrHzNL8KC0cMrxJAxCOU+OsufwKsaLWyosQzB+XdiM5hEkEVbjh3lmHbNIUpU4dJeY0SA2LAd77xARVN0LV65Vr1WsEcPbvECNSgljpyGCRN4rtDB8rP04pwErosD/ALKfIbBalimKzLIsKN7gAOwuy+kOYy0UgF2llW+cFGssuEAbcTE0h2UMVe4xAOIlKO+eai4UMRgtgbFo6Qg4I1GI332ktqtEC44GP0r7RTukTSPDMi4o2oXXblgQa3K1Wr7sLuFPQug6bneVuQ5BdKXvcsICUb2y2ZhAwAIZxrO40RXYYLYPEaoalIUlaz6QHMEsbo6HT8//2Q==";var ee=(t=>(t.Player="Player",t.Player114514="Player114514",t.FullPowerPlayer114514="FullPowerPlayer114514",t.Slime="Slime",t.Dragon="Dragon",t.AngryDragon="AngryDragon",t.WeakDragon="WeakDragon",t.Wolf="Wolf",t.DiscardedGolem="DiscardedGolem",t.Ayulsa="Ayulsa",t.Toono="Toono",t.Horse="Horse",t.Goblin="Goblin",t.GoblinLeader="GoblinLeader",t))(ee||{});const ni={Player:{typeName:"人类",description:"你",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:I.Attack,weight:.5},{actionType:I.Capture,weight:.1},{actionType:I.Defend,weight:.2},{actionType:I.Dodge,weight:.2}],dropItems:[]},Player114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:I.Attack,weight:.5},{actionType:I.Capture,weight:.1},{actionType:I.Defend,weight:.2},{actionType:I.Dodge,weight:.2},{actionType:I.PowerfulDigAttack,weight:.03},{actionType:I.Yarimasune,weight:.03},{actionType:I.Repent,weight:.03},{actionType:I.SleepyTea,weight:.03}],dropItems:[]},FullPowerPlayer114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:I.PowerfulDigAttack,weight:.3},{actionType:I.Yarimasune,weight:.3},{actionType:I.Repent,weight:.3},{actionType:I.SleepyTea,weight:.3}],dropItems:[]},Toono:{typeName:"远野",description:"野兽学派的哲学家后辈",abilityCoeff:{str:{base:10,growth:.1},int:{base:5,growth:.1},con:{base:10,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:I.PowerfulDigAttack,weight:.4},{actionType:I.Counter,weight:.4},{actionType:I.Dodge,weight:.2}],dropItems:[{type:ji.ToonoDefeaterBadge,weight:1}]},Slime:{typeName:"史莱姆",description:"一种行动缓慢的软体生物，武器打上去没有什么手感",abilityCoeff:{str:{base:3,growth:.05},int:{base:0,growth:0},con:{base:3,growth:.1},siz:{base:2,growth:0},app:{base:0,growth:0},dex:{base:1,growth:.05},armor:{base:25,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:I.Attack,weight:1},{actionType:I.Defend,weight:1},{actionType:I.Dazed,weight:2}],dropItems:[{type:null,weight:.6},{type:Rt.BrokenChest,weight:.4},{type:Rt.WoodenChest,weight:.02},{type:Rt.SilverChest,weight:.001}]},Dragon:{typeName:'"池沼之主"龙',image:Wp,description:"生态位的顶端，人类在它庞大的身躯面前就像一只蝼蚁。它正用着锐利的目光打量着你，让你不寒而栗。<br>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。",abilityCoeff:{str:{base:10,growth:.2},int:{base:4,growth:.1},con:{base:20,growth:.8},siz:{base:20,growth:.2},app:{base:4,growth:.1},dex:{base:4,growth:.1},armor:{base:50,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:I.Bite,weight:.1},{actionType:I.PowerAttack,weight:.2},{actionType:I.Counter,weight:.2},{actionType:I.DragonBreath,weight:.2},{actionType:I.QuickAttack,weight:.2},{actionType:I.Defend,weight:.1}],dropItems:[]},AngryDragon:{typeName:"愤怒的龙",image:Vp,description:"龙彻底被激怒了，一只蝼蚁居然让它受了伤。它有些虚弱，但是攻击更加狂暴了",abilityCoeff:{str:{base:15,growth:.3},int:{base:3,growth:.05},con:{base:10,growth:.4},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:6,growth:.15},armor:{base:25,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:I.Bite,weight:.1},{actionType:I.PowerAttack,weight:.2},{actionType:I.DragonBreath,weight:.2},{actionType:I.QuickAttack,weight:.2}],dropItems:[]},WeakDragon:{typeName:"虚弱的龙",image:Up,description:"它抛弃了自己作为龙的尊严，现在一心只想活下去",abilityCoeff:{str:{base:5,growth:.1},int:{base:6,growth:.15},con:{base:5,growth:.2},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:4,growth:.1},armor:{base:20,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:I.Bite,weight:.2},{actionType:I.Counter,weight:.3},{actionType:I.DragonBreath,weight:.2},{actionType:I.Defend,weight:.3}],dropItems:[{type:Rt.SilverChest,weight:.95},{type:Rt.GoldChest,weight:.05},{type:Rt.DiamondChest,weight:.002}]},Wolf:{typeName:"孤狼",description:"一匹行动敏捷的孤狼，对于普通人来说，它是一种危险的生物",abilityCoeff:{str:{base:5,growth:.1},int:{base:2,growth:.05},con:{base:5,growth:.15},siz:{base:4,growth:.05},app:{base:2,growth:0},dex:{base:6,growth:.15},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:I.Bite,weight:1},{actionType:I.QuickAttack,weight:.5},{actionType:I.SpinAttack,weight:.5}],dropItems:[{type:Rt.BrokenChest,weight:.8},{type:Rt.WoodenChest,weight:.2},{type:Rt.SilverChest,weight:.01}]},DiscardedGolem:{typeName:"废弃的岩石魔像",description:"一尊不知何时被废弃的岩石魔像，在风雨的侵蚀下，它的巨大的身躯上布满了裂痕和苔藓。它不该会动呀？",abilityCoeff:{str:{base:15,growth:.3},int:{base:0,growth:0},con:{base:10,growth:.4},siz:{base:15,growth:0},app:{base:0,growth:0},dex:{base:0,growth:0},armor:{base:75,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:I.Dazed,weight:2},{actionType:I.Defend,weight:1},{actionType:I.PowerAttack,weight:.5},{actionType:I.Counter,weight:.5}],dropItems:[{type:Rt.BrokenChest,weight:.2},{type:Rt.WoodenChest,weight:.8},{type:Rt.SilverChest,weight:.04},{type:Rt.GoldChest,weight:.002}]},Ayulsa:{typeName:"???",description:"好像并不来自于这个世界",abilityCoeff:{str:{base:5,growth:.2},int:{base:50,growth:.2},con:{base:5,growth:.4},siz:{base:5,growth:.2},app:{base:5,growth:.2},dex:{base:5,growth:.2},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:I.GodStrike,weight:1},{actionType:I.ShredFlower,weight:1},{actionType:I.PsyKick,weight:1},{actionType:I.PsyExplosion,weight:1},{actionType:I.PsyInvisibleSword,weight:1},{actionType:I.PsyDodge,weight:1}],dropItems:[{type:Rt.DiamondChest,weight:1}]},Horse:{typeName:"马 (?)",description:"看起来好像不是普通的马",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:I.SneakAttack,weight:1},{actionType:I.LightningFiveStrikes,weight:1}],dropItems:[{type:Rt.BrokenChest,weight:.2},{type:Rt.WoodenChest,weight:.8},{type:Rt.SilverChest,weight:.04},{type:Rt.GoldChest,weight:.002}]},Goblin:{typeName:"哥布林",description:"绿色皮肤，矮小且狡猾的类人种族，以偷窃和抢劫为生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:I.SneakAttack,weight:1},{actionType:I.LightningFiveStrikes,weight:1}],dropItems:[{type:Rt.BrokenChest,weight:.2},{type:Rt.WoodenChest,weight:.8},{type:Rt.SilverChest,weight:.04},{type:Rt.GoldChest,weight:.002}]},GoblinLeader:{typeName:"哥布林头目",description:"哥布林首领，一种矮小的类人种族，通常以小队形式出现，以偷窃和抢劫为生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:I.SneakAttack,weight:1},{actionType:I.LightningFiveStrikes,weight:1}],dropItems:[]}};class Qu{constructor(e,n,i,o){bt(this,"isPlayer",!1);bt(this,"name");bt(this,"type");bt(this,"image");bt(this,"level");bt(this,"individualStrength");bt(this,"maxHealth");bt(this,"health");bt(this,"ability");bt(this,"statuses",[]);bt(this,"pack",[]);bt(this,"equipments",{body:null,hand:null,foot:null,accessory:null});bt(this,"actions");this.name=e,this.type=n,this.level=i,this.individualStrength=o,this.ability=this.calculateAbility(),this.maxHealth=this.ability.con*10+this.ability.siz*5,this.health=this.maxHealth,this.actions=ni[this.type].actions}calculateAbility(){const e=ni[this.type].abilityCoeff,n=["str","int","con","siz","app","dex","armor","piercing"],i={};return n.forEach(o=>{i[o]=e[o].base+e[o].growth*this.level*this.individualStrength}),i}levelup(){this.level++,this.ability=this.calculateAbility();const e=this.maxHealth;this.maxHealth=this.ability.con*10+this.ability.siz*5,this.recoverHp(this.maxHealth-e)}getRandomAction(){const e=Math.random(),n=this.getActions(),i=n.reduce((s,c)=>s+c.weight,0);let o=0;for(const s of n)if(o+=s.weight,e<o/i)return Ut[s.actionType];return Ut[I.Dazed]}wearEquipment(e){this.equipments[e.position]&&this.removeEquipment(e.position),this.equipments[e.position]=e,this.pack.splice(this.pack.indexOf(e),1)}removeEquipment(e){this.equipments[e]&&(this.pack.push(this.equipments[e]),this.equipments[e]=null)}discardItem(e){this.pack.splice(this.pack.indexOf(e),1)}loseHp(e){this.health-=e,this.health<0&&(this.health=0)}recoverHp(e){this.health+=e,this.health>this.maxHealth&&(this.health=this.maxHealth)}getExtraAbility(){const e={str:0,int:0,con:0,siz:0,app:0,dex:0,armor:0,piercing:0},n=["str","int","con","siz","app","dex","armor","piercing"];for(const i of Object.values(this.equipments))i&&n.forEach(o=>{var s;e[o]+=((s=i.ability)==null?void 0:s[o])??0});return e}getAbility(){const e={...this.ability},n=["str","int","con","siz","app","dex","armor","piercing"],i=this.getExtraAbility();for(const o of n)e[o]+=i[o];return e}getExtraActions(){const e=[];for(const n of Object.values(this.equipments))n&&e.push(...n.extraActions);return e}getActions(){const e=[...this.actions];return e.push(...this.getExtraActions()),e}getActionCoeff(e){var i,o;const n={plus:0,multiply:1};for(const s of Object.values(this.equipments))s&&(n.plus+=((i=s.actionCoeff[e])==null?void 0:i.plus)??0,(o=s.actionCoeff[e])!=null&&o.multiply&&(n.multiply+=s.actionCoeff[e].multiply-1));return n}addStatus(e,n,i){const o=zi[e],s={name:o.name,description:o.description,type:e,priority:o.priority,durationType:o.durationType,category:o.category,duration:n,statusLevel:i};this.statuses.push(s)}clearStatus(){this.statuses=this.statuses.filter(e=>e.durationType===Ae.Permanent)}clearStatusByCategory(e){this.statuses=this.statuses.filter(n=>n.category!==e)}updateStatusesOnTurnEnd(){this.statuses=this.statuses.filter(e=>(e.durationType===Ae.Turn&&(e.duration-=1),e.duration>0))}updateStatusesOnHitStart(){this.statuses=this.statuses.filter(e=>(e.durationType===Ae.Hit&&(e.duration-=1),e.duration>0))}applySecondStatuses(){this.statuses.sort((e,n)=>e.priority-n.priority).forEach(e=>{if(e.category===Zt.OnSecond){const n=zi[e.type].effect;n(this,e.statusLevel)}}),this.statuses=this.statuses.filter(e=>(e.durationType===Ae.Second&&(e.duration-=1),e.duration>0))}}class Wi extends Qu{constructor(n,i){n=n||"吴田所",i=i||ee.Player;super(n,i,0,1);bt(this,"log",[]);bt(this,"tempLog",[]);bt(this,"capturedMonster",[]);bt(this,"isAtHome",!0);bt(this,"exp",0);bt(this,"isPlayer",!0);bt(this,"currentMapData",{currentRegionId:"ruin",currentNodeId:null,goingToNodeId:null,visitedNodeIdList:[],boss:[],isCleared:!1});bt(this,"unlockedRegionIdList",["ruin"]);bt(this,"unlockedNodeIdList",[])}getNextLevelExp(){return this.level<=10?100:this.level<=20?100+(this.level-10)*40:500*Math.pow(1.2,this.level-20)}checkLevelUp(){let n=this.getNextLevelExp(),i=!1;for(;this.exp>=n;)this.exp-=n,this.levelup(),i=!0,n=this.getNextLevelExp();return i}getExpDisplay(){const n=this.getNextLevelExp();return`
      <div class="progress" style="height: 2px; position: relative;">
        <div class="progress-bar" role="progressbar" style="width: ${Math.min(100,this.exp/n*100)}%;"
             aria-valuenow="${this.exp}" aria-valuemin="0" aria-valuemax="${n}">
        </div>
      </div>
    `}getHealthDisplay(){const n=Math.min(100,this.health/this.maxHealth*100),i=this.ability.con/5*this.maxHealth/900;return`
    <div class="progress" style="height: 20px; position: relative; background-color: #444;">
      <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: ${n}%;"
           aria-valuenow="${this.health}" aria-valuemin="0" aria-valuemax="${this.maxHealth}">
      </div>
      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
        <div style="text-align: center; line-height: 20px; font-size: 0.9rem; font-weight: bold; color: #fff;">
          hp: ${this.health.toFixed(1)} / ${this.maxHealth.toFixed(1)}
        </div>
        <div style="position: absolute; top: 0; right: 5px; height: 100%; display: flex; align-items: center; font-size: 0.9rem; font-weight: bold; color: #fff;">
          +${i.toFixed(2)}
        </div>
      </div>
    </div>
  `}updateHealthDisplay(){const n=document.getElementById("health-display");n&&(n.innerHTML=this.getHealthDisplay())}autoRecoverHpDot(n=1){const i=this.ability.con/5*this.maxHealth/900*n;this.recoverHp(i)}addLog(n){this.log.push(n)}getLogs(){return this.log.join("<br>")}getLastNLog(n){return this.log.slice(-n).join("<br>")}addTempLog(n){this.tempLog.push(n)}getTempLogs(){return this.tempLog.join("<br>")}clearTempLogs(){this.tempLog=[]}joinTempLogs(){this.log.push(this.tempLog.join("<br>")),this.tempLog=[]}clearCurrentMapData(){this.currentMapData.currentNodeId=null,this.currentMapData.goingToNodeId=null,this.currentMapData.visitedNodeIdList=[],this.currentMapData.boss=[],this.currentMapData.isCleared=!1}goToRegion(n){this.unlockedRegionIdList.includes(n)&&(this.clearCurrentMapData(),this.currentMapData.currentRegionId=n)}goToNode(n){this.currentMapData.currentNodeId=n,this.currentMapData.visitedNodeIdList.includes(n)||this.currentMapData.visitedNodeIdList.push(n),this.currentMapData.goingToNodeId=null,this.unlockedNodeIdList.includes(n)||this.unlockedNodeIdList.push(n)}}var wt;(function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(wt||(wt={}));var Qp=function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return t.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},t.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.findTransformMetadatas=function(e,n,i){return this.findMetadatas(this._transformMetadatas,e,n).filter(function(o){return!o.options||o.options.toClassOnly===!0&&o.options.toPlainOnly===!0?!0:o.options.toClassOnly===!0?i===wt.CLASS_TO_CLASS||i===wt.PLAIN_TO_CLASS:o.options.toPlainOnly===!0?i===wt.CLASS_TO_PLAIN:!0})},t.prototype.findExcludeMetadata=function(e,n){return this.findMetadata(this._excludeMetadatas,e,n)},t.prototype.findExposeMetadata=function(e,n){return this.findMetadata(this._exposeMetadatas,e,n)},t.prototype.findExposeMetadataByCustomName=function(e,n){return this.getExposedMetadatas(e).find(function(i){return i.options&&i.options.name===n})},t.prototype.findTypeMetadata=function(e,n){return this.findMetadata(this._typeMetadatas,e,n)},t.prototype.getStrategy=function(e){var n=this._excludeMetadatas.get(e),i=n&&n.get(void 0),o=this._exposeMetadatas.get(e),s=o&&o.get(void 0);return i&&s||!i&&!s?"none":i?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},t.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},t.prototype.getExposedProperties=function(e,n){return this.getExposedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===wt.CLASS_TO_CLASS||n===wt.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===wt.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.getExcludedProperties=function(e,n){return this.getExcludedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===wt.CLASS_TO_CLASS||n===wt.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===wt.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(e,n){var i=e.get(n),o;i&&(o=Array.from(i.values()).filter(function(A){return A.propertyName!==void 0}));for(var s=[],c=0,u=this.getAncestors(n);c<u.length;c++){var f=u[c],p=e.get(f);if(p){var h=Array.from(p.values()).filter(function(A){return A.propertyName!==void 0});s.push.apply(s,h)}}return s.concat(o||[])},t.prototype.findMetadata=function(e,n,i){var o=e.get(n);if(o){var s=o.get(i);if(s)return s}for(var c=0,u=this.getAncestors(n);c<u.length;c++){var f=u[c],p=e.get(f);if(p){var h=p.get(i);if(h)return h}}},t.prototype.findMetadatas=function(e,n,i){var o=e.get(n),s;o&&(s=o.get(i));for(var c=[],u=0,f=this.getAncestors(n);u<f.length;u++){var p=f[u],h=e.get(p);h&&h.has(i)&&c.push.apply(c,h.get(i))}return c.slice().reverse().concat((s||[]).slice().reverse())},t.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var n=[],i=Object.getPrototypeOf(e.prototype.constructor);typeof i.prototype<"u";i=Object.getPrototypeOf(i.prototype.constructor))n.push(i);this._ancestorsMap.set(e,n)}return this._ancestorsMap.get(e)},t}(),ue=new Qp;function Kp(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function Yp(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ll=function(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,s;i<o;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};function qp(t){var e=new t;return!(e instanceof Set)&&!("push"in e)?[]:e}var ki=function(){function t(e,n){this.transformationType=e,this.options=n,this.recursionStack=new Set}return t.prototype.transform=function(e,n,i,o,s,c){var u=this;if(c===void 0&&(c=0),Array.isArray(n)||n instanceof Set){var f=o&&this.transformationType===wt.PLAIN_TO_CLASS?qp(o):[];return n.forEach(function(L,k){var F=e?e[k]:void 0;if(!u.options.enableCircularCheck||!u.isCircular(L)){var Y=void 0;if(typeof i!="function"&&i&&i.options&&i.options.discriminator&&i.options.discriminator.property&&i.options.discriminator.subTypes){if(u.transformationType===wt.PLAIN_TO_CLASS){Y=i.options.discriminator.subTypes.find(function(ct){return ct.name===L[i.options.discriminator.property]});var m={newObject:f,object:L,property:void 0},V=i.typeFunction(m);Y===void 0?Y=V:Y=Y.value,i.options.keepDiscriminatorProperty||delete L[i.options.discriminator.property]}u.transformationType===wt.CLASS_TO_CLASS&&(Y=L.constructor),u.transformationType===wt.CLASS_TO_PLAIN&&(L[i.options.discriminator.property]=i.options.discriminator.subTypes.find(function(ct){return ct.value===L.constructor}).name)}else Y=i;var R=u.transform(F,L,Y,void 0,L instanceof Map,c+1);f instanceof Set?f.add(R):f.push(R)}else u.transformationType===wt.CLASS_TO_CLASS&&(f instanceof Set?f.add(L):f.push(L))}),f}else{if(i===String&&!s)return n==null?n:String(n);if(i===Number&&!s)return n==null?n:Number(n);if(i===Boolean&&!s)return n==null?n:!!n;if((i===Date||n instanceof Date)&&!s)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(Kp().Buffer&&(i===Buffer||n instanceof Buffer)&&!s)return n==null?n:Buffer.from(n);if(Yp(n)&&!s)return new Promise(function(L,k){n.then(function(F){return L(u.transform(void 0,F,i,void 0,void 0,c+1))},k)});if(!s&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!i&&n.constructor!==Object&&(!Array.isArray(n)&&n.constructor===Array||(i=n.constructor)),!i&&e&&(i=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);var p=this.getKeys(i,n,s),h=e||{};!e&&(this.transformationType===wt.PLAIN_TO_CLASS||this.transformationType===wt.CLASS_TO_CLASS)&&(s?h=new Map:i?h=new i:h={});for(var A=function(L){if(L==="__proto__"||L==="constructor")return"continue";var k=L,F=L,Y=L;if(!_.options.ignoreDecorators&&i){if(_.transformationType===wt.PLAIN_TO_CLASS){var m=ue.findExposeMetadataByCustomName(i,L);m&&(Y=m.propertyName,F=m.propertyName)}else if(_.transformationType===wt.CLASS_TO_PLAIN||_.transformationType===wt.CLASS_TO_CLASS){var m=ue.findExposeMetadata(i,L);m&&m.options&&m.options.name&&(F=m.options.name)}}var V=void 0;_.transformationType===wt.PLAIN_TO_CLASS?V=n[k]:n instanceof Map?V=n.get(k):n[k]instanceof Function?V=n[k]():V=n[k];var R=void 0,ct=V instanceof Map;if(i&&s)R=i;else if(i){var nt=ue.findTypeMetadata(i,Y);if(nt){var Ct={newObject:h,object:n,property:Y},Et=nt.typeFunction?nt.typeFunction(Ct):nt.reflectedType;nt.options&&nt.options.discriminator&&nt.options.discriminator.property&&nt.options.discriminator.subTypes?n[k]instanceof Array?R=nt:(_.transformationType===wt.PLAIN_TO_CLASS&&(R=nt.options.discriminator.subTypes.find(function(G){if(V&&V instanceof Object&&nt.options.discriminator.property in V)return G.name===V[nt.options.discriminator.property]}),R===void 0?R=Et:R=R.value,nt.options.keepDiscriminatorProperty||V&&V instanceof Object&&nt.options.discriminator.property in V&&delete V[nt.options.discriminator.property]),_.transformationType===wt.CLASS_TO_CLASS&&(R=V.constructor),_.transformationType===wt.CLASS_TO_PLAIN&&V&&(V[nt.options.discriminator.property]=nt.options.discriminator.subTypes.find(function(G){return G.value===V.constructor}).name)):R=Et,ct=ct||nt.reflectedType===Map}else if(_.options.targetMaps)_.options.targetMaps.filter(function(G){return G.target===i&&!!G.properties[Y]}).forEach(function(G){return R=G.properties[Y]});else if(_.options.enableImplicitConversion&&_.transformationType===wt.PLAIN_TO_CLASS){var It=Reflect.getMetadata("design:type",i.prototype,Y);It&&(R=It)}}var St=Array.isArray(n[k])?_.getReflectedType(i,Y):void 0,Tt=e?e[k]:void 0;if(h.constructor.prototype){var E=Object.getOwnPropertyDescriptor(h.constructor.prototype,F);if((_.transformationType===wt.PLAIN_TO_CLASS||_.transformationType===wt.CLASS_TO_CLASS)&&(E&&!E.set||h[F]instanceof Function))return"continue"}if(!_.options.enableCircularCheck||!_.isCircular(V)){var W=_.transformationType===wt.PLAIN_TO_CLASS?F:L,O=void 0;_.transformationType===wt.CLASS_TO_PLAIN?(O=n[W],O=_.applyCustomTransformations(O,i,W,n,_.transformationType),O=n[W]===O?V:O,O=_.transform(Tt,O,R,St,ct,c+1)):V===void 0&&_.options.exposeDefaultValues?O=h[F]:(O=_.transform(Tt,V,R,St,ct,c+1),O=_.applyCustomTransformations(O,i,W,n,_.transformationType)),(O!==void 0||_.options.exposeUnsetFields)&&(h instanceof Map?h.set(F,O):h[F]=O)}else if(_.transformationType===wt.CLASS_TO_CLASS){var O=V;O=_.applyCustomTransformations(O,i,L,n,_.transformationType),(O!==void 0||_.options.exposeUnsetFields)&&(h instanceof Map?h.set(F,O):h[F]=O)}},_=this,T=0,z=p;T<z.length;T++){var M=z[T];A(M)}return this.options.enableCircularCheck&&this.recursionStack.delete(n),h}else return n}},t.prototype.applyCustomTransformations=function(e,n,i,o,s){var c=this,u=ue.findTransformMetadatas(n,i,this.transformationType);return this.options.version!==void 0&&(u=u.filter(function(f){return f.options?c.checkVersion(f.options.since,f.options.until):!0})),this.options.groups&&this.options.groups.length?u=u.filter(function(f){return f.options?c.checkGroups(f.options.groups):!0}):u=u.filter(function(f){return!f.options||!f.options.groups||!f.options.groups.length}),u.forEach(function(f){e=f.transformFn({value:e,key:i,obj:o,type:s,options:c.options})}),e},t.prototype.isCircular=function(e){return this.recursionStack.has(e)},t.prototype.getReflectedType=function(e,n){if(e){var i=ue.findTypeMetadata(e,n);return i?i.reflectedType:void 0}},t.prototype.getKeys=function(e,n,i){var o=this,s=ue.getStrategy(e);s==="none"&&(s=this.options.strategy||"exposeAll");var c=[];if((s==="exposeAll"||i)&&(n instanceof Map?c=Array.from(n.keys()):c=Object.keys(n)),i)return c;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var u=ue.getExposedProperties(e,this.transformationType),f=ue.getExcludedProperties(e,this.transformationType);c=Ll(Ll([],u,!0),f,!0)}if(!this.options.ignoreDecorators&&e){var u=ue.getExposedProperties(e,this.transformationType);this.transformationType===wt.PLAIN_TO_CLASS&&(u=u.map(function(A){var _=ue.findExposeMetadata(e,A);return _&&_.options&&_.options.name?_.options.name:A})),this.options.excludeExtraneousValues?c=u:c=c.concat(u);var p=ue.getExcludedProperties(e,this.transformationType);p.length>0&&(c=c.filter(function(A){return!p.includes(A)})),this.options.version!==void 0&&(c=c.filter(function(A){var _=ue.findExposeMetadata(e,A);return!_||!_.options?!0:o.checkVersion(_.options.since,_.options.until)})),this.options.groups&&this.options.groups.length?c=c.filter(function(A){var _=ue.findExposeMetadata(e,A);return!_||!_.options?!0:o.checkGroups(_.options.groups)}):c=c.filter(function(A){var _=ue.findExposeMetadata(e,A);return!_||!_.options||!_.options.groups||!_.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(c=c.filter(function(h){return o.options.excludePrefixes.every(function(A){return h.substr(0,A.length)!==A})})),c=c.filter(function(h,A,_){return _.indexOf(h)===A}),c},t.prototype.checkVersion=function(e,n){var i=!0;return i&&e&&(i=this.options.version>=e),i&&n&&(i=this.options.version<n),i},t.prototype.checkGroups=function(e){return e?this.options.groups.some(function(n){return e.includes(n)}):!0},t}(),Mi={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},fe=function(){return fe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},fe.apply(this,arguments)},Xp=function(){function t(){}return t.prototype.instanceToPlain=function(e,n){var i=new ki(wt.CLASS_TO_PLAIN,fe(fe({},Mi),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(e,n,i){var o=new ki(wt.CLASS_TO_PLAIN,fe(fe({},Mi),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.plainToInstance=function(e,n,i){var o=new ki(wt.PLAIN_TO_CLASS,fe(fe({},Mi),i));return o.transform(void 0,n,e,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(e,n,i){var o=new ki(wt.PLAIN_TO_CLASS,fe(fe({},Mi),i));return o.transform(e,n,void 0,void 0,void 0,void 0)},t.prototype.instanceToInstance=function(e,n){var i=new ki(wt.CLASS_TO_CLASS,fe(fe({},Mi),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(e,n,i){var o=new ki(wt.CLASS_TO_CLASS,fe(fe({},Mi),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(e,n){return JSON.stringify(this.instanceToPlain(e,n))},t.prototype.deserialize=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t.prototype.deserializeArray=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t}(),Ku=new Xp;function Jp(t,e){return Ku.instanceToPlain(t,e)}function Xr(t,e,n){return Ku.plainToInstance(t,e,n)}let ks=-1,Ms=-1,Ns=-1;function sa(t){ks!==-1&&clearInterval(ks),Ms!==-1&&clearInterval(Ms),Ns!==-1&&clearInterval(Ns),ks=setInterval(()=>{t.isAtHome&&(t.autoRecoverHpDot(),t.updateHealthDisplay())},1e3),Ms=setInterval(()=>{t.isAtHome&&bn(t)},1e4),Ns=setInterval(()=>{t.isAtHome&&t.applySecondStatuses()},1e3)}function bn(t){if(t.type===ee.FullPowerPlayer114514)return;const e=Jp(t);localStorage.setItem("playerData",JSON.stringify(e))}function Zp(){const t=localStorage.getItem("playerData");if(!t)throw new Error("No player data found");const e=JSON.parse(t),n=Xr(Wi,e);return sa(n),n.pack=e.pack.map(o=>o.category===li.Equipment?Xr(on,o):o.category===li.Consumable?Xr(Ue,o):o),Object.keys(n.equipments).forEach(o=>{n.equipments[o]&&(n.equipments[o]=Xr(on,n.equipments[o]))}),n.clearStatus(),n}const tg="/otherworld114514/assets/player-8N5Sf3fj.gif";function Se(){const t=document.getElementById("app");if(!t)throw new Error("无法找到挂载点 #app");return t}function eg(t){const e=t.reduce((o,s)=>o+s.weight,0),n=Math.random()*e;let i=0;for(const o of t)if(i+=o.weight,n<=i)return o}function Yu(t,e=0){if(t in Rt)return new Ue(t,e);if(t in ji)return new on(t,e);throw new Error("Invalid item type")}function kl(t){return t instanceof Ue?`
      <div class="tooltip-base tooltip-header">
        <h5 class="text-${B[t.rarity]}">${t.level?`lv${t.level}`:""} ${t.name}</h5>
        <p class="fst-italic">${t.description}</p>
      </div>
    `:t instanceof on?jp(t):`
    <div class="tooltip-base">
      <h5>${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
    </div>
  `}function Is(t){switch(t.category){case li.Equipment:return"🗡️";case li.Consumable:return"🗝️";default:return""}}var ae="top",Ee="bottom",xe="right",ce="left",$o="auto",tr=[ae,Ee,xe,ce],fi="start",Vi="end",qu="clippingParents",Ca="viewport",$i="popper",Xu="reference",aa=tr.reduce(function(t,e){return t.concat([e+"-"+fi,e+"-"+Vi])},[]),Sa=[].concat(tr,[$o]).reduce(function(t,e){return t.concat([e,e+"-"+fi,e+"-"+Vi])},[]),Ju="beforeRead",Zu="read",tf="afterRead",ef="beforeMain",nf="main",rf="afterMain",of="beforeWrite",sf="write",af="afterWrite",cf=[Ju,Zu,tf,ef,nf,rf,of,sf,af];function ln(t){return t?(t.nodeName||"").toLowerCase():null}function Te(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function di(t){var e=Te(t).Element;return t instanceof e||t instanceof Element}function Re(t){var e=Te(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Oa(t){if(typeof ShadowRoot>"u")return!1;var e=Te(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ng(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!Re(s)||!ln(s)||(Object.assign(s.style,i),Object.keys(o).forEach(function(c){var u=o[c];u===!1?s.removeAttribute(c):s.setAttribute(c,u===!0?"":u)}))})}function ig(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],s=e.attributes[i]||{},c=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),u=c.reduce(function(f,p){return f[p]="",f},{});!Re(o)||!ln(o)||(Object.assign(o.style,u),Object.keys(s).forEach(function(f){o.removeAttribute(f)}))})}}const Po={name:"applyStyles",enabled:!0,phase:"write",fn:ng,effect:ig,requires:["computeStyles"]};function sn(t){return t.split("-")[0]}var ai=Math.max,wo=Math.min,Ui=Math.round;function ca(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function lf(){return!/^((?!chrome|android).)*safari/i.test(ca())}function Qi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),o=1,s=1;e&&Re(t)&&(o=t.offsetWidth>0&&Ui(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ui(i.height)/t.offsetHeight||1);var c=di(t)?Te(t):window,u=c.visualViewport,f=!lf()&&n,p=(i.left+(f&&u?u.offsetLeft:0))/o,h=(i.top+(f&&u?u.offsetTop:0))/s,A=i.width/o,_=i.height/s;return{width:A,height:_,top:h,right:p+A,bottom:h+_,left:p,x:p,y:h}}function Da(t){var e=Qi(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function uf(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Oa(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function En(t){return Te(t).getComputedStyle(t)}function rg(t){return["table","td","th"].indexOf(ln(t))>=0}function Hn(t){return((di(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ro(t){return ln(t)==="html"?t:t.assignedSlot||t.parentNode||(Oa(t)?t.host:null)||Hn(t)}function Ml(t){return!Re(t)||En(t).position==="fixed"?null:t.offsetParent}function og(t){var e=/firefox/i.test(ca()),n=/Trident/i.test(ca());if(n&&Re(t)){var i=En(t);if(i.position==="fixed")return null}var o=Ro(t);for(Oa(o)&&(o=o.host);Re(o)&&["html","body"].indexOf(ln(o))<0;){var s=En(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function Sr(t){for(var e=Te(t),n=Ml(t);n&&rg(n)&&En(n).position==="static";)n=Ml(n);return n&&(ln(n)==="html"||ln(n)==="body"&&En(n).position==="static")?e:n||og(t)||e}function La(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function vr(t,e,n){return ai(t,wo(e,n))}function sg(t,e,n){var i=vr(t,e,n);return i>n?n:i}function ff(){return{top:0,right:0,bottom:0,left:0}}function df(t){return Object.assign({},ff(),t)}function hf(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var ag=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,df(typeof e!="number"?e:hf(e,tr))};function cg(t){var e,n=t.state,i=t.name,o=t.options,s=n.elements.arrow,c=n.modifiersData.popperOffsets,u=sn(n.placement),f=La(u),p=[ce,xe].indexOf(u)>=0,h=p?"height":"width";if(!(!s||!c)){var A=ag(o.padding,n),_=Da(s),T=f==="y"?ae:ce,z=f==="y"?Ee:xe,M=n.rects.reference[h]+n.rects.reference[f]-c[f]-n.rects.popper[h],L=c[f]-n.rects.reference[f],k=Sr(s),F=k?f==="y"?k.clientHeight||0:k.clientWidth||0:0,Y=M/2-L/2,m=A[T],V=F-_[h]-A[z],R=F/2-_[h]/2+Y,ct=vr(m,R,V),nt=f;n.modifiersData[i]=(e={},e[nt]=ct,e.centerOffset=ct-R,e)}}function lg(t){var e=t.state,n=t.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||uf(e.elements.popper,o)&&(e.elements.arrow=o))}const pf={name:"arrow",enabled:!0,phase:"main",fn:cg,effect:lg,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ki(t){return t.split("-")[1]}var ug={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fg(t,e){var n=t.x,i=t.y,o=e.devicePixelRatio||1;return{x:Ui(n*o)/o||0,y:Ui(i*o)/o||0}}function Nl(t){var e,n=t.popper,i=t.popperRect,o=t.placement,s=t.variation,c=t.offsets,u=t.position,f=t.gpuAcceleration,p=t.adaptive,h=t.roundOffsets,A=t.isFixed,_=c.x,T=_===void 0?0:_,z=c.y,M=z===void 0?0:z,L=typeof h=="function"?h({x:T,y:M}):{x:T,y:M};T=L.x,M=L.y;var k=c.hasOwnProperty("x"),F=c.hasOwnProperty("y"),Y=ce,m=ae,V=window;if(p){var R=Sr(n),ct="clientHeight",nt="clientWidth";if(R===Te(n)&&(R=Hn(n),En(R).position!=="static"&&u==="absolute"&&(ct="scrollHeight",nt="scrollWidth")),R=R,o===ae||(o===ce||o===xe)&&s===Vi){m=Ee;var Ct=A&&R===V&&V.visualViewport?V.visualViewport.height:R[ct];M-=Ct-i.height,M*=f?1:-1}if(o===ce||(o===ae||o===Ee)&&s===Vi){Y=xe;var Et=A&&R===V&&V.visualViewport?V.visualViewport.width:R[nt];T-=Et-i.width,T*=f?1:-1}}var It=Object.assign({position:u},p&&ug),St=h===!0?fg({x:T,y:M},Te(n)):{x:T,y:M};if(T=St.x,M=St.y,f){var Tt;return Object.assign({},It,(Tt={},Tt[m]=F?"0":"",Tt[Y]=k?"0":"",Tt.transform=(V.devicePixelRatio||1)<=1?"translate("+T+"px, "+M+"px)":"translate3d("+T+"px, "+M+"px, 0)",Tt))}return Object.assign({},It,(e={},e[m]=F?M+"px":"",e[Y]=k?T+"px":"",e.transform="",e))}function dg(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=i===void 0?!0:i,s=n.adaptive,c=s===void 0?!0:s,u=n.roundOffsets,f=u===void 0?!0:u,p={placement:sn(e.placement),variation:Ki(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Nl(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Nl(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ka={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:dg,data:{}};var Jr={passive:!0};function hg(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,s=o===void 0?!0:o,c=i.resize,u=c===void 0?!0:c,f=Te(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&p.forEach(function(h){h.addEventListener("scroll",n.update,Jr)}),u&&f.addEventListener("resize",n.update,Jr),function(){s&&p.forEach(function(h){h.removeEventListener("scroll",n.update,Jr)}),u&&f.removeEventListener("resize",n.update,Jr)}}const Ma={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hg,data:{}};var pg={left:"right",right:"left",bottom:"top",top:"bottom"};function ho(t){return t.replace(/left|right|bottom|top/g,function(e){return pg[e]})}var gg={start:"end",end:"start"};function Il(t){return t.replace(/start|end/g,function(e){return gg[e]})}function Na(t){var e=Te(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Ia(t){return Qi(Hn(t)).left+Na(t).scrollLeft}function mg(t,e){var n=Te(t),i=Hn(t),o=n.visualViewport,s=i.clientWidth,c=i.clientHeight,u=0,f=0;if(o){s=o.width,c=o.height;var p=lf();(p||!p&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:s,height:c,x:u+Ia(t),y:f}}function _g(t){var e,n=Hn(t),i=Na(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=ai(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),c=ai(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-i.scrollLeft+Ia(t),f=-i.scrollTop;return En(o||n).direction==="rtl"&&(u+=ai(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:c,x:u,y:f}}function $a(t){var e=En(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function gf(t){return["html","body","#document"].indexOf(ln(t))>=0?t.ownerDocument.body:Re(t)&&$a(t)?t:gf(Ro(t))}function br(t,e){var n;e===void 0&&(e=[]);var i=gf(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=Te(i),c=o?[s].concat(s.visualViewport||[],$a(i)?i:[]):i,u=e.concat(c);return o?u:u.concat(br(Ro(c)))}function la(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function vg(t,e){var n=Qi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function $l(t,e,n){return e===Ca?la(mg(t,n)):di(e)?vg(e,n):la(_g(Hn(t)))}function bg(t){var e=br(Ro(t)),n=["absolute","fixed"].indexOf(En(t).position)>=0,i=n&&Re(t)?Sr(t):t;return di(i)?e.filter(function(o){return di(o)&&uf(o,i)&&ln(o)!=="body"}):[]}function yg(t,e,n,i){var o=e==="clippingParents"?bg(t):[].concat(e),s=[].concat(o,[n]),c=s[0],u=s.reduce(function(f,p){var h=$l(t,p,i);return f.top=ai(h.top,f.top),f.right=wo(h.right,f.right),f.bottom=wo(h.bottom,f.bottom),f.left=ai(h.left,f.left),f},$l(t,c,i));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function mf(t){var e=t.reference,n=t.element,i=t.placement,o=i?sn(i):null,s=i?Ki(i):null,c=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,f;switch(o){case ae:f={x:c,y:e.y-n.height};break;case Ee:f={x:c,y:e.y+e.height};break;case xe:f={x:e.x+e.width,y:u};break;case ce:f={x:e.x-n.width,y:u};break;default:f={x:e.x,y:e.y}}var p=o?La(o):null;if(p!=null){var h=p==="y"?"height":"width";switch(s){case fi:f[p]=f[p]-(e[h]/2-n[h]/2);break;case Vi:f[p]=f[p]+(e[h]/2-n[h]/2);break}}return f}function Yi(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=i===void 0?t.placement:i,s=n.strategy,c=s===void 0?t.strategy:s,u=n.boundary,f=u===void 0?qu:u,p=n.rootBoundary,h=p===void 0?Ca:p,A=n.elementContext,_=A===void 0?$i:A,T=n.altBoundary,z=T===void 0?!1:T,M=n.padding,L=M===void 0?0:M,k=df(typeof L!="number"?L:hf(L,tr)),F=_===$i?Xu:$i,Y=t.rects.popper,m=t.elements[z?F:_],V=yg(di(m)?m:m.contextElement||Hn(t.elements.popper),f,h,c),R=Qi(t.elements.reference),ct=mf({reference:R,element:Y,placement:o}),nt=la(Object.assign({},Y,ct)),Ct=_===$i?nt:R,Et={top:V.top-Ct.top+k.top,bottom:Ct.bottom-V.bottom+k.bottom,left:V.left-Ct.left+k.left,right:Ct.right-V.right+k.right},It=t.modifiersData.offset;if(_===$i&&It){var St=It[o];Object.keys(Et).forEach(function(Tt){var E=[xe,Ee].indexOf(Tt)>=0?1:-1,W=[ae,Ee].indexOf(Tt)>=0?"y":"x";Et[Tt]+=St[W]*E})}return Et}function Ag(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=n.boundary,s=n.rootBoundary,c=n.padding,u=n.flipVariations,f=n.allowedAutoPlacements,p=f===void 0?Sa:f,h=Ki(i),A=h?u?aa:aa.filter(function(z){return Ki(z)===h}):tr,_=A.filter(function(z){return p.indexOf(z)>=0});_.length===0&&(_=A);var T=_.reduce(function(z,M){return z[M]=Yi(t,{placement:M,boundary:o,rootBoundary:s,padding:c})[sn(M)],z},{});return Object.keys(T).sort(function(z,M){return T[z]-T[M]})}function wg(t){if(sn(t)===$o)return[];var e=ho(t);return[Il(t),e,Il(e)]}function Eg(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,c=n.altAxis,u=c===void 0?!0:c,f=n.fallbackPlacements,p=n.padding,h=n.boundary,A=n.rootBoundary,_=n.altBoundary,T=n.flipVariations,z=T===void 0?!0:T,M=n.allowedAutoPlacements,L=e.options.placement,k=sn(L),F=k===L,Y=f||(F||!z?[ho(L)]:wg(L)),m=[L].concat(Y).reduce(function(dt,Dt){return dt.concat(sn(Dt)===$o?Ag(e,{placement:Dt,boundary:h,rootBoundary:A,padding:p,flipVariations:z,allowedAutoPlacements:M}):Dt)},[]),V=e.rects.reference,R=e.rects.popper,ct=new Map,nt=!0,Ct=m[0],Et=0;Et<m.length;Et++){var It=m[Et],St=sn(It),Tt=Ki(It)===fi,E=[ae,Ee].indexOf(St)>=0,W=E?"width":"height",O=Yi(e,{placement:It,boundary:h,rootBoundary:A,altBoundary:_,padding:p}),G=E?Tt?xe:ce:Tt?Ee:ae;V[W]>R[W]&&(G=ho(G));var et=ho(G),ot=[];if(s&&ot.push(O[St]<=0),u&&ot.push(O[G]<=0,O[et]<=0),ot.every(function(dt){return dt})){Ct=It,nt=!1;break}ct.set(It,ot)}if(nt)for(var w=z?3:1,mt=function(Dt){var lt=m.find(function(Ft){var Q=ct.get(Ft);if(Q)return Q.slice(0,Dt).every(function(Qt){return Qt})});if(lt)return Ct=lt,"break"},yt=w;yt>0;yt--){var X=mt(yt);if(X==="break")break}e.placement!==Ct&&(e.modifiersData[i]._skip=!0,e.placement=Ct,e.reset=!0)}}const _f={name:"flip",enabled:!0,phase:"main",fn:Eg,requiresIfExists:["offset"],data:{_skip:!1}};function Pl(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Rl(t){return[ae,xe,Ee,ce].some(function(e){return t[e]>=0})}function xg(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,c=Yi(e,{elementContext:"reference"}),u=Yi(e,{altBoundary:!0}),f=Pl(c,i),p=Pl(u,o,s),h=Rl(f),A=Rl(p);e.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:A},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":A})}const vf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xg};function Tg(t,e,n){var i=sn(t),o=[ce,ae].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,c=s[0],u=s[1];return c=c||0,u=(u||0)*o,[ce,xe].indexOf(i)>=0?{x:u,y:c}:{x:c,y:u}}function Cg(t){var e=t.state,n=t.options,i=t.name,o=n.offset,s=o===void 0?[0,0]:o,c=Sa.reduce(function(h,A){return h[A]=Tg(A,e.rects,s),h},{}),u=c[e.placement],f=u.x,p=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=c}const bf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Cg};function Sg(t){var e=t.state,n=t.name;e.modifiersData[n]=mf({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Pa={name:"popperOffsets",enabled:!0,phase:"read",fn:Sg,data:{}};function Og(t){return t==="x"?"y":"x"}function Dg(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,s=o===void 0?!0:o,c=n.altAxis,u=c===void 0?!1:c,f=n.boundary,p=n.rootBoundary,h=n.altBoundary,A=n.padding,_=n.tether,T=_===void 0?!0:_,z=n.tetherOffset,M=z===void 0?0:z,L=Yi(e,{boundary:f,rootBoundary:p,padding:A,altBoundary:h}),k=sn(e.placement),F=Ki(e.placement),Y=!F,m=La(k),V=Og(m),R=e.modifiersData.popperOffsets,ct=e.rects.reference,nt=e.rects.popper,Ct=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,Et=typeof Ct=="number"?{mainAxis:Ct,altAxis:Ct}:Object.assign({mainAxis:0,altAxis:0},Ct),It=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,St={x:0,y:0};if(R){if(s){var Tt,E=m==="y"?ae:ce,W=m==="y"?Ee:xe,O=m==="y"?"height":"width",G=R[m],et=G+L[E],ot=G-L[W],w=T?-nt[O]/2:0,mt=F===fi?ct[O]:nt[O],yt=F===fi?-nt[O]:-ct[O],X=e.elements.arrow,dt=T&&X?Da(X):{width:0,height:0},Dt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ff(),lt=Dt[E],Ft=Dt[W],Q=vr(0,ct[O],dt[O]),Qt=Y?ct[O]/2-w-Q-lt-Et.mainAxis:mt-Q-lt-Et.mainAxis,pe=Y?-ct[O]/2+w+Q+Ft+Et.mainAxis:yt+Q+Ft+Et.mainAxis,Wt=e.elements.arrow&&Sr(e.elements.arrow),fn=Wt?m==="y"?Wt.clientTop||0:Wt.clientLeft||0:0,qt=(Tt=It==null?void 0:It[m])!=null?Tt:0,qe=G+Qt-qt-fn,Oe=G+pe-qt,Xt=vr(T?wo(et,qe):et,G,T?ai(ot,Oe):ot);R[m]=Xt,St[m]=Xt-G}if(u){var Xe,dn=m==="x"?ae:ce,hn=m==="x"?Ee:xe,le=R[V],ge=V==="y"?"height":"width",ze=le+L[dn],Ge=le-L[hn],De=[ae,ce].indexOf(k)!==-1,ne=(Xe=It==null?void 0:It[V])!=null?Xe:0,pn=De?ze:le-ct[ge]-nt[ge]-ne+Et.altAxis,Jt=De?le+ct[ge]+nt[ge]-ne-Et.altAxis:Ge,me=T&&De?sg(pn,le,Jt):vr(T?pn:ze,le,T?Jt:Ge);R[V]=me,St[V]=me-le}e.modifiersData[i]=St}}const yf={name:"preventOverflow",enabled:!0,phase:"main",fn:Dg,requiresIfExists:["offset"]};function Lg(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function kg(t){return t===Te(t)||!Re(t)?Na(t):Lg(t)}function Mg(t){var e=t.getBoundingClientRect(),n=Ui(e.width)/t.offsetWidth||1,i=Ui(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Ng(t,e,n){n===void 0&&(n=!1);var i=Re(e),o=Re(e)&&Mg(e),s=Hn(e),c=Qi(t,o,n),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!n)&&((ln(e)!=="body"||$a(s))&&(u=kg(e)),Re(e)?(f=Qi(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):s&&(f.x=Ia(s))),{x:c.left+u.scrollLeft-f.x,y:c.top+u.scrollTop-f.y,width:c.width,height:c.height}}function Ig(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var c=[].concat(s.requires||[],s.requiresIfExists||[]);c.forEach(function(u){if(!n.has(u)){var f=e.get(u);f&&o(f)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),i}function $g(t){var e=Ig(t);return cf.reduce(function(n,i){return n.concat(e.filter(function(o){return o.phase===i}))},[])}function Pg(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Rg(t){var e=t.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Bl={placement:"bottom",modifiers:[],strategy:"absolute"};function Hl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Bo(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?Bl:o;return function(u,f,p){p===void 0&&(p=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Bl,s),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},A=[],_=!1,T={state:h,setOptions:function(k){var F=typeof k=="function"?k(h.options):k;M(),h.options=Object.assign({},s,h.options,F),h.scrollParents={reference:di(u)?br(u):u.contextElement?br(u.contextElement):[],popper:br(f)};var Y=$g(Rg([].concat(i,h.options.modifiers)));return h.orderedModifiers=Y.filter(function(m){return m.enabled}),z(),T.update()},forceUpdate:function(){if(!_){var k=h.elements,F=k.reference,Y=k.popper;if(Hl(F,Y)){h.rects={reference:Ng(F,Sr(Y),h.options.strategy==="fixed"),popper:Da(Y)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(Et){return h.modifiersData[Et.name]=Object.assign({},Et.data)});for(var m=0;m<h.orderedModifiers.length;m++){if(h.reset===!0){h.reset=!1,m=-1;continue}var V=h.orderedModifiers[m],R=V.fn,ct=V.options,nt=ct===void 0?{}:ct,Ct=V.name;typeof R=="function"&&(h=R({state:h,options:nt,name:Ct,instance:T})||h)}}}},update:Pg(function(){return new Promise(function(L){T.forceUpdate(),L(h)})}),destroy:function(){M(),_=!0}};if(!Hl(u,f))return T;T.setOptions(p).then(function(L){!_&&p.onFirstUpdate&&p.onFirstUpdate(L)});function z(){h.orderedModifiers.forEach(function(L){var k=L.name,F=L.options,Y=F===void 0?{}:F,m=L.effect;if(typeof m=="function"){var V=m({state:h,name:k,instance:T,options:Y}),R=function(){};A.push(V||R)}})}function M(){A.forEach(function(L){return L()}),A=[]}return T}}var Bg=Bo(),Hg=[Ma,Pa,ka,Po],Fg=Bo({defaultModifiers:Hg}),zg=[Ma,Pa,ka,Po,bf,_f,yf,pf,vf],Ho=Bo({defaultModifiers:zg});const Af=Object.freeze(Object.defineProperty({__proto__:null,afterMain:rf,afterRead:tf,afterWrite:af,applyStyles:Po,arrow:pf,auto:$o,basePlacements:tr,beforeMain:ef,beforeRead:Ju,beforeWrite:of,bottom:Ee,clippingParents:qu,computeStyles:ka,createPopper:Ho,createPopperBase:Bg,createPopperLite:Fg,detectOverflow:Yi,end:Vi,eventListeners:Ma,flip:_f,hide:vf,left:ce,main:nf,modifierPhases:cf,offset:bf,placements:Sa,popper:$i,popperGenerator:Bo,popperOffsets:Pa,preventOverflow:yf,read:Zu,reference:Xu,right:xe,start:fi,top:ae,variationPlacements:aa,viewport:Ca,write:sf},Symbol.toStringTag,{value:"Module"}));var Gg="tippy-box",wf="tippy-content",jg="tippy-backdrop",Ef="tippy-arrow",xf="tippy-svg-arrow",ei={passive:!0,capture:!0},Tf=function(){return document.body};function $s(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function Ra(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Cf(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Fl(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function Wg(t){return t.split(/\s+/).filter(Boolean)}function Pi(t){return[].concat(t)}function zl(t,e){t.indexOf(e)===-1&&t.push(e)}function Vg(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Ug(t){return t.split("-")[0]}function Eo(t){return[].slice.call(t)}function Gl(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function yr(){return document.createElement("div")}function Fo(t){return["Element","Fragment"].some(function(e){return Ra(t,e)})}function Qg(t){return Ra(t,"NodeList")}function Kg(t){return Ra(t,"MouseEvent")}function Yg(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function qg(t){return Fo(t)?[t]:Qg(t)?Eo(t):Array.isArray(t)?t:Eo(document.querySelectorAll(t))}function Ps(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function jl(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Xg(t){var e,n=Pi(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Jg(t,e){var n=e.clientX,i=e.clientY;return t.every(function(o){var s=o.popperRect,c=o.popperState,u=o.props,f=u.interactiveBorder,p=Ug(c.placement),h=c.modifiersData.offset;if(!h)return!0;var A=p==="bottom"?h.top.y:0,_=p==="top"?h.bottom.y:0,T=p==="right"?h.left.x:0,z=p==="left"?h.right.x:0,M=s.top-i+A>f,L=i-s.bottom-_>f,k=s.left-n+T>f,F=n-s.right-z>f;return M||L||k||F})}function Rs(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[i](o,n)})}function Wl(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var rn={isTouch:!1},Vl=0;function Zg(){rn.isTouch||(rn.isTouch=!0,window.performance&&document.addEventListener("mousemove",Sf))}function Sf(){var t=performance.now();t-Vl<20&&(rn.isTouch=!1,document.removeEventListener("mousemove",Sf)),Vl=t}function tm(){var t=document.activeElement;if(Yg(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function em(){document.addEventListener("touchstart",Zg,ei),window.addEventListener("blur",tm)}var nm=typeof window<"u"&&typeof document<"u",im=nm?!!window.msCrypto:!1,rm={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},om={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Qe=Object.assign({appendTo:Tf,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},rm,om),sm=Object.keys(Qe),am=function(e){var n=Object.keys(e);n.forEach(function(i){Qe[i]=e[i]})};function Of(t){var e=t.plugins||[],n=e.reduce(function(i,o){var s=o.name,c=o.defaultValue;if(s){var u;i[s]=t[s]!==void 0?t[s]:(u=Qe[s])!=null?u:c}return i},{});return Object.assign({},t,n)}function cm(t,e){var n=e?Object.keys(Of(Object.assign({},Qe,{plugins:e}))):sm,i=n.reduce(function(o,s){var c=(t.getAttribute("data-tippy-"+s)||"").trim();if(!c)return o;if(s==="content")o[s]=c;else try{o[s]=JSON.parse(c)}catch{o[s]=c}return o},{});return i}function Ul(t,e){var n=Object.assign({},e,{content:Cf(e.content,[t])},e.ignoreAttributes?{}:cm(t,e.plugins));return n.aria=Object.assign({},Qe.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var lm=function(){return"innerHTML"};function ua(t,e){t[lm()]=e}function Ql(t){var e=yr();return t===!0?e.className=Ef:(e.className=xf,Fo(t)?e.appendChild(t):ua(e,t)),e}function Kl(t,e){Fo(e.content)?(ua(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?ua(t,e.content):t.textContent=e.content)}function fa(t){var e=t.firstElementChild,n=Eo(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(wf)}),arrow:n.find(function(i){return i.classList.contains(Ef)||i.classList.contains(xf)}),backdrop:n.find(function(i){return i.classList.contains(jg)})}}function Df(t){var e=yr(),n=yr();n.className=Gg,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=yr();i.className=wf,i.setAttribute("data-state","hidden"),Kl(i,t.props),e.appendChild(n),n.appendChild(i),o(t.props,t.props);function o(s,c){var u=fa(e),f=u.box,p=u.content,h=u.arrow;c.theme?f.setAttribute("data-theme",c.theme):f.removeAttribute("data-theme"),typeof c.animation=="string"?f.setAttribute("data-animation",c.animation):f.removeAttribute("data-animation"),c.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof c.maxWidth=="number"?c.maxWidth+"px":c.maxWidth,c.role?f.setAttribute("role",c.role):f.removeAttribute("role"),(s.content!==c.content||s.allowHTML!==c.allowHTML)&&Kl(p,t.props),c.arrow?h?s.arrow!==c.arrow&&(f.removeChild(h),f.appendChild(Ql(c.arrow))):f.appendChild(Ql(c.arrow)):h&&f.removeChild(h)}return{popper:e,onUpdate:o}}Df.$$tippy=!0;var um=1,Zr=[],Bs=[];function fm(t,e){var n=Ul(t,Object.assign({},Qe,Of(Gl(e)))),i,o,s,c=!1,u=!1,f=!1,p=!1,h,A,_,T=[],z=Fl(qe,n.interactiveDebounce),M,L=um++,k=null,F=Vg(n.plugins),Y={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:L,reference:t,popper:yr(),popperInstance:k,props:n,state:Y,plugins:F,clearDelayTimeouts:pn,setProps:Jt,setContent:me,show:Je,hide:Sn,hideWithInteractivity:Gn,enable:De,disable:ne,unmount:y,destroy:x};if(!n.render)return m;var V=n.render(m),R=V.popper,ct=V.onUpdate;R.setAttribute("data-tippy-root",""),R.id="tippy-"+m.id,m.popper=R,t._tippy=m,R._tippy=m;var nt=F.map(function(g){return g.fn(m)}),Ct=t.hasAttribute("aria-expanded");return Wt(),w(),G(),et("onCreate",[m]),n.showOnCreate&&ze(),R.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),R.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&E().addEventListener("mousemove",z)}),m;function Et(){var g=m.props.touch;return Array.isArray(g)?g:[g,0]}function It(){return Et()[0]==="hold"}function St(){var g;return!!((g=m.props.render)!=null&&g.$$tippy)}function Tt(){return M||t}function E(){var g=Tt().parentNode;return g?Xg(g):document}function W(){return fa(R)}function O(g){return m.state.isMounted&&!m.state.isVisible||rn.isTouch||h&&h.type==="focus"?0:$s(m.props.delay,g?0:1,Qe.delay)}function G(g){g===void 0&&(g=!1),R.style.pointerEvents=m.props.interactive&&!g?"":"none",R.style.zIndex=""+m.props.zIndex}function et(g,C,P){if(P===void 0&&(P=!0),nt.forEach(function(rt){rt[g]&&rt[g].apply(rt,C)}),P){var st;(st=m.props)[g].apply(st,C)}}function ot(){var g=m.props.aria;if(g.content){var C="aria-"+g.content,P=R.id,st=Pi(m.props.triggerTarget||t);st.forEach(function(rt){var it=rt.getAttribute(C);if(m.state.isVisible)rt.setAttribute(C,it?it+" "+P:P);else{var H=it&&it.replace(P,"").trim();H?rt.setAttribute(C,H):rt.removeAttribute(C)}})}}function w(){if(!(Ct||!m.props.aria.expanded)){var g=Pi(m.props.triggerTarget||t);g.forEach(function(C){m.props.interactive?C.setAttribute("aria-expanded",m.state.isVisible&&C===Tt()?"true":"false"):C.removeAttribute("aria-expanded")})}}function mt(){E().removeEventListener("mousemove",z),Zr=Zr.filter(function(g){return g!==z})}function yt(g){if(!(rn.isTouch&&(f||g.type==="mousedown"))){var C=g.composedPath&&g.composedPath()[0]||g.target;if(!(m.props.interactive&&Wl(R,C))){if(Pi(m.props.triggerTarget||t).some(function(P){return Wl(P,C)})){if(rn.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else et("onClickOutside",[m,g]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),u=!0,setTimeout(function(){u=!1}),m.state.isMounted||lt())}}}function X(){f=!0}function dt(){f=!1}function Dt(){var g=E();g.addEventListener("mousedown",yt,!0),g.addEventListener("touchend",yt,ei),g.addEventListener("touchstart",dt,ei),g.addEventListener("touchmove",X,ei)}function lt(){var g=E();g.removeEventListener("mousedown",yt,!0),g.removeEventListener("touchend",yt,ei),g.removeEventListener("touchstart",dt,ei),g.removeEventListener("touchmove",X,ei)}function Ft(g,C){Qt(g,function(){!m.state.isVisible&&R.parentNode&&R.parentNode.contains(R)&&C()})}function Q(g,C){Qt(g,C)}function Qt(g,C){var P=W().box;function st(rt){rt.target===P&&(Rs(P,"remove",st),C())}if(g===0)return C();Rs(P,"remove",A),Rs(P,"add",st),A=st}function pe(g,C,P){P===void 0&&(P=!1);var st=Pi(m.props.triggerTarget||t);st.forEach(function(rt){rt.addEventListener(g,C,P),T.push({node:rt,eventType:g,handler:C,options:P})})}function Wt(){It()&&(pe("touchstart",qt,{passive:!0}),pe("touchend",Oe,{passive:!0})),Wg(m.props.trigger).forEach(function(g){if(g!=="manual")switch(pe(g,qt),g){case"mouseenter":pe("mouseleave",Oe);break;case"focus":pe(im?"focusout":"blur",Xt);break;case"focusin":pe("focusout",Xt);break}})}function fn(){T.forEach(function(g){var C=g.node,P=g.eventType,st=g.handler,rt=g.options;C.removeEventListener(P,st,rt)}),T=[]}function qt(g){var C,P=!1;if(!(!m.state.isEnabled||Xe(g)||u)){var st=((C=h)==null?void 0:C.type)==="focus";h=g,M=g.currentTarget,w(),!m.state.isVisible&&Kg(g)&&Zr.forEach(function(rt){return rt(g)}),g.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||c)&&m.props.hideOnClick!==!1&&m.state.isVisible?P=!0:ze(g),g.type==="click"&&(c=!P),P&&!st&&Ge(g)}}function qe(g){var C=g.target,P=Tt().contains(C)||R.contains(C);if(!(g.type==="mousemove"&&P)){var st=ge().concat(R).map(function(rt){var it,H=rt._tippy,U=(it=H.popperInstance)==null?void 0:it.state;return U?{popperRect:rt.getBoundingClientRect(),popperState:U,props:n}:null}).filter(Boolean);Jg(st,g)&&(mt(),Ge(g))}}function Oe(g){var C=Xe(g)||m.props.trigger.indexOf("click")>=0&&c;if(!C){if(m.props.interactive){m.hideWithInteractivity(g);return}Ge(g)}}function Xt(g){m.props.trigger.indexOf("focusin")<0&&g.target!==Tt()||m.props.interactive&&g.relatedTarget&&R.contains(g.relatedTarget)||Ge(g)}function Xe(g){return rn.isTouch?It()!==g.type.indexOf("touch")>=0:!1}function dn(){hn();var g=m.props,C=g.popperOptions,P=g.placement,st=g.offset,rt=g.getReferenceClientRect,it=g.moveTransition,H=St()?fa(R).arrow:null,U=rt?{getBoundingClientRect:rt,contextElement:rt.contextElement||Tt()}:t,J={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ot){var kt=Ot.state;if(St()){var jt=W(),Le=jt.box;["placement","reference-hidden","escaped"].forEach(function(On){On==="placement"?Le.setAttribute("data-placement",kt.placement):kt.attributes.popper["data-popper-"+On]?Le.setAttribute("data-"+On,""):Le.removeAttribute("data-"+On)}),kt.attributes.popper={}}}},q=[{name:"offset",options:{offset:st}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!it}},J];St()&&H&&q.push({name:"arrow",options:{element:H,padding:3}}),q.push.apply(q,(C==null?void 0:C.modifiers)||[]),m.popperInstance=Ho(U,R,Object.assign({},C,{placement:P,onFirstUpdate:_,modifiers:q}))}function hn(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function le(){var g=m.props.appendTo,C,P=Tt();m.props.interactive&&g===Tf||g==="parent"?C=P.parentNode:C=Cf(g,[P]),C.contains(R)||C.appendChild(R),m.state.isMounted=!0,dn()}function ge(){return Eo(R.querySelectorAll("[data-tippy-root]"))}function ze(g){m.clearDelayTimeouts(),g&&et("onTrigger",[m,g]),Dt();var C=O(!0),P=Et(),st=P[0],rt=P[1];rn.isTouch&&st==="hold"&&rt&&(C=rt),C?i=setTimeout(function(){m.show()},C):m.show()}function Ge(g){if(m.clearDelayTimeouts(),et("onUntrigger",[m,g]),!m.state.isVisible){lt();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(g.type)>=0&&c)){var C=O(!1);C?o=setTimeout(function(){m.state.isVisible&&m.hide()},C):s=requestAnimationFrame(function(){m.hide()})}}function De(){m.state.isEnabled=!0}function ne(){m.hide(),m.state.isEnabled=!1}function pn(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(s)}function Jt(g){if(!m.state.isDestroyed){et("onBeforeUpdate",[m,g]),fn();var C=m.props,P=Ul(t,Object.assign({},C,Gl(g),{ignoreAttributes:!0}));m.props=P,Wt(),C.interactiveDebounce!==P.interactiveDebounce&&(mt(),z=Fl(qe,P.interactiveDebounce)),C.triggerTarget&&!P.triggerTarget?Pi(C.triggerTarget).forEach(function(st){st.removeAttribute("aria-expanded")}):P.triggerTarget&&t.removeAttribute("aria-expanded"),w(),G(),ct&&ct(C,P),m.popperInstance&&(dn(),ge().forEach(function(st){requestAnimationFrame(st._tippy.popperInstance.forceUpdate)})),et("onAfterUpdate",[m,g])}}function me(g){m.setProps({content:g})}function Je(){var g=m.state.isVisible,C=m.state.isDestroyed,P=!m.state.isEnabled,st=rn.isTouch&&!m.props.touch,rt=$s(m.props.duration,0,Qe.duration);if(!(g||C||P||st)&&!Tt().hasAttribute("disabled")&&(et("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,St()&&(R.style.visibility="visible"),G(),Dt(),m.state.isMounted||(R.style.transition="none"),St()){var it=W(),H=it.box,U=it.content;Ps([H,U],0)}_=function(){var q;if(!(!m.state.isVisible||p)){if(p=!0,R.offsetHeight,R.style.transition=m.props.moveTransition,St()&&m.props.animation){var gt=W(),Ot=gt.box,kt=gt.content;Ps([Ot,kt],rt),jl([Ot,kt],"visible")}ot(),w(),zl(Bs,m),(q=m.popperInstance)==null||q.forceUpdate(),et("onMount",[m]),m.props.animation&&St()&&Q(rt,function(){m.state.isShown=!0,et("onShown",[m])})}},le()}}function Sn(){var g=!m.state.isVisible,C=m.state.isDestroyed,P=!m.state.isEnabled,st=$s(m.props.duration,1,Qe.duration);if(!(g||C||P)&&(et("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,p=!1,c=!1,St()&&(R.style.visibility="hidden"),mt(),lt(),G(!0),St()){var rt=W(),it=rt.box,H=rt.content;m.props.animation&&(Ps([it,H],st),jl([it,H],"hidden"))}ot(),w(),m.props.animation?St()&&Ft(st,m.unmount):m.unmount()}}function Gn(g){E().addEventListener("mousemove",z),zl(Zr,z),z(g)}function y(){m.state.isVisible&&m.hide(),m.state.isMounted&&(hn(),ge().forEach(function(g){g._tippy.unmount()}),R.parentNode&&R.parentNode.removeChild(R),Bs=Bs.filter(function(g){return g!==m}),m.state.isMounted=!1,et("onHidden",[m]))}function x(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),fn(),delete t._tippy,m.state.isDestroyed=!0,et("onDestroy",[m]))}}function hi(t,e){e===void 0&&(e={});var n=Qe.plugins.concat(e.plugins||[]);em();var i=Object.assign({},e,{plugins:n}),o=qg(t),s=o.reduce(function(c,u){var f=u&&fm(u,i);return f&&c.push(f),c},[]);return Fo(t)?s[0]:s}hi.defaultProps=Qe;hi.setDefaultProps=am;hi.currentInput=rn;Object.assign({},Po,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});hi.setDefaultProps({render:Df});/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Mn=new Map,Hs={set(t,e,n){Mn.has(t)||Mn.set(t,new Map);const i=Mn.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,n)},get(t,e){return Mn.has(t)&&Mn.get(t).get(e)||null},remove(t,e){if(!Mn.has(t))return;const n=Mn.get(t);n.delete(e),n.size===0&&Mn.delete(t)}},dm=1e6,hm=1e3,da="transitionend",Lf=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),pm=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),gm=t=>{do t+=Math.floor(Math.random()*dm);while(document.getElementById(t));return t},mm=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),o=Number.parseFloat(n);return!i&&!o?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*hm)},kf=t=>{t.dispatchEvent(new Event(da))},An=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Pn=t=>An(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Lf(t)):null,er=t=>{if(!An(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const i=t.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return e},Rn=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Mf=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Mf(t.parentNode):null},xo=()=>{},Or=t=>{t.offsetHeight},Nf=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Fs=[],_m=t=>{document.readyState==="loading"?(Fs.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Fs)e()}),Fs.push(t)):t()},Be=()=>document.documentElement.dir==="rtl",Fe=t=>{_m(()=>{const e=Nf();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}})},de=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,If=(t,e,n=!0)=>{if(!n){de(t);return}const o=mm(e)+5;let s=!1;const c=({target:u})=>{u===e&&(s=!0,e.removeEventListener(da,c),de(t))};e.addEventListener(da,c),setTimeout(()=>{s||kf(e)},o)},Ba=(t,e,n,i)=>{const o=t.length;let s=t.indexOf(e);return s===-1?!n&&i?t[o-1]:t[0]:(s+=n?1:-1,i&&(s=(s+o)%o),t[Math.max(0,Math.min(s,o-1))])},vm=/[^.]*(?=\..*)\.|.*/,bm=/\..*/,ym=/::\d+$/,zs={};let Yl=1;const $f={mouseenter:"mouseover",mouseleave:"mouseout"},Am=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Pf(t,e){return e&&`${e}::${Yl++}`||t.uidEvent||Yl++}function Rf(t){const e=Pf(t);return t.uidEvent=e,zs[e]=zs[e]||{},zs[e]}function wm(t,e){return function n(i){return Ha(i,{delegateTarget:t}),n.oneOff&&$.off(t,i.type,e),e.apply(t,[i])}}function Em(t,e,n){return function i(o){const s=t.querySelectorAll(e);for(let{target:c}=o;c&&c!==this;c=c.parentNode)for(const u of s)if(u===c)return Ha(o,{delegateTarget:c}),i.oneOff&&$.off(t,o.type,e,n),n.apply(c,[o])}}function Bf(t,e,n=null){return Object.values(t).find(i=>i.callable===e&&i.delegationSelector===n)}function Hf(t,e,n){const i=typeof e=="string",o=i?n:e||n;let s=Ff(t);return Am.has(s)||(s=t),[i,o,s]}function ql(t,e,n,i,o){if(typeof e!="string"||!t)return;let[s,c,u]=Hf(e,n,i);e in $f&&(c=(z=>function(M){if(!M.relatedTarget||M.relatedTarget!==M.delegateTarget&&!M.delegateTarget.contains(M.relatedTarget))return z.call(this,M)})(c));const f=Rf(t),p=f[u]||(f[u]={}),h=Bf(p,c,s?n:null);if(h){h.oneOff=h.oneOff&&o;return}const A=Pf(c,e.replace(vm,"")),_=s?Em(t,n,c):wm(t,c);_.delegationSelector=s?n:null,_.callable=c,_.oneOff=o,_.uidEvent=A,p[A]=_,t.addEventListener(u,_,s)}function ha(t,e,n,i,o){const s=Bf(e[n],i,o);s&&(t.removeEventListener(n,s,!!o),delete e[n][s.uidEvent])}function xm(t,e,n,i){const o=e[n]||{};for(const[s,c]of Object.entries(o))s.includes(i)&&ha(t,e,n,c.callable,c.delegationSelector)}function Ff(t){return t=t.replace(bm,""),$f[t]||t}const $={on(t,e,n,i){ql(t,e,n,i,!1)},one(t,e,n,i){ql(t,e,n,i,!0)},off(t,e,n,i){if(typeof e!="string"||!t)return;const[o,s,c]=Hf(e,n,i),u=c!==e,f=Rf(t),p=f[c]||{},h=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(p).length)return;ha(t,f,c,s,o?n:null);return}if(h)for(const A of Object.keys(f))xm(t,f,A,e.slice(1));for(const[A,_]of Object.entries(p)){const T=A.replace(ym,"");(!u||e.includes(T))&&ha(t,f,c,_.callable,_.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const i=Nf(),o=Ff(e),s=e!==o;let c=null,u=!0,f=!0,p=!1;s&&i&&(c=i.Event(e,n),i(t).trigger(c),u=!c.isPropagationStopped(),f=!c.isImmediatePropagationStopped(),p=c.isDefaultPrevented());const h=Ha(new Event(e,{bubbles:u,cancelable:!0}),n);return p&&h.preventDefault(),f&&t.dispatchEvent(h),h.defaultPrevented&&c&&c.preventDefault(),h}};function Ha(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch{Object.defineProperty(t,n,{configurable:!0,get(){return i}})}return t}function Xl(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Gs(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const wn={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Gs(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Gs(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let o=i.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=Xl(t.dataset[i])}return e},getDataAttribute(t,e){return Xl(t.getAttribute(`data-bs-${Gs(e)}`))}};class Dr{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const i=An(n)?wn.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...An(n)?wn.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[i,o]of Object.entries(n)){const s=e[i],c=An(s)?"element":pm(s);if(!new RegExp(o).test(c))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${c}" but expected type "${o}".`)}}}const Tm="5.3.3";class Ke extends Dr{constructor(e,n){super(),e=Pn(e),e&&(this._element=e,this._config=this._getConfig(n),Hs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Hs.remove(this._element,this.constructor.DATA_KEY),$.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){If(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Hs.get(Pn(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return Tm}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const js=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>Lf(n)).join(","):null},at={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Rn(n)&&er(n))},getSelectorFromElement(t){const e=js(t);return e&&at.findOne(e)?e:null},getElementFromSelector(t){const e=js(t);return e?at.findOne(e):null},getMultipleElementsFromSelector(t){const e=js(t);return e?at.find(e):[]}},zo=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;$.on(document,n,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Rn(this))return;const s=at.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(s)[e]()})},Cm="alert",Sm="bs.alert",zf=`.${Sm}`,Om=`close${zf}`,Dm=`closed${zf}`,Lm="fade",km="show";class Go extends Ke{static get NAME(){return Cm}close(){if($.trigger(this._element,Om).defaultPrevented)return;this._element.classList.remove(km);const n=this._element.classList.contains(Lm);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),$.trigger(this._element,Dm),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Go.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}zo(Go,"close");Fe(Go);const Mm="button",Nm="bs.button",Im=`.${Nm}`,$m=".data-api",Pm="active",Jl='[data-bs-toggle="button"]',Rm=`click${Im}${$m}`;class jo extends Ke{static get NAME(){return Mm}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Pm))}static jQueryInterface(e){return this.each(function(){const n=jo.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}$.on(document,Rm,Jl,t=>{t.preventDefault();const e=t.target.closest(Jl);jo.getOrCreateInstance(e).toggle()});Fe(jo);const Bm="swipe",nr=".bs.swipe",Hm=`touchstart${nr}`,Fm=`touchmove${nr}`,zm=`touchend${nr}`,Gm=`pointerdown${nr}`,jm=`pointerup${nr}`,Wm="touch",Vm="pen",Um="pointer-event",Qm=40,Km={endCallback:null,leftCallback:null,rightCallback:null},Ym={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class To extends Dr{constructor(e,n){super(),this._element=e,!(!e||!To.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Km}static get DefaultType(){return Ym}static get NAME(){return Bm}dispose(){$.off(this._element,nr)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),de(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Qm)return;const n=e/this._deltaX;this._deltaX=0,n&&de(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?($.on(this._element,Gm,e=>this._start(e)),$.on(this._element,jm,e=>this._end(e)),this._element.classList.add(Um)):($.on(this._element,Hm,e=>this._start(e)),$.on(this._element,Fm,e=>this._move(e)),$.on(this._element,zm,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Vm||e.pointerType===Wm)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const qm="carousel",Xm="bs.carousel",Fn=`.${Xm}`,Gf=".data-api",Jm="ArrowLeft",Zm="ArrowRight",t_=500,fr="next",Ni="prev",Ri="left",po="right",e_=`slide${Fn}`,Ws=`slid${Fn}`,n_=`keydown${Fn}`,i_=`mouseenter${Fn}`,r_=`mouseleave${Fn}`,o_=`dragstart${Fn}`,s_=`load${Fn}${Gf}`,a_=`click${Fn}${Gf}`,jf="carousel",to="active",c_="slide",l_="carousel-item-end",u_="carousel-item-start",f_="carousel-item-next",d_="carousel-item-prev",Wf=".active",Vf=".carousel-item",h_=Wf+Vf,p_=".carousel-item img",g_=".carousel-indicators",m_="[data-bs-slide], [data-bs-slide-to]",__='[data-bs-ride="carousel"]',v_={[Jm]:po,[Zm]:Ri},b_={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},y_={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Lr extends Ke{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=at.findOne(g_,this._element),this._addEventListeners(),this._config.ride===jf&&this.cycle()}static get Default(){return b_}static get DefaultType(){return y_}static get NAME(){return qm}next(){this._slide(fr)}nextWhenVisible(){!document.hidden&&er(this._element)&&this.next()}prev(){this._slide(Ni)}pause(){this._isSliding&&kf(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){$.one(this._element,Ws,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){$.one(this._element,Ws,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const o=e>i?fr:Ni;this._slide(o,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&$.on(this._element,n_,e=>this._keydown(e)),this._config.pause==="hover"&&($.on(this._element,i_,()=>this.pause()),$.on(this._element,r_,()=>this._maybeEnableCycle())),this._config.touch&&To.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of at.find(p_,this._element))$.on(i,o_,o=>o.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Ri)),rightCallback:()=>this._slide(this._directionToOrder(po)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),t_+this._config.interval))}};this._swipeHelper=new To(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=v_[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=at.findOne(Wf,this._indicatorsElement);n.classList.remove(to),n.removeAttribute("aria-current");const i=at.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(to),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const i=this._getActive(),o=e===fr,s=n||Ba(this._getItems(),i,o,this._config.wrap);if(s===i)return;const c=this._getItemIndex(s),u=T=>$.trigger(this._element,T,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:c});if(u(e_).defaultPrevented||!i||!s)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(c),this._activeElement=s;const h=o?u_:l_,A=o?f_:d_;s.classList.add(A),Or(s),i.classList.add(h),s.classList.add(h);const _=()=>{s.classList.remove(h,A),s.classList.add(to),i.classList.remove(to,A,h),this._isSliding=!1,u(Ws)};this._queueCallback(_,i,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(c_)}_getActive(){return at.findOne(h_,this._element)}_getItems(){return at.find(Vf,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Be()?e===Ri?Ni:fr:e===Ri?fr:Ni}_orderToDirection(e){return Be()?e===Ni?Ri:po:e===Ni?po:Ri}static jQueryInterface(e){return this.each(function(){const n=Lr.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}$.on(document,a_,m_,function(t){const e=at.getElementFromSelector(this);if(!e||!e.classList.contains(jf))return;t.preventDefault();const n=Lr.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(wn.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});$.on(window,s_,()=>{const t=at.find(__);for(const e of t)Lr.getOrCreateInstance(e)});Fe(Lr);const A_="collapse",w_="bs.collapse",kr=`.${w_}`,E_=".data-api",x_=`show${kr}`,T_=`shown${kr}`,C_=`hide${kr}`,S_=`hidden${kr}`,O_=`click${kr}${E_}`,Vs="show",Hi="collapse",eo="collapsing",D_="collapsed",L_=`:scope .${Hi} .${Hi}`,k_="collapse-horizontal",M_="width",N_="height",I_=".collapse.show, .collapse.collapsing",pa='[data-bs-toggle="collapse"]',$_={parent:null,toggle:!0},P_={parent:"(null|element)",toggle:"boolean"};class Ar extends Ke{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const i=at.find(pa);for(const o of i){const s=at.getSelectorFromElement(o),c=at.find(s).filter(u=>u===this._element);s!==null&&c.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return $_}static get DefaultType(){return P_}static get NAME(){return A_}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(I_).filter(u=>u!==this._element).map(u=>Ar.getOrCreateInstance(u,{toggle:!1}))),e.length&&e[0]._isTransitioning||$.trigger(this._element,x_).defaultPrevented)return;for(const u of e)u.hide();const i=this._getDimension();this._element.classList.remove(Hi),this._element.classList.add(eo),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(eo),this._element.classList.add(Hi,Vs),this._element.style[i]="",$.trigger(this._element,T_)},c=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown()||$.trigger(this._element,C_).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Or(this._element),this._element.classList.add(eo),this._element.classList.remove(Hi,Vs);for(const o of this._triggerArray){const s=at.getElementFromSelector(o);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(eo),this._element.classList.add(Hi),$.trigger(this._element,S_)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Vs)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Pn(e.parent),e}_getDimension(){return this._element.classList.contains(k_)?M_:N_}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(pa);for(const n of e){const i=at.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(e){const n=at.find(L_,this._config.parent);return at.find(e,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const i of e)i.classList.toggle(D_,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const i=Ar.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}$.on(document,O_,pa,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of at.getMultipleElementsFromSelector(this))Ar.getOrCreateInstance(e,{toggle:!1}).toggle()});Fe(Ar);const Zl="dropdown",R_="bs.dropdown",mi=`.${R_}`,Fa=".data-api",B_="Escape",tu="Tab",H_="ArrowUp",eu="ArrowDown",F_=2,z_=`hide${mi}`,G_=`hidden${mi}`,j_=`show${mi}`,W_=`shown${mi}`,Uf=`click${mi}${Fa}`,Qf=`keydown${mi}${Fa}`,V_=`keyup${mi}${Fa}`,Bi="show",U_="dropup",Q_="dropend",K_="dropstart",Y_="dropup-center",q_="dropdown-center",ri='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',X_=`${ri}.${Bi}`,go=".dropdown-menu",J_=".navbar",Z_=".navbar-nav",tv=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ev=Be()?"top-end":"top-start",nv=Be()?"top-start":"top-end",iv=Be()?"bottom-end":"bottom-start",rv=Be()?"bottom-start":"bottom-end",ov=Be()?"left-start":"right-start",sv=Be()?"right-start":"left-start",av="top",cv="bottom",lv={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},uv={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class an extends Ke{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=at.next(this._element,go)[0]||at.prev(this._element,go)[0]||at.findOne(go,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return lv}static get DefaultType(){return uv}static get NAME(){return Zl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Rn(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!$.trigger(this._element,j_,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Z_))for(const i of[].concat(...document.body.children))$.on(i,"mouseover",xo);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bi),this._element.classList.add(Bi),$.trigger(this._element,W_,e)}}hide(){if(Rn(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!$.trigger(this._element,z_,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))$.off(i,"mouseover",xo);this._popper&&this._popper.destroy(),this._menu.classList.remove(Bi),this._element.classList.remove(Bi),this._element.setAttribute("aria-expanded","false"),wn.removeDataAttribute(this._menu,"popper"),$.trigger(this._element,G_,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!An(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Zl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Af>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:An(this._config.reference)?e=Pn(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Ho(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Bi)}_getPlacement(){const e=this._parent;if(e.classList.contains(Q_))return ov;if(e.classList.contains(K_))return sv;if(e.classList.contains(Y_))return av;if(e.classList.contains(q_))return cv;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(U_)?n?nv:ev:n?rv:iv}_detectNavbar(){return this._element.closest(J_)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(wn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...de(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const i=at.find(tv,this._menu).filter(o=>er(o));i.length&&Ba(i,n,e===eu,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=an.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===F_||e.type==="keyup"&&e.key!==tu)return;const n=at.find(X_);for(const i of n){const o=an.getInstance(i);if(!o||o._config.autoClose===!1)continue;const s=e.composedPath(),c=s.includes(o._menu);if(s.includes(o._element)||o._config.autoClose==="inside"&&!c||o._config.autoClose==="outside"&&c||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===tu||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const u={relatedTarget:o._element};e.type==="click"&&(u.clickEvent=e),o._completeHide(u)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),i=e.key===B_,o=[H_,eu].includes(e.key);if(!o&&!i||n&&!i)return;e.preventDefault();const s=this.matches(ri)?this:at.prev(this,ri)[0]||at.next(this,ri)[0]||at.findOne(ri,e.delegateTarget.parentNode),c=an.getOrCreateInstance(s);if(o){e.stopPropagation(),c.show(),c._selectMenuItem(e);return}c._isShown()&&(e.stopPropagation(),c.hide(),s.focus())}}$.on(document,Qf,ri,an.dataApiKeydownHandler);$.on(document,Qf,go,an.dataApiKeydownHandler);$.on(document,Uf,an.clearMenus);$.on(document,V_,an.clearMenus);$.on(document,Uf,ri,function(t){t.preventDefault(),an.getOrCreateInstance(this).toggle()});Fe(an);const Kf="backdrop",fv="fade",nu="show",iu=`mousedown.bs.${Kf}`,dv={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},hv={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Yf extends Dr{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return dv}static get DefaultType(){return hv}static get NAME(){return Kf}show(e){if(!this._config.isVisible){de(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Or(n),n.classList.add(nu),this._emulateAnimation(()=>{de(e)})}hide(e){if(!this._config.isVisible){de(e);return}this._getElement().classList.remove(nu),this._emulateAnimation(()=>{this.dispose(),de(e)})}dispose(){this._isAppended&&($.off(this._element,iu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(fv),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Pn(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),$.on(e,iu,()=>{de(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){If(e,this._getElement(),this._config.isAnimated)}}const pv="focustrap",gv="bs.focustrap",Co=`.${gv}`,mv=`focusin${Co}`,_v=`keydown.tab${Co}`,vv="Tab",bv="forward",ru="backward",yv={autofocus:!0,trapElement:null},Av={autofocus:"boolean",trapElement:"element"};class qf extends Dr{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return yv}static get DefaultType(){return Av}static get NAME(){return pv}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),$.off(document,Co),$.on(document,mv,e=>this._handleFocusin(e)),$.on(document,_v,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,$.off(document,Co))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const i=at.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===ru?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===vv&&(this._lastTabNavDirection=e.shiftKey?ru:bv)}}const ou=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",su=".sticky-top",no="padding-right",au="margin-right";class ga{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,no,n=>n+e),this._setElementAttributes(ou,no,n=>n+e),this._setElementAttributes(su,au,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,no),this._resetElementAttributes(ou,no),this._resetElementAttributes(su,au)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,i){const o=this.getWidth(),s=c=>{if(c!==this._element&&window.innerWidth>c.clientWidth+o)return;this._saveInitialAttribute(c,n);const u=window.getComputedStyle(c).getPropertyValue(n);c.style.setProperty(n,`${i(Number.parseFloat(u))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&wn.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){const i=o=>{const s=wn.getDataAttribute(o,n);if(s===null){o.style.removeProperty(n);return}wn.removeDataAttribute(o,n),o.style.setProperty(n,s)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,n){if(An(e)){n(e);return}for(const i of at.find(e,this._element))n(i)}}const wv="modal",Ev="bs.modal",He=`.${Ev}`,xv=".data-api",Tv="Escape",Cv=`hide${He}`,Sv=`hidePrevented${He}`,Xf=`hidden${He}`,Jf=`show${He}`,Ov=`shown${He}`,Dv=`resize${He}`,Lv=`click.dismiss${He}`,kv=`mousedown.dismiss${He}`,Mv=`keydown.dismiss${He}`,Nv=`click${He}${xv}`,cu="modal-open",Iv="fade",lu="show",Us="modal-static",$v=".modal.show",Pv=".modal-dialog",Rv=".modal-body",Bv='[data-bs-toggle="modal"]',Hv={backdrop:!0,focus:!0,keyboard:!0},Fv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class qi extends Ke{constructor(e,n){super(e,n),this._dialog=at.findOne(Pv,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ga,this._addEventListeners()}static get Default(){return Hv}static get DefaultType(){return Fv}static get NAME(){return wv}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||$.trigger(this._element,Jf,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(cu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||$.trigger(this._element,Cv).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(lu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){$.off(window,He),$.off(this._dialog,He),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Yf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new qf({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=at.findOne(Rv,this._dialog);n&&(n.scrollTop=0),Or(this._element),this._element.classList.add(lu);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,$.trigger(this._element,Ov,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){$.on(this._element,Mv,e=>{if(e.key===Tv){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),$.on(window,Dv,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),$.on(this._element,kv,e=>{$.one(this._element,Lv,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(cu),this._resetAdjustments(),this._scrollBar.reset(),$.trigger(this._element,Xf)})}_isAnimated(){return this._element.classList.contains(Iv)}_triggerBackdropTransition(){if($.trigger(this._element,Sv).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Us)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Us),this._queueCallback(()=>{this._element.classList.remove(Us),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!e){const o=Be()?"paddingLeft":"paddingRight";this._element.style[o]=`${n}px`}if(!i&&e){const o=Be()?"paddingRight":"paddingLeft";this._element.style[o]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const i=qi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](n)}})}}$.on(document,Nv,Bv,function(t){const e=at.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),$.one(e,Jf,o=>{o.defaultPrevented||$.one(e,Xf,()=>{er(this)&&this.focus()})});const n=at.findOne($v);n&&qi.getInstance(n).hide(),qi.getOrCreateInstance(e).toggle(this)});zo(qi);Fe(qi);const zv="offcanvas",Gv="bs.offcanvas",Cn=`.${Gv}`,Zf=".data-api",jv=`load${Cn}${Zf}`,Wv="Escape",uu="show",fu="showing",du="hiding",Vv="offcanvas-backdrop",td=".offcanvas.show",Uv=`show${Cn}`,Qv=`shown${Cn}`,Kv=`hide${Cn}`,hu=`hidePrevented${Cn}`,ed=`hidden${Cn}`,Yv=`resize${Cn}`,qv=`click${Cn}${Zf}`,Xv=`keydown.dismiss${Cn}`,Jv='[data-bs-toggle="offcanvas"]',Zv={backdrop:!0,keyboard:!0,scroll:!1},tb={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Bn extends Ke{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Zv}static get DefaultType(){return tb}static get NAME(){return zv}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||$.trigger(this._element,Uv,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ga().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(fu);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(uu),this._element.classList.remove(fu),$.trigger(this._element,Qv,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||$.trigger(this._element,Kv).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(du),this._backdrop.hide();const n=()=>{this._element.classList.remove(uu,du),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ga().reset(),$.trigger(this._element,ed)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){$.trigger(this._element,hu);return}this.hide()},n=!!this._config.backdrop;return new Yf({className:Vv,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new qf({trapElement:this._element})}_addEventListeners(){$.on(this._element,Xv,e=>{if(e.key===Wv){if(this._config.keyboard){this.hide();return}$.trigger(this._element,hu)}})}static jQueryInterface(e){return this.each(function(){const n=Bn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}$.on(document,qv,Jv,function(t){const e=at.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Rn(this))return;$.one(e,ed,()=>{er(this)&&this.focus()});const n=at.findOne(td);n&&n!==e&&Bn.getInstance(n).hide(),Bn.getOrCreateInstance(e).toggle(this)});$.on(window,jv,()=>{for(const t of at.find(td))Bn.getOrCreateInstance(t).show()});$.on(window,Yv,()=>{for(const t of at.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Bn.getOrCreateInstance(t).hide()});zo(Bn);Fe(Bn);const eb=/^aria-[\w-]*$/i,nd={"*":["class","dir","id","lang","role",eb],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},nb=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ib=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,rb=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?nb.has(n)?!!ib.test(t.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function ob(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const o=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...o.body.querySelectorAll("*"));for(const c of s){const u=c.nodeName.toLowerCase();if(!Object.keys(e).includes(u)){c.remove();continue}const f=[].concat(...c.attributes),p=[].concat(e["*"]||[],e[u]||[]);for(const h of f)rb(h,p)||c.removeAttribute(h.nodeName)}return o.body.innerHTML}const sb="TemplateFactory",ab={allowList:nd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},cb={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},lb={entry:"(string|element|function|null)",selector:"(string|element)"};class ub extends Dr{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return ab}static get DefaultType(){return cb}static get NAME(){return sb}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,s]of Object.entries(this._config.content))this._setContent(e,s,o);const n=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,i]of Object.entries(e))super._typeCheckConfig({selector:n,entry:i},lb)}_setContent(e,n,i){const o=at.findOne(i,e);if(o){if(n=this._resolvePossibleFunction(n),!n){o.remove();return}if(An(n)){this._putElementInTemplate(Pn(n),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(n);return}o.textContent=n}}_maybeSanitize(e){return this._config.sanitize?ob(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return de(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const fb="tooltip",db=new Set(["sanitize","allowList","sanitizeFn"]),Qs="fade",hb="modal",io="show",pb=".tooltip-inner",pu=`.${hb}`,gu="hide.bs.modal",dr="hover",Ks="focus",gb="click",mb="manual",_b="hide",vb="hidden",bb="show",yb="shown",Ab="inserted",wb="click",Eb="focusin",xb="focusout",Tb="mouseenter",Cb="mouseleave",Sb={AUTO:"auto",TOP:"top",RIGHT:Be()?"left":"right",BOTTOM:"bottom",LEFT:Be()?"right":"left"},Ob={allowList:nd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Db={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ir extends Ke{constructor(e,n){if(typeof Af>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ob}static get DefaultType(){return Db}static get NAME(){return fb}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),$.off(this._element.closest(pu),gu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=$.trigger(this._element,this.constructor.eventName(bb)),i=(Mf(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(o),$.trigger(this._element,this.constructor.eventName(Ab))),this._popper=this._createPopper(o),o.classList.add(io),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))$.on(u,"mouseover",xo);const c=()=>{$.trigger(this._element,this.constructor.eventName(yb)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(c,this.tip,this._isAnimated())}hide(){if(!this._isShown()||$.trigger(this._element,this.constructor.eventName(_b)).defaultPrevented)return;if(this._getTipElement().classList.remove(io),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))$.off(o,"mouseover",xo);this._activeTrigger[gb]=!1,this._activeTrigger[Ks]=!1,this._activeTrigger[dr]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),$.trigger(this._element,this.constructor.eventName(vb)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Qs,io),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=gm(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(Qs),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ub({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[pb]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Qs)}_isShown(){return this.tip&&this.tip.classList.contains(io)}_createPopper(e){const n=de(this._config.placement,[this,e,this._element]),i=Sb[n.toUpperCase()];return Ho(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return de(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...de(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")$.on(this._element,this.constructor.eventName(wb),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==mb){const i=n===dr?this.constructor.eventName(Tb):this.constructor.eventName(Eb),o=n===dr?this.constructor.eventName(Cb):this.constructor.eventName(xb);$.on(this._element,i,this._config.selector,s=>{const c=this._initializeOnDelegatedTarget(s);c._activeTrigger[s.type==="focusin"?Ks:dr]=!0,c._enter()}),$.on(this._element,o,this._config.selector,s=>{const c=this._initializeOnDelegatedTarget(s);c._activeTrigger[s.type==="focusout"?Ks:dr]=c._element.contains(s.relatedTarget),c._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},$.on(this._element.closest(pu),gu,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=wn.getDataAttributes(this._element);for(const i of Object.keys(n))db.has(i)&&delete n[i];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Pn(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(e[n]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=ir.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Fe(ir);const Lb="popover",kb=".popover-header",Mb=".popover-body",Nb={...ir.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ib={...ir.DefaultType,content:"(null|string|element|function)"};class Wo extends ir{static get Default(){return Nb}static get DefaultType(){return Ib}static get NAME(){return Lb}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[kb]:this._getTitle(),[Mb]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Wo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Fe(Wo);const $b="scrollspy",Pb="bs.scrollspy",za=`.${Pb}`,Rb=".data-api",Bb=`activate${za}`,mu=`click${za}`,Hb=`load${za}${Rb}`,Fb="dropdown-item",Ii="active",zb='[data-bs-spy="scroll"]',Ys="[href]",Gb=".nav, .list-group",_u=".nav-link",jb=".nav-item",Wb=".list-group-item",Vb=`${_u}, ${jb} > ${_u}, ${Wb}`,Ub=".dropdown",Qb=".dropdown-toggle",Kb={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Yb={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vo extends Ke{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Kb}static get DefaultType(){return Yb}static get NAME(){return $b}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Pn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&($.off(this._config.target,mu),$.on(this._config.target,mu,Ys,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const i=this._rootElement||window,o=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:o,behavior:"smooth"});return}i.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=c=>this._targetLinks.get(`#${c.target.id}`),i=c=>{this._previousScrollData.visibleEntryTop=c.target.offsetTop,this._process(n(c))},o=(this._rootElement||document.documentElement).scrollTop,s=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const c of e){if(!c.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(c));continue}const u=c.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&u){if(i(c),!o)return;continue}!s&&!u&&i(c)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=at.find(Ys,this._config.target);for(const n of e){if(!n.hash||Rn(n))continue;const i=at.findOne(decodeURI(n.hash),this._element);er(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ii),this._activateParents(e),$.trigger(this._element,Bb,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Fb)){at.findOne(Qb,e.closest(Ub)).classList.add(Ii);return}for(const n of at.parents(e,Gb))for(const i of at.prev(n,Vb))i.classList.add(Ii)}_clearActiveClass(e){e.classList.remove(Ii);const n=at.find(`${Ys}.${Ii}`,e);for(const i of n)i.classList.remove(Ii)}static jQueryInterface(e){return this.each(function(){const n=Vo.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}$.on(window,Hb,()=>{for(const t of at.find(zb))Vo.getOrCreateInstance(t)});Fe(Vo);const qb="tab",Xb="bs.tab",_i=`.${Xb}`,Jb=`hide${_i}`,Zb=`hidden${_i}`,ty=`show${_i}`,ey=`shown${_i}`,ny=`click${_i}`,iy=`keydown${_i}`,ry=`load${_i}`,oy="ArrowLeft",vu="ArrowRight",sy="ArrowUp",bu="ArrowDown",qs="Home",yu="End",oi="active",Au="fade",Xs="show",ay="dropdown",id=".dropdown-toggle",cy=".dropdown-menu",Js=`:not(${id})`,ly='.list-group, .nav, [role="tablist"]',uy=".nav-item, .list-group-item",fy=`.nav-link${Js}, .list-group-item${Js}, [role="tab"]${Js}`,rd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Zs=`${fy}, ${rd}`,dy=`.${oi}[data-bs-toggle="tab"], .${oi}[data-bs-toggle="pill"], .${oi}[data-bs-toggle="list"]`;class Xi extends Ke{constructor(e){super(e),this._parent=this._element.closest(ly),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),$.on(this._element,iy,n=>this._keydown(n)))}static get NAME(){return qb}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),i=n?$.trigger(n,Jb,{relatedTarget:e}):null;$.trigger(e,ty,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(oi),this._activate(at.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Xs);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),$.trigger(e,ey,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(Au))}_deactivate(e,n){if(!e)return;e.classList.remove(oi),e.blur(),this._deactivate(at.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Xs);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),$.trigger(e,Zb,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(Au))}_keydown(e){if(![oy,vu,sy,bu,qs,yu].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(o=>!Rn(o));let i;if([qs,yu].includes(e.key))i=n[e.key===qs?0:n.length-1];else{const o=[vu,bu].includes(e.key);i=Ba(n,e.target,o,!0)}i&&(i.focus({preventScroll:!0}),Xi.getOrCreateInstance(i).show())}_getChildren(){return at.find(Zs,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",n),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=at.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const i=this._getOuterElement(e);if(!i.classList.contains(ay))return;const o=(s,c)=>{const u=at.findOne(s,i);u&&u.classList.toggle(c,n)};o(id,oi),o(cy,Xs),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,i){e.hasAttribute(n)||e.setAttribute(n,i)}_elemIsActive(e){return e.classList.contains(oi)}_getInnerElement(e){return e.matches(Zs)?e:at.findOne(Zs,e)}_getOuterElement(e){return e.closest(uy)||e}static jQueryInterface(e){return this.each(function(){const n=Xi.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}$.on(document,ny,rd,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Rn(this)&&Xi.getOrCreateInstance(this).show()});$.on(window,ry,()=>{for(const t of at.find(dy))Xi.getOrCreateInstance(t)});Fe(Xi);const hy="toast",py="bs.toast",zn=`.${py}`,gy=`mouseover${zn}`,my=`mouseout${zn}`,_y=`focusin${zn}`,vy=`focusout${zn}`,by=`hide${zn}`,yy=`hidden${zn}`,Ay=`show${zn}`,wy=`shown${zn}`,Ey="fade",wu="hide",ro="show",oo="showing",xy={animation:"boolean",autohide:"boolean",delay:"number"},Ty={animation:!0,autohide:!0,delay:5e3};class Uo extends Ke{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ty}static get DefaultType(){return xy}static get NAME(){return hy}show(){if($.trigger(this._element,Ay).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Ey);const n=()=>{this._element.classList.remove(oo),$.trigger(this._element,wy),this._maybeScheduleHide()};this._element.classList.remove(wu),Or(this._element),this._element.classList.add(ro,oo),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||$.trigger(this._element,by).defaultPrevented)return;const n=()=>{this._element.classList.add(wu),this._element.classList.remove(oo,ro),$.trigger(this._element,yy)};this._element.classList.add(oo),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ro),super.dispose()}isShown(){return this._element.classList.contains(ro)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){$.on(this._element,gy,e=>this._onInteraction(e,!0)),$.on(this._element,my,e=>this._onInteraction(e,!1)),$.on(this._element,_y,e=>this._onInteraction(e,!0)),$.on(this._element,vy,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Uo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}zo(Uo);Fe(Uo);const ta=new Map;function gr(t){var n;ta.forEach(i=>{i.forEach(o=>o.destroy())}),ta.clear();const e=Se();e.innerHTML=`
    <div class="container mt-4">
      <h2 class="text-center mb-4">状态</h2>

      <div class="row">
        <!-- 属性栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${t.name} 的属性</h4>
            </div>
            <div class="card-body">
              <div id="attribute-bar" class="list-group list-group-flush">
                ${(()=>{const i=t.getAbility(),o=t.getExtraAbility();return Object.entries(i).map(([s,c])=>{const u=o[s]||0;let f="";return u>0?f=`<span class="badge bg-success ms-2">+${u}</span>`:u<0&&(f=`<span class="badge bg-danger ms-2">${u}</span>`),`
                      <div class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-bold text-capitalize">${s}</span>
                        <div>
                          <span class="text-muted">${c}</span>
                          ${f}
                        </div>
                      </div>
                    `}).join("")})()}
              </div>
            </div>
          </div>
        </div>

        <!-- 行动列表区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${t.name} 的行动列表</h4>
            </div>
            <div class="card-body">
              <!-- Tab 导航 -->
              <ul class="nav nav-underline mb-3" id="actionTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="extra-tab" data-bs-toggle="tab" data-bs-target="#extra-actions" type="button" role="tab" aria-controls="extra-actions" aria-selected="true">
                    装备额外行动
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="base-tab" data-bs-toggle="tab" data-bs-target="#base-actions" type="button" role="tab" aria-controls="base-actions" aria-selected="false">
                    基础行动
                  </button>
                </li>
              </ul>
              <!-- Tab 内容 -->
              <div class="tab-content" id="actionTabContent">
                <!-- 装备额外行动列表（默认激活） -->
                <div class="tab-pane fade show active" id="extra-actions" role="tabpanel" aria-labelledby="extra-tab">
                  <ul class="list-group">
                    ${t.getExtraActions().sort((i,o)=>Ut[o.actionType].rarity-Ut[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Ut[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Sl(t,Ut[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Ut[i.actionType].name}</span>
                            <span class="badge bg-${B[Ut[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
                <!-- 基础行动列表 -->
                <div class="tab-pane fade" id="base-actions" role="tabpanel" aria-labelledby="base-tab">
                  <ul class="list-group">
                    ${t.actions.sort((i,o)=>Ut[o.actionType].rarity-Ut[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Ut[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Sl(t,Ut[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Ut[i.actionType].name}</span>
                            <span class="badge bg-${B[Ut[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 装备栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的装备</h4>
            </div>
            <div class="card-body">
              <div id="equipment-bar" class="list-group">
                ${Object.entries(t.equipments).map(([i,o])=>`
                  <div id="equipment-slot-${i}" class="list-group-item">
                    <div class="d-flex align-items-center gap-2">
                      <span class="fw-bold">${i}</span>
                      ${o?`<span id="equipment-slot-${i}" class="badge bg-${B[o.rarity]}">${o.name}</span>`:'<span class="badge bg-secondary">空</span>'}
                    </div>
                  </div>
                `).join("")}
              </div>
            </div>
          </div>
        </div>

      <!-- 背包区域 -->
      <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
          <div class="card-header bg-secondary text-white">
            <h4 class="card-title mb-0">${t.name} 的背包</h4>
          </div>
          <div class="card-body">
            <!-- Tab 导航 -->
            <ul class="nav nav-underline mb-3" id="packTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab" aria-controls="all" aria-selected="true">
                  全部
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="equip-tab" data-bs-toggle="tab" data-bs-target="#equip" type="button" role="tab" aria-controls="equip" aria-selected="false">
                  装备
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="consumable-tab" data-bs-toggle="tab" data-bs-target="#consumable" type="button" role="tab" aria-controls="consumable" aria-selected="false">
                  消耗品
                </button>
              </li>
            </ul>
            <!-- Tab 内容 -->
            <div class="tab-content" id="packTabContent">
              <!-- 全部标签 -->
              <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                <div id="pack-all" class="d-flex flex-wrap gap-2">
                  ${t.pack.length>0?t.pack.sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${B[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Is(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">背包为空</p>'}
                </div>
              </div>
              <!-- 装备标签 -->
              <div class="tab-pane fade" id="equip" role="tabpanel" aria-labelledby="equip-tab">
                <div id="pack-equip" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof on).length>0?t.pack.filter(i=>i instanceof on).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${B[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Is(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有装备</p>'}
                </div>
              </div>
              <!-- 道具标签 -->
              <div class="tab-pane fade" id="consumable" role="tabpanel" aria-labelledby="consumable-tab">
                <div id="pack-consumable" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof Ue).length>0?t.pack.filter(i=>i instanceof Ue).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${B[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Is(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有道具</p>'}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 宠物区域 -->
      <div class="row mb-4">
        <div class="col">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的宠物</h4>
            </div>
            <div class="card-body">
              <div id="pet" class="list-group">
                ${t.capturedMonster.length>0?t.capturedMonster.map(i=>`
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                          <span class="fw-bold">${i.name}</span>
                          <span class="text-muted">Lv. ${i.level}</span>
                        </div>
                      `).join(""):'<p class="text-muted">暂无宠物</p>'}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 返回主菜单按钮 -->
      <div class="text-center">
        <button id="back-btn" class="btn btn-primary">返回主菜单</button>
      </div>
    </div>
  `,(n=document.getElementById("back-btn"))==null||n.addEventListener("click",()=>{gi(t)});for(const i of t.pack){const o=kl(i),s=document.querySelectorAll(`[id="use-btn${i.uuid}"]`),c=[];ta.set(i.uuid,c),s.forEach(u=>{const f=hi(u,{theme:"game",content:`
          ${o}
          <button id="use-btn${i.uuid}" class="btn btn-success">
            ${i instanceof Ue?"使用":"装备"}
          </button>
          <button id="discard-btn${i.uuid}" class="btn btn-danger">
            丢弃
          </button>
        `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(p){const h=p.popper.querySelector(`#use-btn${i.uuid}`);h&&h.addEventListener("click",_=>{_.stopPropagation(),p.hide(),i instanceof Ue?(i.useItem(t),t.addLog(`${t.name} 使用了 ${i.name}`),bn(t),gr(t)):i instanceof on&&(t.wearEquipment(i),bn(t),gr(t))});const A=p.popper.querySelector(`#discard-btn${i.uuid}`);A&&A.addEventListener("click",_=>{_.stopPropagation(),p.hide(),t.discardItem(i),bn(t),gr(t)})}});c.push(f)})}for(const[i,o]of Object.entries(t.equipments)){if(!o)continue;const s=kl(o),c=document.getElementById(`equipment-slot-${i}`);c&&hi(c,{theme:"game",content:`
        ${s}
        <button id="remove-btn${o.uuid}" class="btn btn-primary">
          卸下
        </button>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(u){const f=u.popper.querySelector(`#remove-btn${o.uuid}`);f&&f.addEventListener("click",p=>{p.stopPropagation(),u.hide(),t.removeEquipment(i),bn(t),gr(t)})}})}document.querySelectorAll('[data-bs-toggle="popover"]').forEach(i=>{new Wo(i)})}var Pe=(t=>(t.NormalMonster="NormalMonster",t.EliteMonster="EliteMonster",t.Boss="Boss",t.Treasure="Treasure",t.Camp="Camp",t.BackHome="BackHome",t.Rest="Rest",t.Event="Event",t.ToOtherRegion="ToOtherRegion",t))(Pe||{});const od={name:"森林1-1",id:"forest1_1",description:"森林1-1",type:Pe.NormalMonster,position:{x:100,y:100},toNodeList:[],monsterList:[{monster:ee.Slime,maxLevel:1,minLevel:1,weight:1}]},Eu={name:"森林入口",id:"forest0_1",description:"森林入口",type:Pe.Camp,position:{x:200,y:200},toNodeList:[od]},sd={name:"森林",id:"forest",description:"森林",isOpen:!1,startNode:Eu,nodeList:[Eu,od]},ad={name:"遗迹出口",id:"ruin3_2",description:"外面是一眼望不到头的森林，你可以闻到森林中传来的泥土和青草的气息",type:Pe.ToOtherRegion,position:{x:450,y:900},toNodeList:[],region:sd},Ga={name:"靠近出口的房间",id:"ruin2_1",description:"一只强壮且凶恶的哥布林正镇守在这里",type:Pe.Boss,position:{x:600,y:700},toNodeList:[ad],bossStageList:[{monster:ee.GoblinLeader,maxLevel:1,minLevel:0,maxIndividualStrength:1.1,minIndividualStrength:1}]},cd={name:"哥布林的藏宝室",id:"ruin2_2",description:"哥布林把掠夺来的宝物藏在了这里",type:Pe.Treasure,position:{x:700,y:550},toNodeList:[Ga],firstTimeTreasureList:[{item:Rt.GoldChest,minLevel:0,maxLevel:0,weight:1}],repeatableTreasureList:[{item:Rt.BrokenChest,minLevel:0,maxLevel:0,weight:1}]},ld={name:"遗迹走廊",id:"ruin1_1",description:"这个遗迹似乎已经成为了哥布林的巢穴",type:Pe.NormalMonster,position:{x:500,y:550},toNodeList:[Ga,cd],monsterList:[{monster:ee.Goblin,maxLevel:0,minLevel:0,weight:1}]},xu={name:"遗迹深处的房间",id:"ruin0_1",description:"遗迹深处的房间，被厚厚的石门封锁着。正中间正是你躺了一百年的石棺",type:Pe.Camp,position:{x:300,y:450},toNodeList:[ld]},Cy={name:"遗迹",id:"ruin",description:"遗迹",isOpen:!0,startNode:xu,nodeList:[xu,ld,Ga,cd,ad]},Sy={forest:sd,ruin:Cy};function $n(t){return Sy[t]}function Oy(t){var i;const e=Se(),n=t.unlockedRegionIdList.map(o=>$n(o));e.innerHTML=`
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        ${n.map(o=>`
            <div class="col-12 col-md-4">
              <button id="${o.id}-btn" class="btn btn-primary w-100 py-3">
                ${o.name}
              </button>
            </div>
          `).join("")}
        <div class="col-12 col-md-4">
          <button id="return-btn" class="btn btn-success w-100 py-3">返回主菜单</button>
        </div>
      </div>
    </div>
    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,n.forEach(o=>{var s;(s=document.getElementById(`${o.id}-btn`))==null||s.addEventListener("click",()=>{$n(o.id).isOpen?(t.goToRegion(o.id),gi(t)):alert("前面的区域以后再来探索吧？")})}),(i=document.getElementById("return-btn"))==null||i.addEventListener("click",()=>{gi(t)})}const Dy="/otherworld114514/assets/ruin-BbvlXD7H.png";var Ly={value:()=>{}};function ja(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new mo(n)}function mo(t){this._=t}function ky(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}mo.prototype=ja.prototype={constructor:mo,on:function(t,e){var n=this._,i=ky(t+"",n),o,s=-1,c=i.length;if(arguments.length<2){for(;++s<c;)if((o=(t=i[s]).type)&&(o=My(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<c;)if(o=(t=i[s]).type)n[o]=Tu(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Tu(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new mo(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,o=s.length;i<o;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,s=i.length;o<s;++o)i[o].value.apply(e,n)}};function My(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Tu(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Ly,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var ma="http://www.w3.org/1999/xhtml";const Cu={svg:"http://www.w3.org/2000/svg",xhtml:ma,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Cu.hasOwnProperty(e)?{space:Cu[e],local:t}:t}function Ny(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ma&&e.documentElement.namespaceURI===ma?e.createElement(t):e.createElementNS(n,t)}}function Iy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ud(t){var e=Qo(t);return(e.local?Iy:Ny)(e)}function $y(){}function Wa(t){return t==null?$y:function(){return this.querySelector(t)}}function Py(t){typeof t!="function"&&(t=Wa(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],c=s.length,u=i[o]=new Array(c),f,p,h=0;h<c;++h)(f=s[h])&&(p=t.call(f,f.__data__,h,s))&&("__data__"in f&&(p.__data__=f.__data__),u[h]=p);return new Ce(i,this._parents)}function Ry(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function By(){return[]}function fd(t){return t==null?By:function(){return this.querySelectorAll(t)}}function Hy(t){return function(){return Ry(t.apply(this,arguments))}}function Fy(t){typeof t=="function"?t=Hy(t):t=fd(t);for(var e=this._groups,n=e.length,i=[],o=[],s=0;s<n;++s)for(var c=e[s],u=c.length,f,p=0;p<u;++p)(f=c[p])&&(i.push(t.call(f,f.__data__,p,c)),o.push(f));return new Ce(i,o)}function dd(t){return function(){return this.matches(t)}}function hd(t){return function(e){return e.matches(t)}}var zy=Array.prototype.find;function Gy(t){return function(){return zy.call(this.children,t)}}function jy(){return this.firstElementChild}function Wy(t){return this.select(t==null?jy:Gy(typeof t=="function"?t:hd(t)))}var Vy=Array.prototype.filter;function Uy(){return Array.from(this.children)}function Qy(t){return function(){return Vy.call(this.children,t)}}function Ky(t){return this.selectAll(t==null?Uy:Qy(typeof t=="function"?t:hd(t)))}function Yy(t){typeof t!="function"&&(t=dd(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],c=s.length,u=i[o]=[],f,p=0;p<c;++p)(f=s[p])&&t.call(f,f.__data__,p,s)&&u.push(f);return new Ce(i,this._parents)}function pd(t){return new Array(t.length)}function qy(){return new Ce(this._enter||this._groups.map(pd),this._parents)}function So(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}So.prototype={constructor:So,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Xy(t){return function(){return t}}function Jy(t,e,n,i,o,s){for(var c=0,u,f=e.length,p=s.length;c<p;++c)(u=e[c])?(u.__data__=s[c],i[c]=u):n[c]=new So(t,s[c]);for(;c<f;++c)(u=e[c])&&(o[c]=u)}function Zy(t,e,n,i,o,s,c){var u,f,p=new Map,h=e.length,A=s.length,_=new Array(h),T;for(u=0;u<h;++u)(f=e[u])&&(_[u]=T=c.call(f,f.__data__,u,e)+"",p.has(T)?o[u]=f:p.set(T,f));for(u=0;u<A;++u)T=c.call(t,s[u],u,s)+"",(f=p.get(T))?(i[u]=f,f.__data__=s[u],p.delete(T)):n[u]=new So(t,s[u]);for(u=0;u<h;++u)(f=e[u])&&p.get(_[u])===f&&(o[u]=f)}function tA(t){return t.__data__}function eA(t,e){if(!arguments.length)return Array.from(this,tA);var n=e?Zy:Jy,i=this._parents,o=this._groups;typeof t!="function"&&(t=Xy(t));for(var s=o.length,c=new Array(s),u=new Array(s),f=new Array(s),p=0;p<s;++p){var h=i[p],A=o[p],_=A.length,T=nA(t.call(h,h&&h.__data__,p,i)),z=T.length,M=u[p]=new Array(z),L=c[p]=new Array(z),k=f[p]=new Array(_);n(h,A,M,L,k,T,e);for(var F=0,Y=0,m,V;F<z;++F)if(m=M[F]){for(F>=Y&&(Y=F+1);!(V=L[Y])&&++Y<z;);m._next=V||null}}return c=new Ce(c,i),c._enter=u,c._exit=f,c}function nA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iA(){return new Ce(this._exit||this._groups.map(pd),this._parents)}function rA(t,e,n){var i=this.enter(),o=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function oA(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,s=i.length,c=Math.min(o,s),u=new Array(o),f=0;f<c;++f)for(var p=n[f],h=i[f],A=p.length,_=u[f]=new Array(A),T,z=0;z<A;++z)(T=p[z]||h[z])&&(_[z]=T);for(;f<o;++f)u[f]=n[f];return new Ce(u,this._parents)}function sA(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,s=i[o],c;--o>=0;)(c=i[o])&&(s&&c.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(c,s),s=c);return this}function aA(t){t||(t=cA);function e(A,_){return A&&_?t(A.__data__,_.__data__):!A-!_}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var c=n[s],u=c.length,f=o[s]=new Array(u),p,h=0;h<u;++h)(p=c[h])&&(f[h]=p);f.sort(e)}return new Ce(o,this._parents).order()}function cA(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function lA(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function uA(){return Array.from(this)}function fA(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length;o<s;++o){var c=i[o];if(c)return c}return null}function dA(){let t=0;for(const e of this)++t;return t}function hA(){return!this.node()}function pA(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],s=0,c=o.length,u;s<c;++s)(u=o[s])&&t.call(u,u.__data__,s,o);return this}function gA(t){return function(){this.removeAttribute(t)}}function mA(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _A(t,e){return function(){this.setAttribute(t,e)}}function vA(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function bA(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function yA(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function AA(t,e){var n=Qo(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?mA:gA:typeof e=="function"?n.local?yA:bA:n.local?vA:_A)(n,e))}function gd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wA(t){return function(){this.style.removeProperty(t)}}function EA(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xA(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function TA(t,e,n){return arguments.length>1?this.each((e==null?wA:typeof e=="function"?xA:EA)(t,e,n??"")):Ji(this.node(),t)}function Ji(t,e){return t.style.getPropertyValue(e)||gd(t).getComputedStyle(t,null).getPropertyValue(e)}function CA(t){return function(){delete this[t]}}function SA(t,e){return function(){this[t]=e}}function OA(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function DA(t,e){return arguments.length>1?this.each((e==null?CA:typeof e=="function"?OA:SA)(t,e)):this.node()[t]}function md(t){return t.trim().split(/^|\s+/)}function Va(t){return t.classList||new _d(t)}function _d(t){this._node=t,this._names=md(t.getAttribute("class")||"")}_d.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function vd(t,e){for(var n=Va(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function bd(t,e){for(var n=Va(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function LA(t){return function(){vd(this,t)}}function kA(t){return function(){bd(this,t)}}function MA(t,e){return function(){(e.apply(this,arguments)?vd:bd)(this,t)}}function NA(t,e){var n=md(t+"");if(arguments.length<2){for(var i=Va(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?MA:e?LA:kA)(n,e))}function IA(){this.textContent=""}function $A(t){return function(){this.textContent=t}}function PA(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function RA(t){return arguments.length?this.each(t==null?IA:(typeof t=="function"?PA:$A)(t)):this.node().textContent}function BA(){this.innerHTML=""}function HA(t){return function(){this.innerHTML=t}}function FA(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function zA(t){return arguments.length?this.each(t==null?BA:(typeof t=="function"?FA:HA)(t)):this.node().innerHTML}function GA(){this.nextSibling&&this.parentNode.appendChild(this)}function jA(){return this.each(GA)}function WA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function VA(){return this.each(WA)}function UA(t){var e=typeof t=="function"?t:ud(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function QA(){return null}function KA(t,e){var n=typeof t=="function"?t:ud(t),i=e==null?QA:typeof e=="function"?e:Wa(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function YA(){var t=this.parentNode;t&&t.removeChild(this)}function qA(){return this.each(YA)}function XA(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function JA(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ZA(t){return this.select(t?JA:XA)}function t0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function e0(t){return function(e){t.call(this,e,this.__data__)}}function n0(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function i0(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,s;n<o;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function r0(t,e,n){return function(){var i=this.__on,o,s=e0(e);if(i){for(var c=0,u=i.length;c<u;++c)if((o=i[c]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=e;return}}this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(o):this.__on=[o]}}function o0(t,e,n){var i=n0(t+""),o,s=i.length,c;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,p=u.length,h;f<p;++f)for(o=0,h=u[f];o<s;++o)if((c=i[o]).type===h.type&&c.name===h.name)return h.value}return}for(u=e?r0:i0,o=0;o<s;++o)this.each(u(i[o],e,n));return this}function yd(t,e,n){var i=gd(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function s0(t,e){return function(){return yd(this,t,e)}}function a0(t,e){return function(){return yd(this,t,e.apply(this,arguments))}}function c0(t,e){return this.each((typeof e=="function"?a0:s0)(t,e))}function*l0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length,c;o<s;++o)(c=i[o])&&(yield c)}var Ad=[null];function Ce(t,e){this._groups=t,this._parents=e}function Mr(){return new Ce([[document.documentElement]],Ad)}function u0(){return this}Ce.prototype=Mr.prototype={constructor:Ce,select:Py,selectAll:Fy,selectChild:Wy,selectChildren:Ky,filter:Yy,data:eA,enter:qy,exit:iA,join:rA,merge:oA,selection:u0,order:sA,sort:aA,call:lA,nodes:uA,node:fA,size:dA,empty:hA,each:pA,attr:AA,style:TA,property:DA,classed:NA,text:RA,html:zA,raise:jA,lower:VA,append:UA,insert:KA,remove:qA,clone:ZA,datum:t0,on:o0,dispatch:c0,[Symbol.iterator]:l0};function In(t){return typeof t=="string"?new Ce([[document.querySelector(t)]],[document.documentElement]):new Ce([[t]],Ad)}function f0(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ti(t,e){if(t=f0(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const _a={capture:!0,passive:!1};function va(t){t.preventDefault(),t.stopImmediatePropagation()}function d0(t){var e=t.document.documentElement,n=In(t).on("dragstart.drag",va,_a);"onselectstart"in e?n.on("selectstart.drag",va,_a):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function h0(t,e){var n=t.document.documentElement,i=In(t).on("dragstart.drag",null);e&&(i.on("click.drag",va,_a),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ua(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wd(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Nr(){}var wr=.7,Oo=1/wr,Fi="\\s*([+-]?\\d+)\\s*",Er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p0=/^#([0-9a-f]{3,8})$/,g0=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),m0=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),_0=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${Er}\\)$`),v0=new RegExp(`^rgba\\(${cn},${cn},${cn},${Er}\\)$`),b0=new RegExp(`^hsl\\(${Er},${cn},${cn}\\)$`),y0=new RegExp(`^hsla\\(${Er},${cn},${cn},${Er}\\)$`),Su={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ua(Nr,xr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ou,formatHex:Ou,formatHex8:A0,formatHsl:w0,formatRgb:Du,toString:Du});function Ou(){return this.rgb().formatHex()}function A0(){return this.rgb().formatHex8()}function w0(){return Ed(this).formatHsl()}function Du(){return this.rgb().formatRgb()}function xr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=p0.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Lu(e):n===3?new he(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?so(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?so(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=g0.exec(t))?new he(e[1],e[2],e[3],1):(e=m0.exec(t))?new he(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_0.exec(t))?so(e[1],e[2],e[3],e[4]):(e=v0.exec(t))?so(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=b0.exec(t))?Nu(e[1],e[2]/100,e[3]/100,1):(e=y0.exec(t))?Nu(e[1],e[2]/100,e[3]/100,e[4]):Su.hasOwnProperty(t)?Lu(Su[t]):t==="transparent"?new he(NaN,NaN,NaN,0):null}function Lu(t){return new he(t>>16&255,t>>8&255,t&255,1)}function so(t,e,n,i){return i<=0&&(t=e=n=NaN),new he(t,e,n,i)}function E0(t){return t instanceof Nr||(t=xr(t)),t?(t=t.rgb(),new he(t.r,t.g,t.b,t.opacity)):new he}function ba(t,e,n,i){return arguments.length===1?E0(t):new he(t,e,n,i??1)}function he(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Ua(he,ba,wd(Nr,{brighter(t){return t=t==null?Oo:Math.pow(Oo,t),new he(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wr:Math.pow(wr,t),new he(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new he(ci(this.r),ci(this.g),ci(this.b),Do(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ku,formatHex:ku,formatHex8:x0,formatRgb:Mu,toString:Mu}));function ku(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function x0(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mu(){const t=Do(this.opacity);return`${t===1?"rgb(":"rgba("}${ci(this.r)}, ${ci(this.g)}, ${ci(this.b)}${t===1?")":`, ${t})`}`}function Do(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ci(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function si(t){return t=ci(t),(t<16?"0":"")+t.toString(16)}function Nu(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ve(t,e,n,i)}function Ed(t){if(t instanceof Ve)return new Ve(t.h,t.s,t.l,t.opacity);if(t instanceof Nr||(t=xr(t)),!t)return new Ve;if(t instanceof Ve)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),s=Math.max(e,n,i),c=NaN,u=s-o,f=(s+o)/2;return u?(e===s?c=(n-i)/u+(n<i)*6:n===s?c=(i-e)/u+2:c=(e-n)/u+4,u/=f<.5?s+o:2-s-o,c*=60):u=f>0&&f<1?0:c,new Ve(c,u,f,t.opacity)}function T0(t,e,n,i){return arguments.length===1?Ed(t):new Ve(t,e,n,i??1)}function Ve(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Ua(Ve,T0,wd(Nr,{brighter(t){return t=t==null?Oo:Math.pow(Oo,t),new Ve(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wr:Math.pow(wr,t),new Ve(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new he(ea(t>=240?t-240:t+120,o,i),ea(t,o,i),ea(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Ve(Iu(this.h),ao(this.s),ao(this.l),Do(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Do(this.opacity);return`${t===1?"hsl(":"hsla("}${Iu(this.h)}, ${ao(this.s)*100}%, ${ao(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Iu(t){return t=(t||0)%360,t<0?t+360:t}function ao(t){return Math.max(0,Math.min(1,t||0))}function ea(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xd=t=>()=>t;function C0(t,e){return function(n){return t+n*e}}function S0(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function O0(t){return(t=+t)==1?Td:function(e,n){return n-e?S0(e,n,t):xd(isNaN(e)?n:e)}}function Td(t,e){var n=e-t;return n?C0(t,n):xd(isNaN(t)?e:t)}const $u=function t(e){var n=O0(e);function i(o,s){var c=n((o=ba(o)).r,(s=ba(s)).r),u=n(o.g,s.g),f=n(o.b,s.b),p=Td(o.opacity,s.opacity);return function(h){return o.r=c(h),o.g=u(h),o.b=f(h),o.opacity=p(h),o+""}}return i.gamma=t,i}(1);function Nn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ya=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,na=new RegExp(ya.source,"g");function D0(t){return function(){return t}}function L0(t){return function(e){return t(e)+""}}function k0(t,e){var n=ya.lastIndex=na.lastIndex=0,i,o,s,c=-1,u=[],f=[];for(t=t+"",e=e+"";(i=ya.exec(t))&&(o=na.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(i=i[0])===(o=o[0])?u[c]?u[c]+=o:u[++c]=o:(u[++c]=null,f.push({i:c,x:Nn(i,o)})),n=na.lastIndex;return n<e.length&&(s=e.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?L0(f[0].x):D0(e):(e=f.length,function(p){for(var h=0,A;h<e;++h)u[(A=f[h]).i]=A.x(p);return u.join("")})}var Pu=180/Math.PI,Aa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cd(t,e,n,i,o,s){var c,u,f;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),t*i<e*n&&(t=-t,e=-e,f=-f,c=-c),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*Pu,skewX:Math.atan(f)*Pu,scaleX:c,scaleY:u}}var co;function M0(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Aa:Cd(e.a,e.b,e.c,e.d,e.e,e.f)}function N0(t){return t==null||(co||(co=document.createElementNS("http://www.w3.org/2000/svg","g")),co.setAttribute("transform",t),!(t=co.transform.baseVal.consolidate()))?Aa:(t=t.matrix,Cd(t.a,t.b,t.c,t.d,t.e,t.f))}function Sd(t,e,n,i){function o(p){return p.length?p.pop()+" ":""}function s(p,h,A,_,T,z){if(p!==A||h!==_){var M=T.push("translate(",null,e,null,n);z.push({i:M-4,x:Nn(p,A)},{i:M-2,x:Nn(h,_)})}else(A||_)&&T.push("translate("+A+e+_+n)}function c(p,h,A,_){p!==h?(p-h>180?h+=360:h-p>180&&(p+=360),_.push({i:A.push(o(A)+"rotate(",null,i)-2,x:Nn(p,h)})):h&&A.push(o(A)+"rotate("+h+i)}function u(p,h,A,_){p!==h?_.push({i:A.push(o(A)+"skewX(",null,i)-2,x:Nn(p,h)}):h&&A.push(o(A)+"skewX("+h+i)}function f(p,h,A,_,T,z){if(p!==A||h!==_){var M=T.push(o(T)+"scale(",null,",",null,")");z.push({i:M-4,x:Nn(p,A)},{i:M-2,x:Nn(h,_)})}else(A!==1||_!==1)&&T.push(o(T)+"scale("+A+","+_+")")}return function(p,h){var A=[],_=[];return p=t(p),h=t(h),s(p.translateX,p.translateY,h.translateX,h.translateY,A,_),c(p.rotate,h.rotate,A,_),u(p.skewX,h.skewX,A,_),f(p.scaleX,p.scaleY,h.scaleX,h.scaleY,A,_),p=h=null,function(T){for(var z=-1,M=_.length,L;++z<M;)A[(L=_[z]).i]=L.x(T);return A.join("")}}}var I0=Sd(M0,"px, ","px)","deg)"),$0=Sd(N0,", ",")",")"),P0=1e-12;function Ru(t){return((t=Math.exp(t))+1/t)/2}function R0(t){return((t=Math.exp(t))-1/t)/2}function B0(t){return((t=Math.exp(2*t))-1)/(t+1)}const H0=function t(e,n,i){function o(s,c){var u=s[0],f=s[1],p=s[2],h=c[0],A=c[1],_=c[2],T=h-u,z=A-f,M=T*T+z*z,L,k;if(M<P0)k=Math.log(_/p)/e,L=function(ct){return[u+ct*T,f+ct*z,p*Math.exp(e*ct*k)]};else{var F=Math.sqrt(M),Y=(_*_-p*p+i*M)/(2*p*n*F),m=(_*_-p*p-i*M)/(2*_*n*F),V=Math.log(Math.sqrt(Y*Y+1)-Y),R=Math.log(Math.sqrt(m*m+1)-m);k=(R-V)/e,L=function(ct){var nt=ct*k,Ct=Ru(V),Et=p/(n*F)*(Ct*B0(e*nt+V)-R0(V));return[u+Et*T,f+Et*z,p*Ct/Ru(e*nt+V)]}}return L.duration=k*1e3*e/Math.SQRT2,L}return o.rho=function(s){var c=Math.max(.001,+s),u=c*c,f=u*u;return t(c,u,f)},o}(Math.SQRT2,2,4);var Zi=0,mr=0,hr=0,Od=1e3,Lo,_r,ko=0,pi=0,Ko=0,Tr=typeof performance=="object"&&performance.now?performance:Date,Dd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qa(){return pi||(Dd(F0),pi=Tr.now()+Ko)}function F0(){pi=0}function Mo(){this._call=this._time=this._next=null}Mo.prototype=Ld.prototype={constructor:Mo,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Qa():+n)+(e==null?0:+e),!this._next&&_r!==this&&(_r?_r._next=this:Lo=this,_r=this),this._call=t,this._time=n,wa()},stop:function(){this._call&&(this._call=null,this._time=1/0,wa())}};function Ld(t,e,n){var i=new Mo;return i.restart(t,e,n),i}function z0(){Qa(),++Zi;for(var t=Lo,e;t;)(e=pi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Zi}function Bu(){pi=(ko=Tr.now())+Ko,Zi=mr=0;try{z0()}finally{Zi=0,j0(),pi=0}}function G0(){var t=Tr.now(),e=t-ko;e>Od&&(Ko-=e,ko=t)}function j0(){for(var t,e=Lo,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Lo=n);_r=t,wa(i)}function wa(t){if(!Zi){mr&&(mr=clearTimeout(mr));var e=t-pi;e>24?(t<1/0&&(mr=setTimeout(Bu,t-Tr.now()-Ko)),hr&&(hr=clearInterval(hr))):(hr||(ko=Tr.now(),hr=setInterval(G0,Od)),Zi=1,Dd(Bu))}}function Hu(t,e,n){var i=new Mo;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var W0=ja("start","end","cancel","interrupt"),V0=[],kd=0,Fu=1,Ea=2,_o=3,zu=4,xa=5,vo=6;function Yo(t,e,n,i,o,s){var c=t.__transition;if(!c)t.__transition={};else if(n in c)return;U0(t,n,{name:e,index:i,group:o,on:W0,tween:V0,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:kd})}function Ka(t,e){var n=Ye(t,e);if(n.state>kd)throw new Error("too late; already scheduled");return n}function un(t,e){var n=Ye(t,e);if(n.state>_o)throw new Error("too late; already running");return n}function Ye(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function U0(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Ld(s,0,n.time);function s(p){n.state=Fu,n.timer.restart(c,n.delay,n.time),n.delay<=p&&c(p-n.delay)}function c(p){var h,A,_,T;if(n.state!==Fu)return f();for(h in i)if(T=i[h],T.name===n.name){if(T.state===_o)return Hu(c);T.state===zu?(T.state=vo,T.timer.stop(),T.on.call("interrupt",t,t.__data__,T.index,T.group),delete i[h]):+h<e&&(T.state=vo,T.timer.stop(),T.on.call("cancel",t,t.__data__,T.index,T.group),delete i[h])}if(Hu(function(){n.state===_o&&(n.state=zu,n.timer.restart(u,n.delay,n.time),u(p))}),n.state=Ea,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ea){for(n.state=_o,o=new Array(_=n.tween.length),h=0,A=-1;h<_;++h)(T=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(o[++A]=T);o.length=A+1}}function u(p){for(var h=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(f),n.state=xa,1),A=-1,_=o.length;++A<_;)o[A].call(t,h);n.state===xa&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=vo,n.timer.stop(),delete i[e];for(var p in i)return;delete t.__transition}}function bo(t,e){var n=t.__transition,i,o,s=!0,c;if(n){e=e==null?null:e+"";for(c in n){if((i=n[c]).name!==e){s=!1;continue}o=i.state>Ea&&i.state<xa,i.state=vo,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[c]}s&&delete t.__transition}}function Q0(t){return this.each(function(){bo(this,t)})}function K0(t,e){var n,i;return function(){var o=un(this,t),s=o.tween;if(s!==n){i=n=s;for(var c=0,u=i.length;c<u;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}o.tween=i}}function Y0(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=un(this,t),c=s.tween;if(c!==i){o=(i=c).slice();for(var u={name:e,value:n},f=0,p=o.length;f<p;++f)if(o[f].name===e){o[f]=u;break}f===p&&o.push(u)}s.tween=o}}function q0(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ye(this.node(),n).tween,o=0,s=i.length,c;o<s;++o)if((c=i[o]).name===t)return c.value;return null}return this.each((e==null?K0:Y0)(n,t,e))}function Ya(t,e,n){var i=t._id;return t.each(function(){var o=un(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Ye(o,i).value[e]}}function Md(t,e){var n;return(typeof e=="number"?Nn:e instanceof xr?$u:(n=xr(e))?(e=n,$u):k0)(t,e)}function X0(t){return function(){this.removeAttribute(t)}}function J0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Z0(t,e,n){var i,o=n+"",s;return function(){var c=this.getAttribute(t);return c===o?null:c===i?s:s=e(i=c,n)}}function tw(t,e,n){var i,o=n+"",s;return function(){var c=this.getAttributeNS(t.space,t.local);return c===o?null:c===i?s:s=e(i=c,n)}}function ew(t,e,n){var i,o,s;return function(){var c,u=n(this),f;return u==null?void this.removeAttribute(t):(c=this.getAttribute(t),f=u+"",c===f?null:c===i&&f===o?s:(o=f,s=e(i=c,u)))}}function nw(t,e,n){var i,o,s;return function(){var c,u=n(this),f;return u==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),f=u+"",c===f?null:c===i&&f===o?s:(o=f,s=e(i=c,u)))}}function iw(t,e){var n=Qo(t),i=n==="transform"?$0:Md;return this.attrTween(t,typeof e=="function"?(n.local?nw:ew)(n,i,Ya(this,"attr."+t,e)):e==null?(n.local?J0:X0)(n):(n.local?tw:Z0)(n,i,e))}function rw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ow(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function sw(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&ow(t,s)),n}return o._value=e,o}function aw(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&rw(t,s)),n}return o._value=e,o}function cw(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Qo(t);return this.tween(n,(i.local?sw:aw)(i,e))}function lw(t,e){return function(){Ka(this,t).delay=+e.apply(this,arguments)}}function uw(t,e){return e=+e,function(){Ka(this,t).delay=e}}function fw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lw:uw)(e,t)):Ye(this.node(),e).delay}function dw(t,e){return function(){un(this,t).duration=+e.apply(this,arguments)}}function hw(t,e){return e=+e,function(){un(this,t).duration=e}}function pw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dw:hw)(e,t)):Ye(this.node(),e).duration}function gw(t,e){if(typeof e!="function")throw new Error;return function(){un(this,t).ease=e}}function mw(t){var e=this._id;return arguments.length?this.each(gw(e,t)):Ye(this.node(),e).ease}function _w(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;un(this,t).ease=n}}function vw(t){if(typeof t!="function")throw new Error;return this.each(_w(this._id,t))}function bw(t){typeof t!="function"&&(t=dd(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],c=s.length,u=i[o]=[],f,p=0;p<c;++p)(f=s[p])&&t.call(f,f.__data__,p,s)&&u.push(f);return new xn(i,this._parents,this._name,this._id)}function yw(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,s=Math.min(i,o),c=new Array(i),u=0;u<s;++u)for(var f=e[u],p=n[u],h=f.length,A=c[u]=new Array(h),_,T=0;T<h;++T)(_=f[T]||p[T])&&(A[T]=_);for(;u<i;++u)c[u]=e[u];return new xn(c,this._parents,this._name,this._id)}function Aw(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ww(t,e,n){var i,o,s=Aw(e)?Ka:un;return function(){var c=s(this,t),u=c.on;u!==i&&(o=(i=u).copy()).on(e,n),c.on=o}}function Ew(t,e){var n=this._id;return arguments.length<2?Ye(this.node(),n).on.on(t):this.each(ww(n,t,e))}function xw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Tw(){return this.on("end.remove",xw(this._id))}function Cw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Wa(t));for(var i=this._groups,o=i.length,s=new Array(o),c=0;c<o;++c)for(var u=i[c],f=u.length,p=s[c]=new Array(f),h,A,_=0;_<f;++_)(h=u[_])&&(A=t.call(h,h.__data__,_,u))&&("__data__"in h&&(A.__data__=h.__data__),p[_]=A,Yo(p[_],e,n,_,p,Ye(h,n)));return new xn(s,this._parents,e,n)}function Sw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fd(t));for(var i=this._groups,o=i.length,s=[],c=[],u=0;u<o;++u)for(var f=i[u],p=f.length,h,A=0;A<p;++A)if(h=f[A]){for(var _=t.call(h,h.__data__,A,f),T,z=Ye(h,n),M=0,L=_.length;M<L;++M)(T=_[M])&&Yo(T,e,n,M,_,z);s.push(_),c.push(h)}return new xn(s,c,e,n)}var Ow=Mr.prototype.constructor;function Dw(){return new Ow(this._groups,this._parents)}function Lw(t,e){var n,i,o;return function(){var s=Ji(this,t),c=(this.style.removeProperty(t),Ji(this,t));return s===c?null:s===n&&c===i?o:o=e(n=s,i=c)}}function Nd(t){return function(){this.style.removeProperty(t)}}function kw(t,e,n){var i,o=n+"",s;return function(){var c=Ji(this,t);return c===o?null:c===i?s:s=e(i=c,n)}}function Mw(t,e,n){var i,o,s;return function(){var c=Ji(this,t),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(t),Ji(this,t))),c===f?null:c===i&&f===o?s:(o=f,s=e(i=c,u))}}function Nw(t,e){var n,i,o,s="style."+e,c="end."+s,u;return function(){var f=un(this,t),p=f.on,h=f.value[s]==null?u||(u=Nd(e)):void 0;(p!==n||o!==h)&&(i=(n=p).copy()).on(c,o=h),f.on=i}}function Iw(t,e,n){var i=(t+="")=="transform"?I0:Md;return e==null?this.styleTween(t,Lw(t,i)).on("end.style."+t,Nd(t)):typeof e=="function"?this.styleTween(t,Mw(t,i,Ya(this,"style."+t,e))).each(Nw(this._id,t)):this.styleTween(t,kw(t,i,e),n).on("end.style."+t,null)}function $w(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Pw(t,e,n){var i,o;function s(){var c=e.apply(this,arguments);return c!==o&&(i=(o=c)&&$w(t,c,n)),i}return s._value=e,s}function Rw(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Pw(t,e,n??""))}function Bw(t){return function(){this.textContent=t}}function Hw(t){return function(){var e=t(this);this.textContent=e??""}}function Fw(t){return this.tween("text",typeof t=="function"?Hw(Ya(this,"text",t)):Bw(t==null?"":t+""))}function zw(t){return function(e){this.textContent=t.call(this,e)}}function Gw(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&zw(o)),e}return i._value=t,i}function jw(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Gw(t))}function Ww(){for(var t=this._name,e=this._id,n=Id(),i=this._groups,o=i.length,s=0;s<o;++s)for(var c=i[s],u=c.length,f,p=0;p<u;++p)if(f=c[p]){var h=Ye(f,e);Yo(f,t,n,p,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new xn(i,this._parents,t,n)}function Vw(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(s,c){var u={value:c},f={value:function(){--o===0&&s()}};n.each(function(){var p=un(this,i),h=p.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(f)),p.on=e}),o===0&&s()})}var Uw=0;function xn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Id(){return++Uw}var vn=Mr.prototype;xn.prototype={constructor:xn,select:Cw,selectAll:Sw,selectChild:vn.selectChild,selectChildren:vn.selectChildren,filter:bw,merge:yw,selection:Dw,transition:Ww,call:vn.call,nodes:vn.nodes,node:vn.node,size:vn.size,empty:vn.empty,each:vn.each,on:Ew,attr:iw,attrTween:cw,style:Iw,styleTween:Rw,text:Fw,textTween:jw,remove:Tw,tween:q0,delay:fw,duration:pw,ease:mw,easeVarying:vw,end:Vw,[Symbol.iterator]:vn[Symbol.iterator]};function Qw(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Kw={time:null,delay:0,duration:250,ease:Qw};function Yw(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function qw(t){var e,n;t instanceof xn?(e=t._id,t=t._name):(e=Id(),(n=Kw).time=Qa(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var c=i[s],u=c.length,f,p=0;p<u;++p)(f=c[p])&&Yo(f,t,e,p,c,n||Yw(f,e));return new xn(i,this._parents,t,e)}Mr.prototype.interrupt=Q0;Mr.prototype.transition=qw;const lo=t=>()=>t;function Xw(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function yn(t,e,n){this.k=t,this.x=e,this.y=n}yn.prototype={constructor:yn,scale:function(t){return t===1?this:new yn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new yn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $d=new yn(1,0,0);yn.prototype;function ia(t){t.stopImmediatePropagation()}function pr(t){t.preventDefault(),t.stopImmediatePropagation()}function Jw(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Zw(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Gu(){return this.__zoom||$d}function tE(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function eE(){return navigator.maxTouchPoints||"ontouchstart"in this}function nE(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],c=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),c>s?(s+c)/2:Math.min(0,s)||Math.max(0,c))}function iE(){var t=Jw,e=Zw,n=nE,i=tE,o=eE,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,f=H0,p=ja("start","zoom","end"),h,A,_,T=500,z=150,M=0,L=10;function k(E){E.property("__zoom",Gu).on("wheel.zoom",nt,{passive:!1}).on("mousedown.zoom",Ct).on("dblclick.zoom",Et).filter(o).on("touchstart.zoom",It).on("touchmove.zoom",St).on("touchend.zoom touchcancel.zoom",Tt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(E,W,O,G){var et=E.selection?E.selection():E;et.property("__zoom",Gu),E!==et?V(E,W,O,G):et.interrupt().each(function(){R(this,arguments).event(G).start().zoom(null,typeof W=="function"?W.apply(this,arguments):W).end()})},k.scaleBy=function(E,W,O,G){k.scaleTo(E,function(){var et=this.__zoom.k,ot=typeof W=="function"?W.apply(this,arguments):W;return et*ot},O,G)},k.scaleTo=function(E,W,O,G){k.transform(E,function(){var et=e.apply(this,arguments),ot=this.__zoom,w=O==null?m(et):typeof O=="function"?O.apply(this,arguments):O,mt=ot.invert(w),yt=typeof W=="function"?W.apply(this,arguments):W;return n(Y(F(ot,yt),w,mt),et,c)},O,G)},k.translateBy=function(E,W,O,G){k.transform(E,function(){return n(this.__zoom.translate(typeof W=="function"?W.apply(this,arguments):W,typeof O=="function"?O.apply(this,arguments):O),e.apply(this,arguments),c)},null,G)},k.translateTo=function(E,W,O,G,et){k.transform(E,function(){var ot=e.apply(this,arguments),w=this.__zoom,mt=G==null?m(ot):typeof G=="function"?G.apply(this,arguments):G;return n($d.translate(mt[0],mt[1]).scale(w.k).translate(typeof W=="function"?-W.apply(this,arguments):-W,typeof O=="function"?-O.apply(this,arguments):-O),ot,c)},G,et)};function F(E,W){return W=Math.max(s[0],Math.min(s[1],W)),W===E.k?E:new yn(W,E.x,E.y)}function Y(E,W,O){var G=W[0]-O[0]*E.k,et=W[1]-O[1]*E.k;return G===E.x&&et===E.y?E:new yn(E.k,G,et)}function m(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function V(E,W,O,G){E.on("start.zoom",function(){R(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(G).end()}).tween("zoom",function(){var et=this,ot=arguments,w=R(et,ot).event(G),mt=e.apply(et,ot),yt=O==null?m(mt):typeof O=="function"?O.apply(et,ot):O,X=Math.max(mt[1][0]-mt[0][0],mt[1][1]-mt[0][1]),dt=et.__zoom,Dt=typeof W=="function"?W.apply(et,ot):W,lt=f(dt.invert(yt).concat(X/dt.k),Dt.invert(yt).concat(X/Dt.k));return function(Ft){if(Ft===1)Ft=Dt;else{var Q=lt(Ft),Qt=X/Q[2];Ft=new yn(Qt,yt[0]-Q[0]*Qt,yt[1]-Q[1]*Qt)}w.zoom(null,Ft)}})}function R(E,W,O){return!O&&E.__zooming||new ct(E,W)}function ct(E,W){this.that=E,this.args=W,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,W),this.taps=0}ct.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,W){return this.mouse&&E!=="mouse"&&(this.mouse[1]=W.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=W.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=W.invert(this.touch1[0])),this.that.__zoom=W,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var W=In(this.that).datum();p.call(E,this.that,new Xw(E,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:p}),W)}};function nt(E,...W){if(!t.apply(this,arguments))return;var O=R(this,W).event(E),G=this.__zoom,et=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,i.apply(this,arguments)))),ot=ti(E);if(O.wheel)(O.mouse[0][0]!==ot[0]||O.mouse[0][1]!==ot[1])&&(O.mouse[1]=G.invert(O.mouse[0]=ot)),clearTimeout(O.wheel);else{if(G.k===et)return;O.mouse=[ot,G.invert(ot)],bo(this),O.start()}pr(E),O.wheel=setTimeout(w,z),O.zoom("mouse",n(Y(F(G,et),O.mouse[0],O.mouse[1]),O.extent,c));function w(){O.wheel=null,O.end()}}function Ct(E,...W){if(_||!t.apply(this,arguments))return;var O=E.currentTarget,G=R(this,W,!0).event(E),et=In(E.view).on("mousemove.zoom",yt,!0).on("mouseup.zoom",X,!0),ot=ti(E,O),w=E.clientX,mt=E.clientY;d0(E.view),ia(E),G.mouse=[ot,this.__zoom.invert(ot)],bo(this),G.start();function yt(dt){if(pr(dt),!G.moved){var Dt=dt.clientX-w,lt=dt.clientY-mt;G.moved=Dt*Dt+lt*lt>M}G.event(dt).zoom("mouse",n(Y(G.that.__zoom,G.mouse[0]=ti(dt,O),G.mouse[1]),G.extent,c))}function X(dt){et.on("mousemove.zoom mouseup.zoom",null),h0(dt.view,G.moved),pr(dt),G.event(dt).end()}}function Et(E,...W){if(t.apply(this,arguments)){var O=this.__zoom,G=ti(E.changedTouches?E.changedTouches[0]:E,this),et=O.invert(G),ot=O.k*(E.shiftKey?.5:2),w=n(Y(F(O,ot),G,et),e.apply(this,W),c);pr(E),u>0?In(this).transition().duration(u).call(V,w,G,E):In(this).call(k.transform,w,G,E)}}function It(E,...W){if(t.apply(this,arguments)){var O=E.touches,G=O.length,et=R(this,W,E.changedTouches.length===G).event(E),ot,w,mt,yt;for(ia(E),w=0;w<G;++w)mt=O[w],yt=ti(mt,this),yt=[yt,this.__zoom.invert(yt),mt.identifier],et.touch0?!et.touch1&&et.touch0[2]!==yt[2]&&(et.touch1=yt,et.taps=0):(et.touch0=yt,ot=!0,et.taps=1+!!h);h&&(h=clearTimeout(h)),ot&&(et.taps<2&&(A=yt[0],h=setTimeout(function(){h=null},T)),bo(this),et.start())}}function St(E,...W){if(this.__zooming){var O=R(this,W).event(E),G=E.changedTouches,et=G.length,ot,w,mt,yt;for(pr(E),ot=0;ot<et;++ot)w=G[ot],mt=ti(w,this),O.touch0&&O.touch0[2]===w.identifier?O.touch0[0]=mt:O.touch1&&O.touch1[2]===w.identifier&&(O.touch1[0]=mt);if(w=O.that.__zoom,O.touch1){var X=O.touch0[0],dt=O.touch0[1],Dt=O.touch1[0],lt=O.touch1[1],Ft=(Ft=Dt[0]-X[0])*Ft+(Ft=Dt[1]-X[1])*Ft,Q=(Q=lt[0]-dt[0])*Q+(Q=lt[1]-dt[1])*Q;w=F(w,Math.sqrt(Ft/Q)),mt=[(X[0]+Dt[0])/2,(X[1]+Dt[1])/2],yt=[(dt[0]+lt[0])/2,(dt[1]+lt[1])/2]}else if(O.touch0)mt=O.touch0[0],yt=O.touch0[1];else return;O.zoom("touch",n(Y(w,mt,yt),O.extent,c))}}function Tt(E,...W){if(this.__zooming){var O=R(this,W).event(E),G=E.changedTouches,et=G.length,ot,w;for(ia(E),_&&clearTimeout(_),_=setTimeout(function(){_=null},T),ot=0;ot<et;++ot)w=G[ot],O.touch0&&O.touch0[2]===w.identifier?delete O.touch0:O.touch1&&O.touch1[2]===w.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(w=ti(w,this),Math.hypot(A[0]-w[0],A[1]-w[1])<L)){var mt=In(this).on("dblclick.zoom");mt&&mt.apply(this,arguments)}}}return k.wheelDelta=function(E){return arguments.length?(i=typeof E=="function"?E:lo(+E),k):i},k.filter=function(E){return arguments.length?(t=typeof E=="function"?E:lo(!!E),k):t},k.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:lo(!!E),k):o},k.extent=function(E){return arguments.length?(e=typeof E=="function"?E:lo([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),k):e},k.scaleExtent=function(E){return arguments.length?(s[0]=+E[0],s[1]=+E[1],k):[s[0],s[1]]},k.translateExtent=function(E){return arguments.length?(c[0][0]=+E[0][0],c[1][0]=+E[1][0],c[0][1]=+E[0][1],c[1][1]=+E[1][1],k):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},k.constrain=function(E){return arguments.length?(n=E,k):n},k.duration=function(E){return arguments.length?(u=+E,k):u},k.interpolate=function(E){return arguments.length?(f=E,k):f},k.on=function(){var E=p.on.apply(p,arguments);return E===p?k:E},k.clickDistance=function(E){return arguments.length?(M=(E=+E)*E,k):Math.sqrt(M)},k.tapDistance=function(E){return arguments.length?(L=+E,k):L},k}class Pd extends Qu{constructor(n,i,o,s=ni[n].typeName){s=s||"未知",n=n||ee.Slime,i=i||1,o=o||1;super(s,n,i,o);bt(this,"description");bt(this,"dropItems");bt(this,"giveExp",0);this.dropItems=ni[n].dropItems,this.description=ni[n].description,ni[n].image&&(this.image=ni[n].image),this.giveExp=Math.floor(this.maxHealth)*(1+this.level/10)}randomDropItem(){const n=this.dropItems.reduce((o,s)=>o+s.weight,0);let i=Math.random()*n;for(const o of this.dropItems){if(i<o.weight&&o.type)return Yu(o.type,this.level);i-=o.weight}return null}}function Cr(t,e,n){const i=e-n>0?e-n:0;return t*(50/(i+50))}function qo(t,e,n,i,o,s){let c="",u="";return n.category===S.None?c=n.messageGenerator(t,e):c=t.name+Gi(n)+'<span style="color: blue;">'+Math.round(o)+"</span> ",i.category===S.None?u=i.messageGenerator(e,t):u=e.name+Gi(i)+'<span style="color: orange;">'+Math.round(s)+"</span> ","掷骰："+c+u}function rE(t,e,n){function i(o,s){return o.name+"看起来似乎会使用"+s.name+"<br>"+oa(o,s)}return Math.random()*t.getAbility().int>Math.random()*e.getAbility().int?i(e,n):"你分辨不出"+e.name+"即将使用的动作"}function oE(t,e,n,i){return n.category===S.Capture&&(n.category=S.Attack),n.category===S.Attack&&i.category===S.Attack?aE(t,e,n,i):n.category===S.Attack&&i.category===S.None||n.category===S.None&&i.category===S.Attack?cE(t,e,n,i):n.category===S.Attack&&i.category===S.Defend||n.category===S.Defend&&i.category===S.Attack?lE(t,e,n,i):n.category===S.Dodge&&i.category===S.Attack||n.category===S.Attack&&i.category===S.Dodge?uE(t,e,n,i):(t.addTempLog("无事发生("+t.name+Gi(n)+" "+e.name+Gi(i)+")"),te.Draw)}function sE(t,e,n,i){t.addTempLog(t.name+"使用了"+n.name+"，"+e.name+"使用了"+i.name);let o=0;for(;n.hits[o]||i.hits[o];){let s=n.hits[o]||Ao,c=i.hits[o]||Ao;t.statuses.sort((f,p)=>f.priority-p.priority).forEach(f=>{if(f.category===Zt.OnHitStart){const p=zi[f.type].effect;s=p(t,s,f.statusLevel)}}),e.statuses.sort((f,p)=>f.priority-p.priority).forEach(f=>{if(f.category===Zt.OnHitStart){const p=zi[f.type].effect;c=p(e,c,f.statusLevel)}}),t.updateStatusesOnHitStart(),e.updateStatusesOnHitStart();const u=oE(t,e,s,c);s.continuous&&u!==te.PlayerWin&&(n.hits.splice(o+1),t.addTempLog(t.name+"的连续hit中断")),c.continuous&&u!==te.EnemyWin&&(i.hits.splice(o+1),t.addTempLog(e.name+"的连续hit中断")),o++}t.clearStatusByCategory(Zt.OnHitStart),e.clearStatusByCategory(Zt.OnHitStart)}function aE(t,e,n,i){const o=ui(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=ui(i.coeff,e.getAbility(),e.getActionCoeff(i.category));if(t.addTempLog(qo(t,e,n,i,o,s)),o>=s){const c=Cr(o,e.getAbility().armor,t.getAbility().piercing);return e.loseHp(c),t.addTempLog(n.messageGenerator(t,e)+'造成了<span style="color: red;">'+Math.round(c)+"</span>点伤害"),n.extraEffect&&n.extraEffect(t,e),te.PlayerWin}else{const c=Cr(s,t.getAbility().armor,e.getAbility().piercing);return t.loseHp(c),t.addTempLog(i.messageGenerator(e,t)+'造成了<span style="color: red;">'+Math.round(c)+"</span>点伤害"),i.extraEffect&&i.extraEffect(e,t),te.EnemyWin}}function cE(t,e,n,i){let o,s,c;i.category===S.None?(o=t,s=e,c=n):(o=e,s=t,c=i);const u=ui(c.coeff,o.getAbility(),o.getActionCoeff(c.category));t.addTempLog(qo(t,e,n,i,o.isPlayer?u:0,o.isPlayer?u:0));const f=Cr(u,s.getAbility().armor,o.getAbility().piercing);return s.loseHp(f),t.addTempLog(c.messageGenerator(o,s)+'造成了<span style="color: red;">'+Math.round(f)+"</span>点伤害"),c.extraEffect&&c.extraEffect(o,s),o instanceof Wi?te.PlayerWin:te.EnemyWin}function lE(t,e,n,i){const o=ui(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=ui(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(qo(t,e,n,i,o,s));const c=n.category===S.Attack,u=c?t:e,f=c?e:t,p=c?n:i,h=c?i:n,A=c?o:s,_=c?s:o,T=A-_>0?A-_:0,z=Cr(T,f.getAbility().armor,u.getAbility().piercing);return f.loseHp(z),T>0?(t.addTempLog(p.messageGenerator(u,f)+`击穿了${f.name}的防御，造成了<span style="color: red;">`+Math.round(z)+`(-${_})</span>点伤害`),p.extraEffect&&p.extraEffect(u,f),c?te.PlayerWin:te.EnemyWin):(t.addTempLog(h.messageGenerator(f,u)+","+p.messageGenerator(u,f)+"但没有造成伤害"),c?te.EnemyWin:te.PlayerWin)}function uE(t,e,n,i){const o=ui(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=ui(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(qo(t,e,n,i,o,s));const c=n.category===S.Attack,u=c?t:e,f=c?e:t,p=c?n:i,h=c?i:n,A=c?o:s;if(A>(c?s:o)){const T=Cr(A,f.getAbility().armor,u.getAbility().piercing);return f.loseHp(T),t.addTempLog(p.messageGenerator(u,f)+"对"+f.name+'造成了<span style="color: red;">'+Math.round(T)+"</span>点伤害"),c?te.PlayerWin:te.EnemyWin}else return u.addStatus(ii.Unbalance,1),t.addTempLog(h.messageGenerator(u,f)+","+u.name+"失衡了"),c?te.EnemyWin:te.PlayerWin}var we=(t=>(t.Win="Win",t.Lose="Lose",t.Withdraw="Withdraw",t))(we||{});function No(t,e,n,i,o){var h,A,_;const s=Se();let c=e.getRandomAction();const u=rE(t,e,c);let f=t.getRandomAction(),p=t.getRandomAction();if(t.statuses.sort((T,z)=>T.priority-z.priority).forEach(T=>{if(T.category===Zt.OnTurnStart){const z=zi[T.type].effect,M=z(t,f,p);f=M.action1,p=M.action2}}),e.statuses.sort((T,z)=>T.priority-z.priority).forEach(T=>{if(T.category===Zt.OnTurnStart){const z=zi[T.type].effect;c=z(e,c,c).action1}}),n&&i&&(t.addTempLog("--------------------------回合-----------------------------"),sE(t,e,n,i)),t.health<=0){t.addLog(t.name+"撑不住了"),t.clearStatus(),ra(t,e,we.Lose,o);return}if(e.health<1){t.addLog(t.name+"击败了"+e.name),t.clearStatus(),ra(t,e,we.Win,o);return}t.updateStatusesOnTurnEnd(),e.updateStatusesOnTurnEnd(),bn(t),s.innerHTML=`
  <button id="return-btn" type="button" class="btn btn-primary" style="
    position: absolute;
    left: 20px;
    top: 80px;
    z-index: 999;
  ">
    逃跑
  </button>

  <div class="container mt-4">
    <h2 class="text-center mb-3">战斗</h2>

    <!-- 敌人信息 -->
    <div class="card mb-3">
      <div class="card-header bg-danger text-white">
        <h4 class="mb-0">${e.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text fst-italic">"${e.description}"</p>
        <p class="card-text">${u}</p>
        <p class="card-text">HP: <strong>${Math.ceil(e.health)}</strong></p>
      </div>
    </div>

    <!-- 分割线 -->
    <hr>

    <!-- 玩家信息 -->
    <div class="card mb-4">
      <div class="card-header bg-success text-white">
        <h4 class="mb-0">${t.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text">HP: <strong>${Math.ceil(t.health)}</strong></p>
      </div>
    </div>

    <!-- 动作选择 -->
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${f.name}</h5>
            <p class="card-text fst-italic">"${f.description}"</p>
            <p class="card-text">${oa(t,f)}</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${p.name}</h5>
            <p class="card-text fst-italic">"${p.description}"</p>
            <p class="card-text">${oa(t,p)}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 战斗记录 -->
    <div class="card">
      <div class="card-header">
        记录
      </div>
      <div class="card-body" id="log" style="max-height: 200px; overflow-y: auto;">
        ${t.getTempLogs()}
      </div>
    </div>
  </div>
`,(h=document.getElementById("action1-btn"))==null||h.addEventListener("click",()=>{No(t,e,f,c,o)}),(A=document.getElementById("action2-btn"))==null||A.addEventListener("click",()=>{No(t,e,p,c,o)}),(_=document.getElementById("return-btn"))==null||_.addEventListener("click",()=>{ra(t,e,we.Withdraw,o)})}function ra(t,e,n,i){var u;const o=Se();let s=!1,c=null;n===we.Win?(c=e.randomDropItem(),t.exp+=Math.floor(e.giveExp),s=t.checkLevelUp(),t.exp=Math.floor(t.exp),t.addLog(e.name+"掉落了<span style='color: gold;'>"+((c==null?void 0:c.name)??"无")+"</span>"),c&&t.pack.push(c)):n===we.Lose?(t.health=1,t.addLog(t.name+"拼死从"+e.name+"的手中逃了出来，拖着残破的身躯，回到了城镇")):n===we.Withdraw&&t.addLog(t.name+"在与"+e.name+"的战斗中逃跑了"),o.innerHTML=`
  <div class="container mt-4">
    <div class="card text-center shadow">
      <div class="card-header bg-dark text-white">
        <h2 class="mb-0">战斗结束</h2>
      </div>
      <div class="card-body">
        <h4 class="card-title">
          ${t.name}
          ${n===we.Win?"<span class='text-success'>胜利</span>":n===we.Lose?"<span class='text-danger'>失败</span>":"<span class='text-warning'>逃跑</span>"}
          <p>lv: ${t.level}${s?"🔺":""} exp: ${t.exp}/${t.getNextLevelExp()}</p>
          ${n===we.Win?`<p>获得经验: <span class="text-info">${Math.floor(e.giveExp)}</span>  ${c?`获得物品: <span class="text-${B[c.rarity]}">${c.name}</span>`:""}</p>`:""}
        </h4>
        <hr>
        <h5>记录</h5>
        <div id="log" class="border rounded p-3" style="max-height: 250px; overflow-y: auto;">
          ${t.getTempLogs()}
        </div>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" id="continue-btn">继续</button>
      </div>
    </div>
  </div>
`,t.clearTempLogs(),bn(t),(u=document.getElementById("continue-btn"))==null||u.addEventListener("click",()=>{i(t,e,n)})}function fE(t){const e=t.reduce((o,s)=>o+s.weight,0),n=Math.random()*e;let i=0;for(const o of t)if(i+=o.weight,n<=i)return o}function Rd(t,e){return Math.floor(Math.random()*(e-t+1))+t}function dE(t,e,n){if(n===we.Lose||n===we.Withdraw||t.currentMapData.goingToNodeId===null){gi(t);return}t.goToNode(t.currentMapData.goingToNodeId),Tn(t)}function hE(t,e){const n=fE(t.monsterList);if(!n){e.goToNode(t.id),Tn(e);return}const i=Rd(n.minLevel,n.maxLevel),o=new Pd(n.monster,i,1);No(e,o,null,null,dE)}function pE(t,e){e.goToNode(t.id),Tn(e)}function gE(t,e){let n=t.firstTimeTreasureList;if(e.unlockedNodeIdList.includes(t.id)&&(n=t.repeatableTreasureList),!e.currentMapData.visitedNodeIdList.includes(t.id)){const i=eg(n);if(i){const o=Rd(i.minLevel,i.maxLevel),s=Yu(i.item,o);e.pack.push(s)}}e.goToNode(t.id),Tn(e)}function mE(t,e){const n=$n(t.region.id);if(e.unlockedRegionIdList.includes(n.id)||e.unlockedRegionIdList.push(n.id),n.isOpen){e.goToRegion(n.id),e.goToNode(n.startNode.id),Tn(e);return}else alert("前面的区域以后再来探索吧？")}function _E(t,e){if(e.currentMapData.goingToNodeId=t.id,e.currentMapData.visitedNodeIdList.includes(t.id)){e.goToNode(e.currentMapData.goingToNodeId),Tn(e);return}if(t.type===Pe.NormalMonster)hE(t,e);else if(t.type===Pe.Boss)pE(t,e);else if(t.type===Pe.Treasure)gE(t,e);else if(t.type===Pe.ToOtherRegion)mE(t,e);else{e.goToNode(e.currentMapData.goingToNodeId),Tn(e);return}}function Tn(t){var z;const e=Se();e.innerHTML=`
  <div id="map-container" class="d-flex flex-column" style="flex: 1;">

    <svg id="map-svg" style="flex: 1;"></svg>

    <button id="return-btn" type="button" class="btn btn-primary" style="
      position: absolute;
      left: 50%;
      bottom: 20px;
      transform: translateX(-50%);
      z-index: 10;
    ">
      返回营地
    </button>

  </div>
  `;const n=[],i=[],o=new Set;function s(M){o.has(M.id)||(o.add(M.id),n.push({id:M.id,label:M.name,x:M.position.x,y:M.position.y,node:M}),M.toNodeList.forEach(L=>{i.push({source:M.id,target:L.id}),s(L)}))}s($n(t.currentMapData.currentRegionId).startNode);const c=In("#map-svg"),u=c.append("g").attr("class","zoomable"),f=iE().scaleExtent([.5,2]).translateExtent([[0,0],[1e3,1e3]]).on("zoom",M=>{u.attr("transform",M.transform)});c.call(f),u.append("image").attr("xlink:href",Dy).attr("x",0).attr("y",0).attr("width",1e3).attr("height",1e3).lower();const p=u.append("g").attr("class","edges");i.forEach(M=>{const L=n.find(nt=>nt.id===M.source),k=n.find(nt=>nt.id===M.target);if(!L||!k)return;const F=h(L.node,t,n),Y=h(k.node,t,n),m=A(L.node,k.node,t);if(!F||!Y)return;const V=(L.x+k.x)/2,R=(L.y+k.y)/2-50,ct=`M ${L.x} ${L.y} Q ${V} ${R}, ${k.x} ${k.y}`;p.append("path").attr("d",ct).attr("stroke",m?"#4caf50":"#aaa").attr("stroke-width",m?3:1.5).attr("fill","none").attr("opacity",m?1:.6)});function h(M,L,k){var ct;const F=L.unlockedNodeIdList.includes(M.id),Y=L.currentMapData.currentNodeId===M.id,m=L.currentMapData.visitedNodeIdList.includes(M.id),V=!L.currentMapData.currentNodeId&&M===$n(L.currentMapData.currentRegionId).startNode,R=L.currentMapData.currentNodeId?(ct=k.find(nt=>nt.id===L.currentMapData.currentNodeId))==null?void 0:ct.node.toNodeList.some(nt=>nt.id===M.id):!1;return F||Y||m||R||V}function A(M,L,k){return!!(k.currentMapData.currentNodeId===M.id&&M.toNodeList.some(F=>F.id===L.id)||k.currentMapData.currentNodeId===L.id&&L.toNodeList.some(F=>F.id===M.id)||k.currentMapData.visitedNodeIdList.includes(M.id)&&k.currentMapData.visitedNodeIdList.includes(L.id))}const T=u.append("g").attr("class","nodes").selectAll("g.node").data(n).enter().append("g").attr("class","node").attr("transform",M=>`translate(${M.x}, ${M.y})`).style("cursor","pointer").style("display",M=>h(M.node,t,n)?"block":"none");T.append("circle").attr("r",10).attr("fill",M=>{var F;if(t.currentMapData.currentNodeId===M.node.id||!t.currentMapData.currentNodeId&&M.node===$n(t.currentMapData.currentRegionId).startNode)return"#007bff";const L=t.currentMapData.currentNodeId?(F=n.find(Y=>Y.id===t.currentMapData.currentNodeId))==null?void 0:F.node.toNodeList.some(Y=>Y.id===M.node.id):!1,k=t.currentMapData.visitedNodeIdList.includes(M.node.id);return L||k?"#28a745":"#6c757d"}).attr("stroke","#333").attr("stroke-width",1),T.each(function(M){const L=M.node;hi(this,{content:`
        <div>
          <h3>${L.name}</h3>
          <p>${L.description}</p>
          <a class="btn btn-primary" id="go-${L.id}">
            前往
          </a>
        </div>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(k){const F=k.popper.querySelector(`#go-${L.id}`);F&&F.addEventListener("click",Y=>{Y.stopPropagation(),k.hide(),_E(L,t)})}})}),T.attr("opacity",0).transition().duration(500).attr("opacity",1),(z=document.getElementById("return-btn"))==null||z.addEventListener("click",()=>{gi(t)})}function gi(t){var n,i,o,s;const e=Se();t.isAtHome=!0,t.clearCurrentMapData(),bn(t),console.log(t),e.innerHTML=`
    <!-- 顶部区域：显示血条和玩家信息 -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <!-- 血条区域 -->
        <div id="health-display" class="mb-3">
          ${t.getHealthDisplay()}
        </div>
        <!-- 玩家信息区域 -->
        <div class="text-center">
          <h2 class="card-title mb-1">
            <span class="badge bg-${t.type===ee.Player114514?"danger":"primary"} ms-2" style="font-size: 0.75rem; padding: 0.35em 0.5em;">
              ${t.type===ee.Player114514?"野兽":"人类"}
            </span>
            ${t.name}
            <small class="text-muted"> lv ${t.level}</small>
          </h2>
          <!-- 经验条 -->
          <div id="exp-display" class="mt-2" style="max-width: 200px; margin: 0 auto;">
            ${t.getExpDisplay()}
          </div>
        </div>

        <!-- 玩家形象区域 -->
        <div class="text-center mt-3">
          <img src=${tg} alt="玩家形象" class="img-fluid" style="max-height: 200px;">
        </div>
      </div>
    </div>

    <!-- 主菜单区域：用 mt-auto 自动向下推 -->
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        <div class="col-12 col-md-4">
          <button id="battle-btn" class="btn btn-primary w-100 py-3">
            ${t.type===ee.Player114514?"救世啊！":"动身"} 现在地点: ${$n(t.currentMapData.currentRegionId).name}
          </button>
        </div>
        <div class="col-12 col-md-4">
          <button id="travel-btn" class="btn btn-success w-100 py-3">快速旅行</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="status-btn" class="btn btn-success w-100 py-3">状态</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="restart-btn" class="btn btn-danger w-100 py-3">秽土转生</button>
        </div>
      </div>

      <!-- 查看记录按钮 -->
      <div class="text-center mt-4">
        <button class="btn btn-info" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
          查看记录
        </button>
      </div>
    </div>

    <!-- Offcanvas 记录面板 -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasRightLabel">记录</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="关闭"></button>
      </div>
      <div class="offcanvas-body">
        <div style="max-height: 60vh; overflow-y: auto;">
          <p>${t.getLastNLog(100)}</p>
        </div>
      </div>
    </div>

    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,(n=document.getElementById("battle-btn"))==null||n.addEventListener("click",()=>{t.goToNode($n(t.currentMapData.currentRegionId).startNode.id),Tn(t)}),(i=document.getElementById("travel-btn"))==null||i.addEventListener("click",()=>{Oy(t)}),(o=document.getElementById("status-btn"))==null||o.addEventListener("click",()=>{gr(t)}),(s=document.getElementById("restart-btn"))==null||s.addEventListener("click",()=>{window.confirm("你确定要 remake 吗？")&&(localStorage.clear(),window.location.reload())})}const vE="/otherworld114514/assets/1919-2_wCU3Nu.gif";function bE(){var e,n;const t=Se();t.innerHTML=`
    <h1>你是谁？</h1>
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">普通人</h5>
            <p class="card-text fst-italic">"我不抽烟，酒仅浅尝辄止。晚上11点睡，保证睡足8小时。睡前喝一杯温牛奶，然后做20分钟的舒缓运动再睡觉，一觉熟睡到天亮，绝不把疲劳和压力留到第二天。医生都说我很正常。"</p>
            <p class="card-text" style="font-weight: bold;">(适合不了解野兽先辈的玩家)</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">野兽仙贝</h5>
            <p class="card-text fst-italic">"伟大的古希腊哲学家，野兽学派的大先辈田所曾这样警醒后人：逸一时，误一世。(如果一时放纵自己，贪图安逸，就可能误了一生的前程) 现在，你将扮演这位伟大的贤人。好时代，来临罢！"</p>
            <p class="card-text" style="font-weight: bold;">(适合拥有野兽之心的玩家)</p>
            </div>
        </div>
      </div>
    </div>
  `,(e=document.getElementById("action1-btn"))==null||e.addEventListener("click",()=>{const i=new Wi("吴田所",ee.Player);sa(i),Ta(i)}),(n=document.getElementById("action2-btn"))==null||n.addEventListener("click",()=>{const i=new Wi("田所",ee.FullPowerPlayer114514);sa(i);const o=new Pd(ee.Toono,1,1,"远野");i.isAtHome=!1,No(i,o,null,null,(s,c,u)=>{u===we.Win?yE(s):AE(s)})})}function yE(t){var n;const e=Se();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>距离击败远野已不知过去了多久，但一切都还历历在目。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你不再沉沦，高呼道：伊已逝，吾亦逝。忆旧已久罢忆灵！(你逝去了，而我的心也逝去了，空留肉体如行尸走肉般存活。我已经缅怀故人多时，罢了罢了，是时候随你而去了！)</p>
		<p>你闭上了眼睛。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{qa(t)})}function AE(t){var n;const e=Se();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>你被远野击败了。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你愤怒地将手指向远野，不甘心地嘶吼：你是一个一个一个一个，呐，哼哼，啊啊啊啊啊啊啊！！！<p>
    <img src="${vE}" alt="1919">
		<p>但是意识逐渐模糊，你最终还是倒下了。<p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{t.health=t.maxHealth*.8,qa(t)})}function Ta(t){var o,s;const e=Se(),n=Math.floor(Math.random()*4);let i="";switch(n){case 0:i="<p>车 →→→ 你</p>";break;case 1:i="<p>你 ←←← 车</p>";break;case 2:i=`
      <p style="text-align: center;">  车</p>
      <p style="text-align: center;">  ↓</p>
      <p style="text-align: center;">  你</p>`;break;case 3:i=`
      <p style="text-align: center;">  你</p>
      <p style="text-align: center;">  ↑</p>
      <p style="text-align: center;">  车</p>`;break}e.innerHTML=`
  <h1>躲避大卡车</h1>
  <p>一辆卡车正在向你快速驶来，请选择躲避方向</p>
  ${i}
  <button id="left-btn">向左躲避</button>
  <button id="right-btn">向右躲避</button>
`,(o=document.getElementById("left-btn"))==null||o.addEventListener("click",()=>{Math.random()>.3?Ta(t):ju(t)}),(s=document.getElementById("right-btn"))==null||s.addEventListener("click",()=>{Math.random()>.3?Ta(t):ju(t)})}function ju(t){var n;const e=Se();e.innerHTML=`
    <h1>躲避大卡车</h1>
    <p>躲避失败，你嗝屁了</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{qa(t)})}function qa(t){var n;if(t.type===ee.FullPowerPlayer114514){const i=t.pack;t=new Wi("田所",ee.Player114514),t.pack=i}const e=Se();e.innerHTML=`
    <h1>???</h1>
    <p>请输入你的名字</p>
    <input type="text" id="name-input" placeholder="${t.name}">
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{const o=document.getElementById("name-input").value.trim();o?(t.name=o,wE(t)):alert("请输入你的名字！")})}function wE(t){var n;const e=Se();e.innerHTML=`
    <h1>???</h1>
    <p>你睁开了眼睛，看到了陌生的天花板。</p>
    <p>这里似乎是什么遗迹？周围的墙上刻着壁画和奇怪的文字，而你正躺在房间正中心的石棺中。你虽然看不懂那些文字，但它们的意思却飞入脑中：</p>
    <p class="fst-italic">
    一百年前，一位叫<span style="font-weight: bold;">远野</span>的异界来客统领着野兽大军从极北之地<span style="font-weight: bold;">“下北泽”</span>南下，在毁灭了诸多城市后，远野在下北泽建立了魔王城，在那里指挥大军继续南下侵略。
    为了阻止远野，人类根据预言中的指引从异世界召唤了勇者。但被召唤的勇者一直没有苏醒，人类最终难挡野兽大军的攻势，不得不退守大陆的最南端。
    </p>
    <p>看起来，你正是故事中被召唤的勇者。
    ${t.type===ee.Player114514?"而这位远野，正是前世你最爱却又背叛你的那个人！你握紧了拳头，暗暗发誓一定要报仇雪恨！</p>":"责任感和使命感让你决定挺身而出，阻止远野的侵略。</p>"}
    <p>你站起身来，准备向北进发。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{t.pack.push(new Ue(Rt.GiftboxAndLetter)),bn(t),gi(t)})}document.addEventListener("DOMContentLoaded",()=>{let t;try{t=Zp()}catch(e){console.log(e),localStorage.clear(),bE();return}t.currentMapData.currentNodeId?Tn(t):gi(t)});
