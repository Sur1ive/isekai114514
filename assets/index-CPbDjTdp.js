var Op=Object.defineProperty;var kp=(t,e,n)=>e in t?Op(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bt=(t,e,n)=>kp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},El={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Al;function Lp(){if(Al)return El;Al=1;var t;return function(e){(function(n){var i=typeof globalThis=="object"?globalThis:typeof wl=="object"?wl:typeof self=="object"?self:typeof this=="object"?this:f(),o=s(e);typeof i.Reflect<"u"&&(o=s(i.Reflect,o)),n(o,i),typeof i.Reflect>"u"&&(i.Reflect=e);function s(p,h){return function(w,_){Object.defineProperty(p,w,{configurable:!0,writable:!0,value:_}),h&&h(w,_)}}function c(){try{return Function("return this;")()}catch{}}function u(){try{return(0,eval)("(function() { return this; })()")}catch{}}function f(){return c()||u()}})(function(n,i){var o=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",c=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",u=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",f=typeof Object.create=="function",p={__proto__:[]}instanceof Array,h=!f&&!p,w={create:f?function(){return Bn(Object.create(null))}:p?function(){return Bn({__proto__:null})}:function(){return Bn({})},has:h?function(y,T){return o.call(y,T)}:function(y,T){return T in y},get:h?function(y,T){return o.call(y,T)?y[T]:void 0}:function(y,T){return y[T]}},_=Object.getPrototypeOf(Function),E=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:me(),I=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Xe(),z=typeof WeakMap=="function"?WeakMap:Tn(),D=s?Symbol.for("@reflect-metadata:registry"):void 0,L=Oe(),W=ne(L);function tt(y,T,g,C){if(X(g)){if(!ln(y))throw new TypeError;if(!Ke(T))throw new TypeError;return Tt(y,T)}else{if(!ln(y))throw new TypeError;if(!at(T))throw new TypeError;if(!at(C)&&!X(C)&&!dt(C))throw new TypeError;return dt(C)&&(C=void 0),g=Wt(g),x(y,T,g,C)}}n("decorate",tt);function m(y,T){function g(C,P){if(!at(C))throw new TypeError;if(!X(P)&&!Se(P))throw new TypeError;rt(y,T,C,P)}return g}n("metadata",m);function q(y,T,g,C){if(!at(g))throw new TypeError;return X(C)||(C=Wt(C)),rt(y,T,g,C)}n("defineMetadata",q);function H(y,T,g){if(!at(T))throw new TypeError;return X(g)||(g=Wt(g)),G(y,T,g)}n("hasMetadata",H);function ut(y,T,g){if(!at(T))throw new TypeError;return X(g)||(g=Wt(g)),O(y,T,g)}n("hasOwnMetadata",ut);function ct(y,T,g){if(!at(T))throw new TypeError;return X(g)||(g=Wt(g)),F(y,T,g)}n("getMetadata",ct);function Ct(y,T,g){if(!at(T))throw new TypeError;return X(g)||(g=Wt(g)),et(y,T,g)}n("getOwnMetadata",Ct);function At(y,T){if(!at(y))throw new TypeError;return X(T)||(T=Wt(T)),A(y,T)}n("getMetadataKeys",At);function Mt(y,T){if(!at(y))throw new TypeError;return X(T)||(T=Wt(T)),mt(y,T)}n("getOwnMetadataKeys",Mt);function St(y,T,g){if(!at(T))throw new TypeError;if(X(g)||(g=Wt(g)),!at(T))throw new TypeError;X(g)||(g=Wt(g));var C=Jt(T,g,!1);return X(C)?!1:C.OrdinaryDeleteMetadata(y,T,g)}n("deleteMetadata",St);function Tt(y,T){for(var g=y.length-1;g>=0;--g){var C=y[g],P=C(T);if(!X(P)&&!dt(P)){if(!Ke(P))throw new TypeError;T=P}}return T}function x(y,T,g,C){for(var P=y.length-1;P>=0;--P){var ot=y[P],it=ot(T,g,C);if(!X(it)&&!dt(it)){if(!at(it))throw new TypeError;C=it}}return C}function G(y,T,g){var C=O(y,T,g);if(C)return!0;var P=ze(T);return dt(P)?!1:G(y,P,g)}function O(y,T,g){var C=Jt(T,g,!1);return X(C)?!1:qt(C.OrdinaryHasOwnMetadata(y,T,g))}function F(y,T,g){var C=O(y,T,g);if(C)return et(y,T,g);var P=ze(T);if(!dt(P))return F(y,P,g)}function et(y,T,g){var C=Jt(T,g,!1);if(!X(C))return C.OrdinaryGetOwnMetadata(y,T,g)}function rt(y,T,g,C){var P=Jt(g,C,!0);P.OrdinaryDefineOwnMetadata(y,T,g,C)}function A(y,T){var g=mt(y,T),C=ze(y);if(C===null)return g;var P=A(C,T);if(P.length<=0)return g;if(g.length<=0)return P;for(var ot=new I,it=[],nt=0,B=g;nt<B.length;nt++){var V=B[nt],Q=ot.has(V);Q||(ot.add(V),it.push(V))}for(var Y=0,gt=P;Y<gt.length;Y++){var V=gt[Y],Q=ot.has(V);Q||(ot.add(V),it.push(V))}return it}function mt(y,T){var g=Jt(y,T,!1);return g?g.OrdinaryOwnMetadataKeys(y,T):[]}function yt(y){if(y===null)return 1;switch(typeof y){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return y===null?1:6;default:return 6}}function X(y){return y===void 0}function dt(y){return y===null}function kt(y){return typeof y=="symbol"}function at(y){return typeof y=="object"?y!==null:typeof y=="function"}function Bt(y,T){switch(yt(y)){case 0:return y;case 1:return y;case 2:return y;case 3:return y;case 4:return y;case 5:return y}var g="string",C=Ye(y,c);if(C!==void 0){var P=C.call(y,g);if(at(P))throw new TypeError;return P}return U(y)}function U(y,T){var g,C,P;{var ot=y.toString;if(Xt(ot)){var C=ot.call(y);if(!at(C))return C}var g=y.valueOf;if(Xt(g)){var C=g.call(y);if(!at(C))return C}}throw new TypeError}function qt(y){return!!y}function pe(y){return""+y}function Wt(y){var T=Bt(y);return kt(T)?T:pe(T)}function ln(y){return Array.isArray?Array.isArray(y):y instanceof Object?y instanceof Array:Object.prototype.toString.call(y)==="[object Array]"}function Xt(y){return typeof y=="function"}function Ke(y){return typeof y=="function"}function Se(y){switch(yt(y)){case 3:return!0;case 4:return!0;default:return!1}}function Qt(y,T){return y===T||y!==y&&T!==T}function Ye(y,T){var g=y[T];if(g!=null){if(!Xt(g))throw new TypeError;return g}}function un(y){var T=Ye(y,u);if(!Xt(T))throw new TypeError;var g=T.call(y);if(!at(g))throw new TypeError;return g}function fn(y){return y.value}function le(y){var T=y.next();return T.done?!1:T}function ge(y){var T=y.return;T&&T.call(y)}function ze(y){var T=Object.getPrototypeOf(y);if(typeof y!="function"||y===_||T!==_)return T;var g=y.prototype,C=g&&Object.getPrototypeOf(g);if(C==null||C===Object.prototype)return T;var P=C.constructor;return typeof P!="function"||P===y?T:P}function Be(){var y;!X(D)&&typeof i.Reflect<"u"&&!(D in i.Reflect)&&typeof i.Reflect.defineMetadata=="function"&&(y=dn(i.Reflect));var T,g,C,P=new z,ot={registerProvider:it,getProvider:B,setProvider:Q};return ot;function it(Y){if(!Object.isExtensible(ot))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case y===Y:break;case X(T):T=Y;break;case T===Y:break;case X(g):g=Y;break;case g===Y:break;default:C===void 0&&(C=new I),C.add(Y);break}}function nt(Y,gt){if(!X(T)){if(T.isProviderFor(Y,gt))return T;if(!X(g)){if(g.isProviderFor(Y,gt))return T;if(!X(C))for(var Ot=un(C);;){var $t=le(Ot);if(!$t)return;var Gt=fn($t);if(Gt.isProviderFor(Y,gt))return ge(Ot),Gt}}}if(!X(y)&&y.isProviderFor(Y,gt))return y}function B(Y,gt){var Ot=P.get(Y),$t;return X(Ot)||($t=Ot.get(gt)),X($t)&&($t=nt(Y,gt),X($t)||(X(Ot)&&(Ot=new E,P.set(Y,Ot)),Ot.set(gt,$t))),$t}function V(Y){if(X(Y))throw new TypeError;return T===Y||g===Y||!X(C)&&C.has(Y)}function Q(Y,gt,Ot){if(!V(Ot))throw new Error("Metadata provider not registered.");var $t=B(Y,gt);if($t!==Ot){if(!X($t))return!1;var Gt=P.get(Y);X(Gt)&&(Gt=new E,P.set(Y,Gt)),Gt.set(gt,Ot)}return!0}}function Oe(){var y;return!X(D)&&at(i.Reflect)&&Object.isExtensible(i.Reflect)&&(y=i.Reflect[D]),X(y)&&(y=Be()),!X(D)&&at(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,D,{enumerable:!1,configurable:!1,writable:!1,value:y}),y}function ne(y){var T=new z,g={isProviderFor:function(V,Q){var Y=T.get(V);return X(Y)?!1:Y.has(Q)},OrdinaryDefineOwnMetadata:it,OrdinaryHasOwnMetadata:P,OrdinaryGetOwnMetadata:ot,OrdinaryOwnMetadataKeys:nt,OrdinaryDeleteMetadata:B};return L.registerProvider(g),g;function C(V,Q,Y){var gt=T.get(V),Ot=!1;if(X(gt)){if(!Y)return;gt=new E,T.set(V,gt),Ot=!0}var $t=gt.get(Q);if(X($t)){if(!Y)return;if($t=new E,gt.set(Q,$t),!y.setProvider(V,Q,g))throw gt.delete(Q),Ot&&T.delete(V),new Error("Wrong provider for target.")}return $t}function P(V,Q,Y){var gt=C(Q,Y,!1);return X(gt)?!1:qt(gt.has(V))}function ot(V,Q,Y){var gt=C(Q,Y,!1);if(!X(gt))return gt.get(V)}function it(V,Q,Y,gt){var Ot=C(Y,gt,!0);Ot.set(V,Q)}function nt(V,Q){var Y=[],gt=C(V,Q,!1);if(X(gt))return Y;for(var Ot=gt.keys(),$t=un(Ot),Gt=0;;){var ke=le($t);if(!ke)return Y.length=Gt,Y;var Cn=fn(ke);try{Y[Gt]=Cn}catch(qo){try{ge($t)}finally{throw qo}}Gt++}}function B(V,Q,Y){var gt=C(Q,Y,!1);if(X(gt)||!gt.delete(V))return!1;if(gt.size===0){var Ot=T.get(Q);X(Ot)||(Ot.delete(Y),Ot.size===0&&T.delete(Ot))}return!0}}function dn(y){var T=y.defineMetadata,g=y.hasOwnMetadata,C=y.getOwnMetadata,P=y.getOwnMetadataKeys,ot=y.deleteMetadata,it=new z,nt={isProviderFor:function(B,V){var Q=it.get(B);return!X(Q)&&Q.has(V)?!0:P(B,V).length?(X(Q)&&(Q=new I,it.set(B,Q)),Q.add(V),!0):!1},OrdinaryDefineOwnMetadata:T,OrdinaryHasOwnMetadata:g,OrdinaryGetOwnMetadata:C,OrdinaryOwnMetadataKeys:P,OrdinaryDeleteMetadata:ot};return nt}function Jt(y,T,g){var C=L.getProvider(y,T);if(!X(C))return C;if(g){if(L.setProvider(y,T,W))return W;throw new Error("Illegal state.")}}function me(){var y={},T=[],g=function(){function nt(B,V,Q){this._index=0,this._keys=B,this._values=V,this._selector=Q}return nt.prototype["@@iterator"]=function(){return this},nt.prototype[u]=function(){return this},nt.prototype.next=function(){var B=this._index;if(B>=0&&B<this._keys.length){var V=this._selector(this._keys[B],this._values[B]);return B+1>=this._keys.length?(this._index=-1,this._keys=T,this._values=T):this._index++,{value:V,done:!1}}return{value:void 0,done:!0}},nt.prototype.throw=function(B){throw this._index>=0&&(this._index=-1,this._keys=T,this._values=T),B},nt.prototype.return=function(B){return this._index>=0&&(this._index=-1,this._keys=T,this._values=T),{value:B,done:!0}},nt}(),C=function(){function nt(){this._keys=[],this._values=[],this._cacheKey=y,this._cacheIndex=-2}return Object.defineProperty(nt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),nt.prototype.has=function(B){return this._find(B,!1)>=0},nt.prototype.get=function(B){var V=this._find(B,!1);return V>=0?this._values[V]:void 0},nt.prototype.set=function(B,V){var Q=this._find(B,!0);return this._values[Q]=V,this},nt.prototype.delete=function(B){var V=this._find(B,!1);if(V>=0){for(var Q=this._keys.length,Y=V+1;Y<Q;Y++)this._keys[Y-1]=this._keys[Y],this._values[Y-1]=this._values[Y];return this._keys.length--,this._values.length--,Qt(B,this._cacheKey)&&(this._cacheKey=y,this._cacheIndex=-2),!0}return!1},nt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=y,this._cacheIndex=-2},nt.prototype.keys=function(){return new g(this._keys,this._values,P)},nt.prototype.values=function(){return new g(this._keys,this._values,ot)},nt.prototype.entries=function(){return new g(this._keys,this._values,it)},nt.prototype["@@iterator"]=function(){return this.entries()},nt.prototype[u]=function(){return this.entries()},nt.prototype._find=function(B,V){if(!Qt(this._cacheKey,B)){this._cacheIndex=-1;for(var Q=0;Q<this._keys.length;Q++)if(Qt(this._keys[Q],B)){this._cacheIndex=Q;break}}return this._cacheIndex<0&&V&&(this._cacheIndex=this._keys.length,this._keys.push(B),this._values.push(void 0)),this._cacheIndex},nt}();return C;function P(nt,B){return nt}function ot(nt,B){return B}function it(nt,B){return[nt,B]}}function Xe(){var y=function(){function T(){this._map=new E}return Object.defineProperty(T.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),T.prototype.has=function(g){return this._map.has(g)},T.prototype.add=function(g){return this._map.set(g,g),this},T.prototype.delete=function(g){return this._map.delete(g)},T.prototype.clear=function(){this._map.clear()},T.prototype.keys=function(){return this._map.keys()},T.prototype.values=function(){return this._map.keys()},T.prototype.entries=function(){return this._map.entries()},T.prototype["@@iterator"]=function(){return this.keys()},T.prototype[u]=function(){return this.keys()},T}();return y}function Tn(){var y=16,T=w.create(),g=C();return function(){function B(){this._key=C()}return B.prototype.has=function(V){var Q=P(V,!1);return Q!==void 0?w.has(Q,this._key):!1},B.prototype.get=function(V){var Q=P(V,!1);return Q!==void 0?w.get(Q,this._key):void 0},B.prototype.set=function(V,Q){var Y=P(V,!0);return Y[this._key]=Q,this},B.prototype.delete=function(V){var Q=P(V,!1);return Q!==void 0?delete Q[this._key]:!1},B.prototype.clear=function(){this._key=C()},B}();function C(){var B;do B="@@WeakMap@@"+nt();while(w.has(T,B));return T[B]=!0,B}function P(B,V){if(!o.call(B,g)){if(!V)return;Object.defineProperty(B,g,{value:w.create()})}return B[g]}function ot(B,V){for(var Q=0;Q<V;++Q)B[Q]=Math.random()*255|0;return B}function it(B){if(typeof Uint8Array=="function"){var V=new Uint8Array(B);return typeof crypto<"u"?crypto.getRandomValues(V):typeof msCrypto<"u"?msCrypto.getRandomValues(V):ot(V,B),V}return ot(new Array(B),B)}function nt(){var B=it(y);B[6]=B[6]&79|64,B[8]=B[8]&191|128;for(var V="",Q=0;Q<y;++Q){var Y=B[Q];(Q===4||Q===6||Q===8)&&(V+="-"),Y<16&&(V+="0"),V+=Y.toString(16).toLowerCase()}return V}}function Bn(y){return y.__=void 0,delete y.__,y}})}(t||(t={})),El}Lp();var ao={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var $p=ao.exports,xl;function Np(){return xl||(xl=1,function(t,e){(function(n,i){t.exports=i()})($p,function(){const n=new Map,i={set(l,r,a){n.has(l)||n.set(l,new Map);const d=n.get(l);d.has(r)||d.size===0?d.set(r,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(d.keys())[0]}.`)},get:(l,r)=>n.has(l)&&n.get(l).get(r)||null,remove(l,r){if(!n.has(l))return;const a=n.get(l);a.delete(r),a.size===0&&n.delete(l)}},o="transitionend",s=l=>(l&&window.CSS&&window.CSS.escape&&(l=l.replace(/#([^\s"#']+)/g,(r,a)=>`#${CSS.escape(a)}`)),l),c=l=>{l.dispatchEvent(new Event(o))},u=l=>!(!l||typeof l!="object")&&(l.jquery!==void 0&&(l=l[0]),l.nodeType!==void 0),f=l=>u(l)?l.jquery?l[0]:l:typeof l=="string"&&l.length>0?document.querySelector(s(l)):null,p=l=>{if(!u(l)||l.getClientRects().length===0)return!1;const r=getComputedStyle(l).getPropertyValue("visibility")==="visible",a=l.closest("details:not([open])");if(!a)return r;if(a!==l){const d=l.closest("summary");if(d&&d.parentNode!==a||d===null)return!1}return r},h=l=>!l||l.nodeType!==Node.ELEMENT_NODE||!!l.classList.contains("disabled")||(l.disabled!==void 0?l.disabled:l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"),w=l=>{if(!document.documentElement.attachShadow)return null;if(typeof l.getRootNode=="function"){const r=l.getRootNode();return r instanceof ShadowRoot?r:null}return l instanceof ShadowRoot?l:l.parentNode?w(l.parentNode):null},_=()=>{},E=l=>{l.offsetHeight},I=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,z=[],D=()=>document.documentElement.dir==="rtl",L=l=>{var r;r=()=>{const a=I();if(a){const d=l.NAME,v=a.fn[d];a.fn[d]=l.jQueryInterface,a.fn[d].Constructor=l,a.fn[d].noConflict=()=>(a.fn[d]=v,l.jQueryInterface)}},document.readyState==="loading"?(z.length||document.addEventListener("DOMContentLoaded",()=>{for(const a of z)a()}),z.push(r)):r()},W=(l,r=[],a=l)=>typeof l=="function"?l(...r):a,tt=(l,r,a=!0)=>{if(!a)return void W(l);const d=(k=>{if(!k)return 0;let{transitionDuration:$,transitionDelay:j}=window.getComputedStyle(k);const J=Number.parseFloat($),Z=Number.parseFloat(j);return J||Z?($=$.split(",")[0],j=j.split(",")[0],1e3*(Number.parseFloat($)+Number.parseFloat(j))):0})(r)+5;let v=!1;const b=({target:k})=>{k===r&&(v=!0,r.removeEventListener(o,b),W(l))};r.addEventListener(o,b),setTimeout(()=>{v||c(r)},d)},m=(l,r,a,d)=>{const v=l.length;let b=l.indexOf(r);return b===-1?!a&&d?l[v-1]:l[0]:(b+=a?1:-1,d&&(b=(b+v)%v),l[Math.max(0,Math.min(b,v-1))])},q=/[^.]*(?=\..*)\.|.*/,H=/\..*/,ut=/::\d+$/,ct={};let Ct=1;const At={mouseenter:"mouseover",mouseleave:"mouseout"},Mt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function St(l,r){return r&&`${r}::${Ct++}`||l.uidEvent||Ct++}function Tt(l){const r=St(l);return l.uidEvent=r,ct[r]=ct[r]||{},ct[r]}function x(l,r,a=null){return Object.values(l).find(d=>d.callable===r&&d.delegationSelector===a)}function G(l,r,a){const d=typeof r=="string",v=d?a:r||a;let b=rt(l);return Mt.has(b)||(b=l),[d,v,b]}function O(l,r,a,d,v){if(typeof r!="string"||!l)return;let[b,k,$]=G(r,a,d);r in At&&(k=(ht=>function(ft){if(!ft.relatedTarget||ft.relatedTarget!==ft.delegateTarget&&!ft.delegateTarget.contains(ft.relatedTarget))return ht.call(this,ft)})(k));const j=Tt(l),J=j[$]||(j[$]={}),Z=x(J,k,b?a:null);if(Z)return void(Z.oneOff=Z.oneOff&&v);const K=St(k,r.replace(q,"")),_t=b?function(lt,ht,ft){return function pt(It){const zt=lt.querySelectorAll(ht);for(let{target:wt}=It;wt&&wt!==this;wt=wt.parentNode)for(const Lt of zt)if(Lt===wt)return mt(It,{delegateTarget:wt}),pt.oneOff&&A.off(lt,It.type,ht,ft),ft.apply(wt,[It])}}(l,a,k):function(lt,ht){return function ft(pt){return mt(pt,{delegateTarget:lt}),ft.oneOff&&A.off(lt,pt.type,ht),ht.apply(lt,[pt])}}(l,k);_t.delegationSelector=b?a:null,_t.callable=k,_t.oneOff=v,_t.uidEvent=K,J[K]=_t,l.addEventListener($,_t,b)}function F(l,r,a,d,v){const b=x(r[a],d,v);b&&(l.removeEventListener(a,b,!!v),delete r[a][b.uidEvent])}function et(l,r,a,d){const v=r[a]||{};for(const[b,k]of Object.entries(v))b.includes(d)&&F(l,r,a,k.callable,k.delegationSelector)}function rt(l){return l=l.replace(H,""),At[l]||l}const A={on(l,r,a,d){O(l,r,a,d,!1)},one(l,r,a,d){O(l,r,a,d,!0)},off(l,r,a,d){if(typeof r!="string"||!l)return;const[v,b,k]=G(r,a,d),$=k!==r,j=Tt(l),J=j[k]||{},Z=r.startsWith(".");if(b===void 0){if(Z)for(const K of Object.keys(j))et(l,j,K,r.slice(1));for(const[K,_t]of Object.entries(J)){const lt=K.replace(ut,"");$&&!r.includes(lt)||F(l,j,k,_t.callable,_t.delegationSelector)}}else{if(!Object.keys(J).length)return;F(l,j,k,b,v?a:null)}},trigger(l,r,a){if(typeof r!="string"||!l)return null;const d=I();let v=null,b=!0,k=!0,$=!1;r!==rt(r)&&d&&(v=d.Event(r,a),d(l).trigger(v),b=!v.isPropagationStopped(),k=!v.isImmediatePropagationStopped(),$=v.isDefaultPrevented());const j=mt(new Event(r,{bubbles:b,cancelable:!0}),a);return $&&j.preventDefault(),k&&l.dispatchEvent(j),j.defaultPrevented&&v&&v.preventDefault(),j}};function mt(l,r={}){for(const[a,d]of Object.entries(r))try{l[a]=d}catch{Object.defineProperty(l,a,{configurable:!0,get:()=>d})}return l}function yt(l){if(l==="true")return!0;if(l==="false")return!1;if(l===Number(l).toString())return Number(l);if(l===""||l==="null")return null;if(typeof l!="string")return l;try{return JSON.parse(decodeURIComponent(l))}catch{return l}}function X(l){return l.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const dt={setDataAttribute(l,r,a){l.setAttribute(`data-bs-${X(r)}`,a)},removeDataAttribute(l,r){l.removeAttribute(`data-bs-${X(r)}`)},getDataAttributes(l){if(!l)return{};const r={},a=Object.keys(l.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of a){let v=d.replace(/^bs/,"");v=v.charAt(0).toLowerCase()+v.slice(1,v.length),r[v]=yt(l.dataset[d])}return r},getDataAttribute:(l,r)=>yt(l.getAttribute(`data-bs-${X(r)}`))};class kt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,a){const d=u(a)?dt.getDataAttribute(a,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...u(a)?dt.getDataAttributes(a):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,a=this.constructor.DefaultType){for(const[v,b]of Object.entries(a)){const k=r[v],$=u(k)?"element":(d=k)==null?`${d}`:Object.prototype.toString.call(d).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(b).test($))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${$}" but expected type "${b}".`)}var d}}class at extends kt{constructor(r,a){super(),(r=f(r))&&(this._element=r,this._config=this._getConfig(a),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),A.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,a,d=!0){tt(r,a,d)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return i.get(f(r),this.DATA_KEY)}static getOrCreateInstance(r,a={}){return this.getInstance(r)||new this(r,typeof a=="object"?a:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const Bt=l=>{let r=l.getAttribute("data-bs-target");if(!r||r==="#"){let a=l.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),r=a&&a!=="#"?a.trim():null}return r?r.split(",").map(a=>s(a)).join(","):null},U={find:(l,r=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(r,l)),findOne:(l,r=document.documentElement)=>Element.prototype.querySelector.call(r,l),children:(l,r)=>[].concat(...l.children).filter(a=>a.matches(r)),parents(l,r){const a=[];let d=l.parentNode.closest(r);for(;d;)a.push(d),d=d.parentNode.closest(r);return a},prev(l,r){let a=l.previousElementSibling;for(;a;){if(a.matches(r))return[a];a=a.previousElementSibling}return[]},next(l,r){let a=l.nextElementSibling;for(;a;){if(a.matches(r))return[a];a=a.nextElementSibling}return[]},focusableChildren(l){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(r,l).filter(a=>!h(a)&&p(a))},getSelectorFromElement(l){const r=Bt(l);return r&&U.findOne(r)?r:null},getElementFromSelector(l){const r=Bt(l);return r?U.findOne(r):null},getMultipleElementsFromSelector(l){const r=Bt(l);return r?U.find(r):[]}},qt=(l,r="hide")=>{const a=`click.dismiss${l.EVENT_KEY}`,d=l.NAME;A.on(document,a,`[data-bs-dismiss="${d}"]`,function(v){if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),h(this))return;const b=U.getElementFromSelector(this)||this.closest(`.${d}`);l.getOrCreateInstance(b)[r]()})},pe=".bs.alert",Wt=`close${pe}`,ln=`closed${pe}`;class Xt extends at{static get NAME(){return"alert"}close(){if(A.trigger(this._element,Wt).defaultPrevented)return;this._element.classList.remove("show");const r=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),A.trigger(this._element,ln),this.dispose()}static jQueryInterface(r){return this.each(function(){const a=Xt.getOrCreateInstance(this);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r](this)}})}}qt(Xt,"close"),L(Xt);const Ke='[data-bs-toggle="button"]';class Se extends at{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(r){return this.each(function(){const a=Se.getOrCreateInstance(this);r==="toggle"&&a[r]()})}}A.on(document,"click.bs.button.data-api",Ke,l=>{l.preventDefault();const r=l.target.closest(Ke);Se.getOrCreateInstance(r).toggle()}),L(Se);const Qt=".bs.swipe",Ye=`touchstart${Qt}`,un=`touchmove${Qt}`,fn=`touchend${Qt}`,le=`pointerdown${Qt}`,ge=`pointerup${Qt}`,ze={endCallback:null,leftCallback:null,rightCallback:null},Be={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Oe extends kt{constructor(r,a){super(),this._element=r,r&&Oe.isSupported()&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ze}static get DefaultType(){return Be}static get NAME(){return"swipe"}dispose(){A.off(this._element,Qt)}_start(r){this._supportPointerEvents?this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX):this._deltaX=r.touches[0].clientX}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),W(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=40)return;const a=r/this._deltaX;this._deltaX=0,a&&W(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(A.on(this._element,le,r=>this._start(r)),A.on(this._element,ge,r=>this._end(r)),this._element.classList.add("pointer-event")):(A.on(this._element,Ye,r=>this._start(r)),A.on(this._element,un,r=>this._move(r)),A.on(this._element,fn,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType==="pen"||r.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ne=".bs.carousel",dn=".data-api",Jt="next",me="prev",Xe="left",Tn="right",Bn=`slide${ne}`,y=`slid${ne}`,T=`keydown${ne}`,g=`mouseenter${ne}`,C=`mouseleave${ne}`,P=`dragstart${ne}`,ot=`load${ne}${dn}`,it=`click${ne}${dn}`,nt="carousel",B="active",V=".active",Q=".carousel-item",Y=V+Q,gt={ArrowLeft:Tn,ArrowRight:Xe},Ot={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},$t={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Gt extends at{constructor(r,a){super(r,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===nt&&this.cycle()}static get Default(){return Ot}static get DefaultType(){return $t}static get NAME(){return"carousel"}next(){this._slide(Jt)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(me)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?A.one(this._element,y,()=>this.cycle()):this.cycle())}to(r){const a=this._getItems();if(r>a.length-1||r<0)return;if(this._isSliding)return void A.one(this._element,y,()=>this.to(r));const d=this._getItemIndex(this._getActive());if(d===r)return;const v=r>d?Jt:me;this._slide(v,a[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&A.on(this._element,T,r=>this._keydown(r)),this._config.pause==="hover"&&(A.on(this._element,g,()=>this.pause()),A.on(this._element,C,()=>this._maybeEnableCycle())),this._config.touch&&Oe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const a of U.find(".carousel-item img",this._element))A.on(a,P,d=>d.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(Xe)),rightCallback:()=>this._slide(this._directionToOrder(Tn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Oe(this._element,r)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const a=gt[r.key];a&&(r.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const a=U.findOne(V,this._indicatorsElement);a.classList.remove(B),a.removeAttribute("aria-current");const d=U.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);d&&(d.classList.add(B),d.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const a=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(r,a=null){if(this._isSliding)return;const d=this._getActive(),v=r===Jt,b=a||m(this._getItems(),d,v,this._config.wrap);if(b===d)return;const k=this._getItemIndex(b),$=K=>A.trigger(this._element,K,{relatedTarget:b,direction:this._orderToDirection(r),from:this._getItemIndex(d),to:k});if($(Bn).defaultPrevented||!d||!b)return;const j=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(k),this._activeElement=b;const J=v?"carousel-item-start":"carousel-item-end",Z=v?"carousel-item-next":"carousel-item-prev";b.classList.add(Z),E(b),d.classList.add(J),b.classList.add(J),this._queueCallback(()=>{b.classList.remove(J,Z),b.classList.add(B),d.classList.remove(B,Z,J),this._isSliding=!1,$(y)},d,this._isAnimated()),j&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return U.findOne(Y,this._element)}_getItems(){return U.find(Q,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return D()?r===Xe?me:Jt:r===Xe?Jt:me}_orderToDirection(r){return D()?r===me?Xe:Tn:r===me?Tn:Xe}static jQueryInterface(r){return this.each(function(){const a=Gt.getOrCreateInstance(this,r);if(typeof r!="number"){if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r]()}}else a.to(r)})}}A.on(document,it,"[data-bs-slide], [data-bs-slide-to]",function(l){const r=U.getElementFromSelector(this);if(!r||!r.classList.contains(nt))return;l.preventDefault();const a=Gt.getOrCreateInstance(r),d=this.getAttribute("data-bs-slide-to");return d?(a.to(d),void a._maybeEnableCycle()):dt.getDataAttribute(this,"slide")==="next"?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())}),A.on(window,ot,()=>{const l=U.find('[data-bs-ride="carousel"]');for(const r of l)Gt.getOrCreateInstance(r)}),L(Gt);const ke=".bs.collapse",Cn=`show${ke}`,qo=`shown${ke}`,Id=`hide${ke}`,Pd=`hidden${ke}`,Rd=`click${ke}.data-api`,Ko="show",pi="collapse",$r="collapsing",Hd=`:scope .${pi} .${pi}`,Yo='[data-bs-toggle="collapse"]',zd={parent:null,toggle:!0},Bd={parent:"(null|element)",toggle:"boolean"};class gi extends at{constructor(r,a){super(r,a),this._isTransitioning=!1,this._triggerArray=[];const d=U.find(Yo);for(const v of d){const b=U.getSelectorFromElement(v),k=U.find(b).filter($=>$===this._element);b!==null&&k.length&&this._triggerArray.push(v)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zd}static get DefaultType(){return Bd}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(v=>v!==this._element).map(v=>gi.getOrCreateInstance(v,{toggle:!1}))),r.length&&r[0]._isTransitioning||A.trigger(this._element,Cn).defaultPrevented)return;for(const v of r)v.hide();const a=this._getDimension();this._element.classList.remove(pi),this._element.classList.add($r),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove($r),this._element.classList.add(pi,Ko),this._element.style[a]="",A.trigger(this._element,qo)},this._element,!0),this._element.style[a]=`${this._element[d]}px`}hide(){if(this._isTransitioning||!this._isShown()||A.trigger(this._element,Id).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,E(this._element),this._element.classList.add($r),this._element.classList.remove(pi,Ko);for(const a of this._triggerArray){const d=U.getElementFromSelector(a);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0,this._element.style[r]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove($r),this._element.classList.add(pi),A.trigger(this._element,Pd)},this._element,!0)}_isShown(r=this._element){return r.classList.contains(Ko)}_configAfterMerge(r){return r.toggle=!!r.toggle,r.parent=f(r.parent),r}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(Yo);for(const a of r){const d=U.getElementFromSelector(a);d&&this._addAriaAndCollapsedClass([a],this._isShown(d))}}_getFirstLevelChildren(r){const a=U.find(Hd,this._config.parent);return U.find(r,this._config.parent).filter(d=>!a.includes(d))}_addAriaAndCollapsedClass(r,a){if(r.length)for(const d of r)d.classList.toggle("collapsed",!a),d.setAttribute("aria-expanded",a)}static jQueryInterface(r){const a={};return typeof r=="string"&&/show|hide/.test(r)&&(a.toggle=!1),this.each(function(){const d=gi.getOrCreateInstance(this,a);if(typeof r=="string"){if(d[r]===void 0)throw new TypeError(`No method named "${r}"`);d[r]()}})}}A.on(document,Rd,Yo,function(l){(l.target.tagName==="A"||l.delegateTarget&&l.delegateTarget.tagName==="A")&&l.preventDefault();for(const r of U.getMultipleElementsFromSelector(this))gi.getOrCreateInstance(r,{toggle:!1}).toggle()}),L(gi);var ie="top",_e="bottom",ve="right",re="left",Nr="auto",mi=[ie,_e,ve,re],Fn="start",_i="end",Ya="clippingParents",Xo="viewport",vi="popper",Xa="reference",Qo=mi.reduce(function(l,r){return l.concat([r+"-"+Fn,r+"-"+_i])},[]),Jo=[].concat(mi,[Nr]).reduce(function(l,r){return l.concat([r,r+"-"+Fn,r+"-"+_i])},[]),Qa="beforeRead",Ja="read",Za="afterRead",tc="beforeMain",ec="main",nc="afterMain",ic="beforeWrite",rc="write",oc="afterWrite",sc=[Qa,Ja,Za,tc,ec,nc,ic,rc,oc];function Qe(l){return l?(l.nodeName||"").toLowerCase():null}function be(l){if(l==null)return window;if(l.toString()!=="[object Window]"){var r=l.ownerDocument;return r&&r.defaultView||window}return l}function jn(l){return l instanceof be(l).Element||l instanceof Element}function Le(l){return l instanceof be(l).HTMLElement||l instanceof HTMLElement}function Zo(l){return typeof ShadowRoot<"u"&&(l instanceof be(l).ShadowRoot||l instanceof ShadowRoot)}const ts={name:"applyStyles",enabled:!0,phase:"write",fn:function(l){var r=l.state;Object.keys(r.elements).forEach(function(a){var d=r.styles[a]||{},v=r.attributes[a]||{},b=r.elements[a];Le(b)&&Qe(b)&&(Object.assign(b.style,d),Object.keys(v).forEach(function(k){var $=v[k];$===!1?b.removeAttribute(k):b.setAttribute(k,$===!0?"":$)}))})},effect:function(l){var r=l.state,a={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,a.popper),r.styles=a,r.elements.arrow&&Object.assign(r.elements.arrow.style,a.arrow),function(){Object.keys(r.elements).forEach(function(d){var v=r.elements[d],b=r.attributes[d]||{},k=Object.keys(r.styles.hasOwnProperty(d)?r.styles[d]:a[d]).reduce(function($,j){return $[j]="",$},{});Le(v)&&Qe(v)&&(Object.assign(v.style,k),Object.keys(b).forEach(function($){v.removeAttribute($)}))})}},requires:["computeStyles"]};function Je(l){return l.split("-")[0]}var Gn=Math.max,Dr=Math.min,bi=Math.round;function es(){var l=navigator.userAgentData;return l!=null&&l.brands&&Array.isArray(l.brands)?l.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function ac(){return!/^((?!chrome|android).)*safari/i.test(es())}function yi(l,r,a){r===void 0&&(r=!1),a===void 0&&(a=!1);var d=l.getBoundingClientRect(),v=1,b=1;r&&Le(l)&&(v=l.offsetWidth>0&&bi(d.width)/l.offsetWidth||1,b=l.offsetHeight>0&&bi(d.height)/l.offsetHeight||1);var k=(jn(l)?be(l):window).visualViewport,$=!ac()&&a,j=(d.left+($&&k?k.offsetLeft:0))/v,J=(d.top+($&&k?k.offsetTop:0))/b,Z=d.width/v,K=d.height/b;return{width:Z,height:K,top:J,right:j+Z,bottom:J+K,left:j,x:j,y:J}}function ns(l){var r=yi(l),a=l.offsetWidth,d=l.offsetHeight;return Math.abs(r.width-a)<=1&&(a=r.width),Math.abs(r.height-d)<=1&&(d=r.height),{x:l.offsetLeft,y:l.offsetTop,width:a,height:d}}function cc(l,r){var a=r.getRootNode&&r.getRootNode();if(l.contains(r))return!0;if(a&&Zo(a)){var d=r;do{if(d&&l.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function hn(l){return be(l).getComputedStyle(l)}function Fd(l){return["table","td","th"].indexOf(Qe(l))>=0}function Sn(l){return((jn(l)?l.ownerDocument:l.document)||window.document).documentElement}function Mr(l){return Qe(l)==="html"?l:l.assignedSlot||l.parentNode||(Zo(l)?l.host:null)||Sn(l)}function lc(l){return Le(l)&&hn(l).position!=="fixed"?l.offsetParent:null}function tr(l){for(var r=be(l),a=lc(l);a&&Fd(a)&&hn(a).position==="static";)a=lc(a);return a&&(Qe(a)==="html"||Qe(a)==="body"&&hn(a).position==="static")?r:a||function(d){var v=/firefox/i.test(es());if(/Trident/i.test(es())&&Le(d)&&hn(d).position==="fixed")return null;var b=Mr(d);for(Zo(b)&&(b=b.host);Le(b)&&["html","body"].indexOf(Qe(b))<0;){var k=hn(b);if(k.transform!=="none"||k.perspective!=="none"||k.contain==="paint"||["transform","perspective"].indexOf(k.willChange)!==-1||v&&k.willChange==="filter"||v&&k.filter&&k.filter!=="none")return b;b=b.parentNode}return null}(l)||r}function is(l){return["top","bottom"].indexOf(l)>=0?"x":"y"}function er(l,r,a){return Gn(l,Dr(r,a))}function uc(l){return Object.assign({},{top:0,right:0,bottom:0,left:0},l)}function fc(l,r){return r.reduce(function(a,d){return a[d]=l,a},{})}const dc={name:"arrow",enabled:!0,phase:"main",fn:function(l){var r,a=l.state,d=l.name,v=l.options,b=a.elements.arrow,k=a.modifiersData.popperOffsets,$=Je(a.placement),j=is($),J=[re,ve].indexOf($)>=0?"height":"width";if(b&&k){var Z=function(Pt,Dt){return uc(typeof(Pt=typeof Pt=="function"?Pt(Object.assign({},Dt.rects,{placement:Dt.placement})):Pt)!="number"?Pt:fc(Pt,mi))}(v.padding,a),K=ns(b),_t=j==="y"?ie:re,lt=j==="y"?_e:ve,ht=a.rects.reference[J]+a.rects.reference[j]-k[j]-a.rects.popper[J],ft=k[j]-a.rects.reference[j],pt=tr(b),It=pt?j==="y"?pt.clientHeight||0:pt.clientWidth||0:0,zt=ht/2-ft/2,wt=Z[_t],Lt=It-K[J]-Z[lt],vt=It/2-K[J]/2+zt,xt=er(wt,vt,Lt),Nt=j;a.modifiersData[d]=((r={})[Nt]=xt,r.centerOffset=xt-vt,r)}},effect:function(l){var r=l.state,a=l.options.element,d=a===void 0?"[data-popper-arrow]":a;d!=null&&(typeof d!="string"||(d=r.elements.popper.querySelector(d)))&&cc(r.elements.popper,d)&&(r.elements.arrow=d)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wi(l){return l.split("-")[1]}var jd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hc(l){var r,a=l.popper,d=l.popperRect,v=l.placement,b=l.variation,k=l.offsets,$=l.position,j=l.gpuAcceleration,J=l.adaptive,Z=l.roundOffsets,K=l.isFixed,_t=k.x,lt=_t===void 0?0:_t,ht=k.y,ft=ht===void 0?0:ht,pt=typeof Z=="function"?Z({x:lt,y:ft}):{x:lt,y:ft};lt=pt.x,ft=pt.y;var It=k.hasOwnProperty("x"),zt=k.hasOwnProperty("y"),wt=re,Lt=ie,vt=window;if(J){var xt=tr(a),Nt="clientHeight",Pt="clientWidth";xt===be(a)&&hn(xt=Sn(a)).position!=="static"&&$==="absolute"&&(Nt="scrollHeight",Pt="scrollWidth"),(v===ie||(v===re||v===ve)&&b===_i)&&(Lt=_e,ft-=(K&&xt===vt&&vt.visualViewport?vt.visualViewport.height:xt[Nt])-d.height,ft*=j?1:-1),v!==re&&(v!==ie&&v!==_e||b!==_i)||(wt=ve,lt-=(K&&xt===vt&&vt.visualViewport?vt.visualViewport.width:xt[Pt])-d.width,lt*=j?1:-1)}var Dt,jt=Object.assign({position:$},J&&jd),ye=Z===!0?function(je,oe){var Ne=je.x,De=je.y,Ft=oe.devicePixelRatio||1;return{x:bi(Ne*Ft)/Ft||0,y:bi(De*Ft)/Ft||0}}({x:lt,y:ft},be(a)):{x:lt,y:ft};return lt=ye.x,ft=ye.y,j?Object.assign({},jt,((Dt={})[Lt]=zt?"0":"",Dt[wt]=It?"0":"",Dt.transform=(vt.devicePixelRatio||1)<=1?"translate("+lt+"px, "+ft+"px)":"translate3d("+lt+"px, "+ft+"px, 0)",Dt)):Object.assign({},jt,((r={})[Lt]=zt?ft+"px":"",r[wt]=It?lt+"px":"",r.transform="",r))}const rs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(l){var r=l.state,a=l.options,d=a.gpuAcceleration,v=d===void 0||d,b=a.adaptive,k=b===void 0||b,$=a.roundOffsets,j=$===void 0||$,J={placement:Je(r.placement),variation:wi(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:v,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,hc(Object.assign({},J,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:k,roundOffsets:j})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,hc(Object.assign({},J,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:j})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})},data:{}};var Ir={passive:!0};const os={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(l){var r=l.state,a=l.instance,d=l.options,v=d.scroll,b=v===void 0||v,k=d.resize,$=k===void 0||k,j=be(r.elements.popper),J=[].concat(r.scrollParents.reference,r.scrollParents.popper);return b&&J.forEach(function(Z){Z.addEventListener("scroll",a.update,Ir)}),$&&j.addEventListener("resize",a.update,Ir),function(){b&&J.forEach(function(Z){Z.removeEventListener("scroll",a.update,Ir)}),$&&j.removeEventListener("resize",a.update,Ir)}},data:{}};var Gd={left:"right",right:"left",bottom:"top",top:"bottom"};function Pr(l){return l.replace(/left|right|bottom|top/g,function(r){return Gd[r]})}var Wd={start:"end",end:"start"};function pc(l){return l.replace(/start|end/g,function(r){return Wd[r]})}function ss(l){var r=be(l);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function as(l){return yi(Sn(l)).left+ss(l).scrollLeft}function cs(l){var r=hn(l),a=r.overflow,d=r.overflowX,v=r.overflowY;return/auto|scroll|overlay|hidden/.test(a+v+d)}function gc(l){return["html","body","#document"].indexOf(Qe(l))>=0?l.ownerDocument.body:Le(l)&&cs(l)?l:gc(Mr(l))}function nr(l,r){var a;r===void 0&&(r=[]);var d=gc(l),v=d===((a=l.ownerDocument)==null?void 0:a.body),b=be(d),k=v?[b].concat(b.visualViewport||[],cs(d)?d:[]):d,$=r.concat(k);return v?$:$.concat(nr(Mr(k)))}function ls(l){return Object.assign({},l,{left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height})}function mc(l,r,a){return r===Xo?ls(function(d,v){var b=be(d),k=Sn(d),$=b.visualViewport,j=k.clientWidth,J=k.clientHeight,Z=0,K=0;if($){j=$.width,J=$.height;var _t=ac();(_t||!_t&&v==="fixed")&&(Z=$.offsetLeft,K=$.offsetTop)}return{width:j,height:J,x:Z+as(d),y:K}}(l,a)):jn(r)?function(d,v){var b=yi(d,!1,v==="fixed");return b.top=b.top+d.clientTop,b.left=b.left+d.clientLeft,b.bottom=b.top+d.clientHeight,b.right=b.left+d.clientWidth,b.width=d.clientWidth,b.height=d.clientHeight,b.x=b.left,b.y=b.top,b}(r,a):ls(function(d){var v,b=Sn(d),k=ss(d),$=(v=d.ownerDocument)==null?void 0:v.body,j=Gn(b.scrollWidth,b.clientWidth,$?$.scrollWidth:0,$?$.clientWidth:0),J=Gn(b.scrollHeight,b.clientHeight,$?$.scrollHeight:0,$?$.clientHeight:0),Z=-k.scrollLeft+as(d),K=-k.scrollTop;return hn($||b).direction==="rtl"&&(Z+=Gn(b.clientWidth,$?$.clientWidth:0)-j),{width:j,height:J,x:Z,y:K}}(Sn(l)))}function _c(l){var r,a=l.reference,d=l.element,v=l.placement,b=v?Je(v):null,k=v?wi(v):null,$=a.x+a.width/2-d.width/2,j=a.y+a.height/2-d.height/2;switch(b){case ie:r={x:$,y:a.y-d.height};break;case _e:r={x:$,y:a.y+a.height};break;case ve:r={x:a.x+a.width,y:j};break;case re:r={x:a.x-d.width,y:j};break;default:r={x:a.x,y:a.y}}var J=b?is(b):null;if(J!=null){var Z=J==="y"?"height":"width";switch(k){case Fn:r[J]=r[J]-(a[Z]/2-d[Z]/2);break;case _i:r[J]=r[J]+(a[Z]/2-d[Z]/2)}}return r}function Ei(l,r){r===void 0&&(r={});var a=r,d=a.placement,v=d===void 0?l.placement:d,b=a.strategy,k=b===void 0?l.strategy:b,$=a.boundary,j=$===void 0?Ya:$,J=a.rootBoundary,Z=J===void 0?Xo:J,K=a.elementContext,_t=K===void 0?vi:K,lt=a.altBoundary,ht=lt!==void 0&&lt,ft=a.padding,pt=ft===void 0?0:ft,It=uc(typeof pt!="number"?pt:fc(pt,mi)),zt=_t===vi?Xa:vi,wt=l.rects.popper,Lt=l.elements[ht?zt:_t],vt=function(oe,Ne,De,Ft){var Ze=Ne==="clippingParents"?function(Rt){var se=nr(Mr(Rt)),Me=["absolute","fixed"].indexOf(hn(Rt).position)>=0&&Le(Rt)?tr(Rt):Rt;return jn(Me)?se.filter(function(kn){return jn(kn)&&cc(kn,Me)&&Qe(kn)!=="body"}):[]}(oe):[].concat(Ne),tn=[].concat(Ze,[De]),Ti=tn[0],Kt=tn.reduce(function(Rt,se){var Me=mc(oe,se,Ft);return Rt.top=Gn(Me.top,Rt.top),Rt.right=Dr(Me.right,Rt.right),Rt.bottom=Dr(Me.bottom,Rt.bottom),Rt.left=Gn(Me.left,Rt.left),Rt},mc(oe,Ti,Ft));return Kt.width=Kt.right-Kt.left,Kt.height=Kt.bottom-Kt.top,Kt.x=Kt.left,Kt.y=Kt.top,Kt}(jn(Lt)?Lt:Lt.contextElement||Sn(l.elements.popper),j,Z,k),xt=yi(l.elements.reference),Nt=_c({reference:xt,element:wt,placement:v}),Pt=ls(Object.assign({},wt,Nt)),Dt=_t===vi?Pt:xt,jt={top:vt.top-Dt.top+It.top,bottom:Dt.bottom-vt.bottom+It.bottom,left:vt.left-Dt.left+It.left,right:Dt.right-vt.right+It.right},ye=l.modifiersData.offset;if(_t===vi&&ye){var je=ye[v];Object.keys(jt).forEach(function(oe){var Ne=[ve,_e].indexOf(oe)>=0?1:-1,De=[ie,_e].indexOf(oe)>=0?"y":"x";jt[oe]+=je[De]*Ne})}return jt}function Vd(l,r){r===void 0&&(r={});var a=r,d=a.placement,v=a.boundary,b=a.rootBoundary,k=a.padding,$=a.flipVariations,j=a.allowedAutoPlacements,J=j===void 0?Jo:j,Z=wi(d),K=Z?$?Qo:Qo.filter(function(ht){return wi(ht)===Z}):mi,_t=K.filter(function(ht){return J.indexOf(ht)>=0});_t.length===0&&(_t=K);var lt=_t.reduce(function(ht,ft){return ht[ft]=Ei(l,{placement:ft,boundary:v,rootBoundary:b,padding:k})[Je(ft)],ht},{});return Object.keys(lt).sort(function(ht,ft){return lt[ht]-lt[ft]})}const vc={name:"flip",enabled:!0,phase:"main",fn:function(l){var r=l.state,a=l.options,d=l.name;if(!r.modifiersData[d]._skip){for(var v=a.mainAxis,b=v===void 0||v,k=a.altAxis,$=k===void 0||k,j=a.fallbackPlacements,J=a.padding,Z=a.boundary,K=a.rootBoundary,_t=a.altBoundary,lt=a.flipVariations,ht=lt===void 0||lt,ft=a.allowedAutoPlacements,pt=r.options.placement,It=Je(pt),zt=j||(It!==pt&&ht?function(Rt){if(Je(Rt)===Nr)return[];var se=Pr(Rt);return[pc(Rt),se,pc(se)]}(pt):[Pr(pt)]),wt=[pt].concat(zt).reduce(function(Rt,se){return Rt.concat(Je(se)===Nr?Vd(r,{placement:se,boundary:Z,rootBoundary:K,padding:J,flipVariations:ht,allowedAutoPlacements:ft}):se)},[]),Lt=r.rects.reference,vt=r.rects.popper,xt=new Map,Nt=!0,Pt=wt[0],Dt=0;Dt<wt.length;Dt++){var jt=wt[Dt],ye=Je(jt),je=wi(jt)===Fn,oe=[ie,_e].indexOf(ye)>=0,Ne=oe?"width":"height",De=Ei(r,{placement:jt,boundary:Z,rootBoundary:K,altBoundary:_t,padding:J}),Ft=oe?je?ve:re:je?_e:ie;Lt[Ne]>vt[Ne]&&(Ft=Pr(Ft));var Ze=Pr(Ft),tn=[];if(b&&tn.push(De[ye]<=0),$&&tn.push(De[Ft]<=0,De[Ze]<=0),tn.every(function(Rt){return Rt})){Pt=jt,Nt=!1;break}xt.set(jt,tn)}if(Nt)for(var Ti=function(Rt){var se=wt.find(function(Me){var kn=xt.get(Me);if(kn)return kn.slice(0,Rt).every(function(Vr){return Vr})});if(se)return Pt=se,"break"},Kt=ht?3:1;Kt>0&&Ti(Kt)!=="break";Kt--);r.placement!==Pt&&(r.modifiersData[d]._skip=!0,r.placement=Pt,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function bc(l,r,a){return a===void 0&&(a={x:0,y:0}),{top:l.top-r.height-a.y,right:l.right-r.width+a.x,bottom:l.bottom-r.height+a.y,left:l.left-r.width-a.x}}function yc(l){return[ie,ve,_e,re].some(function(r){return l[r]>=0})}const wc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(l){var r=l.state,a=l.name,d=r.rects.reference,v=r.rects.popper,b=r.modifiersData.preventOverflow,k=Ei(r,{elementContext:"reference"}),$=Ei(r,{altBoundary:!0}),j=bc(k,d),J=bc($,v,b),Z=yc(j),K=yc(J);r.modifiersData[a]={referenceClippingOffsets:j,popperEscapeOffsets:J,isReferenceHidden:Z,hasPopperEscaped:K},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":Z,"data-popper-escaped":K})}},Ec={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(l){var r=l.state,a=l.options,d=l.name,v=a.offset,b=v===void 0?[0,0]:v,k=Jo.reduce(function(Z,K){return Z[K]=function(_t,lt,ht){var ft=Je(_t),pt=[re,ie].indexOf(ft)>=0?-1:1,It=typeof ht=="function"?ht(Object.assign({},lt,{placement:_t})):ht,zt=It[0],wt=It[1];return zt=zt||0,wt=(wt||0)*pt,[re,ve].indexOf(ft)>=0?{x:wt,y:zt}:{x:zt,y:wt}}(K,r.rects,b),Z},{}),$=k[r.placement],j=$.x,J=$.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=j,r.modifiersData.popperOffsets.y+=J),r.modifiersData[d]=k}},us={name:"popperOffsets",enabled:!0,phase:"read",fn:function(l){var r=l.state,a=l.name;r.modifiersData[a]=_c({reference:r.rects.reference,element:r.rects.popper,placement:r.placement})},data:{}},Ac={name:"preventOverflow",enabled:!0,phase:"main",fn:function(l){var r=l.state,a=l.options,d=l.name,v=a.mainAxis,b=v===void 0||v,k=a.altAxis,$=k!==void 0&&k,j=a.boundary,J=a.rootBoundary,Z=a.altBoundary,K=a.padding,_t=a.tether,lt=_t===void 0||_t,ht=a.tetherOffset,ft=ht===void 0?0:ht,pt=Ei(r,{boundary:j,rootBoundary:J,padding:K,altBoundary:Z}),It=Je(r.placement),zt=wi(r.placement),wt=!zt,Lt=is(It),vt=Lt==="x"?"y":"x",xt=r.modifiersData.popperOffsets,Nt=r.rects.reference,Pt=r.rects.popper,Dt=typeof ft=="function"?ft(Object.assign({},r.rects,{placement:r.placement})):ft,jt=typeof Dt=="number"?{mainAxis:Dt,altAxis:Dt}:Object.assign({mainAxis:0,altAxis:0},Dt),ye=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,je={x:0,y:0};if(xt){if(b){var oe,Ne=Lt==="y"?ie:re,De=Lt==="y"?_e:ve,Ft=Lt==="y"?"height":"width",Ze=xt[Lt],tn=Ze+pt[Ne],Ti=Ze-pt[De],Kt=lt?-Pt[Ft]/2:0,Rt=zt===Fn?Nt[Ft]:Pt[Ft],se=zt===Fn?-Pt[Ft]:-Nt[Ft],Me=r.elements.arrow,kn=lt&&Me?ns(Me):{width:0,height:0},Vr=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ll=Vr[Ne],ul=Vr[De],Ur=er(0,Nt[Ft],kn[Ft]),yp=wt?Nt[Ft]/2-Kt-Ur-ll-jt.mainAxis:Rt-Ur-ll-jt.mainAxis,wp=wt?-Nt[Ft]/2+Kt+Ur+ul+jt.mainAxis:se+Ur+ul+jt.mainAxis,As=r.elements.arrow&&tr(r.elements.arrow),Ep=As?Lt==="y"?As.clientTop||0:As.clientLeft||0:0,fl=(oe=ye==null?void 0:ye[Lt])!=null?oe:0,Ap=Ze+wp-fl,dl=er(lt?Dr(tn,Ze+yp-fl-Ep):tn,Ze,lt?Gn(Ti,Ap):Ti);xt[Lt]=dl,je[Lt]=dl-Ze}if($){var hl,xp=Lt==="x"?ie:re,Tp=Lt==="x"?_e:ve,Qn=xt[vt],qr=vt==="y"?"height":"width",pl=Qn+pt[xp],gl=Qn-pt[Tp],xs=[ie,re].indexOf(It)!==-1,ml=(hl=ye==null?void 0:ye[vt])!=null?hl:0,_l=xs?pl:Qn-Nt[qr]-Pt[qr]-ml+jt.altAxis,vl=xs?Qn+Nt[qr]+Pt[qr]-ml-jt.altAxis:gl,bl=lt&&xs?function(Cp,Sp,Ts){var yl=er(Cp,Sp,Ts);return yl>Ts?Ts:yl}(_l,Qn,vl):er(lt?_l:pl,Qn,lt?vl:gl);xt[vt]=bl,je[vt]=bl-Qn}r.modifiersData[d]=je}},requiresIfExists:["offset"]};function Ud(l,r,a){a===void 0&&(a=!1);var d,v,b=Le(r),k=Le(r)&&function(K){var _t=K.getBoundingClientRect(),lt=bi(_t.width)/K.offsetWidth||1,ht=bi(_t.height)/K.offsetHeight||1;return lt!==1||ht!==1}(r),$=Sn(r),j=yi(l,k,a),J={scrollLeft:0,scrollTop:0},Z={x:0,y:0};return(b||!b&&!a)&&((Qe(r)!=="body"||cs($))&&(J=(d=r)!==be(d)&&Le(d)?{scrollLeft:(v=d).scrollLeft,scrollTop:v.scrollTop}:ss(d)),Le(r)?((Z=yi(r,!0)).x+=r.clientLeft,Z.y+=r.clientTop):$&&(Z.x=as($))),{x:j.left+J.scrollLeft-Z.x,y:j.top+J.scrollTop-Z.y,width:j.width,height:j.height}}function qd(l){var r=new Map,a=new Set,d=[];function v(b){a.add(b.name),[].concat(b.requires||[],b.requiresIfExists||[]).forEach(function(k){if(!a.has(k)){var $=r.get(k);$&&v($)}}),d.push(b)}return l.forEach(function(b){r.set(b.name,b)}),l.forEach(function(b){a.has(b.name)||v(b)}),d}var xc={placement:"bottom",modifiers:[],strategy:"absolute"};function Tc(){for(var l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return!r.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function Rr(l){l===void 0&&(l={});var r=l,a=r.defaultModifiers,d=a===void 0?[]:a,v=r.defaultOptions,b=v===void 0?xc:v;return function(k,$,j){j===void 0&&(j=b);var J,Z,K={placement:"bottom",orderedModifiers:[],options:Object.assign({},xc,b),modifiersData:{},elements:{reference:k,popper:$},attributes:{},styles:{}},_t=[],lt=!1,ht={state:K,setOptions:function(pt){var It=typeof pt=="function"?pt(K.options):pt;ft(),K.options=Object.assign({},b,K.options,It),K.scrollParents={reference:jn(k)?nr(k):k.contextElement?nr(k.contextElement):[],popper:nr($)};var zt,wt,Lt=function(vt){var xt=qd(vt);return sc.reduce(function(Nt,Pt){return Nt.concat(xt.filter(function(Dt){return Dt.phase===Pt}))},[])}((zt=[].concat(d,K.options.modifiers),wt=zt.reduce(function(vt,xt){var Nt=vt[xt.name];return vt[xt.name]=Nt?Object.assign({},Nt,xt,{options:Object.assign({},Nt.options,xt.options),data:Object.assign({},Nt.data,xt.data)}):xt,vt},{}),Object.keys(wt).map(function(vt){return wt[vt]})));return K.orderedModifiers=Lt.filter(function(vt){return vt.enabled}),K.orderedModifiers.forEach(function(vt){var xt=vt.name,Nt=vt.options,Pt=Nt===void 0?{}:Nt,Dt=vt.effect;if(typeof Dt=="function"){var jt=Dt({state:K,name:xt,instance:ht,options:Pt});_t.push(jt||function(){})}}),ht.update()},forceUpdate:function(){if(!lt){var pt=K.elements,It=pt.reference,zt=pt.popper;if(Tc(It,zt)){K.rects={reference:Ud(It,tr(zt),K.options.strategy==="fixed"),popper:ns(zt)},K.reset=!1,K.placement=K.options.placement,K.orderedModifiers.forEach(function(Dt){return K.modifiersData[Dt.name]=Object.assign({},Dt.data)});for(var wt=0;wt<K.orderedModifiers.length;wt++)if(K.reset!==!0){var Lt=K.orderedModifiers[wt],vt=Lt.fn,xt=Lt.options,Nt=xt===void 0?{}:xt,Pt=Lt.name;typeof vt=="function"&&(K=vt({state:K,options:Nt,name:Pt,instance:ht})||K)}else K.reset=!1,wt=-1}}},update:(J=function(){return new Promise(function(pt){ht.forceUpdate(),pt(K)})},function(){return Z||(Z=new Promise(function(pt){Promise.resolve().then(function(){Z=void 0,pt(J())})})),Z}),destroy:function(){ft(),lt=!0}};if(!Tc(k,$))return ht;function ft(){_t.forEach(function(pt){return pt()}),_t=[]}return ht.setOptions(j).then(function(pt){!lt&&j.onFirstUpdate&&j.onFirstUpdate(pt)}),ht}}var Kd=Rr(),Yd=Rr({defaultModifiers:[os,us,rs,ts]}),fs=Rr({defaultModifiers:[os,us,rs,ts,Ec,vc,Ac,dc,wc]});const Cc=Object.freeze(Object.defineProperty({__proto__:null,afterMain:nc,afterRead:Za,afterWrite:oc,applyStyles:ts,arrow:dc,auto:Nr,basePlacements:mi,beforeMain:tc,beforeRead:Qa,beforeWrite:ic,bottom:_e,clippingParents:Ya,computeStyles:rs,createPopper:fs,createPopperBase:Kd,createPopperLite:Yd,detectOverflow:Ei,end:_i,eventListeners:os,flip:vc,hide:wc,left:re,main:ec,modifierPhases:sc,offset:Ec,placements:Jo,popper:vi,popperGenerator:Rr,popperOffsets:us,preventOverflow:Ac,read:Ja,reference:Xa,right:ve,start:Fn,top:ie,variationPlacements:Qo,viewport:Xo,write:rc},Symbol.toStringTag,{value:"Module"})),Sc="dropdown",Wn=".bs.dropdown",ds=".data-api",Xd="ArrowUp",Oc="ArrowDown",Qd=`hide${Wn}`,Jd=`hidden${Wn}`,Zd=`show${Wn}`,th=`shown${Wn}`,kc=`click${Wn}${ds}`,Lc=`keydown${Wn}${ds}`,eh=`keyup${Wn}${ds}`,Ai="show",Vn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',nh=`${Vn}.${Ai}`,Hr=".dropdown-menu",ih=D()?"top-end":"top-start",rh=D()?"top-start":"top-end",oh=D()?"bottom-end":"bottom-start",sh=D()?"bottom-start":"bottom-end",ah=D()?"left-start":"right-start",ch=D()?"right-start":"left-start",lh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},uh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Fe extends at{constructor(r,a){super(r,a),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,Hr)[0]||U.prev(this._element,Hr)[0]||U.findOne(Hr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return lh}static get DefaultType(){return uh}static get NAME(){return Sc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!A.trigger(this._element,Zd,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const a of[].concat(...document.body.children))A.on(a,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ai),this._element.classList.add(Ai),A.trigger(this._element,th,r)}}hide(){if(h(this._element)||!this._isShown())return;const r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!A.trigger(this._element,Qd,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))A.off(a,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ai),this._element.classList.remove(Ai),this._element.setAttribute("aria-expanded","false"),dt.removeDataAttribute(this._menu,"popper"),A.trigger(this._element,Jd,r)}}_getConfig(r){if(typeof(r=super._getConfig(r)).reference=="object"&&!u(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${Sc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(Cc===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:u(this._config.reference)?r=f(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);const a=this._getPopperConfig();this._popper=fs(r,this._menu,a)}_isShown(){return this._menu.classList.contains(Ai)}_getPlacement(){const r=this._parent;if(r.classList.contains("dropend"))return ah;if(r.classList.contains("dropstart"))return ch;if(r.classList.contains("dropup-center"))return"top";if(r.classList.contains("dropdown-center"))return"bottom";const a=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains("dropup")?a?rh:ih:a?sh:oh}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(a=>Number.parseInt(a,10)):typeof r=="function"?a=>r(a,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(dt.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...W(this._config.popperConfig,[r])}}_selectMenuItem({key:r,target:a}){const d=U.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(v=>p(v));d.length&&m(d,a,r===Oc,!d.includes(a)).focus()}static jQueryInterface(r){return this.each(function(){const a=Fe.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r]()}})}static clearMenus(r){if(r.button===2||r.type==="keyup"&&r.key!=="Tab")return;const a=U.find(nh);for(const d of a){const v=Fe.getInstance(d);if(!v||v._config.autoClose===!1)continue;const b=r.composedPath(),k=b.includes(v._menu);if(b.includes(v._element)||v._config.autoClose==="inside"&&!k||v._config.autoClose==="outside"&&k||v._menu.contains(r.target)&&(r.type==="keyup"&&r.key==="Tab"||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const $={relatedTarget:v._element};r.type==="click"&&($.clickEvent=r),v._completeHide($)}}static dataApiKeydownHandler(r){const a=/input|textarea/i.test(r.target.tagName),d=r.key==="Escape",v=[Xd,Oc].includes(r.key);if(!v&&!d||a&&!d)return;r.preventDefault();const b=this.matches(Vn)?this:U.prev(this,Vn)[0]||U.next(this,Vn)[0]||U.findOne(Vn,r.delegateTarget.parentNode),k=Fe.getOrCreateInstance(b);if(v)return r.stopPropagation(),k.show(),void k._selectMenuItem(r);k._isShown()&&(r.stopPropagation(),k.hide(),b.focus())}}A.on(document,Lc,Vn,Fe.dataApiKeydownHandler),A.on(document,Lc,Hr,Fe.dataApiKeydownHandler),A.on(document,kc,Fe.clearMenus),A.on(document,eh,Fe.clearMenus),A.on(document,kc,Vn,function(l){l.preventDefault(),Fe.getOrCreateInstance(this).toggle()}),L(Fe);const $c="backdrop",Nc="show",Dc=`mousedown.bs.${$c}`,fh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},dh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Mc extends kt{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return fh}static get DefaultType(){return dh}static get NAME(){return $c}show(r){if(!this._config.isVisible)return void W(r);this._append();const a=this._getElement();this._config.isAnimated&&E(a),a.classList.add(Nc),this._emulateAnimation(()=>{W(r)})}hide(r){this._config.isVisible?(this._getElement().classList.remove(Nc),this._emulateAnimation(()=>{this.dispose(),W(r)})):W(r)}dispose(){this._isAppended&&(A.off(this._element,Dc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add("fade"),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=f(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),A.on(r,Dc,()=>{W(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){tt(r,this._getElement(),this._config.isAnimated)}}const zr=".bs.focustrap",hh=`focusin${zr}`,ph=`keydown.tab${zr}`,Ic="backward",gh={autofocus:!0,trapElement:null},mh={autofocus:"boolean",trapElement:"element"};class Pc extends kt{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return gh}static get DefaultType(){return mh}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),A.off(document,zr),A.on(document,hh,r=>this._handleFocusin(r)),A.on(document,ph,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,A.off(document,zr))}_handleFocusin(r){const{trapElement:a}=this._config;if(r.target===document||r.target===a||a.contains(r.target))return;const d=U.focusableChildren(a);d.length===0?a.focus():this._lastTabNavDirection===Ic?d[d.length-1].focus():d[0].focus()}_handleKeydown(r){r.key==="Tab"&&(this._lastTabNavDirection=r.shiftKey?Ic:"forward")}}const Rc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Hc=".sticky-top",Br="padding-right",zc="margin-right";class hs{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Br,a=>a+r),this._setElementAttributes(Rc,Br,a=>a+r),this._setElementAttributes(Hc,zc,a=>a-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Br),this._resetElementAttributes(Rc,Br),this._resetElementAttributes(Hc,zc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,a,d){const v=this.getWidth();this._applyManipulationCallback(r,b=>{if(b!==this._element&&window.innerWidth>b.clientWidth+v)return;this._saveInitialAttribute(b,a);const k=window.getComputedStyle(b).getPropertyValue(a);b.style.setProperty(a,`${d(Number.parseFloat(k))}px`)})}_saveInitialAttribute(r,a){const d=r.style.getPropertyValue(a);d&&dt.setDataAttribute(r,a,d)}_resetElementAttributes(r,a){this._applyManipulationCallback(r,d=>{const v=dt.getDataAttribute(d,a);v!==null?(dt.removeDataAttribute(d,a),d.style.setProperty(a,v)):d.style.removeProperty(a)})}_applyManipulationCallback(r,a){if(u(r))a(r);else for(const d of U.find(r,this._element))a(d)}}const $e=".bs.modal",_h=`hide${$e}`,vh=`hidePrevented${$e}`,Bc=`hidden${$e}`,Fc=`show${$e}`,bh=`shown${$e}`,yh=`resize${$e}`,wh=`click.dismiss${$e}`,Eh=`mousedown.dismiss${$e}`,Ah=`keydown.dismiss${$e}`,xh=`click${$e}.data-api`,jc="modal-open",Gc="show",ps="modal-static",Th={backdrop:!0,focus:!0,keyboard:!0},Ch={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Un extends at{constructor(r,a){super(r,a),this._dialog=U.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new hs,this._addEventListeners()}static get Default(){return Th}static get DefaultType(){return Ch}static get NAME(){return"modal"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||A.trigger(this._element,Fc,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(jc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){this._isShown&&!this._isTransitioning&&(A.trigger(this._element,_h).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Gc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){A.off(window,$e),A.off(this._dialog,$e),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Mc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Pc({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=U.findOne(".modal-body",this._dialog);a&&(a.scrollTop=0),E(this._element),this._element.classList.add(Gc),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,A.trigger(this._element,bh,{relatedTarget:r})},this._dialog,this._isAnimated())}_addEventListeners(){A.on(this._element,Ah,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),A.on(window,yh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),A.on(this._element,Eh,r=>{A.one(this._element,wh,a=>{this._element===r.target&&this._element===a.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(jc),this._resetAdjustments(),this._scrollBar.reset(),A.trigger(this._element,Bc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(A.trigger(this._element,vh).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,a=this._element.style.overflowY;a==="hidden"||this._element.classList.contains(ps)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(ps),this._queueCallback(()=>{this._element.classList.remove(ps),this._queueCallback(()=>{this._element.style.overflowY=a},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),d=a>0;if(d&&!r){const v=D()?"paddingLeft":"paddingRight";this._element.style[v]=`${a}px`}if(!d&&r){const v=D()?"paddingRight":"paddingLeft";this._element.style[v]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,a){return this.each(function(){const d=Un.getOrCreateInstance(this,r);if(typeof r=="string"){if(d[r]===void 0)throw new TypeError(`No method named "${r}"`);d[r](a)}})}}A.on(document,xh,'[data-bs-toggle="modal"]',function(l){const r=U.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&l.preventDefault(),A.one(r,Fc,d=>{d.defaultPrevented||A.one(r,Bc,()=>{p(this)&&this.focus()})});const a=U.findOne(".modal.show");a&&Un.getInstance(a).hide(),Un.getOrCreateInstance(r).toggle(this)}),qt(Un),L(Un);const pn=".bs.offcanvas",Wc=".data-api",Sh=`load${pn}${Wc}`,Vc="show",Uc="showing",qc="hiding",Kc=".offcanvas.show",Oh=`show${pn}`,kh=`shown${pn}`,Lh=`hide${pn}`,Yc=`hidePrevented${pn}`,Xc=`hidden${pn}`,$h=`resize${pn}`,Nh=`click${pn}${Wc}`,Dh=`keydown.dismiss${pn}`,Mh={backdrop:!0,keyboard:!0,scroll:!1},Ih={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class gn extends at{constructor(r,a){super(r,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Mh}static get DefaultType(){return Ih}static get NAME(){return"offcanvas"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||A.trigger(this._element,Oh,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new hs().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Uc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Vc),this._element.classList.remove(Uc),A.trigger(this._element,kh,{relatedTarget:r})},this._element,!0))}hide(){this._isShown&&(A.trigger(this._element,Lh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(qc),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Vc,qc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new hs().reset(),A.trigger(this._element,Xc)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=!!this._config.backdrop;return new Mc({className:"offcanvas-backdrop",isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?()=>{this._config.backdrop!=="static"?this.hide():A.trigger(this._element,Yc)}:null})}_initializeFocusTrap(){return new Pc({trapElement:this._element})}_addEventListeners(){A.on(this._element,Dh,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():A.trigger(this._element,Yc))})}static jQueryInterface(r){return this.each(function(){const a=gn.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r](this)}})}}A.on(document,Nh,'[data-bs-toggle="offcanvas"]',function(l){const r=U.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&l.preventDefault(),h(this))return;A.one(r,Xc,()=>{p(this)&&this.focus()});const a=U.findOne(Kc);a&&a!==r&&gn.getInstance(a).hide(),gn.getOrCreateInstance(r).toggle(this)}),A.on(window,Sh,()=>{for(const l of U.find(Kc))gn.getOrCreateInstance(l).show()}),A.on(window,$h,()=>{for(const l of U.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(l).position!=="fixed"&&gn.getOrCreateInstance(l).hide()}),qt(gn),L(gn);const Qc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ph=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Rh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Hh=(l,r)=>{const a=l.nodeName.toLowerCase();return r.includes(a)?!Ph.has(a)||!!Rh.test(l.nodeValue):r.filter(d=>d instanceof RegExp).some(d=>d.test(a))},zh={allowList:Qc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Bh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Fh={entry:"(string|element|function|null)",selector:"(string|element)"};class jh extends kt{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return zh}static get DefaultType(){return Bh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[v,b]of Object.entries(this._config.content))this._setContent(r,b,v);const a=r.children[0],d=this._resolvePossibleFunction(this._config.extraClass);return d&&a.classList.add(...d.split(" ")),a}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[a,d]of Object.entries(r))super._typeCheckConfig({selector:a,entry:d},Fh)}_setContent(r,a,d){const v=U.findOne(d,r);v&&((a=this._resolvePossibleFunction(a))?u(a)?this._putElementInTemplate(f(a),v):this._config.html?v.innerHTML=this._maybeSanitize(a):v.textContent=a:v.remove())}_maybeSanitize(r){return this._config.sanitize?function(a,d,v){if(!a.length)return a;if(v&&typeof v=="function")return v(a);const b=new window.DOMParser().parseFromString(a,"text/html"),k=[].concat(...b.body.querySelectorAll("*"));for(const $ of k){const j=$.nodeName.toLowerCase();if(!Object.keys(d).includes(j)){$.remove();continue}const J=[].concat(...$.attributes),Z=[].concat(d["*"]||[],d[j]||[]);for(const K of J)Hh(K,Z)||$.removeAttribute(K.nodeName)}return b.body.innerHTML}(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return W(r,[this])}_putElementInTemplate(r,a){if(this._config.html)return a.innerHTML="",void a.append(r);a.textContent=r.textContent}}const Gh=new Set(["sanitize","allowList","sanitizeFn"]),gs="fade",Fr="show",Jc=".modal",Zc="hide.bs.modal",ir="hover",ms="focus",Wh={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},Vh={allowList:Qc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Uh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class qn extends at{constructor(r,a){if(Cc===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Vh}static get DefaultType(){return Uh}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),A.off(this._element.closest(Jc),Zc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const r=A.trigger(this._element,this.constructor.eventName("show")),a=(w(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!a)return;this._disposePopper();const d=this._getTipElement();this._element.setAttribute("aria-describedby",d.getAttribute("id"));const{container:v}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(v.append(d),A.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(d),d.classList.add(Fr),"ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))A.on(b,"mouseover",_);this._queueCallback(()=>{A.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!A.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Fr),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))A.off(r,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger[ms]=!1,this._activeTrigger[ir]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),A.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const a=this._getTemplateFactory(r).toHtml();if(!a)return null;a.classList.remove(gs,Fr),a.classList.add(`bs-${this.constructor.NAME}-auto`);const d=(v=>{do v+=Math.floor(1e6*Math.random());while(document.getElementById(v));return v})(this.constructor.NAME).toString();return a.setAttribute("id",d),this._isAnimated()&&a.classList.add(gs),a}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new jh({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(gs)}_isShown(){return this.tip&&this.tip.classList.contains(Fr)}_createPopper(r){const a=W(this._config.placement,[this,r,this._element]),d=Wh[a.toUpperCase()];return fs(this._element,r,this._getPopperConfig(d))}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(a=>Number.parseInt(a,10)):typeof r=="function"?a=>r(a,this._element):r}_resolvePossibleFunction(r){return W(r,[this._element])}_getPopperConfig(r){const a={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:d=>{this._getTipElement().setAttribute("data-popper-placement",d.state.placement)}}]};return{...a,...W(this._config.popperConfig,[a])}}_setListeners(){const r=this._config.trigger.split(" ");for(const a of r)if(a==="click")A.on(this._element,this.constructor.eventName("click"),this._config.selector,d=>{this._initializeOnDelegatedTarget(d).toggle()});else if(a!=="manual"){const d=a===ir?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),v=a===ir?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");A.on(this._element,d,this._config.selector,b=>{const k=this._initializeOnDelegatedTarget(b);k._activeTrigger[b.type==="focusin"?ms:ir]=!0,k._enter()}),A.on(this._element,v,this._config.selector,b=>{const k=this._initializeOnDelegatedTarget(b);k._activeTrigger[b.type==="focusout"?ms:ir]=k._element.contains(b.relatedTarget),k._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},A.on(this._element.closest(Jc),Zc,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");r&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,a){clearTimeout(this._timeout),this._timeout=setTimeout(r,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const a=dt.getDataAttributes(this._element);for(const d of Object.keys(a))Gh.has(d)&&delete a[d];return r={...a,...typeof r=="object"&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:f(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const[a,d]of Object.entries(this._config))this.constructor.Default[a]!==d&&(r[a]=d);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){const a=qn.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r]()}})}}L(qn);const qh={...qn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Kh={...qn.DefaultType,content:"(null|string|element|function)"};class jr extends qn{static get Default(){return qh}static get DefaultType(){return Kh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const a=jr.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r]()}})}}L(jr);const _s=".bs.scrollspy",Yh=`activate${_s}`,tl=`click${_s}`,Xh=`load${_s}.data-api`,xi="active",vs="[href]",el=".nav-link",Qh=`${el}, .nav-item > ${el}, .list-group-item`,Jh={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Zh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class rr extends at{constructor(r,a){super(r,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Jh}static get DefaultType(){return Zh}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=f(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(a=>Number.parseFloat(a))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(A.off(this._config.target,tl),A.on(this._config.target,tl,vs,r=>{const a=this._observableSections.get(r.target.hash);if(a){r.preventDefault();const d=this._rootElement||window,v=a.offsetTop-this._element.offsetTop;if(d.scrollTo)return void d.scrollTo({top:v,behavior:"smooth"});d.scrollTop=v}}))}_getNewObserver(){const r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(a=>this._observerCallback(a),r)}_observerCallback(r){const a=k=>this._targetLinks.get(`#${k.target.id}`),d=k=>{this._previousScrollData.visibleEntryTop=k.target.offsetTop,this._process(a(k))},v=(this._rootElement||document.documentElement).scrollTop,b=v>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=v;for(const k of r){if(!k.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(k));continue}const $=k.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(b&&$){if(d(k),!v)return}else b||$||d(k)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=U.find(vs,this._config.target);for(const a of r){if(!a.hash||h(a))continue;const d=U.findOne(decodeURI(a.hash),this._element);p(d)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,d))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(xi),this._activateParents(r),A.trigger(this._element,Yh,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains("dropdown-item"))U.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(xi);else for(const a of U.parents(r,".nav, .list-group"))for(const d of U.prev(a,Qh))d.classList.add(xi)}_clearActiveClass(r){r.classList.remove(xi);const a=U.find(`${vs}.${xi}`,r);for(const d of a)d.classList.remove(xi)}static jQueryInterface(r){return this.each(function(){const a=rr.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r]()}})}}A.on(window,Xh,()=>{for(const l of U.find('[data-bs-spy="scroll"]'))rr.getOrCreateInstance(l)}),L(rr);const Kn=".bs.tab",tp=`hide${Kn}`,ep=`hidden${Kn}`,np=`show${Kn}`,ip=`shown${Kn}`,rp=`click${Kn}`,op=`keydown${Kn}`,sp=`load${Kn}`,ap="ArrowLeft",nl="ArrowRight",cp="ArrowUp",il="ArrowDown",bs="Home",rl="End",Yn="active",ol="fade",ys="show",sl=".dropdown-toggle",ws=`:not(${sl})`,al='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Es=`.nav-link${ws}, .list-group-item${ws}, [role="tab"]${ws}, ${al}`,lp=`.${Yn}[data-bs-toggle="tab"], .${Yn}[data-bs-toggle="pill"], .${Yn}[data-bs-toggle="list"]`;class Xn extends at{constructor(r){super(r),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),A.on(this._element,op,a=>this._keydown(a)))}static get NAME(){return"tab"}show(){const r=this._element;if(this._elemIsActive(r))return;const a=this._getActiveElem(),d=a?A.trigger(a,tp,{relatedTarget:r}):null;A.trigger(r,np,{relatedTarget:a}).defaultPrevented||d&&d.defaultPrevented||(this._deactivate(a,r),this._activate(r,a))}_activate(r,a){r&&(r.classList.add(Yn),this._activate(U.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),A.trigger(r,ip,{relatedTarget:a})):r.classList.add(ys)},r,r.classList.contains(ol)))}_deactivate(r,a){r&&(r.classList.remove(Yn),r.blur(),this._deactivate(U.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),A.trigger(r,ep,{relatedTarget:a})):r.classList.remove(ys)},r,r.classList.contains(ol)))}_keydown(r){if(![ap,nl,cp,il,bs,rl].includes(r.key))return;r.stopPropagation(),r.preventDefault();const a=this._getChildren().filter(v=>!h(v));let d;if([bs,rl].includes(r.key))d=a[r.key===bs?0:a.length-1];else{const v=[nl,il].includes(r.key);d=m(a,r.target,v,!0)}d&&(d.focus({preventScroll:!0}),Xn.getOrCreateInstance(d).show())}_getChildren(){return U.find(Es,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,a){this._setAttributeIfNotExists(r,"role","tablist");for(const d of a)this._setInitialAttributesOnChild(d)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const a=this._elemIsActive(r),d=this._getOuterElement(r);r.setAttribute("aria-selected",a),d!==r&&this._setAttributeIfNotExists(d,"role","presentation"),a||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const a=U.getElementFromSelector(r);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${r.id}`))}_toggleDropDown(r,a){const d=this._getOuterElement(r);if(!d.classList.contains("dropdown"))return;const v=(b,k)=>{const $=U.findOne(b,d);$&&$.classList.toggle(k,a)};v(sl,Yn),v(".dropdown-menu",ys),d.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(r,a,d){r.hasAttribute(a)||r.setAttribute(a,d)}_elemIsActive(r){return r.classList.contains(Yn)}_getInnerElement(r){return r.matches(Es)?r:U.findOne(Es,r)}_getOuterElement(r){return r.closest(".nav-item, .list-group-item")||r}static jQueryInterface(r){return this.each(function(){const a=Xn.getOrCreateInstance(this);if(typeof r=="string"){if(a[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);a[r]()}})}}A.on(document,rp,al,function(l){["A","AREA"].includes(this.tagName)&&l.preventDefault(),h(this)||Xn.getOrCreateInstance(this).show()}),A.on(window,sp,()=>{for(const l of U.find(lp))Xn.getOrCreateInstance(l)}),L(Xn);const On=".bs.toast",up=`mouseover${On}`,fp=`mouseout${On}`,dp=`focusin${On}`,hp=`focusout${On}`,pp=`hide${On}`,gp=`hidden${On}`,mp=`show${On}`,_p=`shown${On}`,cl="hide",Gr="show",Wr="showing",vp={animation:"boolean",autohide:"boolean",delay:"number"},bp={animation:!0,autohide:!0,delay:5e3};class or extends at{constructor(r,a){super(r,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return bp}static get DefaultType(){return vp}static get NAME(){return"toast"}show(){A.trigger(this._element,mp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(cl),E(this._element),this._element.classList.add(Gr,Wr),this._queueCallback(()=>{this._element.classList.remove(Wr),A.trigger(this._element,_p),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(A.trigger(this._element,pp).defaultPrevented||(this._element.classList.add(Wr),this._queueCallback(()=>{this._element.classList.add(cl),this._element.classList.remove(Wr,Gr),A.trigger(this._element,gp)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Gr),super.dispose()}isShown(){return this._element.classList.contains(Gr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,a){switch(r.type){case"mouseover":case"mouseout":this._hasMouseInteraction=a;break;case"focusin":case"focusout":this._hasKeyboardInteraction=a}if(a)return void this._clearTimeout();const d=r.relatedTarget;this._element===d||this._element.contains(d)||this._maybeScheduleHide()}_setListeners(){A.on(this._element,up,r=>this._onInteraction(r,!0)),A.on(this._element,fp,r=>this._onInteraction(r,!1)),A.on(this._element,dp,r=>this._onInteraction(r,!0)),A.on(this._element,hp,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const a=or.getOrCreateInstance(this,r);if(typeof r=="string"){if(a[r]===void 0)throw new TypeError(`No method named "${r}"`);a[r](this)}})}}return qt(or),L(or),{Alert:Xt,Button:Se,Carousel:Gt,Collapse:gi,Dropdown:Fe,Modal:Un,Offcanvas:gn,Popover:jr,ScrollSpy:rr,Tab:Xn,Toast:or,Tooltip:qn}})}(ao)),ao.exports}Np();var R=(t=>(t[t.Common=0]="Common",t[t.Rare=1]="Rare",t[t.Masterpiece=2]="Masterpiece",t[t.Epic=3]="Epic",t[t.Mythical=4]="Mythical",t[t.Unique=5]="Unique",t))(R||{}),te=(t=>(t.PlayerWin="PlayerWin",t.EnemyWin="EnemyWin",t.Draw="Draw",t))(te||{}),si=(t=>(t.Consumable="Consumable",t.Equipment="Equipment",t))(si||{}),Vt=(t=>(t.Body="body",t.Hand="hand",t.Foot="foot",t.Accessory="accessory",t))(Vt||{}),S=(t=>(t.Attack="Attack",t.Defend="Defend",t.Dodge="Dodge",t.Capture="Capture",t.Special="Special",t.None="None",t))(S||{}),we=(t=>(t.Permanent="Permanent",t.Turn="Turn",t.Action="Action",t.Hit="Hit",t.Second="Second",t))(we||{}),Zt=(t=>(t.OnSecond="OnSecond",t.OnTurnStart="OnTurnStart",t.OnHitStart="OnHitStart",t))(Zt||{}),ti=(t=>(t.SpiritBlade="SpiritBlade",t.RedBlade="RedBlade",t.Pain="Pain",t.Unbalance="Unbalance",t.Wound="Wound",t.Burning="Burning",t.QuickRecovery="QuickRecovery",t.Dizzy="Dizzy",t))(ti||{});const Ri={SpiritBlade:{name:"气刃",description:"可以释放气刃大回旋",durationType:we.Turn,category:Zt.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Ut[N.SpiritRoundSlash],{action1:e,action2:n})},RedBlade:{name:"红刃",description:"可以释放登龙",durationType:we.Turn,category:Zt.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Ut[N.HelmBreaker],{action1:e,action2:n})},Pain:{name:"痛苦",description:"有概率因痛苦而无法行动",durationType:we.Turn,category:Zt.OnTurnStart,priority:999,effect:(t,e,n)=>(Math.random()<.1&&(e=Ut[N.Stun],n=Ut[N.Stun]),{action1:e,action2:n})},Unbalance:{name:"失衡",description:"重心不稳，丢失当前Hit",durationType:we.Hit,category:Zt.OnHitStart,priority:999,effect:(t,e)=>_o},Dizzy:{name:"头晕眼花",description:"丢失当回合所有hit",durationType:we.Turn,category:Zt.OnHitStart,priority:999,effect:(t,e)=>_o},Wound:{name:"创伤",description:"每次行动(hit)都会损失一定生命值",durationType:we.Turn,category:Zt.OnHitStart,priority:999,effect:(t,e,n)=>(t.loseHp(n||1),e)},Burning:{name:"燃烧",description:"每回合损失一定生命值",durationType:we.Turn,category:Zt.OnTurnStart,priority:999,effect:(t,e,n,i)=>(t.loseHp(i||1),{action1:e,action2:n})},QuickRecovery:{name:"快速恢复",description:"自动回复速度大幅度增加",durationType:we.Second,category:Zt.OnSecond,priority:1,effect:(t,e)=>{t.autoRecoverHpDot(e||1)}}};function Dp(t,e){if(!(t instanceof Bi))return;if(e.health<1){t.addLog(`${e.name}已经死了，无法捕获`);return}const n=t.ability.dex/e.ability.dex*(t.ability.siz/e.ability.siz)/(10*e.health/e.maxHealth),i=t.ability.str/e.ability.str*(t.ability.siz/e.ability.siz)/(10*e.health/e.maxHealth);Math.random()<i&&Math.random()<n?(e.health=.9,t.capturedMonster.push(e),t.addLog(`你成功捕获了${e.name}`)):t.addLog(`你尝试捕获${e.name}，但是失败了`)}function ta(t,e){return e.hits.map(n=>`${Hi(n)}${n.continuous?"🔗":""}(${mo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${Lo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}function Lo(t,e,n){const i=Math.round((t.str*e.str+t.dex*e.dex+t.int*e.int+t.con*e.con+t.siz*e.siz+t.app*e.app)*n.multiply+n.plus);return i<0?0:i}function mo(t,e,n){const i=Math.round(Lo(t,e,n)*.1);return i<0?0:i}function ai(t,e,n){return mo(t,e,n)+Math.round((Lo(t,e,n)-mo(t,e,n))*Math.random())}function Hi(t){switch(t.category){case S.Attack:return"🗡️";case S.Defend:return"🛡️";case S.Dodge:return"💫";case S.Capture:return"🕸️";case S.Special:return"💥";case S.None:return"❔";default:return""}}function Tl(t,e){return`
    <p class="fst-italic">"${e.description}"</p>
    <p>系数 (点数范围)</p>
    <p>${e.hits.map(n=>`${Hi(n)}${n.continuous?"🔗":""}${Object.entries(n.coeff).filter(([i,o])=>o).map(([i,o])=>`${i}: ${o}`).join(", ")} (${mo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${Lo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}</p>
  `}var N=(t=>(t.Dazed="Dazed",t.Attack="Attack",t.PowerAttack="PowerAttack",t.QuickAttack="QuickAttack",t.PowerfulDigAttack="PowerfulDigAttack",t.Yarimasune="Yarimasune",t.SleepyTea="SleepyTea",t.Repent="Repent",t.HorizontalSlash="HorizontalSlash",t.Bite="Bite",t.Capture="Capture",t.Stun="Stun",t.Defend="Defend",t.Dodge="Dodge",t.DragonBreath="DragonBreath",t.SpinAttack="SpinAttack",t.DefenseSlash="DefenseSlash",t.Counter="Counter",t.GodStrike="GodStrike",t.ShredFlower="ShredFlower",t.PsyKick="PsyKick",t.PsyExplosion="PsyExplosion",t.PsyInvisibleSword="PsyInvisibleSword",t.PsyDodge="PsyDodge",t.Slash="Slash",t.Claw="Claw",t.HelmBreaker="HelmBreaker",t.StepSlash="StepSlash",t.Mikiri="Mikiri",t.SpiritRoundSlash="SpiritRoundSlash",t.NeverRetreat="NeverRetreat",t.LightningStormSlash="LightningStormSlash",t.LightningFiveStrikes="LightningFiveStrikes",t.CrowFly="CrowFly",t.ParkDestroyer="ParkDestroyer",t.SneakAttack="SneakAttack",t))(N||{});const _o={category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`},Ut={Dazed:{name:"反应不过来",description:"来不及反应",rarity:R.Common,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`}]},Stun:{name:"眩晕",description:"眩晕",rarity:R.Common,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 眩晕了`}]},Attack:{name:"攻击",description:"用拳头或者用武器进行一般通过攻击",rarity:R.Common,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}攻击了${e.name}`}]},PowerAttack:{name:"强力攻击",description:"全身力量集中于一点，进行一次强力的攻击",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:2,int:0,con:0,siz:1,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}对${e.name}发起了一次强力的攻击`}]},QuickAttack:{name:"迅击",description:"据说剑圣在一个呼吸间就能劈出数刀。虽然你不是剑圣，但你努努力也至少能劈出两刀",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}以迅雷不及掩耳之势向${e.name}发起了攻势`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`电光火石之间，${t.name}再次做出了攻击`}]},PowerfulDigAttack:{name:"撅",description:"撅是对知识的渴求。古往今来多少哲学家撅地三尺探求真理",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:2,int:0,con:0,siz:3,app:0,dex:0},extraEffect:(t,e)=>{e.addStatus(ti.Pain,1)},messageGenerator:(t,e)=>`${t.name}撅了${e.name}，${e.name}痛苦难耐
// 哼哼啊啊啊啊啊啊啊啊啊啊 `}]},SleepyTea:{name:"饮用昏睡红茶",description:"诗人都喜欢饮酒作赋，古代的哲学家也是如此，只是彼时还没有酒",rarity:R.Epic,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，进入睡眠`},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，于睡眠中恢复了<span style="color: green">${t.getAbility().con}</span>点生命值`,extraEffect:(t,e)=>{t.recoverHp(t.getAbility().con/2)}}]},Yarimasune:{name:"这个可以有！(赞赏)",description:"丝毫不吝啬对敌人的赞赏，这就是野兽先辈的气量",rarity:R.Rare,hits:[{category:S.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},Repent:{name:"†你改悔罢†",description:"令敌人改悔的神圣攻击",rarity:R.Masterpiece,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪躲`},{category:S.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}曰: †你改悔罢†`}]},HorizontalSlash:{name:"横斩",description:"千钧之力的大力横劈",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}猛劈一刀`}]},StepSlash:{name:"踏前斩",description:"前踏一步进行追击，而后猛劈一刀",rarity:R.Rare,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}前踏一步`},{category:S.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}借着前冲的力劈出强力一击`}]},Mikiri:{name:"见切",description:"在敌人攻击的瞬间拔刀后退，成功回避攻击则能乘势将气入刀，以在下回合释放气刃大回旋",rarity:R.Masterpiece,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>`${t.name}在敌人攻击的瞬间拔刀后退`,extraEffect:(t,e)=>{t.addStatus(ti.SpiritBlade,1)}}]},SpiritRoundSlash:{name:"气刃大回旋",description:"将气附于刀刃之上，使出极大幅度回转刀身的斩击，若是击中敌人则可使用登龙",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:4,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}使出极大幅度回转刀身的斩击`,extraEffect:(t,e)=>{t.addStatus(ti.RedBlade,1)}}]},HelmBreaker:{name:"登龙",description:"快速向前突进，若成功击中命中便会借势踩着敌人的身体一路跃至高空，而后以全身的力量从空中向下劈出泣鬼神的一刀",rarity:R.Mythical,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},continuous:!0,messageGenerator:(t,e)=>`${t.name}向${e.name}突进，踩着${e.name}的身体一路跃至高空`},{category:S.Attack,coeff:{str:10,int:0,con:2,siz:2,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}从天而降，以全身之力劈向${e.name}`}]},Slash:{name:"劈砍",description:"挥舞手中的武器",rarity:R.Common,hits:[{category:S.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}挥舞手中的武器劈向${e.name}`}]},Bite:{name:"撕咬",description:"野兽的原始攻击方式",rarity:R.Common,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}冲过来咬了${e.name}一口`}]},Claw:{name:"爪击",description:"野兽的原始攻击方式",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:.5,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`}]},Capture:{name:"尝试捕捉",description:"这不是神奇宝贝，你得用绞技而不是精灵球",rarity:R.Common,hits:[{category:S.Capture,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},extraEffect:Dp,messageGenerator:(t,e)=>`${t.name}尝试通过绞住${e.name}，让${e.name}失去行动力`}]},Defend:{name:"格挡",description:"做一个稳重的人",rarity:R.Common,hits:[{category:S.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`}]},Counter:{name:"反击",description:"格挡后乘势反击",rarity:R.Rare,hits:[{category:S.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},DefenseSlash:{name:"防御斩",description:"快速挥刀后立刻进行防御，不给敌人任何可乘之机",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了一次快速攻击`},{category:S.Defend,coeff:{str:1.5,int:0,con:1.5,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了铁壁一般的防御`}]},Dodge:{name:"闪避",description:"天下武功，唯快不破。若是能闪过敌人的攻击，将使敌人失衡，失去下一个动作",rarity:R.Common,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 对 ${e.name} 的攻击进行了闪躲`}]},PsyDodge:{name:"瞬移",description:"念力的一种用法",rarity:R.Epic,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Dodge,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 的身影瞬间到了别处`}]},SpinAttack:{name:"回旋击",description:"闪避后趁敌人重心不稳发起攻击",rarity:R.Rare,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪避`},{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 进行了回旋击`}]},DragonBreath:{name:"巨龙吐息",description:"据说巨龙的吐息足以融化钢铁",rarity:R.Epic,hits:[{category:S.Attack,coeff:{str:0,int:10,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了汹涌的火焰`},{category:S.Attack,coeff:{str:0,int:5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了灼热的火焰`},{category:S.Attack,coeff:{str:0,int:2,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了喉咙中残余的火焰`}]},GodStrike:{name:"神击",description:"犹如神灵降下天罚",rarity:R.Mythical,hits:[{category:S.Attack,coeff:{str:12,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`神明的愤怒降临于${e.name}`}]},ShredFlower:{name:"碎花",description:"无人能看清动作，空中轻柔的落花瞬间化为齑粉",rarity:R.Unique,hits:[{category:S.Defend,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 被花瓣包围了`},{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 的身影消失了`},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有残影"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有更多的残影"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${e.name} 同花瓣一同破碎`}]},PsyKick:{name:"念动力踢击",description:"通过念力完成的隔空踢击，力道十足又难以防备",rarity:R.Rare,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Attack,coeff:{str:1,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}凭空被踢了一脚`}]},PsyExplosion:{name:"不可视爆裂",description:"不可视的念力凝聚成万吨重锤从天而降",rarity:R.Epic,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Attack,coeff:{str:2,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}所在的位置发生了大爆炸`}]},PsyInvisibleSword:{name:'"不可视之剑"',description:"无数看不见的剑刺向敌人，流淌的血勾勒出它们的形状",rarity:R.Unique,hits:[{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:S.Attack,coeff:{str:0,int:1.5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`看不见的剑贯穿${e.name}`},{category:S.Attack,coeff:{str:0,int:3,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`更多看不见的剑贯穿${e.name}`},{category:S.Attack,coeff:{str:0,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`极多看不见的剑贯穿${e.name}`},{category:S.Attack,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`无数看不见的剑贯穿${e.name}`}]},NeverRetreat:{name:"死守不退",description:"全力防御，死守不退",rarity:R.Masterpiece,hits:[{category:S.Defend,coeff:{str:2,int:0,con:2,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 全力防御`},{category:S.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 死守不退`}]},CrowFly:{name:"乌鸦坐飞机",description:"高高跃起后发起攻击",rarity:R.Masterpiece,hits:[{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 一个大跳`},{category:S.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 从空中一拳打向 ${e.name}`}]},ParkDestroyer:{name:"龙卷风击毁停车场",description:"释放武器中的狂风之力，形成狂暴的龙卷风",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`风卷着尘土袭向 ${e.name}`},{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"回旋的风聚成龙卷"},{category:S.Attack,coeff:{str:1.5,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 从龙卷风中刺出`}]},LightningStormSlash:{name:"闪电旋风劈",description:"闪！电！旋！风！劈！",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"闪电！"},{category:S.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>"旋风！"},{category:S.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"劈！"}]},LightningFiveStrikes:{name:"闪电五连鞭",description:"相传武林中有一位马大师，靠着这套五连鞭驰骋江湖，可惜后来被两个年轻人偷袭，从此销声匿迹",rarity:R.Masterpiece,hits:[{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第一鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第二鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第三鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第四鞭！"},{category:S.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第五鞭！"}]},SneakAttack:{name:"偷袭",description:"来！骗！来！偷袭！",rarity:R.Rare,hits:[{category:S.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 来！骗！来！偷袭！`,extraEffect:(t,e)=>{e.addStatus(ti.Dizzy,1)}}]}};var zi=(t=>(t.Sword="Sword",t.ShabbyKatana="ShabbyKatana",t.GreatKatana="GreatKatana",t.Ningenmukotsu="Ningenmukotsu",t.Mikadsukimunechika="Mikadsukimunechika",t.MudKnife="MudKnife",t.WindSpinSword="WindSpinSword",t.AyulsaOfNoHonor="AyulsaOfNoHonor",t.RockSword="RockSword",t.Rope="Rope",t.DragonSlayer="DragonSlayer",t.KatanaOfTheHeart="KatanaOfTheHeart",t.WomenDress="WomenDress",t.ToonoDefeaterBadge="ToonoDefeaterBadge",t))(zi||{});const ea={Sword:{name:"铁剑",description:"一把平平无奇的剑",rarity:R.Common,position:Vt.Hand,extraActions:[{actionType:N.Slash,weight:.8},{actionType:N.HorizontalSlash,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:1,multiply:1}}},Rope:{name:"绳索",description:"一个看起来很适合用来捕捉的武器",rarity:R.Common,position:Vt.Hand,extraActions:[{actionType:N.Capture,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:-1,multiply:1},[S.Capture]:{plus:2,multiply:1}}},ShabbyKatana:{name:"残破太刀",description:"太好了，有了这个，你就可以做虾头太刀侠了",rarity:R.Common,position:Vt.Hand,extraActions:[{actionType:N.Slash,weight:.9},{actionType:N.HorizontalSlash,weight:.05},{actionType:N.StepSlash,weight:.04},{actionType:N.Mikiri,weight:.01}],ability:{piercing:25,dex:-1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:1,multiply:1},[S.Dodge]:{plus:-1,multiply:1}}},GreatKatana:{name:"大太刀",description:"这把的太刀的刀身比一般的太刀要长，挥舞起来很吃力但是威力巨大",rarity:R.Rare,position:Vt.Hand,extraActions:[{actionType:N.Slash,weight:.7},{actionType:N.HorizontalSlash,weight:.1},{actionType:N.StepSlash,weight:.1},{actionType:N.Mikiri,weight:.05}],ability:{piercing:30,dex:-2},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Attack]:{plus:4,multiply:1},[S.Dodge]:{plus:-2,multiply:1}}},Ningenmukotsu:{name:'太刀"人间无骨"',description:"正面刻着人间，背面刻着无骨的名刀。刀如其名，削骨若无物",rarity:R.Masterpiece,position:Vt.Hand,extraActions:[{actionType:N.HorizontalSlash,weight:.4},{actionType:N.StepSlash,weight:.4},{actionType:N.Mikiri,weight:.15}],ability:{piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[S.Attack]:{plus:3,multiply:1.1}}},Mikadsukimunechika:{name:'太刀"三日月宗近"',description:"太刀最高杰作的天下五剑之一，传说中的名刀，有着名物中的名物之称。刀身如同新月一般美丽",rarity:R.Epic,position:Vt.Hand,extraActions:[{actionType:N.HorizontalSlash,weight:.3},{actionType:N.StepSlash,weight:.3},{actionType:N.Mikiri,weight:.3}],ability:{piercing:40,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[S.Attack]:{plus:10,multiply:1},[S.Dodge]:{plus:1,multiply:1}}},KatanaOfTheHeart:{name:"心中的太刀",description:"你看不见它，但它确实在你手中",rarity:R.Mythical,position:Vt.Hand,extraActions:[{actionType:N.Mikiri,weight:1}],ability:{piercing:45},armorGrowthCoeff:0,piercingGrowthCoeff:6.5,actionCoeff:{[S.Attack]:{plus:10,multiply:1.2},[S.Dodge]:{plus:10,multiply:1.2}}},MudKnife:{name:"沼气短刀",description:"刀身闻起来臭臭的",rarity:R.Rare,position:Vt.Hand,extraActions:[{actionType:N.Slash,weight:.4},{actionType:N.PowerfulDigAttack,weight:.1},{actionType:N.QuickAttack,weight:.5}],ability:{piercing:30,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[S.Dodge]:{plus:1,multiply:1}}},WindSpinSword:{name:"风旋刺剑",description:"靠近剑身能听到轻轻的风声",rarity:R.Masterpiece,position:Vt.Hand,extraActions:[{actionType:N.SpinAttack,weight:.6},{actionType:N.ParkDestroyer,weight:.15},{actionType:N.LightningStormSlash,weight:.15}],ability:{piercing:35,dex:2},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[S.Attack]:{plus:1,multiply:1},[S.Dodge]:{plus:2,multiply:1}}},RockSword:{name:"剑型大石头",description:"一把很宽的石头大剑，看起来就像块大石头",rarity:R.Masterpiece,position:Vt.Hand,extraActions:[{actionType:N.DefenseSlash,weight:.3},{actionType:N.Counter,weight:.4},{actionType:N.NeverRetreat,weight:.3}],ability:{str:1,con:1,piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[S.Defend]:{plus:3,multiply:1}}},DragonSlayer:{name:'"弑龙者"',description:"传说这把剑上的龙之力来源于被它杀死的龙的灵魂。你握着它，仿佛能感受到龙的气息",rarity:R.Epic,position:Vt.Hand,extraActions:[{actionType:N.HorizontalSlash,weight:1},{actionType:N.DragonBreath,weight:.1}],ability:{str:1,con:2,piercing:40},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[S.Attack]:{plus:3,multiply:1.1}}},AyulsaOfNoHonor:{name:"Ayulsa死于徒手",description:"Ayulsa手上没有武器",rarity:R.Unique,position:Vt.Hand,extraActions:[{actionType:N.PsyKick,weight:.2},{actionType:N.PsyExplosion,weight:.2},{actionType:N.PsyInvisibleSword,weight:.1},{actionType:N.PsyDodge,weight:.2}],ability:{int:2,dex:2,piercing:50},armorGrowthCoeff:0,piercingGrowthCoeff:6.75,actionCoeff:{}},WomenDress:{name:"女装",description:"女装",rarity:R.Rare,position:Vt.Body,extraActions:[{actionType:N.CrowFly,weight:.05}],ability:{armor:15},armorGrowthCoeff:3,piercingGrowthCoeff:0,actionCoeff:{}},ToonoDefeaterBadge:{name:"远野击败者徽章",description:"隐藏着一些原本属于你的力量",rarity:R.Masterpiece,position:Vt.Accessory,extraActions:[{actionType:N.PowerfulDigAttack,weight:.03},{actionType:N.Yarimasune,weight:.03},{actionType:N.Repent,weight:.03},{actionType:N.SleepyTea,weight:.03}],ability:{armor:5,piercing:5},armorGrowthCoeff:0,piercingGrowthCoeff:0,actionCoeff:{}}};class Gu{constructor(e,n,i,o,s,c,u){bt(this,"name");bt(this,"uuid");bt(this,"category");bt(this,"type");bt(this,"rarity");bt(this,"level");bt(this,"description");this.name=e,this.uuid=n,this.category=i,this.type=o,this.rarity=s,this.level=c,this.description=u}}const Yt=[];for(let t=0;t<256;++t)Yt.push((t+256).toString(16).slice(1));function Mp(t,e=0){return(Yt[t[e+0]]+Yt[t[e+1]]+Yt[t[e+2]]+Yt[t[e+3]]+"-"+Yt[t[e+4]]+Yt[t[e+5]]+"-"+Yt[t[e+6]]+Yt[t[e+7]]+"-"+Yt[t[e+8]]+Yt[t[e+9]]+"-"+Yt[t[e+10]]+Yt[t[e+11]]+Yt[t[e+12]]+Yt[t[e+13]]+Yt[t[e+14]]+Yt[t[e+15]]).toLowerCase()}let Cs;const Ip=new Uint8Array(16);function Pp(){if(!Cs){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Cs=crypto.getRandomValues.bind(crypto)}return Cs(Ip)}const Rp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Cl={randomUUID:Rp};function Wu(t,e,n){var o;if(Cl.randomUUID&&!t)return Cl.randomUUID();t=t||{};const i=t.random??((o=t.rng)==null?void 0:o.call(t))??Pp();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Mp(i)}class nn extends Gu{constructor(n,i=0){n=n||zi.Sword;const o=ea[n];super(o.name,Wu(),si.Equipment,n,o.rarity,i,o.description);bt(this,"position");bt(this,"extraActions");bt(this,"ability");bt(this,"armorGrowthCoeff");bt(this,"piercingGrowthCoeff");bt(this,"actionCoeff");bt(this,"prefix");this.armorGrowthCoeff=o.armorGrowthCoeff,this.piercingGrowthCoeff=o.piercingGrowthCoeff,this.position=o.position,this.extraActions=o.extraActions,this.randomExtraActionsWeight(),this.ability=o.ability,this.actionCoeff=o.actionCoeff,this.ability.armor||(this.ability.armor=0),this.ability.piercing||(this.ability.piercing=0),this.ability.armor+=this.armorGrowthCoeff*this.level,this.ability.piercing+=this.piercingGrowthCoeff*this.level,this.prefix=Hp(this.randomPrefixRarity(),o.position),this.applyPrefix()}randomExtraActionsWeight(){this.extraActions.forEach(n=>{n.weight=n.weight*(1+Math.random()*.4-.2)})}randomPrefixRarity(){let n=R.Common;for(let i=0;i<10;i++)Math.random()<.05?n-=1:Math.random()>.95&&(n+=1);return n<R.Common?n=R.Common:n>R.Mythical&&(n=R.Mythical),n}applyPrefix(){["str","int","con","siz","app","dex","armor","piercing"].forEach(o=>{var s;(s=this.prefix.ability)!=null&&s[o]&&(this.ability[o]=this.ability[o]?this.ability[o]+this.prefix.ability[o]:this.prefix.ability[o])}),[S.Attack,S.Defend,S.Dodge,S.Capture,S.Special,S.None].forEach(o=>{var s;(s=this.prefix.actionCoeff)!=null&&s[o]&&(this.actionCoeff[o]=this.actionCoeff[o]?{plus:this.actionCoeff[o].plus+this.prefix.actionCoeff[o].plus,multiply:this.actionCoeff[o].multiply*this.prefix.actionCoeff[o].multiply}:this.prefix.actionCoeff[o])}),this.extraActions.push(...this.prefix.extraActions),this.name=`${this.prefix.name}${this.name}`}levelup(){this.level++,this.ability.armor+=this.armorGrowthCoeff,this.ability.piercing+=this.piercingGrowthCoeff}}var Vu=(t=>(t.None="None",t.Heavy="Heavy",t.Light="Light",t.Sharp="Sharp",t.Huge="Huge",t.Masterpiece="Masterpiece",t.Mythical="Mythical",t.Epic="Epic",t.Holy="Holy",t.BeastHeart="BeastHeart",t.DragonForge="DragonForge",t.Sneaky="Sneaky",t))(Vu||{});const Ci={None:{name:"",position:"AnyPosition",rarity:R.Common,extraActions:[],ability:{},actionCoeff:{}},Heavy:{name:"笨重的",position:"AnyPosition",rarity:R.Common,extraActions:[],ability:{dex:-1},actionCoeff:{}},Huge:{name:"巨大的",position:Vt.Hand,rarity:R.Common,extraActions:[],ability:{},actionCoeff:{[S.Attack]:{plus:2,multiply:1},[S.Dodge]:{plus:-1,multiply:1}}},Light:{name:"轻巧的",position:"AnyPosition",rarity:R.Common,extraActions:[],ability:{},actionCoeff:{[S.Dodge]:{plus:1,multiply:1}}},Sneaky:{name:"卑鄙的",position:Vt.Hand,rarity:R.Common,extraActions:[{actionType:N.SneakAttack,weight:.2}],ability:{},actionCoeff:{}},Sharp:{name:"锐利的",position:Vt.Hand,rarity:R.Rare,extraActions:[],ability:{piercing:1},actionCoeff:{[S.Attack]:{plus:1,multiply:1}}},Holy:{name:"有点神圣的",position:"AnyPosition",rarity:R.Rare,extraActions:[{actionType:N.Repent,weight:.1}],ability:{},actionCoeff:{}},BeastHeart:{name:"野兽之心 ",position:"AnyPosition",rarity:R.Masterpiece,extraActions:[{actionType:N.PowerfulDigAttack,weight:.3}],ability:{con:1},actionCoeff:{}},Masterpiece:{name:"大师的杰作 ",position:"AnyPosition",rarity:R.Masterpiece,extraActions:[],ability:{con:1,piercing:5,armor:5},actionCoeff:{[S.Dodge]:{plus:1,multiply:1}}},DragonForge:{name:"龙息锻造的",position:Vt.Hand,rarity:R.Epic,extraActions:[{actionType:N.DragonBreath,weight:.1}],ability:{piercing:10},actionCoeff:{[S.Attack]:{plus:2,multiply:1}}},Epic:{name:"吟游诗人的歌谣中的",position:"AnyPosition",rarity:R.Epic,extraActions:[],ability:{piercing:10,armor:10},actionCoeff:{[S.Attack]:{plus:2,multiply:1},[S.Defend]:{plus:2,multiply:1}}},Mythical:{name:"神话时代的遗留物 ",position:"AnyPosition",rarity:R.Mythical,extraActions:[],ability:{str:1,dex:1,app:1,siz:1,con:1,int:1,piercing:5,armor:5},actionCoeff:{[S.Attack]:{plus:1,multiply:1},[S.Defend]:{plus:1,multiply:1},[S.Dodge]:{plus:1,multiply:1},[S.Capture]:{plus:1,multiply:1},[S.Special]:{plus:1,multiply:1}}}};function Hp(t,e){const n=Object.keys(Ci).filter(s=>Ci[s].rarity===t&&(Ci[s].position===e||Ci[s].position==="AnyPosition")),i=Math.floor(Math.random()*n.length),o=n[i];return Ci[o]||Ci[Vu.None]}function zp(t,e){const n=Object.keys(ea).filter(s=>ea[s].rarity===t),i=Math.floor(Math.random()*n.length),o=n[i];return new nn(o,e)}function Bp(t){const e=`
    <div class="tooltip-base tooltip-header">
      <h5 class="text-${R[t.rarity]}" style="font-weight: bold;">lv${t.level} ${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
      <p><strong>位置:</strong> ${t.position}</p>
      <br>
    </div>
  `;let n="";t.ability&&Object.keys(t.ability).length>0&&(n=`
    <div class="tooltip-abilities tooltip-extra">
      <p><strong>属性: </strong>
        ${Object.entries(t.ability).filter(([s,c])=>c).map(([s,c])=>`${s}: ${c}`).join(", ")}
      </p>
    </div>
  `);let i="";t.extraActions&&t.extraActions.length>0&&(i=`
      <div class="tooltip-extra-actions tooltip-extra">
        <p><strong>额外行动: </strong>
          ${t.extraActions.map(s=>`${Ut[s.actionType].name} (权重: ${s.weight.toFixed(2)})`).join(", ")}
      </div>
    `);let o="";return t.actionCoeff&&Object.keys(t.actionCoeff).length>0&&(o=`
      <div class="tooltip-action-coeff tooltip-extra">
        <p><strong>行动系数: </strong>
          ${Object.entries(t.actionCoeff).map(([s,c])=>`${s}: ${c.plus<0?"":"+"}${c.plus} ${c.multiply===1?"":"x"+c.multiply}`).join(", ")}
      </div>
    `),e+n+i+o}function sr(t,e){Math.random()<.1?e-=1:Math.random()<.05&&(e+=1),e=e<R.Common?R.Common:e,e=e>R.Mythical?R.Mythical:e;let n=Math.floor(t+10*(Math.random()-.5));return n<0&&(n=0),zp(e,n)}class We extends Gu{constructor(e,n=0){e=e||Ht.Unknown;const i=Sl[e];super(i.name,Wu(),si.Consumable,e,i.rarity,n,i.description)}useItem(e){Sl[this.type].effect(e),e.pack=e.pack.filter(n=>n.uuid!==this.uuid)}}var Ht=(t=>(t.Unknown="Unknown",t.BrokenChest="BrokenChest",t.WoodenChest="WoodenChest",t.SilverChest="SilverChest",t.GoldChest="GoldChest",t.DiamondChest="DiamondChest",t.QuickRecoveryPotion="QuickRecoveryPotion",t.LifePotion="LifePotion",t.LargeLifePotion="LargeLifePotion",t.GiftboxAndLetter="GiftboxAndLetter",t))(Ht||{});const Sl={BrokenChest:{name:"破烂的木宝箱",rarity:R.Common,description:"一个破破烂烂的宝箱",effect:t=>{t.pack.push(sr(1,R.Common))}},WoodenChest:{name:"木质的宝箱",rarity:R.Rare,description:"一个有着漂亮的木质纹理的宝箱",effect:t=>{t.pack.push(sr(1,R.Rare))}},SilverChest:{name:"银色装饰的宝箱",rarity:R.Masterpiece,description:"这个宝箱上有着精细的银制装饰，银锈并不能掩盖它的华丽",effect:t=>{t.pack.push(sr(1,R.Masterpiece))}},GoldChest:{name:"黄金镶边的宝箱",rarity:R.Epic,description:"金光闪闪，这才叫宝箱！光是看着就让人心潮澎湃",effect:t=>{t.pack.push(sr(1,R.Epic))}},DiamondChest:{name:"华丽的宝石宝箱",rarity:R.Mythical,description:"无法用辞藻形容的华丽，你甚至害怕打开它会划伤上面美丽的宝石",effect:t=>{t.pack.push(sr(1,R.Mythical))}},Unknown:{name:"未知",rarity:R.Common,description:"未知",effect:t=>{}},QuickRecoveryPotion:{name:"神秘黄色药水",rarity:R.Epic,description:"看起来不像是这个世界的产物。非常的新鲜，非常的美味<p>自动回复速度提升15倍，持续1分钟</p>",effect:t=>{t.addStatus(ti.QuickRecovery,60,14),console.log("使用快速恢复秘药")}},LifePotion:{name:"生命秘药",rarity:R.Masterpiece,description:"只要没死，区区断胳膊断腿喝下去立马都能长回来。你有个疑问，这玩意儿到底是什么做的？<p>恢复50点生命值</p>",effect:t=>{t.recoverHp(50)}},LargeLifePotion:{name:"大瓶生命秘药",rarity:R.Epic,description:"普通的生命秘药一次只能让你长一只胳膊，而这大瓶装能让你一次全长回来。前提是你还有手可以拿它<p>恢复100点生命值</p>",effect:t=>{t.recoverHp(100)}},GiftboxAndLetter:{name:"礼物箱和一封信",rarity:R.Mythical,description:"一个礼物箱，上面还附了一封信，信上的字模糊不清",effect:t=>{for(let e=0;e<5;e++)t.pack.push(new We("QuickRecoveryPotion"));for(let e=0;e<10;e++)t.pack.push(new We("LifePotion"));for(let e=0;e<5;e++)t.pack.push(new We("LargeLifePotion"));t.pack.push(new nn(zi.Sword)),t.pack.push(new nn(zi.Rope))}}};var ee=(t=>(t.Player="Player",t.Player114514="Player114514",t.FullPowerPlayer114514="FullPowerPlayer114514",t.Slime="Slime",t.Dragon="Dragon",t.AngryDragon="AngryDragon",t.WeakDragon="WeakDragon",t.Wolf="Wolf",t.DiscardedGolem="DiscardedGolem",t.Ayulsa="Ayulsa",t.Toono="Toono",t.Horse="Horse",t.Goblin="Goblin",t.GoblinLeader="GoblinLeader",t))(ee||{});const pr={Player:{typeName:"人类",description:"你",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:N.Attack,weight:.5},{actionType:N.Capture,weight:.1},{actionType:N.Defend,weight:.2},{actionType:N.Dodge,weight:.2}],dropItems:[]},Player114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:N.Attack,weight:.5},{actionType:N.Capture,weight:.1},{actionType:N.Defend,weight:.2},{actionType:N.Dodge,weight:.2},{actionType:N.PowerfulDigAttack,weight:.03},{actionType:N.Yarimasune,weight:.03},{actionType:N.Repent,weight:.03},{actionType:N.SleepyTea,weight:.03}],dropItems:[]},FullPowerPlayer114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:N.PowerfulDigAttack,weight:.3},{actionType:N.Yarimasune,weight:.3},{actionType:N.Repent,weight:.3},{actionType:N.SleepyTea,weight:.3}],dropItems:[]},Toono:{typeName:"远野",description:"野兽学派的哲学家后辈",abilityCoeff:{str:{base:10,growth:.1},int:{base:5,growth:.1},con:{base:10,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.PowerfulDigAttack,weight:.4},{actionType:N.Counter,weight:.4},{actionType:N.Dodge,weight:.2}],dropItems:[{type:zi.ToonoDefeaterBadge,weight:1}]},Slime:{typeName:"史莱姆",description:"一种行动缓慢的软体生物，武器打上去没有什么手感",abilityCoeff:{str:{base:3,growth:.05},int:{base:0,growth:0},con:{base:3,growth:.1},siz:{base:2,growth:0},app:{base:0,growth:0},dex:{base:1,growth:.05},armor:{base:25,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Attack,weight:1},{actionType:N.Defend,weight:1},{actionType:N.Dazed,weight:2}],dropItems:[{type:null,weight:.6},{type:Ht.BrokenChest,weight:.4},{type:Ht.WoodenChest,weight:.02},{type:Ht.SilverChest,weight:.001}]},Dragon:{typeName:'"池沼之主"龙',description:"生态位的顶端，人类在它庞大的身躯面前就像一只蝼蚁。它正用着锐利的目光打量着你，让你不寒而栗。<br>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。",abilityCoeff:{str:{base:10,growth:.2},int:{base:4,growth:.1},con:{base:20,growth:.8},siz:{base:20,growth:.2},app:{base:4,growth:.1},dex:{base:4,growth:.1},armor:{base:50,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Bite,weight:.1},{actionType:N.PowerAttack,weight:.2},{actionType:N.Counter,weight:.2},{actionType:N.DragonBreath,weight:.2},{actionType:N.QuickAttack,weight:.2},{actionType:N.Defend,weight:.1}],dropItems:[]},AngryDragon:{typeName:"愤怒的龙",description:"龙彻底被激怒了，一只蝼蚁居然让它受了伤。它有些虚弱，但是攻击更加狂暴了",abilityCoeff:{str:{base:15,growth:.3},int:{base:3,growth:.05},con:{base:10,growth:.4},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:6,growth:.15},armor:{base:25,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Bite,weight:.1},{actionType:N.PowerAttack,weight:.2},{actionType:N.DragonBreath,weight:.2},{actionType:N.QuickAttack,weight:.2}],dropItems:[]},WeakDragon:{typeName:"虚弱的龙",description:"它抛弃了自己作为龙的尊严，现在一心只想活下去",abilityCoeff:{str:{base:5,growth:.1},int:{base:6,growth:.15},con:{base:5,growth:.2},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:4,growth:.1},armor:{base:20,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Bite,weight:.2},{actionType:N.Counter,weight:.3},{actionType:N.DragonBreath,weight:.2},{actionType:N.Defend,weight:.3}],dropItems:[{type:Ht.SilverChest,weight:.95},{type:Ht.GoldChest,weight:.05},{type:Ht.DiamondChest,weight:.002}]},Wolf:{typeName:"孤狼",description:"一匹行动敏捷的孤狼，对于普通人来说，它是一种危险的生物",abilityCoeff:{str:{base:5,growth:.1},int:{base:2,growth:.05},con:{base:5,growth:.15},siz:{base:4,growth:.05},app:{base:2,growth:0},dex:{base:6,growth:.15},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Bite,weight:1},{actionType:N.QuickAttack,weight:.5},{actionType:N.SpinAttack,weight:.5}],dropItems:[{type:Ht.BrokenChest,weight:.8},{type:Ht.WoodenChest,weight:.2},{type:Ht.SilverChest,weight:.01}]},DiscardedGolem:{typeName:"废弃的岩石魔像",description:"一尊不知何时被废弃的岩石魔像，在风雨的侵蚀下，它的巨大的身躯上布满了裂痕和苔藓。它不该会动呀？",abilityCoeff:{str:{base:15,growth:.3},int:{base:0,growth:0},con:{base:10,growth:.4},siz:{base:15,growth:0},app:{base:0,growth:0},dex:{base:0,growth:0},armor:{base:75,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Dazed,weight:2},{actionType:N.Defend,weight:1},{actionType:N.PowerAttack,weight:.5},{actionType:N.Counter,weight:.5}],dropItems:[{type:Ht.BrokenChest,weight:.2},{type:Ht.WoodenChest,weight:.8},{type:Ht.SilverChest,weight:.04},{type:Ht.GoldChest,weight:.002}]},Ayulsa:{typeName:"???",description:"好像并不来自于这个世界",abilityCoeff:{str:{base:5,growth:.2},int:{base:50,growth:.2},con:{base:5,growth:.4},siz:{base:5,growth:.2},app:{base:5,growth:.2},dex:{base:5,growth:.2},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.GodStrike,weight:1},{actionType:N.ShredFlower,weight:1},{actionType:N.PsyKick,weight:1},{actionType:N.PsyExplosion,weight:1},{actionType:N.PsyInvisibleSword,weight:1},{actionType:N.PsyDodge,weight:1}],dropItems:[{type:Ht.DiamondChest,weight:1}]},Horse:{typeName:"马 (?)",description:"看起来好像不是普通的马",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:N.SneakAttack,weight:1},{actionType:N.LightningFiveStrikes,weight:1}],dropItems:[{type:Ht.BrokenChest,weight:.2},{type:Ht.WoodenChest,weight:.8},{type:Ht.SilverChest,weight:.04},{type:Ht.GoldChest,weight:.002}]},Goblin:{typeName:"哥布林",description:"绿色皮肤，矮小且狡猾的类人种族，以偷窃和抢劫为生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:N.SneakAttack,weight:1},{actionType:N.LightningFiveStrikes,weight:1}],dropItems:[{type:Ht.BrokenChest,weight:.2},{type:Ht.WoodenChest,weight:.8},{type:Ht.SilverChest,weight:.04},{type:Ht.GoldChest,weight:.002}]},GoblinLeader:{typeName:"哥布林头目",description:"哥布林首领，一种矮小的类人种族，通常以小队形式出现，以偷窃和抢劫为生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:N.SneakAttack,weight:1},{actionType:N.LightningFiveStrikes,weight:1}],dropItems:[]}};class Uu{constructor(e,n,i,o){bt(this,"isPlayer",!1);bt(this,"name");bt(this,"type");bt(this,"level");bt(this,"individualStrength");bt(this,"maxHealth");bt(this,"health");bt(this,"ability");bt(this,"statuses",[]);bt(this,"pack",[]);bt(this,"equipments",{body:null,hand:null,foot:null,accessory:null});bt(this,"actions");this.name=e,this.type=n,this.level=i,this.individualStrength=o,this.ability=this.calculateAbility(),this.maxHealth=this.ability.con*10+this.ability.siz*5,this.health=this.maxHealth,this.actions=pr[this.type].actions}calculateAbility(){const e=pr[this.type].abilityCoeff,n=["str","int","con","siz","app","dex","armor","piercing"],i={};return n.forEach(o=>{i[o]=e[o].base+e[o].growth*this.level*this.individualStrength}),i}levelup(){this.level++,this.ability=this.calculateAbility();const e=this.maxHealth;this.maxHealth=this.ability.con*10+this.ability.siz*5,this.recoverHp(this.maxHealth-e)}getRandomAction(){const e=Math.random(),n=this.getActions(),i=n.reduce((s,c)=>s+c.weight,0);let o=0;for(const s of n)if(o+=s.weight,e<o/i)return Ut[s.actionType];return Ut[N.Dazed]}wearEquipment(e){this.equipments[e.position]&&this.removeEquipment(e.position),this.equipments[e.position]=e,this.pack.splice(this.pack.indexOf(e),1)}removeEquipment(e){this.equipments[e]&&(this.pack.push(this.equipments[e]),this.equipments[e]=null)}discardItem(e){this.pack.splice(this.pack.indexOf(e),1)}loseHp(e){this.health-=e,this.health<0&&(this.health=0)}recoverHp(e){this.health+=e,this.health>this.maxHealth&&(this.health=this.maxHealth)}getExtraAbility(){const e={str:0,int:0,con:0,siz:0,app:0,dex:0,armor:0,piercing:0},n=["str","int","con","siz","app","dex","armor","piercing"];for(const i of Object.values(this.equipments))i&&n.forEach(o=>{var s;e[o]+=((s=i.ability)==null?void 0:s[o])??0});return e}getAbility(){const e={...this.ability},n=["str","int","con","siz","app","dex","armor","piercing"],i=this.getExtraAbility();for(const o of n)e[o]+=i[o];return e}getExtraActions(){const e=[];for(const n of Object.values(this.equipments))n&&e.push(...n.extraActions);return e}getActions(){const e=[...this.actions];return e.push(...this.getExtraActions()),e}getActionCoeff(e){var i,o;const n={plus:0,multiply:1};for(const s of Object.values(this.equipments))s&&(n.plus+=((i=s.actionCoeff[e])==null?void 0:i.plus)??0,(o=s.actionCoeff[e])!=null&&o.multiply&&(n.multiply+=s.actionCoeff[e].multiply-1));return n}addStatus(e,n,i){const o=Ri[e],s={name:o.name,description:o.description,type:e,priority:o.priority,durationType:o.durationType,category:o.category,duration:n,statusLevel:i};this.statuses.push(s)}clearStatus(){this.statuses=this.statuses.filter(e=>e.durationType===we.Permanent)}clearStatusByCategory(e){this.statuses=this.statuses.filter(n=>n.category!==e)}updateStatusesOnTurnEnd(){this.statuses=this.statuses.filter(e=>(e.durationType===we.Turn&&(e.duration-=1),e.duration>0))}updateStatusesOnHitStart(){this.statuses=this.statuses.filter(e=>(e.durationType===we.Hit&&(e.duration-=1),e.duration>0))}applySecondStatuses(){this.statuses.sort((e,n)=>e.priority-n.priority).forEach(e=>{if(e.category===Zt.OnSecond){const n=Ri[e.type].effect;n(this,e.statusLevel)}}),this.statuses=this.statuses.filter(e=>(e.durationType===we.Second&&(e.duration-=1),e.duration>0))}}class Bi extends Uu{constructor(n,i){n=n||"吴田所",i=i||ee.Player;super(n,i,0,1);bt(this,"log",[]);bt(this,"tempLog",[]);bt(this,"capturedMonster",[]);bt(this,"isAtHome",!0);bt(this,"exp",0);bt(this,"isPlayer",!0);bt(this,"currentRegionId","ruin");bt(this,"currentNodeId",null);bt(this,"unlockedRegionIdList",["ruin"]);bt(this,"visitedNodeIdList",[])}getNextLevelExp(){return this.level<=10?100:this.level<=20?100+(this.level-10)*40:500*Math.pow(1.2,this.level-20)}checkLevelUp(){let n=this.getNextLevelExp(),i=!1;for(;this.exp>=n;)this.exp-=n,this.levelup(),i=!0,n=this.getNextLevelExp();return i}getExpDisplay(){const n=this.getNextLevelExp();return`
      <div class="progress" style="height: 2px; position: relative;">
        <div class="progress-bar" role="progressbar" style="width: ${Math.min(100,this.exp/n*100)}%;"
             aria-valuenow="${this.exp}" aria-valuemin="0" aria-valuemax="${n}">
        </div>
      </div>
    `}getHealthDisplay(){const n=Math.min(100,this.health/this.maxHealth*100),i=this.ability.con/5*this.maxHealth/900;return`
    <div class="progress" style="height: 20px; position: relative; background-color: #444;">
      <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: ${n}%;"
           aria-valuenow="${this.health}" aria-valuemin="0" aria-valuemax="${this.maxHealth}">
      </div>
      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
        <div style="text-align: center; line-height: 20px; font-size: 0.9rem; font-weight: bold; color: #fff;">
          hp: ${this.health.toFixed(1)} / ${this.maxHealth.toFixed(1)}
        </div>
        <div style="position: absolute; top: 0; right: 5px; height: 100%; display: flex; align-items: center; font-size: 0.9rem; font-weight: bold; color: #fff;">
          +${i.toFixed(2)}
        </div>
      </div>
    </div>
  `}updateHealthDisplay(){const n=document.getElementById("health-display");n&&(n.innerHTML=this.getHealthDisplay())}autoRecoverHpDot(n=1){const i=this.ability.con/5*this.maxHealth/900*n;this.recoverHp(i)}addLog(n){this.log.push(n)}getLogs(){return this.log.join("<br>")}getLastNLog(n){return this.log.slice(-n).join("<br>")}addTempLog(n){this.tempLog.push(n)}getTempLogs(){return this.tempLog.join("<br>")}clearTempLogs(){this.tempLog=[]}joinTempLogs(){this.log.push(this.tempLog.join("<br>")),this.tempLog=[]}}var Et;(function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(Et||(Et={}));var Fp=function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return t.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},t.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.findTransformMetadatas=function(e,n,i){return this.findMetadatas(this._transformMetadatas,e,n).filter(function(o){return!o.options||o.options.toClassOnly===!0&&o.options.toPlainOnly===!0?!0:o.options.toClassOnly===!0?i===Et.CLASS_TO_CLASS||i===Et.PLAIN_TO_CLASS:o.options.toPlainOnly===!0?i===Et.CLASS_TO_PLAIN:!0})},t.prototype.findExcludeMetadata=function(e,n){return this.findMetadata(this._excludeMetadatas,e,n)},t.prototype.findExposeMetadata=function(e,n){return this.findMetadata(this._exposeMetadatas,e,n)},t.prototype.findExposeMetadataByCustomName=function(e,n){return this.getExposedMetadatas(e).find(function(i){return i.options&&i.options.name===n})},t.prototype.findTypeMetadata=function(e,n){return this.findMetadata(this._typeMetadatas,e,n)},t.prototype.getStrategy=function(e){var n=this._excludeMetadatas.get(e),i=n&&n.get(void 0),o=this._exposeMetadatas.get(e),s=o&&o.get(void 0);return i&&s||!i&&!s?"none":i?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},t.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},t.prototype.getExposedProperties=function(e,n){return this.getExposedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===Et.CLASS_TO_CLASS||n===Et.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===Et.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.getExcludedProperties=function(e,n){return this.getExcludedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===Et.CLASS_TO_CLASS||n===Et.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===Et.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(e,n){var i=e.get(n),o;i&&(o=Array.from(i.values()).filter(function(w){return w.propertyName!==void 0}));for(var s=[],c=0,u=this.getAncestors(n);c<u.length;c++){var f=u[c],p=e.get(f);if(p){var h=Array.from(p.values()).filter(function(w){return w.propertyName!==void 0});s.push.apply(s,h)}}return s.concat(o||[])},t.prototype.findMetadata=function(e,n,i){var o=e.get(n);if(o){var s=o.get(i);if(s)return s}for(var c=0,u=this.getAncestors(n);c<u.length;c++){var f=u[c],p=e.get(f);if(p){var h=p.get(i);if(h)return h}}},t.prototype.findMetadatas=function(e,n,i){var o=e.get(n),s;o&&(s=o.get(i));for(var c=[],u=0,f=this.getAncestors(n);u<f.length;u++){var p=f[u],h=e.get(p);h&&h.has(i)&&c.push.apply(c,h.get(i))}return c.slice().reverse().concat((s||[]).slice().reverse())},t.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var n=[],i=Object.getPrototypeOf(e.prototype.constructor);typeof i.prototype<"u";i=Object.getPrototypeOf(i.prototype.constructor))n.push(i);this._ancestorsMap.set(e,n)}return this._ancestorsMap.get(e)},t}(),ue=new Fp;function jp(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function Gp(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ol=function(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,s;i<o;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};function Wp(t){var e=new t;return!(e instanceof Set)&&!("push"in e)?[]:e}var Si=function(){function t(e,n){this.transformationType=e,this.options=n,this.recursionStack=new Set}return t.prototype.transform=function(e,n,i,o,s,c){var u=this;if(c===void 0&&(c=0),Array.isArray(n)||n instanceof Set){var f=o&&this.transformationType===Et.PLAIN_TO_CLASS?Wp(o):[];return n.forEach(function(D,L){var W=e?e[L]:void 0;if(!u.options.enableCircularCheck||!u.isCircular(D)){var tt=void 0;if(typeof i!="function"&&i&&i.options&&i.options.discriminator&&i.options.discriminator.property&&i.options.discriminator.subTypes){if(u.transformationType===Et.PLAIN_TO_CLASS){tt=i.options.discriminator.subTypes.find(function(ut){return ut.name===D[i.options.discriminator.property]});var m={newObject:f,object:D,property:void 0},q=i.typeFunction(m);tt===void 0?tt=q:tt=tt.value,i.options.keepDiscriminatorProperty||delete D[i.options.discriminator.property]}u.transformationType===Et.CLASS_TO_CLASS&&(tt=D.constructor),u.transformationType===Et.CLASS_TO_PLAIN&&(D[i.options.discriminator.property]=i.options.discriminator.subTypes.find(function(ut){return ut.value===D.constructor}).name)}else tt=i;var H=u.transform(W,D,tt,void 0,D instanceof Map,c+1);f instanceof Set?f.add(H):f.push(H)}else u.transformationType===Et.CLASS_TO_CLASS&&(f instanceof Set?f.add(D):f.push(D))}),f}else{if(i===String&&!s)return n==null?n:String(n);if(i===Number&&!s)return n==null?n:Number(n);if(i===Boolean&&!s)return n==null?n:!!n;if((i===Date||n instanceof Date)&&!s)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(jp().Buffer&&(i===Buffer||n instanceof Buffer)&&!s)return n==null?n:Buffer.from(n);if(Gp(n)&&!s)return new Promise(function(D,L){n.then(function(W){return D(u.transform(void 0,W,i,void 0,void 0,c+1))},L)});if(!s&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!i&&n.constructor!==Object&&(!Array.isArray(n)&&n.constructor===Array||(i=n.constructor)),!i&&e&&(i=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);var p=this.getKeys(i,n,s),h=e||{};!e&&(this.transformationType===Et.PLAIN_TO_CLASS||this.transformationType===Et.CLASS_TO_CLASS)&&(s?h=new Map:i?h=new i:h={});for(var w=function(D){if(D==="__proto__"||D==="constructor")return"continue";var L=D,W=D,tt=D;if(!_.options.ignoreDecorators&&i){if(_.transformationType===Et.PLAIN_TO_CLASS){var m=ue.findExposeMetadataByCustomName(i,D);m&&(tt=m.propertyName,W=m.propertyName)}else if(_.transformationType===Et.CLASS_TO_PLAIN||_.transformationType===Et.CLASS_TO_CLASS){var m=ue.findExposeMetadata(i,D);m&&m.options&&m.options.name&&(W=m.options.name)}}var q=void 0;_.transformationType===Et.PLAIN_TO_CLASS?q=n[L]:n instanceof Map?q=n.get(L):n[L]instanceof Function?q=n[L]():q=n[L];var H=void 0,ut=q instanceof Map;if(i&&s)H=i;else if(i){var ct=ue.findTypeMetadata(i,tt);if(ct){var Ct={newObject:h,object:n,property:tt},At=ct.typeFunction?ct.typeFunction(Ct):ct.reflectedType;ct.options&&ct.options.discriminator&&ct.options.discriminator.property&&ct.options.discriminator.subTypes?n[L]instanceof Array?H=ct:(_.transformationType===Et.PLAIN_TO_CLASS&&(H=ct.options.discriminator.subTypes.find(function(F){if(q&&q instanceof Object&&ct.options.discriminator.property in q)return F.name===q[ct.options.discriminator.property]}),H===void 0?H=At:H=H.value,ct.options.keepDiscriminatorProperty||q&&q instanceof Object&&ct.options.discriminator.property in q&&delete q[ct.options.discriminator.property]),_.transformationType===Et.CLASS_TO_CLASS&&(H=q.constructor),_.transformationType===Et.CLASS_TO_PLAIN&&q&&(q[ct.options.discriminator.property]=ct.options.discriminator.subTypes.find(function(F){return F.value===q.constructor}).name)):H=At,ut=ut||ct.reflectedType===Map}else if(_.options.targetMaps)_.options.targetMaps.filter(function(F){return F.target===i&&!!F.properties[tt]}).forEach(function(F){return H=F.properties[tt]});else if(_.options.enableImplicitConversion&&_.transformationType===Et.PLAIN_TO_CLASS){var Mt=Reflect.getMetadata("design:type",i.prototype,tt);Mt&&(H=Mt)}}var St=Array.isArray(n[L])?_.getReflectedType(i,tt):void 0,Tt=e?e[L]:void 0;if(h.constructor.prototype){var x=Object.getOwnPropertyDescriptor(h.constructor.prototype,W);if((_.transformationType===Et.PLAIN_TO_CLASS||_.transformationType===Et.CLASS_TO_CLASS)&&(x&&!x.set||h[W]instanceof Function))return"continue"}if(!_.options.enableCircularCheck||!_.isCircular(q)){var G=_.transformationType===Et.PLAIN_TO_CLASS?W:D,O=void 0;_.transformationType===Et.CLASS_TO_PLAIN?(O=n[G],O=_.applyCustomTransformations(O,i,G,n,_.transformationType),O=n[G]===O?q:O,O=_.transform(Tt,O,H,St,ut,c+1)):q===void 0&&_.options.exposeDefaultValues?O=h[W]:(O=_.transform(Tt,q,H,St,ut,c+1),O=_.applyCustomTransformations(O,i,G,n,_.transformationType)),(O!==void 0||_.options.exposeUnsetFields)&&(h instanceof Map?h.set(W,O):h[W]=O)}else if(_.transformationType===Et.CLASS_TO_CLASS){var O=q;O=_.applyCustomTransformations(O,i,D,n,_.transformationType),(O!==void 0||_.options.exposeUnsetFields)&&(h instanceof Map?h.set(W,O):h[W]=O)}},_=this,E=0,I=p;E<I.length;E++){var z=I[E];w(z)}return this.options.enableCircularCheck&&this.recursionStack.delete(n),h}else return n}},t.prototype.applyCustomTransformations=function(e,n,i,o,s){var c=this,u=ue.findTransformMetadatas(n,i,this.transformationType);return this.options.version!==void 0&&(u=u.filter(function(f){return f.options?c.checkVersion(f.options.since,f.options.until):!0})),this.options.groups&&this.options.groups.length?u=u.filter(function(f){return f.options?c.checkGroups(f.options.groups):!0}):u=u.filter(function(f){return!f.options||!f.options.groups||!f.options.groups.length}),u.forEach(function(f){e=f.transformFn({value:e,key:i,obj:o,type:s,options:c.options})}),e},t.prototype.isCircular=function(e){return this.recursionStack.has(e)},t.prototype.getReflectedType=function(e,n){if(e){var i=ue.findTypeMetadata(e,n);return i?i.reflectedType:void 0}},t.prototype.getKeys=function(e,n,i){var o=this,s=ue.getStrategy(e);s==="none"&&(s=this.options.strategy||"exposeAll");var c=[];if((s==="exposeAll"||i)&&(n instanceof Map?c=Array.from(n.keys()):c=Object.keys(n)),i)return c;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var u=ue.getExposedProperties(e,this.transformationType),f=ue.getExcludedProperties(e,this.transformationType);c=Ol(Ol([],u,!0),f,!0)}if(!this.options.ignoreDecorators&&e){var u=ue.getExposedProperties(e,this.transformationType);this.transformationType===Et.PLAIN_TO_CLASS&&(u=u.map(function(w){var _=ue.findExposeMetadata(e,w);return _&&_.options&&_.options.name?_.options.name:w})),this.options.excludeExtraneousValues?c=u:c=c.concat(u);var p=ue.getExcludedProperties(e,this.transformationType);p.length>0&&(c=c.filter(function(w){return!p.includes(w)})),this.options.version!==void 0&&(c=c.filter(function(w){var _=ue.findExposeMetadata(e,w);return!_||!_.options?!0:o.checkVersion(_.options.since,_.options.until)})),this.options.groups&&this.options.groups.length?c=c.filter(function(w){var _=ue.findExposeMetadata(e,w);return!_||!_.options?!0:o.checkGroups(_.options.groups)}):c=c.filter(function(w){var _=ue.findExposeMetadata(e,w);return!_||!_.options||!_.options.groups||!_.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(c=c.filter(function(h){return o.options.excludePrefixes.every(function(w){return h.substr(0,w.length)!==w})})),c=c.filter(function(h,w,_){return _.indexOf(h)===w}),c},t.prototype.checkVersion=function(e,n){var i=!0;return i&&e&&(i=this.options.version>=e),i&&n&&(i=this.options.version<n),i},t.prototype.checkGroups=function(e){return e?this.options.groups.some(function(n){return e.includes(n)}):!0},t}(),Oi={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},fe=function(){return fe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},fe.apply(this,arguments)},Vp=function(){function t(){}return t.prototype.instanceToPlain=function(e,n){var i=new Si(Et.CLASS_TO_PLAIN,fe(fe({},Oi),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(e,n,i){var o=new Si(Et.CLASS_TO_PLAIN,fe(fe({},Oi),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.plainToInstance=function(e,n,i){var o=new Si(Et.PLAIN_TO_CLASS,fe(fe({},Oi),i));return o.transform(void 0,n,e,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(e,n,i){var o=new Si(Et.PLAIN_TO_CLASS,fe(fe({},Oi),i));return o.transform(e,n,void 0,void 0,void 0,void 0)},t.prototype.instanceToInstance=function(e,n){var i=new Si(Et.CLASS_TO_CLASS,fe(fe({},Oi),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(e,n,i){var o=new Si(Et.CLASS_TO_CLASS,fe(fe({},Oi),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(e,n){return JSON.stringify(this.instanceToPlain(e,n))},t.prototype.deserialize=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t.prototype.deserializeArray=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t}(),qu=new Vp;function Up(t,e){return qu.instanceToPlain(t,e)}function Kr(t,e,n){return qu.plainToInstance(t,e,n)}let Ss=-1,Os=-1,ks=-1;function na(t){Ss!==-1&&clearInterval(Ss),Os!==-1&&clearInterval(Os),ks!==-1&&clearInterval(ks),Ss=setInterval(()=>{t.isAtHome&&(t.autoRecoverHpDot(),t.updateHealthDisplay())},1e3),Os=setInterval(()=>{t.isAtHome&&_n(t)},1e4),ks=setInterval(()=>{t.isAtHome&&t.applySecondStatuses()},1e3)}function _n(t){if(t.type===ee.FullPowerPlayer114514)return;const e=Up(t);localStorage.setItem("playerData",JSON.stringify(e))}function qp(){const t=localStorage.getItem("playerData");if(!t)throw new Error("No player data found");const e=JSON.parse(t),n=Kr(Bi,e);return na(n),n.pack=e.pack.map(o=>o.category===si.Equipment?Kr(nn,o):o.category===si.Consumable?Kr(We,o):o),Object.keys(n.equipments).forEach(o=>{n.equipments[o]&&(n.equipments[o]=Kr(nn,n.equipments[o]))}),n.clearStatus(),n}const Kp="/otherworld114514/assets/player-8N5Sf3fj.gif";function Ce(){const t=document.getElementById("app");if(!t)throw new Error("无法找到挂载点 #app");return t}function Yp(t,e=0){if(t in Ht)return new We(t,e);if(t in zi)return new nn(t,e);throw new Error("Invalid item type")}function kl(t){return t instanceof We?`
      <div class="tooltip-base tooltip-header">
        <h5 class="text-${R[t.rarity]}">${t.level?`lv${t.level}`:""} ${t.name}</h5>
        <p class="fst-italic">${t.description}</p>
      </div>
    `:t instanceof nn?Bp(t):`
    <div class="tooltip-base">
      <h5>${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
    </div>
  `}function Ls(t){switch(t.category){case si.Equipment:return"🗡️";case si.Consumable:return"🗝️";default:return""}}var ae="top",Ee="bottom",Ae="right",ce="left",$o="auto",Xi=[ae,Ee,Ae,ce],ci="start",Fi="end",Ku="clippingParents",Ea="viewport",$i="popper",Yu="reference",ia=Xi.reduce(function(t,e){return t.concat([e+"-"+ci,e+"-"+Fi])},[]),Aa=[].concat(Xi,[$o]).reduce(function(t,e){return t.concat([e,e+"-"+ci,e+"-"+Fi])},[]),Xu="beforeRead",Qu="read",Ju="afterRead",Zu="beforeMain",tf="main",ef="afterMain",nf="beforeWrite",rf="write",of="afterWrite",sf=[Xu,Qu,Ju,Zu,tf,ef,nf,rf,of];function an(t){return t?(t.nodeName||"").toLowerCase():null}function xe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function li(t){var e=xe(t).Element;return t instanceof e||t instanceof Element}function Ie(t){var e=xe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function xa(t){if(typeof ShadowRoot>"u")return!1;var e=xe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Xp(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!Ie(s)||!an(s)||(Object.assign(s.style,i),Object.keys(o).forEach(function(c){var u=o[c];u===!1?s.removeAttribute(c):s.setAttribute(c,u===!0?"":u)}))})}function Qp(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],s=e.attributes[i]||{},c=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),u=c.reduce(function(f,p){return f[p]="",f},{});!Ie(o)||!an(o)||(Object.assign(o.style,u),Object.keys(s).forEach(function(f){o.removeAttribute(f)}))})}}const No={name:"applyStyles",enabled:!0,phase:"write",fn:Xp,effect:Qp,requires:["computeStyles"]};function rn(t){return t.split("-")[0]}var ri=Math.max,vo=Math.min,ji=Math.round;function ra(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function af(){return!/^((?!chrome|android).)*safari/i.test(ra())}function Gi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),o=1,s=1;e&&Ie(t)&&(o=t.offsetWidth>0&&ji(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ji(i.height)/t.offsetHeight||1);var c=li(t)?xe(t):window,u=c.visualViewport,f=!af()&&n,p=(i.left+(f&&u?u.offsetLeft:0))/o,h=(i.top+(f&&u?u.offsetTop:0))/s,w=i.width/o,_=i.height/s;return{width:w,height:_,top:h,right:p+w,bottom:h+_,left:p,x:p,y:h}}function Ta(t){var e=Gi(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function cf(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&xa(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function wn(t){return xe(t).getComputedStyle(t)}function Jp(t){return["table","td","th"].indexOf(an(t))>=0}function Rn(t){return((li(t)?t.ownerDocument:t.document)||window.document).documentElement}function Do(t){return an(t)==="html"?t:t.assignedSlot||t.parentNode||(xa(t)?t.host:null)||Rn(t)}function Ll(t){return!Ie(t)||wn(t).position==="fixed"?null:t.offsetParent}function Zp(t){var e=/firefox/i.test(ra()),n=/Trident/i.test(ra());if(n&&Ie(t)){var i=wn(t);if(i.position==="fixed")return null}var o=Do(t);for(xa(o)&&(o=o.host);Ie(o)&&["html","body"].indexOf(an(o))<0;){var s=wn(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function xr(t){for(var e=xe(t),n=Ll(t);n&&Jp(n)&&wn(n).position==="static";)n=Ll(n);return n&&(an(n)==="html"||an(n)==="body"&&wn(n).position==="static")?e:n||Zp(t)||e}function Ca(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gr(t,e,n){return ri(t,vo(e,n))}function tg(t,e,n){var i=gr(t,e,n);return i>n?n:i}function lf(){return{top:0,right:0,bottom:0,left:0}}function uf(t){return Object.assign({},lf(),t)}function ff(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var eg=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,uf(typeof e!="number"?e:ff(e,Xi))};function ng(t){var e,n=t.state,i=t.name,o=t.options,s=n.elements.arrow,c=n.modifiersData.popperOffsets,u=rn(n.placement),f=Ca(u),p=[ce,Ae].indexOf(u)>=0,h=p?"height":"width";if(!(!s||!c)){var w=eg(o.padding,n),_=Ta(s),E=f==="y"?ae:ce,I=f==="y"?Ee:Ae,z=n.rects.reference[h]+n.rects.reference[f]-c[f]-n.rects.popper[h],D=c[f]-n.rects.reference[f],L=xr(s),W=L?f==="y"?L.clientHeight||0:L.clientWidth||0:0,tt=z/2-D/2,m=w[E],q=W-_[h]-w[I],H=W/2-_[h]/2+tt,ut=gr(m,H,q),ct=f;n.modifiersData[i]=(e={},e[ct]=ut,e.centerOffset=ut-H,e)}}function ig(t){var e=t.state,n=t.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||cf(e.elements.popper,o)&&(e.elements.arrow=o))}const df={name:"arrow",enabled:!0,phase:"main",fn:ng,effect:ig,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wi(t){return t.split("-")[1]}var rg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function og(t,e){var n=t.x,i=t.y,o=e.devicePixelRatio||1;return{x:ji(n*o)/o||0,y:ji(i*o)/o||0}}function $l(t){var e,n=t.popper,i=t.popperRect,o=t.placement,s=t.variation,c=t.offsets,u=t.position,f=t.gpuAcceleration,p=t.adaptive,h=t.roundOffsets,w=t.isFixed,_=c.x,E=_===void 0?0:_,I=c.y,z=I===void 0?0:I,D=typeof h=="function"?h({x:E,y:z}):{x:E,y:z};E=D.x,z=D.y;var L=c.hasOwnProperty("x"),W=c.hasOwnProperty("y"),tt=ce,m=ae,q=window;if(p){var H=xr(n),ut="clientHeight",ct="clientWidth";if(H===xe(n)&&(H=Rn(n),wn(H).position!=="static"&&u==="absolute"&&(ut="scrollHeight",ct="scrollWidth")),H=H,o===ae||(o===ce||o===Ae)&&s===Fi){m=Ee;var Ct=w&&H===q&&q.visualViewport?q.visualViewport.height:H[ut];z-=Ct-i.height,z*=f?1:-1}if(o===ce||(o===ae||o===Ee)&&s===Fi){tt=Ae;var At=w&&H===q&&q.visualViewport?q.visualViewport.width:H[ct];E-=At-i.width,E*=f?1:-1}}var Mt=Object.assign({position:u},p&&rg),St=h===!0?og({x:E,y:z},xe(n)):{x:E,y:z};if(E=St.x,z=St.y,f){var Tt;return Object.assign({},Mt,(Tt={},Tt[m]=W?"0":"",Tt[tt]=L?"0":"",Tt.transform=(q.devicePixelRatio||1)<=1?"translate("+E+"px, "+z+"px)":"translate3d("+E+"px, "+z+"px, 0)",Tt))}return Object.assign({},Mt,(e={},e[m]=W?z+"px":"",e[tt]=L?E+"px":"",e.transform="",e))}function sg(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=i===void 0?!0:i,s=n.adaptive,c=s===void 0?!0:s,u=n.roundOffsets,f=u===void 0?!0:u,p={placement:rn(e.placement),variation:Wi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$l(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$l(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Sa={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sg,data:{}};var Yr={passive:!0};function ag(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,s=o===void 0?!0:o,c=i.resize,u=c===void 0?!0:c,f=xe(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&p.forEach(function(h){h.addEventListener("scroll",n.update,Yr)}),u&&f.addEventListener("resize",n.update,Yr),function(){s&&p.forEach(function(h){h.removeEventListener("scroll",n.update,Yr)}),u&&f.removeEventListener("resize",n.update,Yr)}}const Oa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ag,data:{}};var cg={left:"right",right:"left",bottom:"top",top:"bottom"};function co(t){return t.replace(/left|right|bottom|top/g,function(e){return cg[e]})}var lg={start:"end",end:"start"};function Nl(t){return t.replace(/start|end/g,function(e){return lg[e]})}function ka(t){var e=xe(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function La(t){return Gi(Rn(t)).left+ka(t).scrollLeft}function ug(t,e){var n=xe(t),i=Rn(t),o=n.visualViewport,s=i.clientWidth,c=i.clientHeight,u=0,f=0;if(o){s=o.width,c=o.height;var p=af();(p||!p&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:s,height:c,x:u+La(t),y:f}}function fg(t){var e,n=Rn(t),i=ka(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=ri(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),c=ri(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-i.scrollLeft+La(t),f=-i.scrollTop;return wn(o||n).direction==="rtl"&&(u+=ri(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:c,x:u,y:f}}function $a(t){var e=wn(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function hf(t){return["html","body","#document"].indexOf(an(t))>=0?t.ownerDocument.body:Ie(t)&&$a(t)?t:hf(Do(t))}function mr(t,e){var n;e===void 0&&(e=[]);var i=hf(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=xe(i),c=o?[s].concat(s.visualViewport||[],$a(i)?i:[]):i,u=e.concat(c);return o?u:u.concat(mr(Do(c)))}function oa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dg(t,e){var n=Gi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Dl(t,e,n){return e===Ea?oa(ug(t,n)):li(e)?dg(e,n):oa(fg(Rn(t)))}function hg(t){var e=mr(Do(t)),n=["absolute","fixed"].indexOf(wn(t).position)>=0,i=n&&Ie(t)?xr(t):t;return li(i)?e.filter(function(o){return li(o)&&cf(o,i)&&an(o)!=="body"}):[]}function pg(t,e,n,i){var o=e==="clippingParents"?hg(t):[].concat(e),s=[].concat(o,[n]),c=s[0],u=s.reduce(function(f,p){var h=Dl(t,p,i);return f.top=ri(h.top,f.top),f.right=vo(h.right,f.right),f.bottom=vo(h.bottom,f.bottom),f.left=ri(h.left,f.left),f},Dl(t,c,i));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function pf(t){var e=t.reference,n=t.element,i=t.placement,o=i?rn(i):null,s=i?Wi(i):null,c=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,f;switch(o){case ae:f={x:c,y:e.y-n.height};break;case Ee:f={x:c,y:e.y+e.height};break;case Ae:f={x:e.x+e.width,y:u};break;case ce:f={x:e.x-n.width,y:u};break;default:f={x:e.x,y:e.y}}var p=o?Ca(o):null;if(p!=null){var h=p==="y"?"height":"width";switch(s){case ci:f[p]=f[p]-(e[h]/2-n[h]/2);break;case Fi:f[p]=f[p]+(e[h]/2-n[h]/2);break}}return f}function Vi(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=i===void 0?t.placement:i,s=n.strategy,c=s===void 0?t.strategy:s,u=n.boundary,f=u===void 0?Ku:u,p=n.rootBoundary,h=p===void 0?Ea:p,w=n.elementContext,_=w===void 0?$i:w,E=n.altBoundary,I=E===void 0?!1:E,z=n.padding,D=z===void 0?0:z,L=uf(typeof D!="number"?D:ff(D,Xi)),W=_===$i?Yu:$i,tt=t.rects.popper,m=t.elements[I?W:_],q=pg(li(m)?m:m.contextElement||Rn(t.elements.popper),f,h,c),H=Gi(t.elements.reference),ut=pf({reference:H,element:tt,placement:o}),ct=oa(Object.assign({},tt,ut)),Ct=_===$i?ct:H,At={top:q.top-Ct.top+L.top,bottom:Ct.bottom-q.bottom+L.bottom,left:q.left-Ct.left+L.left,right:Ct.right-q.right+L.right},Mt=t.modifiersData.offset;if(_===$i&&Mt){var St=Mt[o];Object.keys(At).forEach(function(Tt){var x=[Ae,Ee].indexOf(Tt)>=0?1:-1,G=[ae,Ee].indexOf(Tt)>=0?"y":"x";At[Tt]+=St[G]*x})}return At}function gg(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=n.boundary,s=n.rootBoundary,c=n.padding,u=n.flipVariations,f=n.allowedAutoPlacements,p=f===void 0?Aa:f,h=Wi(i),w=h?u?ia:ia.filter(function(I){return Wi(I)===h}):Xi,_=w.filter(function(I){return p.indexOf(I)>=0});_.length===0&&(_=w);var E=_.reduce(function(I,z){return I[z]=Vi(t,{placement:z,boundary:o,rootBoundary:s,padding:c})[rn(z)],I},{});return Object.keys(E).sort(function(I,z){return E[I]-E[z]})}function mg(t){if(rn(t)===$o)return[];var e=co(t);return[Nl(t),e,Nl(e)]}function _g(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,c=n.altAxis,u=c===void 0?!0:c,f=n.fallbackPlacements,p=n.padding,h=n.boundary,w=n.rootBoundary,_=n.altBoundary,E=n.flipVariations,I=E===void 0?!0:E,z=n.allowedAutoPlacements,D=e.options.placement,L=rn(D),W=L===D,tt=f||(W||!I?[co(D)]:mg(D)),m=[D].concat(tt).reduce(function(dt,kt){return dt.concat(rn(kt)===$o?gg(e,{placement:kt,boundary:h,rootBoundary:w,padding:p,flipVariations:I,allowedAutoPlacements:z}):kt)},[]),q=e.rects.reference,H=e.rects.popper,ut=new Map,ct=!0,Ct=m[0],At=0;At<m.length;At++){var Mt=m[At],St=rn(Mt),Tt=Wi(Mt)===ci,x=[ae,Ee].indexOf(St)>=0,G=x?"width":"height",O=Vi(e,{placement:Mt,boundary:h,rootBoundary:w,altBoundary:_,padding:p}),F=x?Tt?Ae:ce:Tt?Ee:ae;q[G]>H[G]&&(F=co(F));var et=co(F),rt=[];if(s&&rt.push(O[St]<=0),u&&rt.push(O[F]<=0,O[et]<=0),rt.every(function(dt){return dt})){Ct=Mt,ct=!1;break}ut.set(Mt,rt)}if(ct)for(var A=I?3:1,mt=function(kt){var at=m.find(function(Bt){var U=ut.get(Bt);if(U)return U.slice(0,kt).every(function(qt){return qt})});if(at)return Ct=at,"break"},yt=A;yt>0;yt--){var X=mt(yt);if(X==="break")break}e.placement!==Ct&&(e.modifiersData[i]._skip=!0,e.placement=Ct,e.reset=!0)}}const gf={name:"flip",enabled:!0,phase:"main",fn:_g,requiresIfExists:["offset"],data:{_skip:!1}};function Ml(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Il(t){return[ae,Ae,Ee,ce].some(function(e){return t[e]>=0})}function vg(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,c=Vi(e,{elementContext:"reference"}),u=Vi(e,{altBoundary:!0}),f=Ml(c,i),p=Ml(u,o,s),h=Il(f),w=Il(p);e.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:w},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":w})}const mf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vg};function bg(t,e,n){var i=rn(t),o=[ce,ae].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,c=s[0],u=s[1];return c=c||0,u=(u||0)*o,[ce,Ae].indexOf(i)>=0?{x:u,y:c}:{x:c,y:u}}function yg(t){var e=t.state,n=t.options,i=t.name,o=n.offset,s=o===void 0?[0,0]:o,c=Aa.reduce(function(h,w){return h[w]=bg(w,e.rects,s),h},{}),u=c[e.placement],f=u.x,p=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=c}const _f={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yg};function wg(t){var e=t.state,n=t.name;e.modifiersData[n]=pf({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Na={name:"popperOffsets",enabled:!0,phase:"read",fn:wg,data:{}};function Eg(t){return t==="x"?"y":"x"}function Ag(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,s=o===void 0?!0:o,c=n.altAxis,u=c===void 0?!1:c,f=n.boundary,p=n.rootBoundary,h=n.altBoundary,w=n.padding,_=n.tether,E=_===void 0?!0:_,I=n.tetherOffset,z=I===void 0?0:I,D=Vi(e,{boundary:f,rootBoundary:p,padding:w,altBoundary:h}),L=rn(e.placement),W=Wi(e.placement),tt=!W,m=Ca(L),q=Eg(m),H=e.modifiersData.popperOffsets,ut=e.rects.reference,ct=e.rects.popper,Ct=typeof z=="function"?z(Object.assign({},e.rects,{placement:e.placement})):z,At=typeof Ct=="number"?{mainAxis:Ct,altAxis:Ct}:Object.assign({mainAxis:0,altAxis:0},Ct),Mt=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,St={x:0,y:0};if(H){if(s){var Tt,x=m==="y"?ae:ce,G=m==="y"?Ee:Ae,O=m==="y"?"height":"width",F=H[m],et=F+D[x],rt=F-D[G],A=E?-ct[O]/2:0,mt=W===ci?ut[O]:ct[O],yt=W===ci?-ct[O]:-ut[O],X=e.elements.arrow,dt=E&&X?Ta(X):{width:0,height:0},kt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:lf(),at=kt[x],Bt=kt[G],U=gr(0,ut[O],dt[O]),qt=tt?ut[O]/2-A-U-at-At.mainAxis:mt-U-at-At.mainAxis,pe=tt?-ut[O]/2+A+U+Bt+At.mainAxis:yt+U+Bt+At.mainAxis,Wt=e.elements.arrow&&xr(e.elements.arrow),ln=Wt?m==="y"?Wt.clientTop||0:Wt.clientLeft||0:0,Xt=(Tt=Mt==null?void 0:Mt[m])!=null?Tt:0,Ke=F+qt-Xt-ln,Se=F+pe-Xt,Qt=gr(E?vo(et,Ke):et,F,E?ri(rt,Se):rt);H[m]=Qt,St[m]=Qt-F}if(u){var Ye,un=m==="x"?ae:ce,fn=m==="x"?Ee:Ae,le=H[q],ge=q==="y"?"height":"width",ze=le+D[un],Be=le-D[fn],Oe=[ae,ce].indexOf(L)!==-1,ne=(Ye=Mt==null?void 0:Mt[q])!=null?Ye:0,dn=Oe?ze:le-ut[ge]-ct[ge]-ne+At.altAxis,Jt=Oe?le+ut[ge]+ct[ge]-ne-At.altAxis:Be,me=E&&Oe?tg(dn,le,Jt):gr(E?dn:ze,le,E?Jt:Be);H[q]=me,St[q]=me-le}e.modifiersData[i]=St}}const vf={name:"preventOverflow",enabled:!0,phase:"main",fn:Ag,requiresIfExists:["offset"]};function xg(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Tg(t){return t===xe(t)||!Ie(t)?ka(t):xg(t)}function Cg(t){var e=t.getBoundingClientRect(),n=ji(e.width)/t.offsetWidth||1,i=ji(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Sg(t,e,n){n===void 0&&(n=!1);var i=Ie(e),o=Ie(e)&&Cg(e),s=Rn(e),c=Gi(t,o,n),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!n)&&((an(e)!=="body"||$a(s))&&(u=Tg(e)),Ie(e)?(f=Gi(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):s&&(f.x=La(s))),{x:c.left+u.scrollLeft-f.x,y:c.top+u.scrollTop-f.y,width:c.width,height:c.height}}function Og(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var c=[].concat(s.requires||[],s.requiresIfExists||[]);c.forEach(function(u){if(!n.has(u)){var f=e.get(u);f&&o(f)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),i}function kg(t){var e=Og(t);return sf.reduce(function(n,i){return n.concat(e.filter(function(o){return o.phase===i}))},[])}function Lg(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function $g(t){var e=t.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Pl={placement:"bottom",modifiers:[],strategy:"absolute"};function Rl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Mo(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?Pl:o;return function(u,f,p){p===void 0&&(p=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pl,s),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},w=[],_=!1,E={state:h,setOptions:function(L){var W=typeof L=="function"?L(h.options):L;z(),h.options=Object.assign({},s,h.options,W),h.scrollParents={reference:li(u)?mr(u):u.contextElement?mr(u.contextElement):[],popper:mr(f)};var tt=kg($g([].concat(i,h.options.modifiers)));return h.orderedModifiers=tt.filter(function(m){return m.enabled}),I(),E.update()},forceUpdate:function(){if(!_){var L=h.elements,W=L.reference,tt=L.popper;if(Rl(W,tt)){h.rects={reference:Sg(W,xr(tt),h.options.strategy==="fixed"),popper:Ta(tt)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(At){return h.modifiersData[At.name]=Object.assign({},At.data)});for(var m=0;m<h.orderedModifiers.length;m++){if(h.reset===!0){h.reset=!1,m=-1;continue}var q=h.orderedModifiers[m],H=q.fn,ut=q.options,ct=ut===void 0?{}:ut,Ct=q.name;typeof H=="function"&&(h=H({state:h,options:ct,name:Ct,instance:E})||h)}}}},update:Lg(function(){return new Promise(function(D){E.forceUpdate(),D(h)})}),destroy:function(){z(),_=!0}};if(!Rl(u,f))return E;E.setOptions(p).then(function(D){!_&&p.onFirstUpdate&&p.onFirstUpdate(D)});function I(){h.orderedModifiers.forEach(function(D){var L=D.name,W=D.options,tt=W===void 0?{}:W,m=D.effect;if(typeof m=="function"){var q=m({state:h,name:L,instance:E,options:tt}),H=function(){};w.push(q||H)}})}function z(){w.forEach(function(D){return D()}),w=[]}return E}}var Ng=Mo(),Dg=[Oa,Na,Sa,No],Mg=Mo({defaultModifiers:Dg}),Ig=[Oa,Na,Sa,No,_f,gf,vf,df,mf],Io=Mo({defaultModifiers:Ig});const bf=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ef,afterRead:Ju,afterWrite:of,applyStyles:No,arrow:df,auto:$o,basePlacements:Xi,beforeMain:Zu,beforeRead:Xu,beforeWrite:nf,bottom:Ee,clippingParents:Ku,computeStyles:Sa,createPopper:Io,createPopperBase:Ng,createPopperLite:Mg,detectOverflow:Vi,end:Fi,eventListeners:Oa,flip:gf,hide:mf,left:ce,main:tf,modifierPhases:sf,offset:_f,placements:Aa,popper:$i,popperGenerator:Mo,popperOffsets:Na,preventOverflow:vf,read:Qu,reference:Yu,right:Ae,start:ci,top:ae,variationPlacements:ia,viewport:Ea,write:rf},Symbol.toStringTag,{value:"Module"}));var Pg="tippy-box",yf="tippy-content",Rg="tippy-backdrop",wf="tippy-arrow",Ef="tippy-svg-arrow",Zn={passive:!0,capture:!0},Af=function(){return document.body};function $s(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function Da(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function xf(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Hl(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function Hg(t){return t.split(/\s+/).filter(Boolean)}function Ni(t){return[].concat(t)}function zl(t,e){t.indexOf(e)===-1&&t.push(e)}function zg(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Bg(t){return t.split("-")[0]}function bo(t){return[].slice.call(t)}function Bl(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function _r(){return document.createElement("div")}function Po(t){return["Element","Fragment"].some(function(e){return Da(t,e)})}function Fg(t){return Da(t,"NodeList")}function jg(t){return Da(t,"MouseEvent")}function Gg(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Wg(t){return Po(t)?[t]:Fg(t)?bo(t):Array.isArray(t)?t:bo(document.querySelectorAll(t))}function Ns(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Fl(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Vg(t){var e,n=Ni(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Ug(t,e){var n=e.clientX,i=e.clientY;return t.every(function(o){var s=o.popperRect,c=o.popperState,u=o.props,f=u.interactiveBorder,p=Bg(c.placement),h=c.modifiersData.offset;if(!h)return!0;var w=p==="bottom"?h.top.y:0,_=p==="top"?h.bottom.y:0,E=p==="right"?h.left.x:0,I=p==="left"?h.right.x:0,z=s.top-i+w>f,D=i-s.bottom-_>f,L=s.left-n+E>f,W=n-s.right-I>f;return z||D||L||W})}function Ds(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[i](o,n)})}function jl(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var en={isTouch:!1},Gl=0;function qg(){en.isTouch||(en.isTouch=!0,window.performance&&document.addEventListener("mousemove",Tf))}function Tf(){var t=performance.now();t-Gl<20&&(en.isTouch=!1,document.removeEventListener("mousemove",Tf)),Gl=t}function Kg(){var t=document.activeElement;if(Gg(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Yg(){document.addEventListener("touchstart",qg,Zn),window.addEventListener("blur",Kg)}var Xg=typeof window<"u"&&typeof document<"u",Qg=Xg?!!window.msCrypto:!1,Jg={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Zg={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ve=Object.assign({appendTo:Af,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Jg,Zg),tm=Object.keys(Ve),em=function(e){var n=Object.keys(e);n.forEach(function(i){Ve[i]=e[i]})};function Cf(t){var e=t.plugins||[],n=e.reduce(function(i,o){var s=o.name,c=o.defaultValue;if(s){var u;i[s]=t[s]!==void 0?t[s]:(u=Ve[s])!=null?u:c}return i},{});return Object.assign({},t,n)}function nm(t,e){var n=e?Object.keys(Cf(Object.assign({},Ve,{plugins:e}))):tm,i=n.reduce(function(o,s){var c=(t.getAttribute("data-tippy-"+s)||"").trim();if(!c)return o;if(s==="content")o[s]=c;else try{o[s]=JSON.parse(c)}catch{o[s]=c}return o},{});return i}function Wl(t,e){var n=Object.assign({},e,{content:xf(e.content,[t])},e.ignoreAttributes?{}:nm(t,e.plugins));return n.aria=Object.assign({},Ve.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var im=function(){return"innerHTML"};function sa(t,e){t[im()]=e}function Vl(t){var e=_r();return t===!0?e.className=wf:(e.className=Ef,Po(t)?e.appendChild(t):sa(e,t)),e}function Ul(t,e){Po(e.content)?(sa(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?sa(t,e.content):t.textContent=e.content)}function aa(t){var e=t.firstElementChild,n=bo(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(yf)}),arrow:n.find(function(i){return i.classList.contains(wf)||i.classList.contains(Ef)}),backdrop:n.find(function(i){return i.classList.contains(Rg)})}}function Sf(t){var e=_r(),n=_r();n.className=Pg,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=_r();i.className=yf,i.setAttribute("data-state","hidden"),Ul(i,t.props),e.appendChild(n),n.appendChild(i),o(t.props,t.props);function o(s,c){var u=aa(e),f=u.box,p=u.content,h=u.arrow;c.theme?f.setAttribute("data-theme",c.theme):f.removeAttribute("data-theme"),typeof c.animation=="string"?f.setAttribute("data-animation",c.animation):f.removeAttribute("data-animation"),c.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof c.maxWidth=="number"?c.maxWidth+"px":c.maxWidth,c.role?f.setAttribute("role",c.role):f.removeAttribute("role"),(s.content!==c.content||s.allowHTML!==c.allowHTML)&&Ul(p,t.props),c.arrow?h?s.arrow!==c.arrow&&(f.removeChild(h),f.appendChild(Vl(c.arrow))):f.appendChild(Vl(c.arrow)):h&&f.removeChild(h)}return{popper:e,onUpdate:o}}Sf.$$tippy=!0;var rm=1,Xr=[],Ms=[];function om(t,e){var n=Wl(t,Object.assign({},Ve,Cf(Bl(e)))),i,o,s,c=!1,u=!1,f=!1,p=!1,h,w,_,E=[],I=Hl(Ke,n.interactiveDebounce),z,D=rm++,L=null,W=zg(n.plugins),tt={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:D,reference:t,popper:_r(),popperInstance:L,props:n,state:tt,plugins:W,clearDelayTimeouts:dn,setProps:Jt,setContent:me,show:Xe,hide:Tn,hideWithInteractivity:Bn,enable:Oe,disable:ne,unmount:y,destroy:T};if(!n.render)return m;var q=n.render(m),H=q.popper,ut=q.onUpdate;H.setAttribute("data-tippy-root",""),H.id="tippy-"+m.id,m.popper=H,t._tippy=m,H._tippy=m;var ct=W.map(function(g){return g.fn(m)}),Ct=t.hasAttribute("aria-expanded");return Wt(),A(),F(),et("onCreate",[m]),n.showOnCreate&&ze(),H.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),H.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&x().addEventListener("mousemove",I)}),m;function At(){var g=m.props.touch;return Array.isArray(g)?g:[g,0]}function Mt(){return At()[0]==="hold"}function St(){var g;return!!((g=m.props.render)!=null&&g.$$tippy)}function Tt(){return z||t}function x(){var g=Tt().parentNode;return g?Vg(g):document}function G(){return aa(H)}function O(g){return m.state.isMounted&&!m.state.isVisible||en.isTouch||h&&h.type==="focus"?0:$s(m.props.delay,g?0:1,Ve.delay)}function F(g){g===void 0&&(g=!1),H.style.pointerEvents=m.props.interactive&&!g?"":"none",H.style.zIndex=""+m.props.zIndex}function et(g,C,P){if(P===void 0&&(P=!0),ct.forEach(function(it){it[g]&&it[g].apply(it,C)}),P){var ot;(ot=m.props)[g].apply(ot,C)}}function rt(){var g=m.props.aria;if(g.content){var C="aria-"+g.content,P=H.id,ot=Ni(m.props.triggerTarget||t);ot.forEach(function(it){var nt=it.getAttribute(C);if(m.state.isVisible)it.setAttribute(C,nt?nt+" "+P:P);else{var B=nt&&nt.replace(P,"").trim();B?it.setAttribute(C,B):it.removeAttribute(C)}})}}function A(){if(!(Ct||!m.props.aria.expanded)){var g=Ni(m.props.triggerTarget||t);g.forEach(function(C){m.props.interactive?C.setAttribute("aria-expanded",m.state.isVisible&&C===Tt()?"true":"false"):C.removeAttribute("aria-expanded")})}}function mt(){x().removeEventListener("mousemove",I),Xr=Xr.filter(function(g){return g!==I})}function yt(g){if(!(en.isTouch&&(f||g.type==="mousedown"))){var C=g.composedPath&&g.composedPath()[0]||g.target;if(!(m.props.interactive&&jl(H,C))){if(Ni(m.props.triggerTarget||t).some(function(P){return jl(P,C)})){if(en.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else et("onClickOutside",[m,g]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),u=!0,setTimeout(function(){u=!1}),m.state.isMounted||at())}}}function X(){f=!0}function dt(){f=!1}function kt(){var g=x();g.addEventListener("mousedown",yt,!0),g.addEventListener("touchend",yt,Zn),g.addEventListener("touchstart",dt,Zn),g.addEventListener("touchmove",X,Zn)}function at(){var g=x();g.removeEventListener("mousedown",yt,!0),g.removeEventListener("touchend",yt,Zn),g.removeEventListener("touchstart",dt,Zn),g.removeEventListener("touchmove",X,Zn)}function Bt(g,C){qt(g,function(){!m.state.isVisible&&H.parentNode&&H.parentNode.contains(H)&&C()})}function U(g,C){qt(g,C)}function qt(g,C){var P=G().box;function ot(it){it.target===P&&(Ds(P,"remove",ot),C())}if(g===0)return C();Ds(P,"remove",w),Ds(P,"add",ot),w=ot}function pe(g,C,P){P===void 0&&(P=!1);var ot=Ni(m.props.triggerTarget||t);ot.forEach(function(it){it.addEventListener(g,C,P),E.push({node:it,eventType:g,handler:C,options:P})})}function Wt(){Mt()&&(pe("touchstart",Xt,{passive:!0}),pe("touchend",Se,{passive:!0})),Hg(m.props.trigger).forEach(function(g){if(g!=="manual")switch(pe(g,Xt),g){case"mouseenter":pe("mouseleave",Se);break;case"focus":pe(Qg?"focusout":"blur",Qt);break;case"focusin":pe("focusout",Qt);break}})}function ln(){E.forEach(function(g){var C=g.node,P=g.eventType,ot=g.handler,it=g.options;C.removeEventListener(P,ot,it)}),E=[]}function Xt(g){var C,P=!1;if(!(!m.state.isEnabled||Ye(g)||u)){var ot=((C=h)==null?void 0:C.type)==="focus";h=g,z=g.currentTarget,A(),!m.state.isVisible&&jg(g)&&Xr.forEach(function(it){return it(g)}),g.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||c)&&m.props.hideOnClick!==!1&&m.state.isVisible?P=!0:ze(g),g.type==="click"&&(c=!P),P&&!ot&&Be(g)}}function Ke(g){var C=g.target,P=Tt().contains(C)||H.contains(C);if(!(g.type==="mousemove"&&P)){var ot=ge().concat(H).map(function(it){var nt,B=it._tippy,V=(nt=B.popperInstance)==null?void 0:nt.state;return V?{popperRect:it.getBoundingClientRect(),popperState:V,props:n}:null}).filter(Boolean);Ug(ot,g)&&(mt(),Be(g))}}function Se(g){var C=Ye(g)||m.props.trigger.indexOf("click")>=0&&c;if(!C){if(m.props.interactive){m.hideWithInteractivity(g);return}Be(g)}}function Qt(g){m.props.trigger.indexOf("focusin")<0&&g.target!==Tt()||m.props.interactive&&g.relatedTarget&&H.contains(g.relatedTarget)||Be(g)}function Ye(g){return en.isTouch?Mt()!==g.type.indexOf("touch")>=0:!1}function un(){fn();var g=m.props,C=g.popperOptions,P=g.placement,ot=g.offset,it=g.getReferenceClientRect,nt=g.moveTransition,B=St()?aa(H).arrow:null,V=it?{getBoundingClientRect:it,contextElement:it.contextElement||Tt()}:t,Q={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ot){var $t=Ot.state;if(St()){var Gt=G(),ke=Gt.box;["placement","reference-hidden","escaped"].forEach(function(Cn){Cn==="placement"?ke.setAttribute("data-placement",$t.placement):$t.attributes.popper["data-popper-"+Cn]?ke.setAttribute("data-"+Cn,""):ke.removeAttribute("data-"+Cn)}),$t.attributes.popper={}}}},Y=[{name:"offset",options:{offset:ot}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!nt}},Q];St()&&B&&Y.push({name:"arrow",options:{element:B,padding:3}}),Y.push.apply(Y,(C==null?void 0:C.modifiers)||[]),m.popperInstance=Io(V,H,Object.assign({},C,{placement:P,onFirstUpdate:_,modifiers:Y}))}function fn(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function le(){var g=m.props.appendTo,C,P=Tt();m.props.interactive&&g===Af||g==="parent"?C=P.parentNode:C=xf(g,[P]),C.contains(H)||C.appendChild(H),m.state.isMounted=!0,un()}function ge(){return bo(H.querySelectorAll("[data-tippy-root]"))}function ze(g){m.clearDelayTimeouts(),g&&et("onTrigger",[m,g]),kt();var C=O(!0),P=At(),ot=P[0],it=P[1];en.isTouch&&ot==="hold"&&it&&(C=it),C?i=setTimeout(function(){m.show()},C):m.show()}function Be(g){if(m.clearDelayTimeouts(),et("onUntrigger",[m,g]),!m.state.isVisible){at();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(g.type)>=0&&c)){var C=O(!1);C?o=setTimeout(function(){m.state.isVisible&&m.hide()},C):s=requestAnimationFrame(function(){m.hide()})}}function Oe(){m.state.isEnabled=!0}function ne(){m.hide(),m.state.isEnabled=!1}function dn(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(s)}function Jt(g){if(!m.state.isDestroyed){et("onBeforeUpdate",[m,g]),ln();var C=m.props,P=Wl(t,Object.assign({},C,Bl(g),{ignoreAttributes:!0}));m.props=P,Wt(),C.interactiveDebounce!==P.interactiveDebounce&&(mt(),I=Hl(Ke,P.interactiveDebounce)),C.triggerTarget&&!P.triggerTarget?Ni(C.triggerTarget).forEach(function(ot){ot.removeAttribute("aria-expanded")}):P.triggerTarget&&t.removeAttribute("aria-expanded"),A(),F(),ut&&ut(C,P),m.popperInstance&&(un(),ge().forEach(function(ot){requestAnimationFrame(ot._tippy.popperInstance.forceUpdate)})),et("onAfterUpdate",[m,g])}}function me(g){m.setProps({content:g})}function Xe(){var g=m.state.isVisible,C=m.state.isDestroyed,P=!m.state.isEnabled,ot=en.isTouch&&!m.props.touch,it=$s(m.props.duration,0,Ve.duration);if(!(g||C||P||ot)&&!Tt().hasAttribute("disabled")&&(et("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,St()&&(H.style.visibility="visible"),F(),kt(),m.state.isMounted||(H.style.transition="none"),St()){var nt=G(),B=nt.box,V=nt.content;Ns([B,V],0)}_=function(){var Y;if(!(!m.state.isVisible||p)){if(p=!0,H.offsetHeight,H.style.transition=m.props.moveTransition,St()&&m.props.animation){var gt=G(),Ot=gt.box,$t=gt.content;Ns([Ot,$t],it),Fl([Ot,$t],"visible")}rt(),A(),zl(Ms,m),(Y=m.popperInstance)==null||Y.forceUpdate(),et("onMount",[m]),m.props.animation&&St()&&U(it,function(){m.state.isShown=!0,et("onShown",[m])})}},le()}}function Tn(){var g=!m.state.isVisible,C=m.state.isDestroyed,P=!m.state.isEnabled,ot=$s(m.props.duration,1,Ve.duration);if(!(g||C||P)&&(et("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,p=!1,c=!1,St()&&(H.style.visibility="hidden"),mt(),at(),F(!0),St()){var it=G(),nt=it.box,B=it.content;m.props.animation&&(Ns([nt,B],ot),Fl([nt,B],"hidden"))}rt(),A(),m.props.animation?St()&&Bt(ot,m.unmount):m.unmount()}}function Bn(g){x().addEventListener("mousemove",I),zl(Xr,I),I(g)}function y(){m.state.isVisible&&m.hide(),m.state.isMounted&&(fn(),ge().forEach(function(g){g._tippy.unmount()}),H.parentNode&&H.parentNode.removeChild(H),Ms=Ms.filter(function(g){return g!==m}),m.state.isMounted=!1,et("onHidden",[m]))}function T(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),ln(),delete t._tippy,m.state.isDestroyed=!0,et("onDestroy",[m]))}}function ui(t,e){e===void 0&&(e={});var n=Ve.plugins.concat(e.plugins||[]);Yg();var i=Object.assign({},e,{plugins:n}),o=Wg(t),s=o.reduce(function(c,u){var f=u&&om(u,i);return f&&c.push(f),c},[]);return Po(t)?s[0]:s}ui.defaultProps=Ve;ui.setDefaultProps=em;ui.currentInput=en;Object.assign({},No,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});ui.setDefaultProps({render:Sf});/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ln=new Map,Is={set(t,e,n){Ln.has(t)||Ln.set(t,new Map);const i=Ln.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,n)},get(t,e){return Ln.has(t)&&Ln.get(t).get(e)||null},remove(t,e){if(!Ln.has(t))return;const n=Ln.get(t);n.delete(e),n.size===0&&Ln.delete(t)}},sm=1e6,am=1e3,ca="transitionend",Of=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),cm=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),lm=t=>{do t+=Math.floor(Math.random()*sm);while(document.getElementById(t));return t},um=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),o=Number.parseFloat(n);return!i&&!o?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*am)},kf=t=>{t.dispatchEvent(new Event(ca))},bn=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Dn=t=>bn(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Of(t)):null,Qi=t=>{if(!bn(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const i=t.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return e},Mn=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Lf=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Lf(t.parentNode):null},yo=()=>{},Tr=t=>{t.offsetHeight},$f=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ps=[],fm=t=>{document.readyState==="loading"?(Ps.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Ps)e()}),Ps.push(t)):t()},Pe=()=>document.documentElement.dir==="rtl",He=t=>{fm(()=>{const e=$f();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}})},de=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,Nf=(t,e,n=!0)=>{if(!n){de(t);return}const o=um(e)+5;let s=!1;const c=({target:u})=>{u===e&&(s=!0,e.removeEventListener(ca,c),de(t))};e.addEventListener(ca,c),setTimeout(()=>{s||kf(e)},o)},Ma=(t,e,n,i)=>{const o=t.length;let s=t.indexOf(e);return s===-1?!n&&i?t[o-1]:t[0]:(s+=n?1:-1,i&&(s=(s+o)%o),t[Math.max(0,Math.min(s,o-1))])},dm=/[^.]*(?=\..*)\.|.*/,hm=/\..*/,pm=/::\d+$/,Rs={};let ql=1;const Df={mouseenter:"mouseover",mouseleave:"mouseout"},gm=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Mf(t,e){return e&&`${e}::${ql++}`||t.uidEvent||ql++}function If(t){const e=Mf(t);return t.uidEvent=e,Rs[e]=Rs[e]||{},Rs[e]}function mm(t,e){return function n(i){return Ia(i,{delegateTarget:t}),n.oneOff&&M.off(t,i.type,e),e.apply(t,[i])}}function _m(t,e,n){return function i(o){const s=t.querySelectorAll(e);for(let{target:c}=o;c&&c!==this;c=c.parentNode)for(const u of s)if(u===c)return Ia(o,{delegateTarget:c}),i.oneOff&&M.off(t,o.type,e,n),n.apply(c,[o])}}function Pf(t,e,n=null){return Object.values(t).find(i=>i.callable===e&&i.delegationSelector===n)}function Rf(t,e,n){const i=typeof e=="string",o=i?n:e||n;let s=Hf(t);return gm.has(s)||(s=t),[i,o,s]}function Kl(t,e,n,i,o){if(typeof e!="string"||!t)return;let[s,c,u]=Rf(e,n,i);e in Df&&(c=(I=>function(z){if(!z.relatedTarget||z.relatedTarget!==z.delegateTarget&&!z.delegateTarget.contains(z.relatedTarget))return I.call(this,z)})(c));const f=If(t),p=f[u]||(f[u]={}),h=Pf(p,c,s?n:null);if(h){h.oneOff=h.oneOff&&o;return}const w=Mf(c,e.replace(dm,"")),_=s?_m(t,n,c):mm(t,c);_.delegationSelector=s?n:null,_.callable=c,_.oneOff=o,_.uidEvent=w,p[w]=_,t.addEventListener(u,_,s)}function la(t,e,n,i,o){const s=Pf(e[n],i,o);s&&(t.removeEventListener(n,s,!!o),delete e[n][s.uidEvent])}function vm(t,e,n,i){const o=e[n]||{};for(const[s,c]of Object.entries(o))s.includes(i)&&la(t,e,n,c.callable,c.delegationSelector)}function Hf(t){return t=t.replace(hm,""),Df[t]||t}const M={on(t,e,n,i){Kl(t,e,n,i,!1)},one(t,e,n,i){Kl(t,e,n,i,!0)},off(t,e,n,i){if(typeof e!="string"||!t)return;const[o,s,c]=Rf(e,n,i),u=c!==e,f=If(t),p=f[c]||{},h=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(p).length)return;la(t,f,c,s,o?n:null);return}if(h)for(const w of Object.keys(f))vm(t,f,w,e.slice(1));for(const[w,_]of Object.entries(p)){const E=w.replace(pm,"");(!u||e.includes(E))&&la(t,f,c,_.callable,_.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const i=$f(),o=Hf(e),s=e!==o;let c=null,u=!0,f=!0,p=!1;s&&i&&(c=i.Event(e,n),i(t).trigger(c),u=!c.isPropagationStopped(),f=!c.isImmediatePropagationStopped(),p=c.isDefaultPrevented());const h=Ia(new Event(e,{bubbles:u,cancelable:!0}),n);return p&&h.preventDefault(),f&&t.dispatchEvent(h),h.defaultPrevented&&c&&c.preventDefault(),h}};function Ia(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch{Object.defineProperty(t,n,{configurable:!0,get(){return i}})}return t}function Yl(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Hs(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const yn={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Hs(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Hs(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let o=i.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=Yl(t.dataset[i])}return e},getDataAttribute(t,e){return Yl(t.getAttribute(`data-bs-${Hs(e)}`))}};class Cr{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const i=bn(n)?yn.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...bn(n)?yn.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[i,o]of Object.entries(n)){const s=e[i],c=bn(s)?"element":cm(s);if(!new RegExp(o).test(c))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${c}" but expected type "${o}".`)}}}const bm="5.3.3";class Ue extends Cr{constructor(e,n){super(),e=Dn(e),e&&(this._element=e,this._config=this._getConfig(n),Is.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Is.remove(this._element,this.constructor.DATA_KEY),M.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){Nf(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Is.get(Dn(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return bm}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const zs=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>Of(n)).join(","):null},st={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Mn(n)&&Qi(n))},getSelectorFromElement(t){const e=zs(t);return e&&st.findOne(e)?e:null},getElementFromSelector(t){const e=zs(t);return e?st.findOne(e):null},getMultipleElementsFromSelector(t){const e=zs(t);return e?st.find(e):[]}},Ro=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;M.on(document,n,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Mn(this))return;const s=st.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(s)[e]()})},ym="alert",wm="bs.alert",zf=`.${wm}`,Em=`close${zf}`,Am=`closed${zf}`,xm="fade",Tm="show";class Ho extends Ue{static get NAME(){return ym}close(){if(M.trigger(this._element,Em).defaultPrevented)return;this._element.classList.remove(Tm);const n=this._element.classList.contains(xm);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),M.trigger(this._element,Am),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Ho.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ro(Ho,"close");He(Ho);const Cm="button",Sm="bs.button",Om=`.${Sm}`,km=".data-api",Lm="active",Xl='[data-bs-toggle="button"]',$m=`click${Om}${km}`;class zo extends Ue{static get NAME(){return Cm}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Lm))}static jQueryInterface(e){return this.each(function(){const n=zo.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}M.on(document,$m,Xl,t=>{t.preventDefault();const e=t.target.closest(Xl);zo.getOrCreateInstance(e).toggle()});He(zo);const Nm="swipe",Ji=".bs.swipe",Dm=`touchstart${Ji}`,Mm=`touchmove${Ji}`,Im=`touchend${Ji}`,Pm=`pointerdown${Ji}`,Rm=`pointerup${Ji}`,Hm="touch",zm="pen",Bm="pointer-event",Fm=40,jm={endCallback:null,leftCallback:null,rightCallback:null},Gm={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class wo extends Cr{constructor(e,n){super(),this._element=e,!(!e||!wo.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return jm}static get DefaultType(){return Gm}static get NAME(){return Nm}dispose(){M.off(this._element,Ji)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),de(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Fm)return;const n=e/this._deltaX;this._deltaX=0,n&&de(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(M.on(this._element,Pm,e=>this._start(e)),M.on(this._element,Rm,e=>this._end(e)),this._element.classList.add(Bm)):(M.on(this._element,Dm,e=>this._start(e)),M.on(this._element,Mm,e=>this._move(e)),M.on(this._element,Im,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===zm||e.pointerType===Hm)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Wm="carousel",Vm="bs.carousel",Hn=`.${Vm}`,Bf=".data-api",Um="ArrowLeft",qm="ArrowRight",Km=500,ar="next",ki="prev",Di="left",lo="right",Ym=`slide${Hn}`,Bs=`slid${Hn}`,Xm=`keydown${Hn}`,Qm=`mouseenter${Hn}`,Jm=`mouseleave${Hn}`,Zm=`dragstart${Hn}`,t_=`load${Hn}${Bf}`,e_=`click${Hn}${Bf}`,Ff="carousel",Qr="active",n_="slide",i_="carousel-item-end",r_="carousel-item-start",o_="carousel-item-next",s_="carousel-item-prev",jf=".active",Gf=".carousel-item",a_=jf+Gf,c_=".carousel-item img",l_=".carousel-indicators",u_="[data-bs-slide], [data-bs-slide-to]",f_='[data-bs-ride="carousel"]',d_={[Um]:lo,[qm]:Di},h_={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},p_={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Sr extends Ue{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=st.findOne(l_,this._element),this._addEventListeners(),this._config.ride===Ff&&this.cycle()}static get Default(){return h_}static get DefaultType(){return p_}static get NAME(){return Wm}next(){this._slide(ar)}nextWhenVisible(){!document.hidden&&Qi(this._element)&&this.next()}prev(){this._slide(ki)}pause(){this._isSliding&&kf(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){M.one(this._element,Bs,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){M.one(this._element,Bs,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const o=e>i?ar:ki;this._slide(o,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&M.on(this._element,Xm,e=>this._keydown(e)),this._config.pause==="hover"&&(M.on(this._element,Qm,()=>this.pause()),M.on(this._element,Jm,()=>this._maybeEnableCycle())),this._config.touch&&wo.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of st.find(c_,this._element))M.on(i,Zm,o=>o.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Di)),rightCallback:()=>this._slide(this._directionToOrder(lo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Km+this._config.interval))}};this._swipeHelper=new wo(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=d_[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=st.findOne(jf,this._indicatorsElement);n.classList.remove(Qr),n.removeAttribute("aria-current");const i=st.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Qr),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const i=this._getActive(),o=e===ar,s=n||Ma(this._getItems(),i,o,this._config.wrap);if(s===i)return;const c=this._getItemIndex(s),u=E=>M.trigger(this._element,E,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:c});if(u(Ym).defaultPrevented||!i||!s)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(c),this._activeElement=s;const h=o?r_:i_,w=o?o_:s_;s.classList.add(w),Tr(s),i.classList.add(h),s.classList.add(h);const _=()=>{s.classList.remove(h,w),s.classList.add(Qr),i.classList.remove(Qr,w,h),this._isSliding=!1,u(Bs)};this._queueCallback(_,i,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(n_)}_getActive(){return st.findOne(a_,this._element)}_getItems(){return st.find(Gf,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Pe()?e===Di?ki:ar:e===Di?ar:ki}_orderToDirection(e){return Pe()?e===ki?Di:lo:e===ki?lo:Di}static jQueryInterface(e){return this.each(function(){const n=Sr.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}M.on(document,e_,u_,function(t){const e=st.getElementFromSelector(this);if(!e||!e.classList.contains(Ff))return;t.preventDefault();const n=Sr.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(yn.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});M.on(window,t_,()=>{const t=st.find(f_);for(const e of t)Sr.getOrCreateInstance(e)});He(Sr);const g_="collapse",m_="bs.collapse",Or=`.${m_}`,__=".data-api",v_=`show${Or}`,b_=`shown${Or}`,y_=`hide${Or}`,w_=`hidden${Or}`,E_=`click${Or}${__}`,Fs="show",Ii="collapse",Jr="collapsing",A_="collapsed",x_=`:scope .${Ii} .${Ii}`,T_="collapse-horizontal",C_="width",S_="height",O_=".collapse.show, .collapse.collapsing",ua='[data-bs-toggle="collapse"]',k_={parent:null,toggle:!0},L_={parent:"(null|element)",toggle:"boolean"};class vr extends Ue{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const i=st.find(ua);for(const o of i){const s=st.getSelectorFromElement(o),c=st.find(s).filter(u=>u===this._element);s!==null&&c.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return k_}static get DefaultType(){return L_}static get NAME(){return g_}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(O_).filter(u=>u!==this._element).map(u=>vr.getOrCreateInstance(u,{toggle:!1}))),e.length&&e[0]._isTransitioning||M.trigger(this._element,v_).defaultPrevented)return;for(const u of e)u.hide();const i=this._getDimension();this._element.classList.remove(Ii),this._element.classList.add(Jr),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Jr),this._element.classList.add(Ii,Fs),this._element.style[i]="",M.trigger(this._element,b_)},c=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown()||M.trigger(this._element,y_).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Tr(this._element),this._element.classList.add(Jr),this._element.classList.remove(Ii,Fs);for(const o of this._triggerArray){const s=st.getElementFromSelector(o);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Jr),this._element.classList.add(Ii),M.trigger(this._element,w_)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Fs)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Dn(e.parent),e}_getDimension(){return this._element.classList.contains(T_)?C_:S_}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ua);for(const n of e){const i=st.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(e){const n=st.find(x_,this._config.parent);return st.find(e,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const i of e)i.classList.toggle(A_,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const i=vr.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}M.on(document,E_,ua,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of st.getMultipleElementsFromSelector(this))vr.getOrCreateInstance(e,{toggle:!1}).toggle()});He(vr);const Ql="dropdown",$_="bs.dropdown",di=`.${$_}`,Pa=".data-api",N_="Escape",Jl="Tab",D_="ArrowUp",Zl="ArrowDown",M_=2,I_=`hide${di}`,P_=`hidden${di}`,R_=`show${di}`,H_=`shown${di}`,Wf=`click${di}${Pa}`,Vf=`keydown${di}${Pa}`,z_=`keyup${di}${Pa}`,Mi="show",B_="dropup",F_="dropend",j_="dropstart",G_="dropup-center",W_="dropdown-center",ei='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',V_=`${ei}.${Mi}`,uo=".dropdown-menu",U_=".navbar",q_=".navbar-nav",K_=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Y_=Pe()?"top-end":"top-start",X_=Pe()?"top-start":"top-end",Q_=Pe()?"bottom-end":"bottom-start",J_=Pe()?"bottom-start":"bottom-end",Z_=Pe()?"left-start":"right-start",tv=Pe()?"right-start":"left-start",ev="top",nv="bottom",iv={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rv={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class on extends Ue{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=st.next(this._element,uo)[0]||st.prev(this._element,uo)[0]||st.findOne(uo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return iv}static get DefaultType(){return rv}static get NAME(){return Ql}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Mn(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!M.trigger(this._element,R_,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(q_))for(const i of[].concat(...document.body.children))M.on(i,"mouseover",yo);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Mi),this._element.classList.add(Mi),M.trigger(this._element,H_,e)}}hide(){if(Mn(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!M.trigger(this._element,I_,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))M.off(i,"mouseover",yo);this._popper&&this._popper.destroy(),this._menu.classList.remove(Mi),this._element.classList.remove(Mi),this._element.setAttribute("aria-expanded","false"),yn.removeDataAttribute(this._menu,"popper"),M.trigger(this._element,P_,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!bn(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Ql.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof bf>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:bn(this._config.reference)?e=Dn(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Io(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Mi)}_getPlacement(){const e=this._parent;if(e.classList.contains(F_))return Z_;if(e.classList.contains(j_))return tv;if(e.classList.contains(G_))return ev;if(e.classList.contains(W_))return nv;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(B_)?n?X_:Y_:n?J_:Q_}_detectNavbar(){return this._element.closest(U_)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(yn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...de(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const i=st.find(K_,this._menu).filter(o=>Qi(o));i.length&&Ma(i,n,e===Zl,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=on.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===M_||e.type==="keyup"&&e.key!==Jl)return;const n=st.find(V_);for(const i of n){const o=on.getInstance(i);if(!o||o._config.autoClose===!1)continue;const s=e.composedPath(),c=s.includes(o._menu);if(s.includes(o._element)||o._config.autoClose==="inside"&&!c||o._config.autoClose==="outside"&&c||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Jl||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const u={relatedTarget:o._element};e.type==="click"&&(u.clickEvent=e),o._completeHide(u)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),i=e.key===N_,o=[D_,Zl].includes(e.key);if(!o&&!i||n&&!i)return;e.preventDefault();const s=this.matches(ei)?this:st.prev(this,ei)[0]||st.next(this,ei)[0]||st.findOne(ei,e.delegateTarget.parentNode),c=on.getOrCreateInstance(s);if(o){e.stopPropagation(),c.show(),c._selectMenuItem(e);return}c._isShown()&&(e.stopPropagation(),c.hide(),s.focus())}}M.on(document,Vf,ei,on.dataApiKeydownHandler);M.on(document,Vf,uo,on.dataApiKeydownHandler);M.on(document,Wf,on.clearMenus);M.on(document,z_,on.clearMenus);M.on(document,Wf,ei,function(t){t.preventDefault(),on.getOrCreateInstance(this).toggle()});He(on);const Uf="backdrop",ov="fade",tu="show",eu=`mousedown.bs.${Uf}`,sv={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},av={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qf extends Cr{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return sv}static get DefaultType(){return av}static get NAME(){return Uf}show(e){if(!this._config.isVisible){de(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Tr(n),n.classList.add(tu),this._emulateAnimation(()=>{de(e)})}hide(e){if(!this._config.isVisible){de(e);return}this._getElement().classList.remove(tu),this._emulateAnimation(()=>{this.dispose(),de(e)})}dispose(){this._isAppended&&(M.off(this._element,eu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(ov),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Dn(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),M.on(e,eu,()=>{de(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Nf(e,this._getElement(),this._config.isAnimated)}}const cv="focustrap",lv="bs.focustrap",Eo=`.${lv}`,uv=`focusin${Eo}`,fv=`keydown.tab${Eo}`,dv="Tab",hv="forward",nu="backward",pv={autofocus:!0,trapElement:null},gv={autofocus:"boolean",trapElement:"element"};class Kf extends Cr{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return pv}static get DefaultType(){return gv}static get NAME(){return cv}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),M.off(document,Eo),M.on(document,uv,e=>this._handleFocusin(e)),M.on(document,fv,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,M.off(document,Eo))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const i=st.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===nu?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===dv&&(this._lastTabNavDirection=e.shiftKey?nu:hv)}}const iu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ru=".sticky-top",Zr="padding-right",ou="margin-right";class fa{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Zr,n=>n+e),this._setElementAttributes(iu,Zr,n=>n+e),this._setElementAttributes(ru,ou,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Zr),this._resetElementAttributes(iu,Zr),this._resetElementAttributes(ru,ou)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,i){const o=this.getWidth(),s=c=>{if(c!==this._element&&window.innerWidth>c.clientWidth+o)return;this._saveInitialAttribute(c,n);const u=window.getComputedStyle(c).getPropertyValue(n);c.style.setProperty(n,`${i(Number.parseFloat(u))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&yn.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){const i=o=>{const s=yn.getDataAttribute(o,n);if(s===null){o.style.removeProperty(n);return}yn.removeDataAttribute(o,n),o.style.setProperty(n,s)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,n){if(bn(e)){n(e);return}for(const i of st.find(e,this._element))n(i)}}const mv="modal",_v="bs.modal",Re=`.${_v}`,vv=".data-api",bv="Escape",yv=`hide${Re}`,wv=`hidePrevented${Re}`,Yf=`hidden${Re}`,Xf=`show${Re}`,Ev=`shown${Re}`,Av=`resize${Re}`,xv=`click.dismiss${Re}`,Tv=`mousedown.dismiss${Re}`,Cv=`keydown.dismiss${Re}`,Sv=`click${Re}${vv}`,su="modal-open",Ov="fade",au="show",js="modal-static",kv=".modal.show",Lv=".modal-dialog",$v=".modal-body",Nv='[data-bs-toggle="modal"]',Dv={backdrop:!0,focus:!0,keyboard:!0},Mv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ui extends Ue{constructor(e,n){super(e,n),this._dialog=st.findOne(Lv,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new fa,this._addEventListeners()}static get Default(){return Dv}static get DefaultType(){return Mv}static get NAME(){return mv}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||M.trigger(this._element,Xf,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(su),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||M.trigger(this._element,yv).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(au),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){M.off(window,Re),M.off(this._dialog,Re),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Kf({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=st.findOne($v,this._dialog);n&&(n.scrollTop=0),Tr(this._element),this._element.classList.add(au);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,M.trigger(this._element,Ev,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){M.on(this._element,Cv,e=>{if(e.key===bv){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),M.on(window,Av,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),M.on(this._element,Tv,e=>{M.one(this._element,xv,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(su),this._resetAdjustments(),this._scrollBar.reset(),M.trigger(this._element,Yf)})}_isAnimated(){return this._element.classList.contains(Ov)}_triggerBackdropTransition(){if(M.trigger(this._element,wv).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(js)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(js),this._queueCallback(()=>{this._element.classList.remove(js),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!e){const o=Pe()?"paddingLeft":"paddingRight";this._element.style[o]=`${n}px`}if(!i&&e){const o=Pe()?"paddingRight":"paddingLeft";this._element.style[o]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const i=Ui.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](n)}})}}M.on(document,Sv,Nv,function(t){const e=st.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),M.one(e,Xf,o=>{o.defaultPrevented||M.one(e,Yf,()=>{Qi(this)&&this.focus()})});const n=st.findOne(kv);n&&Ui.getInstance(n).hide(),Ui.getOrCreateInstance(e).toggle(this)});Ro(Ui);He(Ui);const Iv="offcanvas",Pv="bs.offcanvas",An=`.${Pv}`,Qf=".data-api",Rv=`load${An}${Qf}`,Hv="Escape",cu="show",lu="showing",uu="hiding",zv="offcanvas-backdrop",Jf=".offcanvas.show",Bv=`show${An}`,Fv=`shown${An}`,jv=`hide${An}`,fu=`hidePrevented${An}`,Zf=`hidden${An}`,Gv=`resize${An}`,Wv=`click${An}${Qf}`,Vv=`keydown.dismiss${An}`,Uv='[data-bs-toggle="offcanvas"]',qv={backdrop:!0,keyboard:!0,scroll:!1},Kv={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class In extends Ue{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qv}static get DefaultType(){return Kv}static get NAME(){return Iv}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||M.trigger(this._element,Bv,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new fa().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(lu);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(cu),this._element.classList.remove(lu),M.trigger(this._element,Fv,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||M.trigger(this._element,jv).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(uu),this._backdrop.hide();const n=()=>{this._element.classList.remove(cu,uu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new fa().reset(),M.trigger(this._element,Zf)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){M.trigger(this._element,fu);return}this.hide()},n=!!this._config.backdrop;return new qf({className:zv,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new Kf({trapElement:this._element})}_addEventListeners(){M.on(this._element,Vv,e=>{if(e.key===Hv){if(this._config.keyboard){this.hide();return}M.trigger(this._element,fu)}})}static jQueryInterface(e){return this.each(function(){const n=In.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}M.on(document,Wv,Uv,function(t){const e=st.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Mn(this))return;M.one(e,Zf,()=>{Qi(this)&&this.focus()});const n=st.findOne(Jf);n&&n!==e&&In.getInstance(n).hide(),In.getOrCreateInstance(e).toggle(this)});M.on(window,Rv,()=>{for(const t of st.find(Jf))In.getOrCreateInstance(t).show()});M.on(window,Gv,()=>{for(const t of st.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&In.getOrCreateInstance(t).hide()});Ro(In);He(In);const Yv=/^aria-[\w-]*$/i,td={"*":["class","dir","id","lang","role",Yv],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Xv=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Qv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Jv=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?Xv.has(n)?!!Qv.test(t.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function Zv(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const o=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...o.body.querySelectorAll("*"));for(const c of s){const u=c.nodeName.toLowerCase();if(!Object.keys(e).includes(u)){c.remove();continue}const f=[].concat(...c.attributes),p=[].concat(e["*"]||[],e[u]||[]);for(const h of f)Jv(h,p)||c.removeAttribute(h.nodeName)}return o.body.innerHTML}const tb="TemplateFactory",eb={allowList:td,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nb={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ib={entry:"(string|element|function|null)",selector:"(string|element)"};class rb extends Cr{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return eb}static get DefaultType(){return nb}static get NAME(){return tb}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,s]of Object.entries(this._config.content))this._setContent(e,s,o);const n=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,i]of Object.entries(e))super._typeCheckConfig({selector:n,entry:i},ib)}_setContent(e,n,i){const o=st.findOne(i,e);if(o){if(n=this._resolvePossibleFunction(n),!n){o.remove();return}if(bn(n)){this._putElementInTemplate(Dn(n),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(n);return}o.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Zv(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return de(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const ob="tooltip",sb=new Set(["sanitize","allowList","sanitizeFn"]),Gs="fade",ab="modal",to="show",cb=".tooltip-inner",du=`.${ab}`,hu="hide.bs.modal",cr="hover",Ws="focus",lb="click",ub="manual",fb="hide",db="hidden",hb="show",pb="shown",gb="inserted",mb="click",_b="focusin",vb="focusout",bb="mouseenter",yb="mouseleave",wb={AUTO:"auto",TOP:"top",RIGHT:Pe()?"left":"right",BOTTOM:"bottom",LEFT:Pe()?"right":"left"},Eb={allowList:td,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ab={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zi extends Ue{constructor(e,n){if(typeof bf>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Eb}static get DefaultType(){return Ab}static get NAME(){return ob}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),M.off(this._element.closest(du),hu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=M.trigger(this._element,this.constructor.eventName(hb)),i=(Lf(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(o),M.trigger(this._element,this.constructor.eventName(gb))),this._popper=this._createPopper(o),o.classList.add(to),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))M.on(u,"mouseover",yo);const c=()=>{M.trigger(this._element,this.constructor.eventName(pb)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(c,this.tip,this._isAnimated())}hide(){if(!this._isShown()||M.trigger(this._element,this.constructor.eventName(fb)).defaultPrevented)return;if(this._getTipElement().classList.remove(to),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))M.off(o,"mouseover",yo);this._activeTrigger[lb]=!1,this._activeTrigger[Ws]=!1,this._activeTrigger[cr]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),M.trigger(this._element,this.constructor.eventName(db)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Gs,to),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=lm(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(Gs),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new rb({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[cb]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Gs)}_isShown(){return this.tip&&this.tip.classList.contains(to)}_createPopper(e){const n=de(this._config.placement,[this,e,this._element]),i=wb[n.toUpperCase()];return Io(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return de(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...de(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")M.on(this._element,this.constructor.eventName(mb),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==ub){const i=n===cr?this.constructor.eventName(bb):this.constructor.eventName(_b),o=n===cr?this.constructor.eventName(yb):this.constructor.eventName(vb);M.on(this._element,i,this._config.selector,s=>{const c=this._initializeOnDelegatedTarget(s);c._activeTrigger[s.type==="focusin"?Ws:cr]=!0,c._enter()}),M.on(this._element,o,this._config.selector,s=>{const c=this._initializeOnDelegatedTarget(s);c._activeTrigger[s.type==="focusout"?Ws:cr]=c._element.contains(s.relatedTarget),c._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},M.on(this._element.closest(du),hu,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=yn.getDataAttributes(this._element);for(const i of Object.keys(n))sb.has(i)&&delete n[i];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Dn(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(e[n]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Zi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}He(Zi);const xb="popover",Tb=".popover-header",Cb=".popover-body",Sb={...Zi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ob={...Zi.DefaultType,content:"(null|string|element|function)"};class Bo extends Zi{static get Default(){return Sb}static get DefaultType(){return Ob}static get NAME(){return xb}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Tb]:this._getTitle(),[Cb]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Bo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}He(Bo);const kb="scrollspy",Lb="bs.scrollspy",Ra=`.${Lb}`,$b=".data-api",Nb=`activate${Ra}`,pu=`click${Ra}`,Db=`load${Ra}${$b}`,Mb="dropdown-item",Li="active",Ib='[data-bs-spy="scroll"]',Vs="[href]",Pb=".nav, .list-group",gu=".nav-link",Rb=".nav-item",Hb=".list-group-item",zb=`${gu}, ${Rb} > ${gu}, ${Hb}`,Bb=".dropdown",Fb=".dropdown-toggle",jb={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Gb={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Fo extends Ue{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return jb}static get DefaultType(){return Gb}static get NAME(){return kb}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Dn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(M.off(this._config.target,pu),M.on(this._config.target,pu,Vs,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const i=this._rootElement||window,o=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:o,behavior:"smooth"});return}i.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=c=>this._targetLinks.get(`#${c.target.id}`),i=c=>{this._previousScrollData.visibleEntryTop=c.target.offsetTop,this._process(n(c))},o=(this._rootElement||document.documentElement).scrollTop,s=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const c of e){if(!c.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(c));continue}const u=c.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&u){if(i(c),!o)return;continue}!s&&!u&&i(c)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=st.find(Vs,this._config.target);for(const n of e){if(!n.hash||Mn(n))continue;const i=st.findOne(decodeURI(n.hash),this._element);Qi(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Li),this._activateParents(e),M.trigger(this._element,Nb,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Mb)){st.findOne(Fb,e.closest(Bb)).classList.add(Li);return}for(const n of st.parents(e,Pb))for(const i of st.prev(n,zb))i.classList.add(Li)}_clearActiveClass(e){e.classList.remove(Li);const n=st.find(`${Vs}.${Li}`,e);for(const i of n)i.classList.remove(Li)}static jQueryInterface(e){return this.each(function(){const n=Fo.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}M.on(window,Db,()=>{for(const t of st.find(Ib))Fo.getOrCreateInstance(t)});He(Fo);const Wb="tab",Vb="bs.tab",hi=`.${Vb}`,Ub=`hide${hi}`,qb=`hidden${hi}`,Kb=`show${hi}`,Yb=`shown${hi}`,Xb=`click${hi}`,Qb=`keydown${hi}`,Jb=`load${hi}`,Zb="ArrowLeft",mu="ArrowRight",ty="ArrowUp",_u="ArrowDown",Us="Home",vu="End",ni="active",bu="fade",qs="show",ey="dropdown",ed=".dropdown-toggle",ny=".dropdown-menu",Ks=`:not(${ed})`,iy='.list-group, .nav, [role="tablist"]',ry=".nav-item, .list-group-item",oy=`.nav-link${Ks}, .list-group-item${Ks}, [role="tab"]${Ks}`,nd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ys=`${oy}, ${nd}`,sy=`.${ni}[data-bs-toggle="tab"], .${ni}[data-bs-toggle="pill"], .${ni}[data-bs-toggle="list"]`;class qi extends Ue{constructor(e){super(e),this._parent=this._element.closest(iy),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),M.on(this._element,Qb,n=>this._keydown(n)))}static get NAME(){return Wb}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),i=n?M.trigger(n,Ub,{relatedTarget:e}):null;M.trigger(e,Kb,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(ni),this._activate(st.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(qs);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),M.trigger(e,Yb,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(bu))}_deactivate(e,n){if(!e)return;e.classList.remove(ni),e.blur(),this._deactivate(st.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(qs);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),M.trigger(e,qb,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(bu))}_keydown(e){if(![Zb,mu,ty,_u,Us,vu].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(o=>!Mn(o));let i;if([Us,vu].includes(e.key))i=n[e.key===Us?0:n.length-1];else{const o=[mu,_u].includes(e.key);i=Ma(n,e.target,o,!0)}i&&(i.focus({preventScroll:!0}),qi.getOrCreateInstance(i).show())}_getChildren(){return st.find(Ys,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",n),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=st.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const i=this._getOuterElement(e);if(!i.classList.contains(ey))return;const o=(s,c)=>{const u=st.findOne(s,i);u&&u.classList.toggle(c,n)};o(ed,ni),o(ny,qs),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,i){e.hasAttribute(n)||e.setAttribute(n,i)}_elemIsActive(e){return e.classList.contains(ni)}_getInnerElement(e){return e.matches(Ys)?e:st.findOne(Ys,e)}_getOuterElement(e){return e.closest(ry)||e}static jQueryInterface(e){return this.each(function(){const n=qi.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}M.on(document,Xb,nd,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Mn(this)&&qi.getOrCreateInstance(this).show()});M.on(window,Jb,()=>{for(const t of st.find(sy))qi.getOrCreateInstance(t)});He(qi);const ay="toast",cy="bs.toast",zn=`.${cy}`,ly=`mouseover${zn}`,uy=`mouseout${zn}`,fy=`focusin${zn}`,dy=`focusout${zn}`,hy=`hide${zn}`,py=`hidden${zn}`,gy=`show${zn}`,my=`shown${zn}`,_y="fade",yu="hide",eo="show",no="showing",vy={animation:"boolean",autohide:"boolean",delay:"number"},by={animation:!0,autohide:!0,delay:5e3};class jo extends Ue{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return by}static get DefaultType(){return vy}static get NAME(){return ay}show(){if(M.trigger(this._element,gy).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(_y);const n=()=>{this._element.classList.remove(no),M.trigger(this._element,my),this._maybeScheduleHide()};this._element.classList.remove(yu),Tr(this._element),this._element.classList.add(eo,no),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||M.trigger(this._element,hy).defaultPrevented)return;const n=()=>{this._element.classList.add(yu),this._element.classList.remove(no,eo),M.trigger(this._element,py)};this._element.classList.add(no),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(eo),super.dispose()}isShown(){return this._element.classList.contains(eo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){M.on(this._element,ly,e=>this._onInteraction(e,!0)),M.on(this._element,uy,e=>this._onInteraction(e,!1)),M.on(this._element,fy,e=>this._onInteraction(e,!0)),M.on(this._element,dy,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=jo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Ro(jo);He(jo);const Xs=new Map;function fr(t){var n;Xs.forEach(i=>{i.forEach(o=>o.destroy())}),Xs.clear();const e=Ce();e.innerHTML=`
    <div class="container mt-4">
      <h2 class="text-center mb-4">状态</h2>

      <div class="row">
        <!-- 属性栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${t.name} 的属性</h4>
            </div>
            <div class="card-body">
              <div id="attribute-bar" class="list-group list-group-flush">
                ${(()=>{const i=t.getAbility(),o=t.getExtraAbility();return Object.entries(i).map(([s,c])=>{const u=o[s]||0;let f="";return u>0?f=`<span class="badge bg-success ms-2">+${u}</span>`:u<0&&(f=`<span class="badge bg-danger ms-2">${u}</span>`),`
                      <div class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-bold text-capitalize">${s}</span>
                        <div>
                          <span class="text-muted">${c}</span>
                          ${f}
                        </div>
                      </div>
                    `}).join("")})()}
              </div>
            </div>
          </div>
        </div>

        <!-- 行动列表区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${t.name} 的行动列表</h4>
            </div>
            <div class="card-body">
              <!-- Tab 导航 -->
              <ul class="nav nav-underline mb-3" id="actionTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="extra-tab" data-bs-toggle="tab" data-bs-target="#extra-actions" type="button" role="tab" aria-controls="extra-actions" aria-selected="true">
                    装备额外行动
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="base-tab" data-bs-toggle="tab" data-bs-target="#base-actions" type="button" role="tab" aria-controls="base-actions" aria-selected="false">
                    基础行动
                  </button>
                </li>
              </ul>
              <!-- Tab 内容 -->
              <div class="tab-content" id="actionTabContent">
                <!-- 装备额外行动列表（默认激活） -->
                <div class="tab-pane fade show active" id="extra-actions" role="tabpanel" aria-labelledby="extra-tab">
                  <ul class="list-group">
                    ${t.getExtraActions().sort((i,o)=>Ut[o.actionType].rarity-Ut[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Ut[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Tl(t,Ut[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Ut[i.actionType].name}</span>
                            <span class="badge bg-${R[Ut[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
                <!-- 基础行动列表 -->
                <div class="tab-pane fade" id="base-actions" role="tabpanel" aria-labelledby="base-tab">
                  <ul class="list-group">
                    ${t.actions.sort((i,o)=>Ut[o.actionType].rarity-Ut[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Ut[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Tl(t,Ut[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Ut[i.actionType].name}</span>
                            <span class="badge bg-${R[Ut[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 装备栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的装备</h4>
            </div>
            <div class="card-body">
              <div id="equipment-bar" class="list-group">
                ${Object.entries(t.equipments).map(([i,o])=>`
                  <div id="equipment-slot-${i}" class="list-group-item">
                    <div class="d-flex align-items-center gap-2">
                      <span class="fw-bold">${i}</span>
                      ${o?`<span id="equipment-slot-${i}" class="badge bg-${R[o.rarity]}">${o.name}</span>`:'<span class="badge bg-secondary">空</span>'}
                    </div>
                  </div>
                `).join("")}
              </div>
            </div>
          </div>
        </div>

      <!-- 背包区域 -->
      <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
          <div class="card-header bg-secondary text-white">
            <h4 class="card-title mb-0">${t.name} 的背包</h4>
          </div>
          <div class="card-body">
            <!-- Tab 导航 -->
            <ul class="nav nav-underline mb-3" id="packTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab" aria-controls="all" aria-selected="true">
                  全部
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="equip-tab" data-bs-toggle="tab" data-bs-target="#equip" type="button" role="tab" aria-controls="equip" aria-selected="false">
                  装备
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="consumable-tab" data-bs-toggle="tab" data-bs-target="#consumable" type="button" role="tab" aria-controls="consumable" aria-selected="false">
                  消耗品
                </button>
              </li>
            </ul>
            <!-- Tab 内容 -->
            <div class="tab-content" id="packTabContent">
              <!-- 全部标签 -->
              <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                <div id="pack-all" class="d-flex flex-wrap gap-2">
                  ${t.pack.length>0?t.pack.sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${R[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Ls(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">背包为空</p>'}
                </div>
              </div>
              <!-- 装备标签 -->
              <div class="tab-pane fade" id="equip" role="tabpanel" aria-labelledby="equip-tab">
                <div id="pack-equip" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof nn).length>0?t.pack.filter(i=>i instanceof nn).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${R[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Ls(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有装备</p>'}
                </div>
              </div>
              <!-- 道具标签 -->
              <div class="tab-pane fade" id="consumable" role="tabpanel" aria-labelledby="consumable-tab">
                <div id="pack-consumable" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof We).length>0?t.pack.filter(i=>i instanceof We).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${R[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Ls(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有道具</p>'}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 宠物区域 -->
      <div class="row mb-4">
        <div class="col">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的宠物</h4>
            </div>
            <div class="card-body">
              <div id="pet" class="list-group">
                ${t.capturedMonster.length>0?t.capturedMonster.map(i=>`
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                          <span class="fw-bold">${i.name}</span>
                          <span class="text-muted">Lv. ${i.level}</span>
                        </div>
                      `).join(""):'<p class="text-muted">暂无宠物</p>'}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 返回主菜单按钮 -->
      <div class="text-center">
        <button id="back-btn" class="btn btn-primary">返回主菜单</button>
      </div>
    </div>
  `,(n=document.getElementById("back-btn"))==null||n.addEventListener("click",()=>{Pn(t)});for(const i of t.pack){const o=kl(i),s=document.querySelectorAll(`[id="use-btn${i.uuid}"]`),c=[];Xs.set(i.uuid,c),s.forEach(u=>{const f=ui(u,{theme:"game",content:`
          ${o}
          <button id="use-btn${i.uuid}" class="btn btn-success">
            ${i instanceof We?"使用":"装备"}
          </button>
          <button id="discard-btn${i.uuid}" class="btn btn-danger">
            丢弃
          </button>
        `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(p){const h=p.popper.querySelector(`#use-btn${i.uuid}`);h&&h.addEventListener("click",_=>{_.stopPropagation(),p.hide(),i instanceof We?(i.useItem(t),t.addLog(`${t.name} 使用了 ${i.name}`),_n(t),fr(t)):i instanceof nn&&(t.wearEquipment(i),_n(t),fr(t))});const w=p.popper.querySelector(`#discard-btn${i.uuid}`);w&&w.addEventListener("click",_=>{_.stopPropagation(),p.hide(),t.discardItem(i),_n(t),fr(t)})}});c.push(f)})}for(const[i,o]of Object.entries(t.equipments)){if(!o)continue;const s=kl(o),c=document.getElementById(`equipment-slot-${i}`);c&&ui(c,{theme:"game",content:`
        ${s}
        <button id="remove-btn${o.uuid}" class="btn btn-primary">
          卸下
        </button>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(u){const f=u.popper.querySelector(`#remove-btn${o.uuid}`);f&&f.addEventListener("click",p=>{p.stopPropagation(),u.hide(),t.removeEquipment(i),_n(t),fr(t)})}})}document.querySelectorAll('[data-bs-toggle="popover"]').forEach(i=>{new Bo(i)})}var xn=(t=>(t.NormalMonster="NormalMonster",t.EliteMonster="EliteMonster",t.Boss="Boss",t.Treasure="Treasure",t.Camp="Camp",t.BackHome="BackHome",t.Rest="Rest",t.Event="Event",t.ToOtherRegion="ToOtherRegion",t))(xn||{});const id={name:"森林1-1",id:"forest1_1",description:"森林1-1",type:xn.NormalMonster,position:{x:100,y:100},toNodeList:[],monsterList:[{monster:ee.Slime,maxLevel:1,minLevel:1,weight:1}]},wu={name:"森林入口",id:"forest0_1",description:"森林入口",type:xn.Camp,position:{x:200,y:200},toNodeList:[id]},rd={name:"森林",id:"forest",description:"森林",isOpen:!1,startNode:wu,nodeList:[wu,id]},od={name:"遗迹出口",id:"ruin3_2",description:"外面是一眼望不到头的森林，你可以闻到森林中传来的泥土和青草的气息",type:xn.ToOtherRegion,position:{x:450,y:900},toNodeList:[],region:rd},Ha={name:"靠近出口的房间",id:"ruin2_1",description:"一只强壮且凶恶的哥布林正镇守在这里",type:xn.Boss,position:{x:600,y:700},toNodeList:[od],bossStageList:[{monster:ee.GoblinLeader,maxLevel:1,minLevel:0,maxIndividualStrength:1.1,minIndividualStrength:1}]},sd={name:"哥布林的藏宝室",id:"ruin2_2",description:"哥布林把掠夺来的宝物藏在了这里",type:xn.Treasure,position:{x:700,y:550},toNodeList:[Ha],treasureList:[{item:Ht.GoldChest,minLevel:0,maxLevel:0,weight:1}]},ad={name:"遗迹走廊",id:"ruin1_1",description:"这个遗迹似乎已经成为了哥布林的巢穴",type:xn.NormalMonster,position:{x:500,y:550},toNodeList:[Ha,sd],monsterList:[{monster:ee.Goblin,maxLevel:0,minLevel:0,weight:1}]},Eu={name:"遗迹深处的房间",id:"ruin0_1",description:"遗迹深处的房间，被厚厚的石门封锁着。正中间正是你躺了一百年的石棺",type:xn.Camp,position:{x:300,y:450},toNodeList:[ad]},yy={name:"遗迹",id:"ruin",description:"遗迹",isOpen:!0,startNode:Eu,nodeList:[Eu,ad,Ha,sd,od]},wy={forest:rd,ruin:yy};function za(t){return wy[t]}function Ey(t){var i;const e=Ce(),n=t.unlockedRegionIdList.map(o=>za(o));e.innerHTML=`
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        ${n.map(o=>`
            <div class="col-12 col-md-4">
              <button id="${o.id}-btn" class="btn btn-primary w-100 py-3">
                ${o.name}
              </button>
            </div>
          `).join("")}
        <div class="col-12 col-md-4">
          <button id="return-btn" class="btn btn-success w-100 py-3">返回主菜单</button>
        </div>
      </div>
    </div>
    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,n.forEach(o=>{var s;(s=document.getElementById(`${o.id}-btn`))==null||s.addEventListener("click",()=>{t.currentRegionId=o.id,Pn(t)})}),(i=document.getElementById("return-btn"))==null||i.addEventListener("click",()=>{Pn(t)})}const Ay="/otherworld114514/assets/ruin-BbvlXD7H.png",xy="/otherworld114514/assets/frame-CCh_H3tG.png";var Ty={value:()=>{}};function Ba(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new fo(n)}function fo(t){this._=t}function Cy(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}fo.prototype=Ba.prototype={constructor:fo,on:function(t,e){var n=this._,i=Cy(t+"",n),o,s=-1,c=i.length;if(arguments.length<2){for(;++s<c;)if((o=(t=i[s]).type)&&(o=Sy(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<c;)if(o=(t=i[s]).type)n[o]=Au(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Au(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new fo(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,o=s.length;i<o;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,s=i.length;o<s;++o)i[o].value.apply(e,n)}};function Sy(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Au(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Ty,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var da="http://www.w3.org/1999/xhtml";const xu={svg:"http://www.w3.org/2000/svg",xhtml:da,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Go(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),xu.hasOwnProperty(e)?{space:xu[e],local:t}:t}function Oy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===da&&e.documentElement.namespaceURI===da?e.createElement(t):e.createElementNS(n,t)}}function ky(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function cd(t){var e=Go(t);return(e.local?ky:Oy)(e)}function Ly(){}function Fa(t){return t==null?Ly:function(){return this.querySelector(t)}}function $y(t){typeof t!="function"&&(t=Fa(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],c=s.length,u=i[o]=new Array(c),f,p,h=0;h<c;++h)(f=s[h])&&(p=t.call(f,f.__data__,h,s))&&("__data__"in f&&(p.__data__=f.__data__),u[h]=p);return new Te(i,this._parents)}function Ny(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Dy(){return[]}function ld(t){return t==null?Dy:function(){return this.querySelectorAll(t)}}function My(t){return function(){return Ny(t.apply(this,arguments))}}function Iy(t){typeof t=="function"?t=My(t):t=ld(t);for(var e=this._groups,n=e.length,i=[],o=[],s=0;s<n;++s)for(var c=e[s],u=c.length,f,p=0;p<u;++p)(f=c[p])&&(i.push(t.call(f,f.__data__,p,c)),o.push(f));return new Te(i,o)}function ud(t){return function(){return this.matches(t)}}function fd(t){return function(e){return e.matches(t)}}var Py=Array.prototype.find;function Ry(t){return function(){return Py.call(this.children,t)}}function Hy(){return this.firstElementChild}function zy(t){return this.select(t==null?Hy:Ry(typeof t=="function"?t:fd(t)))}var By=Array.prototype.filter;function Fy(){return Array.from(this.children)}function jy(t){return function(){return By.call(this.children,t)}}function Gy(t){return this.selectAll(t==null?Fy:jy(typeof t=="function"?t:fd(t)))}function Wy(t){typeof t!="function"&&(t=ud(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],c=s.length,u=i[o]=[],f,p=0;p<c;++p)(f=s[p])&&t.call(f,f.__data__,p,s)&&u.push(f);return new Te(i,this._parents)}function dd(t){return new Array(t.length)}function Vy(){return new Te(this._enter||this._groups.map(dd),this._parents)}function Ao(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ao.prototype={constructor:Ao,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Uy(t){return function(){return t}}function qy(t,e,n,i,o,s){for(var c=0,u,f=e.length,p=s.length;c<p;++c)(u=e[c])?(u.__data__=s[c],i[c]=u):n[c]=new Ao(t,s[c]);for(;c<f;++c)(u=e[c])&&(o[c]=u)}function Ky(t,e,n,i,o,s,c){var u,f,p=new Map,h=e.length,w=s.length,_=new Array(h),E;for(u=0;u<h;++u)(f=e[u])&&(_[u]=E=c.call(f,f.__data__,u,e)+"",p.has(E)?o[u]=f:p.set(E,f));for(u=0;u<w;++u)E=c.call(t,s[u],u,s)+"",(f=p.get(E))?(i[u]=f,f.__data__=s[u],p.delete(E)):n[u]=new Ao(t,s[u]);for(u=0;u<h;++u)(f=e[u])&&p.get(_[u])===f&&(o[u]=f)}function Yy(t){return t.__data__}function Xy(t,e){if(!arguments.length)return Array.from(this,Yy);var n=e?Ky:qy,i=this._parents,o=this._groups;typeof t!="function"&&(t=Uy(t));for(var s=o.length,c=new Array(s),u=new Array(s),f=new Array(s),p=0;p<s;++p){var h=i[p],w=o[p],_=w.length,E=Qy(t.call(h,h&&h.__data__,p,i)),I=E.length,z=u[p]=new Array(I),D=c[p]=new Array(I),L=f[p]=new Array(_);n(h,w,z,D,L,E,e);for(var W=0,tt=0,m,q;W<I;++W)if(m=z[W]){for(W>=tt&&(tt=W+1);!(q=D[tt])&&++tt<I;);m._next=q||null}}return c=new Te(c,i),c._enter=u,c._exit=f,c}function Qy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jy(){return new Te(this._exit||this._groups.map(dd),this._parents)}function Zy(t,e,n){var i=this.enter(),o=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function t0(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,s=i.length,c=Math.min(o,s),u=new Array(o),f=0;f<c;++f)for(var p=n[f],h=i[f],w=p.length,_=u[f]=new Array(w),E,I=0;I<w;++I)(E=p[I]||h[I])&&(_[I]=E);for(;f<o;++f)u[f]=n[f];return new Te(u,this._parents)}function e0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,s=i[o],c;--o>=0;)(c=i[o])&&(s&&c.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(c,s),s=c);return this}function n0(t){t||(t=i0);function e(w,_){return w&&_?t(w.__data__,_.__data__):!w-!_}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var c=n[s],u=c.length,f=o[s]=new Array(u),p,h=0;h<u;++h)(p=c[h])&&(f[h]=p);f.sort(e)}return new Te(o,this._parents).order()}function i0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function r0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function o0(){return Array.from(this)}function s0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length;o<s;++o){var c=i[o];if(c)return c}return null}function a0(){let t=0;for(const e of this)++t;return t}function c0(){return!this.node()}function l0(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],s=0,c=o.length,u;s<c;++s)(u=o[s])&&t.call(u,u.__data__,s,o);return this}function u0(t){return function(){this.removeAttribute(t)}}function f0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function d0(t,e){return function(){this.setAttribute(t,e)}}function h0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function p0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function g0(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function m0(t,e){var n=Go(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?f0:u0:typeof e=="function"?n.local?g0:p0:n.local?h0:d0)(n,e))}function hd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _0(t){return function(){this.style.removeProperty(t)}}function v0(t,e,n){return function(){this.style.setProperty(t,e,n)}}function b0(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function y0(t,e,n){return arguments.length>1?this.each((e==null?_0:typeof e=="function"?b0:v0)(t,e,n??"")):Ki(this.node(),t)}function Ki(t,e){return t.style.getPropertyValue(e)||hd(t).getComputedStyle(t,null).getPropertyValue(e)}function w0(t){return function(){delete this[t]}}function E0(t,e){return function(){this[t]=e}}function A0(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function x0(t,e){return arguments.length>1?this.each((e==null?w0:typeof e=="function"?A0:E0)(t,e)):this.node()[t]}function pd(t){return t.trim().split(/^|\s+/)}function ja(t){return t.classList||new gd(t)}function gd(t){this._node=t,this._names=pd(t.getAttribute("class")||"")}gd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function md(t,e){for(var n=ja(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function _d(t,e){for(var n=ja(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function T0(t){return function(){md(this,t)}}function C0(t){return function(){_d(this,t)}}function S0(t,e){return function(){(e.apply(this,arguments)?md:_d)(this,t)}}function O0(t,e){var n=pd(t+"");if(arguments.length<2){for(var i=ja(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?S0:e?T0:C0)(n,e))}function k0(){this.textContent=""}function L0(t){return function(){this.textContent=t}}function $0(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function N0(t){return arguments.length?this.each(t==null?k0:(typeof t=="function"?$0:L0)(t)):this.node().textContent}function D0(){this.innerHTML=""}function M0(t){return function(){this.innerHTML=t}}function I0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function P0(t){return arguments.length?this.each(t==null?D0:(typeof t=="function"?I0:M0)(t)):this.node().innerHTML}function R0(){this.nextSibling&&this.parentNode.appendChild(this)}function H0(){return this.each(R0)}function z0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function B0(){return this.each(z0)}function F0(t){var e=typeof t=="function"?t:cd(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function j0(){return null}function G0(t,e){var n=typeof t=="function"?t:cd(t),i=e==null?j0:typeof e=="function"?e:Fa(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function W0(){var t=this.parentNode;t&&t.removeChild(this)}function V0(){return this.each(W0)}function U0(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function q0(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function K0(t){return this.select(t?q0:U0)}function Y0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function X0(t){return function(e){t.call(this,e,this.__data__)}}function Q0(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function J0(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,s;n<o;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function Z0(t,e,n){return function(){var i=this.__on,o,s=X0(e);if(i){for(var c=0,u=i.length;c<u;++c)if((o=i[c]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=e;return}}this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(o):this.__on=[o]}}function tw(t,e,n){var i=Q0(t+""),o,s=i.length,c;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,p=u.length,h;f<p;++f)for(o=0,h=u[f];o<s;++o)if((c=i[o]).type===h.type&&c.name===h.name)return h.value}return}for(u=e?Z0:J0,o=0;o<s;++o)this.each(u(i[o],e,n));return this}function vd(t,e,n){var i=hd(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ew(t,e){return function(){return vd(this,t,e)}}function nw(t,e){return function(){return vd(this,t,e.apply(this,arguments))}}function iw(t,e){return this.each((typeof e=="function"?nw:ew)(t,e))}function*rw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length,c;o<s;++o)(c=i[o])&&(yield c)}var bd=[null];function Te(t,e){this._groups=t,this._parents=e}function kr(){return new Te([[document.documentElement]],bd)}function ow(){return this}Te.prototype=kr.prototype={constructor:Te,select:$y,selectAll:Iy,selectChild:zy,selectChildren:Gy,filter:Wy,data:Xy,enter:Vy,exit:Jy,join:Zy,merge:t0,selection:ow,order:e0,sort:n0,call:r0,nodes:o0,node:s0,size:a0,empty:c0,each:l0,attr:m0,style:y0,property:x0,classed:O0,text:N0,html:P0,raise:H0,lower:B0,append:F0,insert:G0,remove:V0,clone:K0,datum:Y0,on:tw,dispatch:iw,[Symbol.iterator]:rw};function Nn(t){return typeof t=="string"?new Te([[document.querySelector(t)]],[document.documentElement]):new Te([[t]],bd)}function sw(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Jn(t,e){if(t=sw(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const ha={capture:!0,passive:!1};function pa(t){t.preventDefault(),t.stopImmediatePropagation()}function aw(t){var e=t.document.documentElement,n=Nn(t).on("dragstart.drag",pa,ha);"onselectstart"in e?n.on("selectstart.drag",pa,ha):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function cw(t,e){var n=t.document.documentElement,i=Nn(t).on("dragstart.drag",null);e&&(i.on("click.drag",pa,ha),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ga(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yd(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Lr(){}var br=.7,xo=1/br,Pi="\\s*([+-]?\\d+)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lw=/^#([0-9a-f]{3,8})$/,uw=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),fw=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),dw=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${yr}\\)$`),hw=new RegExp(`^rgba\\(${sn},${sn},${sn},${yr}\\)$`),pw=new RegExp(`^hsl\\(${yr},${sn},${sn}\\)$`),gw=new RegExp(`^hsla\\(${yr},${sn},${sn},${yr}\\)$`),Tu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ga(Lr,wr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Cu,formatHex:Cu,formatHex8:mw,formatHsl:_w,formatRgb:Su,toString:Su});function Cu(){return this.rgb().formatHex()}function mw(){return this.rgb().formatHex8()}function _w(){return wd(this).formatHsl()}function Su(){return this.rgb().formatRgb()}function wr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ou(e):n===3?new he(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?io(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?io(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uw.exec(t))?new he(e[1],e[2],e[3],1):(e=fw.exec(t))?new he(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dw.exec(t))?io(e[1],e[2],e[3],e[4]):(e=hw.exec(t))?io(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pw.exec(t))?$u(e[1],e[2]/100,e[3]/100,1):(e=gw.exec(t))?$u(e[1],e[2]/100,e[3]/100,e[4]):Tu.hasOwnProperty(t)?Ou(Tu[t]):t==="transparent"?new he(NaN,NaN,NaN,0):null}function Ou(t){return new he(t>>16&255,t>>8&255,t&255,1)}function io(t,e,n,i){return i<=0&&(t=e=n=NaN),new he(t,e,n,i)}function vw(t){return t instanceof Lr||(t=wr(t)),t?(t=t.rgb(),new he(t.r,t.g,t.b,t.opacity)):new he}function ga(t,e,n,i){return arguments.length===1?vw(t):new he(t,e,n,i??1)}function he(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Ga(he,ga,yd(Lr,{brighter(t){return t=t==null?xo:Math.pow(xo,t),new he(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?br:Math.pow(br,t),new he(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new he(oi(this.r),oi(this.g),oi(this.b),To(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ku,formatHex:ku,formatHex8:bw,formatRgb:Lu,toString:Lu}));function ku(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}`}function bw(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}${ii((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lu(){const t=To(this.opacity);return`${t===1?"rgb(":"rgba("}${oi(this.r)}, ${oi(this.g)}, ${oi(this.b)}${t===1?")":`, ${t})`}`}function To(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function oi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ii(t){return t=oi(t),(t<16?"0":"")+t.toString(16)}function $u(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ge(t,e,n,i)}function wd(t){if(t instanceof Ge)return new Ge(t.h,t.s,t.l,t.opacity);if(t instanceof Lr||(t=wr(t)),!t)return new Ge;if(t instanceof Ge)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),s=Math.max(e,n,i),c=NaN,u=s-o,f=(s+o)/2;return u?(e===s?c=(n-i)/u+(n<i)*6:n===s?c=(i-e)/u+2:c=(e-n)/u+4,u/=f<.5?s+o:2-s-o,c*=60):u=f>0&&f<1?0:c,new Ge(c,u,f,t.opacity)}function yw(t,e,n,i){return arguments.length===1?wd(t):new Ge(t,e,n,i??1)}function Ge(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Ga(Ge,yw,yd(Lr,{brighter(t){return t=t==null?xo:Math.pow(xo,t),new Ge(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?br:Math.pow(br,t),new Ge(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new he(Qs(t>=240?t-240:t+120,o,i),Qs(t,o,i),Qs(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Ge(Nu(this.h),ro(this.s),ro(this.l),To(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=To(this.opacity);return`${t===1?"hsl(":"hsla("}${Nu(this.h)}, ${ro(this.s)*100}%, ${ro(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Nu(t){return t=(t||0)%360,t<0?t+360:t}function ro(t){return Math.max(0,Math.min(1,t||0))}function Qs(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ed=t=>()=>t;function ww(t,e){return function(n){return t+n*e}}function Ew(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Aw(t){return(t=+t)==1?Ad:function(e,n){return n-e?Ew(e,n,t):Ed(isNaN(e)?n:e)}}function Ad(t,e){var n=e-t;return n?ww(t,n):Ed(isNaN(t)?e:t)}const Du=function t(e){var n=Aw(e);function i(o,s){var c=n((o=ga(o)).r,(s=ga(s)).r),u=n(o.g,s.g),f=n(o.b,s.b),p=Ad(o.opacity,s.opacity);return function(h){return o.r=c(h),o.g=u(h),o.b=f(h),o.opacity=p(h),o+""}}return i.gamma=t,i}(1);function $n(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ma=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Js=new RegExp(ma.source,"g");function xw(t){return function(){return t}}function Tw(t){return function(e){return t(e)+""}}function Cw(t,e){var n=ma.lastIndex=Js.lastIndex=0,i,o,s,c=-1,u=[],f=[];for(t=t+"",e=e+"";(i=ma.exec(t))&&(o=Js.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(i=i[0])===(o=o[0])?u[c]?u[c]+=o:u[++c]=o:(u[++c]=null,f.push({i:c,x:$n(i,o)})),n=Js.lastIndex;return n<e.length&&(s=e.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?Tw(f[0].x):xw(e):(e=f.length,function(p){for(var h=0,w;h<e;++h)u[(w=f[h]).i]=w.x(p);return u.join("")})}var Mu=180/Math.PI,_a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xd(t,e,n,i,o,s){var c,u,f;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),t*i<e*n&&(t=-t,e=-e,f=-f,c=-c),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*Mu,skewX:Math.atan(f)*Mu,scaleX:c,scaleY:u}}var oo;function Sw(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_a:xd(e.a,e.b,e.c,e.d,e.e,e.f)}function Ow(t){return t==null||(oo||(oo=document.createElementNS("http://www.w3.org/2000/svg","g")),oo.setAttribute("transform",t),!(t=oo.transform.baseVal.consolidate()))?_a:(t=t.matrix,xd(t.a,t.b,t.c,t.d,t.e,t.f))}function Td(t,e,n,i){function o(p){return p.length?p.pop()+" ":""}function s(p,h,w,_,E,I){if(p!==w||h!==_){var z=E.push("translate(",null,e,null,n);I.push({i:z-4,x:$n(p,w)},{i:z-2,x:$n(h,_)})}else(w||_)&&E.push("translate("+w+e+_+n)}function c(p,h,w,_){p!==h?(p-h>180?h+=360:h-p>180&&(p+=360),_.push({i:w.push(o(w)+"rotate(",null,i)-2,x:$n(p,h)})):h&&w.push(o(w)+"rotate("+h+i)}function u(p,h,w,_){p!==h?_.push({i:w.push(o(w)+"skewX(",null,i)-2,x:$n(p,h)}):h&&w.push(o(w)+"skewX("+h+i)}function f(p,h,w,_,E,I){if(p!==w||h!==_){var z=E.push(o(E)+"scale(",null,",",null,")");I.push({i:z-4,x:$n(p,w)},{i:z-2,x:$n(h,_)})}else(w!==1||_!==1)&&E.push(o(E)+"scale("+w+","+_+")")}return function(p,h){var w=[],_=[];return p=t(p),h=t(h),s(p.translateX,p.translateY,h.translateX,h.translateY,w,_),c(p.rotate,h.rotate,w,_),u(p.skewX,h.skewX,w,_),f(p.scaleX,p.scaleY,h.scaleX,h.scaleY,w,_),p=h=null,function(E){for(var I=-1,z=_.length,D;++I<z;)w[(D=_[I]).i]=D.x(E);return w.join("")}}}var kw=Td(Sw,"px, ","px)","deg)"),Lw=Td(Ow,", ",")",")"),$w=1e-12;function Iu(t){return((t=Math.exp(t))+1/t)/2}function Nw(t){return((t=Math.exp(t))-1/t)/2}function Dw(t){return((t=Math.exp(2*t))-1)/(t+1)}const Mw=function t(e,n,i){function o(s,c){var u=s[0],f=s[1],p=s[2],h=c[0],w=c[1],_=c[2],E=h-u,I=w-f,z=E*E+I*I,D,L;if(z<$w)L=Math.log(_/p)/e,D=function(ut){return[u+ut*E,f+ut*I,p*Math.exp(e*ut*L)]};else{var W=Math.sqrt(z),tt=(_*_-p*p+i*z)/(2*p*n*W),m=(_*_-p*p-i*z)/(2*_*n*W),q=Math.log(Math.sqrt(tt*tt+1)-tt),H=Math.log(Math.sqrt(m*m+1)-m);L=(H-q)/e,D=function(ut){var ct=ut*L,Ct=Iu(q),At=p/(n*W)*(Ct*Dw(e*ct+q)-Nw(q));return[u+At*E,f+At*I,p*Ct/Iu(e*ct+q)]}}return D.duration=L*1e3*e/Math.SQRT2,D}return o.rho=function(s){var c=Math.max(.001,+s),u=c*c,f=u*u;return t(c,u,f)},o}(Math.SQRT2,2,4);var Yi=0,dr=0,lr=0,Cd=1e3,Co,hr,So=0,fi=0,Wo=0,Er=typeof performance=="object"&&performance.now?performance:Date,Sd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wa(){return fi||(Sd(Iw),fi=Er.now()+Wo)}function Iw(){fi=0}function Oo(){this._call=this._time=this._next=null}Oo.prototype=Od.prototype={constructor:Oo,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Wa():+n)+(e==null?0:+e),!this._next&&hr!==this&&(hr?hr._next=this:Co=this,hr=this),this._call=t,this._time=n,va()},stop:function(){this._call&&(this._call=null,this._time=1/0,va())}};function Od(t,e,n){var i=new Oo;return i.restart(t,e,n),i}function Pw(){Wa(),++Yi;for(var t=Co,e;t;)(e=fi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Yi}function Pu(){fi=(So=Er.now())+Wo,Yi=dr=0;try{Pw()}finally{Yi=0,Hw(),fi=0}}function Rw(){var t=Er.now(),e=t-So;e>Cd&&(Wo-=e,So=t)}function Hw(){for(var t,e=Co,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Co=n);hr=t,va(i)}function va(t){if(!Yi){dr&&(dr=clearTimeout(dr));var e=t-fi;e>24?(t<1/0&&(dr=setTimeout(Pu,t-Er.now()-Wo)),lr&&(lr=clearInterval(lr))):(lr||(So=Er.now(),lr=setInterval(Rw,Cd)),Yi=1,Sd(Pu))}}function Ru(t,e,n){var i=new Oo;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var zw=Ba("start","end","cancel","interrupt"),Bw=[],kd=0,Hu=1,ba=2,ho=3,zu=4,ya=5,po=6;function Vo(t,e,n,i,o,s){var c=t.__transition;if(!c)t.__transition={};else if(n in c)return;Fw(t,n,{name:e,index:i,group:o,on:zw,tween:Bw,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:kd})}function Va(t,e){var n=qe(t,e);if(n.state>kd)throw new Error("too late; already scheduled");return n}function cn(t,e){var n=qe(t,e);if(n.state>ho)throw new Error("too late; already running");return n}function qe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Fw(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Od(s,0,n.time);function s(p){n.state=Hu,n.timer.restart(c,n.delay,n.time),n.delay<=p&&c(p-n.delay)}function c(p){var h,w,_,E;if(n.state!==Hu)return f();for(h in i)if(E=i[h],E.name===n.name){if(E.state===ho)return Ru(c);E.state===zu?(E.state=po,E.timer.stop(),E.on.call("interrupt",t,t.__data__,E.index,E.group),delete i[h]):+h<e&&(E.state=po,E.timer.stop(),E.on.call("cancel",t,t.__data__,E.index,E.group),delete i[h])}if(Ru(function(){n.state===ho&&(n.state=zu,n.timer.restart(u,n.delay,n.time),u(p))}),n.state=ba,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ba){for(n.state=ho,o=new Array(_=n.tween.length),h=0,w=-1;h<_;++h)(E=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(o[++w]=E);o.length=w+1}}function u(p){for(var h=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(f),n.state=ya,1),w=-1,_=o.length;++w<_;)o[w].call(t,h);n.state===ya&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=po,n.timer.stop(),delete i[e];for(var p in i)return;delete t.__transition}}function go(t,e){var n=t.__transition,i,o,s=!0,c;if(n){e=e==null?null:e+"";for(c in n){if((i=n[c]).name!==e){s=!1;continue}o=i.state>ba&&i.state<ya,i.state=po,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[c]}s&&delete t.__transition}}function jw(t){return this.each(function(){go(this,t)})}function Gw(t,e){var n,i;return function(){var o=cn(this,t),s=o.tween;if(s!==n){i=n=s;for(var c=0,u=i.length;c<u;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}o.tween=i}}function Ww(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=cn(this,t),c=s.tween;if(c!==i){o=(i=c).slice();for(var u={name:e,value:n},f=0,p=o.length;f<p;++f)if(o[f].name===e){o[f]=u;break}f===p&&o.push(u)}s.tween=o}}function Vw(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=qe(this.node(),n).tween,o=0,s=i.length,c;o<s;++o)if((c=i[o]).name===t)return c.value;return null}return this.each((e==null?Gw:Ww)(n,t,e))}function Ua(t,e,n){var i=t._id;return t.each(function(){var o=cn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return qe(o,i).value[e]}}function Ld(t,e){var n;return(typeof e=="number"?$n:e instanceof wr?Du:(n=wr(e))?(e=n,Du):Cw)(t,e)}function Uw(t){return function(){this.removeAttribute(t)}}function qw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kw(t,e,n){var i,o=n+"",s;return function(){var c=this.getAttribute(t);return c===o?null:c===i?s:s=e(i=c,n)}}function Yw(t,e,n){var i,o=n+"",s;return function(){var c=this.getAttributeNS(t.space,t.local);return c===o?null:c===i?s:s=e(i=c,n)}}function Xw(t,e,n){var i,o,s;return function(){var c,u=n(this),f;return u==null?void this.removeAttribute(t):(c=this.getAttribute(t),f=u+"",c===f?null:c===i&&f===o?s:(o=f,s=e(i=c,u)))}}function Qw(t,e,n){var i,o,s;return function(){var c,u=n(this),f;return u==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),f=u+"",c===f?null:c===i&&f===o?s:(o=f,s=e(i=c,u)))}}function Jw(t,e){var n=Go(t),i=n==="transform"?Lw:Ld;return this.attrTween(t,typeof e=="function"?(n.local?Qw:Xw)(n,i,Ua(this,"attr."+t,e)):e==null?(n.local?qw:Uw)(n):(n.local?Yw:Kw)(n,i,e))}function Zw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function tE(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function eE(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&tE(t,s)),n}return o._value=e,o}function nE(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Zw(t,s)),n}return o._value=e,o}function iE(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Go(t);return this.tween(n,(i.local?eE:nE)(i,e))}function rE(t,e){return function(){Va(this,t).delay=+e.apply(this,arguments)}}function oE(t,e){return e=+e,function(){Va(this,t).delay=e}}function sE(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rE:oE)(e,t)):qe(this.node(),e).delay}function aE(t,e){return function(){cn(this,t).duration=+e.apply(this,arguments)}}function cE(t,e){return e=+e,function(){cn(this,t).duration=e}}function lE(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?aE:cE)(e,t)):qe(this.node(),e).duration}function uE(t,e){if(typeof e!="function")throw new Error;return function(){cn(this,t).ease=e}}function fE(t){var e=this._id;return arguments.length?this.each(uE(e,t)):qe(this.node(),e).ease}function dE(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;cn(this,t).ease=n}}function hE(t){if(typeof t!="function")throw new Error;return this.each(dE(this._id,t))}function pE(t){typeof t!="function"&&(t=ud(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],c=s.length,u=i[o]=[],f,p=0;p<c;++p)(f=s[p])&&t.call(f,f.__data__,p,s)&&u.push(f);return new En(i,this._parents,this._name,this._id)}function gE(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,s=Math.min(i,o),c=new Array(i),u=0;u<s;++u)for(var f=e[u],p=n[u],h=f.length,w=c[u]=new Array(h),_,E=0;E<h;++E)(_=f[E]||p[E])&&(w[E]=_);for(;u<i;++u)c[u]=e[u];return new En(c,this._parents,this._name,this._id)}function mE(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _E(t,e,n){var i,o,s=mE(e)?Va:cn;return function(){var c=s(this,t),u=c.on;u!==i&&(o=(i=u).copy()).on(e,n),c.on=o}}function vE(t,e){var n=this._id;return arguments.length<2?qe(this.node(),n).on.on(t):this.each(_E(n,t,e))}function bE(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function yE(){return this.on("end.remove",bE(this._id))}function wE(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fa(t));for(var i=this._groups,o=i.length,s=new Array(o),c=0;c<o;++c)for(var u=i[c],f=u.length,p=s[c]=new Array(f),h,w,_=0;_<f;++_)(h=u[_])&&(w=t.call(h,h.__data__,_,u))&&("__data__"in h&&(w.__data__=h.__data__),p[_]=w,Vo(p[_],e,n,_,p,qe(h,n)));return new En(s,this._parents,e,n)}function EE(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ld(t));for(var i=this._groups,o=i.length,s=[],c=[],u=0;u<o;++u)for(var f=i[u],p=f.length,h,w=0;w<p;++w)if(h=f[w]){for(var _=t.call(h,h.__data__,w,f),E,I=qe(h,n),z=0,D=_.length;z<D;++z)(E=_[z])&&Vo(E,e,n,z,_,I);s.push(_),c.push(h)}return new En(s,c,e,n)}var AE=kr.prototype.constructor;function xE(){return new AE(this._groups,this._parents)}function TE(t,e){var n,i,o;return function(){var s=Ki(this,t),c=(this.style.removeProperty(t),Ki(this,t));return s===c?null:s===n&&c===i?o:o=e(n=s,i=c)}}function $d(t){return function(){this.style.removeProperty(t)}}function CE(t,e,n){var i,o=n+"",s;return function(){var c=Ki(this,t);return c===o?null:c===i?s:s=e(i=c,n)}}function SE(t,e,n){var i,o,s;return function(){var c=Ki(this,t),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(t),Ki(this,t))),c===f?null:c===i&&f===o?s:(o=f,s=e(i=c,u))}}function OE(t,e){var n,i,o,s="style."+e,c="end."+s,u;return function(){var f=cn(this,t),p=f.on,h=f.value[s]==null?u||(u=$d(e)):void 0;(p!==n||o!==h)&&(i=(n=p).copy()).on(c,o=h),f.on=i}}function kE(t,e,n){var i=(t+="")=="transform"?kw:Ld;return e==null?this.styleTween(t,TE(t,i)).on("end.style."+t,$d(t)):typeof e=="function"?this.styleTween(t,SE(t,i,Ua(this,"style."+t,e))).each(OE(this._id,t)):this.styleTween(t,CE(t,i,e),n).on("end.style."+t,null)}function LE(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function $E(t,e,n){var i,o;function s(){var c=e.apply(this,arguments);return c!==o&&(i=(o=c)&&LE(t,c,n)),i}return s._value=e,s}function NE(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,$E(t,e,n??""))}function DE(t){return function(){this.textContent=t}}function ME(t){return function(){var e=t(this);this.textContent=e??""}}function IE(t){return this.tween("text",typeof t=="function"?ME(Ua(this,"text",t)):DE(t==null?"":t+""))}function PE(t){return function(e){this.textContent=t.call(this,e)}}function RE(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&PE(o)),e}return i._value=t,i}function HE(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,RE(t))}function zE(){for(var t=this._name,e=this._id,n=Nd(),i=this._groups,o=i.length,s=0;s<o;++s)for(var c=i[s],u=c.length,f,p=0;p<u;++p)if(f=c[p]){var h=qe(f,e);Vo(f,t,n,p,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new En(i,this._parents,t,n)}function BE(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(s,c){var u={value:c},f={value:function(){--o===0&&s()}};n.each(function(){var p=cn(this,i),h=p.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(f)),p.on=e}),o===0&&s()})}var FE=0;function En(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Nd(){return++FE}var mn=kr.prototype;En.prototype={constructor:En,select:wE,selectAll:EE,selectChild:mn.selectChild,selectChildren:mn.selectChildren,filter:pE,merge:gE,selection:xE,transition:zE,call:mn.call,nodes:mn.nodes,node:mn.node,size:mn.size,empty:mn.empty,each:mn.each,on:vE,attr:Jw,attrTween:iE,style:kE,styleTween:NE,text:IE,textTween:HE,remove:yE,tween:Vw,delay:sE,duration:lE,ease:fE,easeVarying:hE,end:BE,[Symbol.iterator]:mn[Symbol.iterator]};function jE(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var GE={time:null,delay:0,duration:250,ease:jE};function WE(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function VE(t){var e,n;t instanceof En?(e=t._id,t=t._name):(e=Nd(),(n=GE).time=Wa(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var c=i[s],u=c.length,f,p=0;p<u;++p)(f=c[p])&&Vo(f,t,e,p,c,n||WE(f,e));return new En(i,this._parents,t,e)}kr.prototype.interrupt=jw;kr.prototype.transition=VE;const so=t=>()=>t;function UE(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function vn(t,e,n){this.k=t,this.x=e,this.y=n}vn.prototype={constructor:vn,scale:function(t){return t===1?this:new vn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new vn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dd=new vn(1,0,0);vn.prototype;function Zs(t){t.stopImmediatePropagation()}function ur(t){t.preventDefault(),t.stopImmediatePropagation()}function qE(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function KE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Bu(){return this.__zoom||Dd}function YE(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function XE(){return navigator.maxTouchPoints||"ontouchstart"in this}function QE(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],c=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),c>s?(s+c)/2:Math.min(0,s)||Math.max(0,c))}function JE(){var t=qE,e=KE,n=QE,i=YE,o=XE,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,f=Mw,p=Ba("start","zoom","end"),h,w,_,E=500,I=150,z=0,D=10;function L(x){x.property("__zoom",Bu).on("wheel.zoom",ct,{passive:!1}).on("mousedown.zoom",Ct).on("dblclick.zoom",At).filter(o).on("touchstart.zoom",Mt).on("touchmove.zoom",St).on("touchend.zoom touchcancel.zoom",Tt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}L.transform=function(x,G,O,F){var et=x.selection?x.selection():x;et.property("__zoom",Bu),x!==et?q(x,G,O,F):et.interrupt().each(function(){H(this,arguments).event(F).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},L.scaleBy=function(x,G,O,F){L.scaleTo(x,function(){var et=this.__zoom.k,rt=typeof G=="function"?G.apply(this,arguments):G;return et*rt},O,F)},L.scaleTo=function(x,G,O,F){L.transform(x,function(){var et=e.apply(this,arguments),rt=this.__zoom,A=O==null?m(et):typeof O=="function"?O.apply(this,arguments):O,mt=rt.invert(A),yt=typeof G=="function"?G.apply(this,arguments):G;return n(tt(W(rt,yt),A,mt),et,c)},O,F)},L.translateBy=function(x,G,O,F){L.transform(x,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof O=="function"?O.apply(this,arguments):O),e.apply(this,arguments),c)},null,F)},L.translateTo=function(x,G,O,F,et){L.transform(x,function(){var rt=e.apply(this,arguments),A=this.__zoom,mt=F==null?m(rt):typeof F=="function"?F.apply(this,arguments):F;return n(Dd.translate(mt[0],mt[1]).scale(A.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof O=="function"?-O.apply(this,arguments):-O),rt,c)},F,et)};function W(x,G){return G=Math.max(s[0],Math.min(s[1],G)),G===x.k?x:new vn(G,x.x,x.y)}function tt(x,G,O){var F=G[0]-O[0]*x.k,et=G[1]-O[1]*x.k;return F===x.x&&et===x.y?x:new vn(x.k,F,et)}function m(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function q(x,G,O,F){x.on("start.zoom",function(){H(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){H(this,arguments).event(F).end()}).tween("zoom",function(){var et=this,rt=arguments,A=H(et,rt).event(F),mt=e.apply(et,rt),yt=O==null?m(mt):typeof O=="function"?O.apply(et,rt):O,X=Math.max(mt[1][0]-mt[0][0],mt[1][1]-mt[0][1]),dt=et.__zoom,kt=typeof G=="function"?G.apply(et,rt):G,at=f(dt.invert(yt).concat(X/dt.k),kt.invert(yt).concat(X/kt.k));return function(Bt){if(Bt===1)Bt=kt;else{var U=at(Bt),qt=X/U[2];Bt=new vn(qt,yt[0]-U[0]*qt,yt[1]-U[1]*qt)}A.zoom(null,Bt)}})}function H(x,G,O){return!O&&x.__zooming||new ut(x,G)}function ut(x,G){this.that=x,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(x,G),this.taps=0}ut.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,G){return this.mouse&&x!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var G=Nn(this.that).datum();p.call(x,this.that,new UE(x,{sourceEvent:this.sourceEvent,target:L,transform:this.that.__zoom,dispatch:p}),G)}};function ct(x,...G){if(!t.apply(this,arguments))return;var O=H(this,G).event(x),F=this.__zoom,et=Math.max(s[0],Math.min(s[1],F.k*Math.pow(2,i.apply(this,arguments)))),rt=Jn(x);if(O.wheel)(O.mouse[0][0]!==rt[0]||O.mouse[0][1]!==rt[1])&&(O.mouse[1]=F.invert(O.mouse[0]=rt)),clearTimeout(O.wheel);else{if(F.k===et)return;O.mouse=[rt,F.invert(rt)],go(this),O.start()}ur(x),O.wheel=setTimeout(A,I),O.zoom("mouse",n(tt(W(F,et),O.mouse[0],O.mouse[1]),O.extent,c));function A(){O.wheel=null,O.end()}}function Ct(x,...G){if(_||!t.apply(this,arguments))return;var O=x.currentTarget,F=H(this,G,!0).event(x),et=Nn(x.view).on("mousemove.zoom",yt,!0).on("mouseup.zoom",X,!0),rt=Jn(x,O),A=x.clientX,mt=x.clientY;aw(x.view),Zs(x),F.mouse=[rt,this.__zoom.invert(rt)],go(this),F.start();function yt(dt){if(ur(dt),!F.moved){var kt=dt.clientX-A,at=dt.clientY-mt;F.moved=kt*kt+at*at>z}F.event(dt).zoom("mouse",n(tt(F.that.__zoom,F.mouse[0]=Jn(dt,O),F.mouse[1]),F.extent,c))}function X(dt){et.on("mousemove.zoom mouseup.zoom",null),cw(dt.view,F.moved),ur(dt),F.event(dt).end()}}function At(x,...G){if(t.apply(this,arguments)){var O=this.__zoom,F=Jn(x.changedTouches?x.changedTouches[0]:x,this),et=O.invert(F),rt=O.k*(x.shiftKey?.5:2),A=n(tt(W(O,rt),F,et),e.apply(this,G),c);ur(x),u>0?Nn(this).transition().duration(u).call(q,A,F,x):Nn(this).call(L.transform,A,F,x)}}function Mt(x,...G){if(t.apply(this,arguments)){var O=x.touches,F=O.length,et=H(this,G,x.changedTouches.length===F).event(x),rt,A,mt,yt;for(Zs(x),A=0;A<F;++A)mt=O[A],yt=Jn(mt,this),yt=[yt,this.__zoom.invert(yt),mt.identifier],et.touch0?!et.touch1&&et.touch0[2]!==yt[2]&&(et.touch1=yt,et.taps=0):(et.touch0=yt,rt=!0,et.taps=1+!!h);h&&(h=clearTimeout(h)),rt&&(et.taps<2&&(w=yt[0],h=setTimeout(function(){h=null},E)),go(this),et.start())}}function St(x,...G){if(this.__zooming){var O=H(this,G).event(x),F=x.changedTouches,et=F.length,rt,A,mt,yt;for(ur(x),rt=0;rt<et;++rt)A=F[rt],mt=Jn(A,this),O.touch0&&O.touch0[2]===A.identifier?O.touch0[0]=mt:O.touch1&&O.touch1[2]===A.identifier&&(O.touch1[0]=mt);if(A=O.that.__zoom,O.touch1){var X=O.touch0[0],dt=O.touch0[1],kt=O.touch1[0],at=O.touch1[1],Bt=(Bt=kt[0]-X[0])*Bt+(Bt=kt[1]-X[1])*Bt,U=(U=at[0]-dt[0])*U+(U=at[1]-dt[1])*U;A=W(A,Math.sqrt(Bt/U)),mt=[(X[0]+kt[0])/2,(X[1]+kt[1])/2],yt=[(dt[0]+at[0])/2,(dt[1]+at[1])/2]}else if(O.touch0)mt=O.touch0[0],yt=O.touch0[1];else return;O.zoom("touch",n(tt(A,mt,yt),O.extent,c))}}function Tt(x,...G){if(this.__zooming){var O=H(this,G).event(x),F=x.changedTouches,et=F.length,rt,A;for(Zs(x),_&&clearTimeout(_),_=setTimeout(function(){_=null},E),rt=0;rt<et;++rt)A=F[rt],O.touch0&&O.touch0[2]===A.identifier?delete O.touch0:O.touch1&&O.touch1[2]===A.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(A=Jn(A,this),Math.hypot(w[0]-A[0],w[1]-A[1])<D)){var mt=Nn(this).on("dblclick.zoom");mt&&mt.apply(this,arguments)}}}return L.wheelDelta=function(x){return arguments.length?(i=typeof x=="function"?x:so(+x),L):i},L.filter=function(x){return arguments.length?(t=typeof x=="function"?x:so(!!x),L):t},L.touchable=function(x){return arguments.length?(o=typeof x=="function"?x:so(!!x),L):o},L.extent=function(x){return arguments.length?(e=typeof x=="function"?x:so([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),L):e},L.scaleExtent=function(x){return arguments.length?(s[0]=+x[0],s[1]=+x[1],L):[s[0],s[1]]},L.translateExtent=function(x){return arguments.length?(c[0][0]=+x[0][0],c[1][0]=+x[1][0],c[0][1]=+x[0][1],c[1][1]=+x[1][1],L):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},L.constrain=function(x){return arguments.length?(n=x,L):n},L.duration=function(x){return arguments.length?(u=+x,L):u},L.interpolate=function(x){return arguments.length?(f=x,L):f},L.on=function(){var x=p.on.apply(p,arguments);return x===p?L:x},L.clickDistance=function(x){return arguments.length?(z=(x=+x)*x,L):Math.sqrt(z)},L.tapDistance=function(x){return arguments.length?(D=+x,L):D},L}class Md extends Uu{constructor(n,i,o,s=pr[n].typeName){s=s||"未知",n=n||ee.Slime,i=i||1,o=o||1;super(s,n,i,o);bt(this,"description");bt(this,"dropItems");bt(this,"giveExp",0);this.dropItems=pr[n].dropItems,this.description=pr[n].description,this.giveExp=Math.floor(this.maxHealth)*(1+this.level/10)}randomDropItem(){const n=this.dropItems.reduce((o,s)=>o+s.weight,0);let i=Math.random()*n;for(const o of this.dropItems){if(i<o.weight&&o.type)return Yp(o.type,this.level);i-=o.weight}return null}}function Ar(t,e,n){const i=e-n>0?e-n:0;return t*(50/(i+50))}function Uo(t,e,n,i,o,s){let c="",u="";return n.category===S.None?c=n.messageGenerator(t,e):c=t.name+Hi(n)+'<span style="color: blue;">'+Math.round(o)+"</span> ",i.category===S.None?u=i.messageGenerator(e,t):u=e.name+Hi(i)+'<span style="color: orange;">'+Math.round(s)+"</span> ","掷骰："+c+u}function ZE(t,e,n){function i(o,s){return o.name+"看起来似乎会使用"+s.name+"<br>"+ta(o,s)}return Math.random()*t.getAbility().int>Math.random()*e.getAbility().int?i(e,n):"你分辨不出"+e.name+"即将使用的动作"}function tA(t,e,n,i){return n.category===S.Capture&&(n.category=S.Attack),n.category===S.Attack&&i.category===S.Attack?nA(t,e,n,i):n.category===S.Attack&&i.category===S.None||n.category===S.None&&i.category===S.Attack?iA(t,e,n,i):n.category===S.Attack&&i.category===S.Defend||n.category===S.Defend&&i.category===S.Attack?rA(t,e,n,i):n.category===S.Dodge&&i.category===S.Attack||n.category===S.Attack&&i.category===S.Dodge?oA(t,e,n,i):(t.addTempLog("无事发生("+t.name+Hi(n)+" "+e.name+Hi(i)+")"),te.Draw)}function eA(t,e,n,i){t.addTempLog(t.name+"使用了"+n.name+"，"+e.name+"使用了"+i.name);let o=0;for(;n.hits[o]||i.hits[o];){let s=n.hits[o]||_o,c=i.hits[o]||_o;t.statuses.sort((f,p)=>f.priority-p.priority).forEach(f=>{if(f.category===Zt.OnHitStart){const p=Ri[f.type].effect;s=p(t,s,f.statusLevel)}}),e.statuses.sort((f,p)=>f.priority-p.priority).forEach(f=>{if(f.category===Zt.OnHitStart){const p=Ri[f.type].effect;c=p(e,c,f.statusLevel)}}),t.updateStatusesOnHitStart(),e.updateStatusesOnHitStart();const u=tA(t,e,s,c);s.continuous&&u!==te.PlayerWin&&(n.hits.splice(o+1),t.addTempLog(t.name+"的连续hit中断")),c.continuous&&u!==te.EnemyWin&&(i.hits.splice(o+1),t.addTempLog(e.name+"的连续hit中断")),o++}t.clearStatusByCategory(Zt.OnHitStart),e.clearStatusByCategory(Zt.OnHitStart)}function nA(t,e,n,i){const o=ai(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=ai(i.coeff,e.getAbility(),e.getActionCoeff(i.category));if(t.addTempLog(Uo(t,e,n,i,o,s)),o>=s){const c=Ar(o,e.getAbility().armor,t.getAbility().piercing);return e.loseHp(c),t.addTempLog(n.messageGenerator(t,e)+'造成了<span style="color: red;">'+Math.round(c)+"</span>点伤害"),n.extraEffect&&n.extraEffect(t,e),te.PlayerWin}else{const c=Ar(s,t.getAbility().armor,e.getAbility().piercing);return t.loseHp(c),t.addTempLog(i.messageGenerator(e,t)+'造成了<span style="color: red;">'+Math.round(c)+"</span>点伤害"),i.extraEffect&&i.extraEffect(e,t),te.EnemyWin}}function iA(t,e,n,i){let o,s,c;i.category===S.None?(o=t,s=e,c=n):(o=e,s=t,c=i);const u=ai(c.coeff,o.getAbility(),o.getActionCoeff(c.category));t.addTempLog(Uo(t,e,n,i,o.isPlayer?u:0,o.isPlayer?u:0));const f=Ar(u,s.getAbility().armor,o.getAbility().piercing);return s.loseHp(f),t.addTempLog(c.messageGenerator(o,s)+'造成了<span style="color: red;">'+Math.round(f)+"</span>点伤害"),c.extraEffect&&c.extraEffect(o,s),o instanceof Bi?te.PlayerWin:te.EnemyWin}function rA(t,e,n,i){const o=ai(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=ai(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(Uo(t,e,n,i,o,s));const c=n.category===S.Attack,u=c?t:e,f=c?e:t,p=c?n:i,h=c?i:n,w=c?o:s,_=c?s:o,E=w-_>0?w-_:0,I=Ar(E,f.getAbility().armor,u.getAbility().piercing);return f.loseHp(I),E>0?(t.addTempLog(p.messageGenerator(u,f)+`击穿了${f.name}的防御，造成了<span style="color: red;">`+Math.round(I)+`(-${_})</span>点伤害`),p.extraEffect&&p.extraEffect(u,f),c?te.PlayerWin:te.EnemyWin):(t.addTempLog(h.messageGenerator(f,u)+","+p.messageGenerator(u,f)+"但没有造成伤害"),c?te.EnemyWin:te.PlayerWin)}function oA(t,e,n,i){const o=ai(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=ai(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(Uo(t,e,n,i,o,s));const c=n.category===S.Attack,u=c?t:e,f=c?e:t,p=c?n:i,h=c?i:n,w=c?o:s;if(w>(c?s:o)){const E=Ar(w,f.getAbility().armor,u.getAbility().piercing);return f.loseHp(E),t.addTempLog(p.messageGenerator(u,f)+"对"+f.name+'造成了<span style="color: red;">'+Math.round(E)+"</span>点伤害"),c?te.PlayerWin:te.EnemyWin}else return u.addStatus(ti.Unbalance,1),t.addTempLog(h.messageGenerator(u,f)+","+u.name+"失衡了"),c?te.EnemyWin:te.PlayerWin}function ko(t,e,n,i,o){var h,w,_;const s=Ce();let c=e.getRandomAction();const u=ZE(t,e,c);let f=t.getRandomAction(),p=t.getRandomAction();if(t.statuses.sort((E,I)=>E.priority-I.priority).forEach(E=>{if(E.category===Zt.OnTurnStart){const I=Ri[E.type].effect,z=I(t,f,p);f=z.action1,p=z.action2}}),e.statuses.sort((E,I)=>E.priority-I.priority).forEach(E=>{if(E.category===Zt.OnTurnStart){const I=Ri[E.type].effect;c=I(e,c,c).action1}}),n&&i&&(t.addTempLog("--------------------------回合-----------------------------"),eA(t,e,n,i)),t.health<=0){t.addLog(t.name+"撑不住了"),t.clearStatus(),Fu(t,e,!1,o);return}if(e.health<1){t.addLog(t.name+"击败了"+e.name),t.clearStatus(),Fu(t,e,!0,o);return}t.updateStatusesOnTurnEnd(),e.updateStatusesOnTurnEnd(),_n(t),s.innerHTML=`
  <button id="return-btn" type="button" class="btn btn-primary" style="
    position: absolute;
    left: 20px;
    top: 80px;
    z-index: 999;
  ">
    逃跑
  </button>

  <div class="container mt-4">
    <h2 class="text-center mb-3">战斗</h2>

    <!-- 敌人信息 -->
    <div class="card mb-3">
      <div class="card-header bg-danger text-white">
        <h4 class="mb-0">${e.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text fst-italic">"${e.description}"</p>
        <p class="card-text">${u}</p>
        <p class="card-text">HP: <strong>${Math.ceil(e.health)}</strong></p>
      </div>
    </div>

    <!-- 分割线 -->
    <hr>

    <!-- 玩家信息 -->
    <div class="card mb-4">
      <div class="card-header bg-success text-white">
        <h4 class="mb-0">${t.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text">HP: <strong>${Math.ceil(t.health)}</strong></p>
      </div>
    </div>

    <!-- 动作选择 -->
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${f.name}</h5>
            <p class="card-text fst-italic">"${f.description}"</p>
            <p class="card-text">${ta(t,f)}</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${p.name}</h5>
            <p class="card-text fst-italic">"${p.description}"</p>
            <p class="card-text">${ta(t,p)}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 战斗记录 -->
    <div class="card">
      <div class="card-header">
        记录
      </div>
      <div class="card-body" id="log" style="max-height: 200px; overflow-y: auto;">
        ${t.getTempLogs()}
      </div>
    </div>
  </div>
`,(h=document.getElementById("action1-btn"))==null||h.addEventListener("click",()=>{ko(t,e,f,c,o)}),(w=document.getElementById("action2-btn"))==null||w.addEventListener("click",()=>{ko(t,e,p,c,o)}),(_=document.getElementById("return-btn"))==null||_.addEventListener("click",()=>{Pn(t)})}function Fu(t,e,n,i){var u;const o=Ce();let s=!1,c=null;n?(c=e.randomDropItem(),t.exp+=Math.floor(e.giveExp),s=t.checkLevelUp(),t.exp=Math.floor(t.exp),t.addLog(e.name+"掉落了<span style='color: gold;'>"+((c==null?void 0:c.name)??"无")+"</span>"),c&&t.pack.push(c)):(t.health=1,t.addLog(t.name+"拼死从"+e.name+"的手中逃了出来，拖着残破的身躯，回到了城镇")),o.innerHTML=`
  <div class="container mt-4">
    <div class="card text-center shadow">
      <div class="card-header bg-dark text-white">
        <h2 class="mb-0">战斗结束</h2>
      </div>
      <div class="card-body">
        <h4 class="card-title">
          ${t.name}
          ${n?'<span class="text-success">胜利</span>':'<span class="text-danger">失败</span>'}
          <p>lv: ${t.level}${s?"🔺":""} exp: ${t.exp}/${t.getNextLevelExp()}</p>
          ${n?`<p>获得经验: <span class="text-info">${Math.floor(e.giveExp)}</span>  ${c?`获得物品: <span class="text-${R[c.rarity]}">${c.name}</span>`:""}</p>`:""}
        </h4>
        <hr>
        <h5>记录</h5>
        <div id="log" class="border rounded p-3" style="max-height: 250px; overflow-y: auto;">
          ${t.getTempLogs()}
        </div>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" id="continue-btn">继续</button>
      </div>
    </div>
  </div>
`,t.clearTempLogs(),_n(t),(u=document.getElementById("continue-btn"))==null||u.addEventListener("click",()=>{i(t,e,n)})}function sA(t,e,n){n||Pn(t),qa(t)}function aA(t,e){function n(o){const s=o.reduce((f,p)=>f+p.weight,0),c=Math.random()*s;let u=0;for(const f of o)if(u+=f.weight,c<=u)return f}function i(o,s){return Math.floor(Math.random()*(s-o+1))+o}if(t.type===xn.NormalMonster){const o=n(t.monsterList);if(!o)return;const s=i(o.minLevel,o.maxLevel),c=new Md(o.monster,s,1);ko(e,c,null,null,sA)}}function qa(t){var _;const e=Ce();e.innerHTML=`
  <div id="map-container" class="d-flex flex-column" style="flex: 1;">

    <svg id="map-svg" style="flex: 1;"></svg>

    <button id="return-btn" type="button" class="btn btn-primary" style="
      position: absolute;
      left: 50%;
      bottom: 20px;
      transform: translateX(-50%);
      z-index: 10;
    ">
      返回营地
    </button>

  </div>
  `;const n=[],i=[],o=new Set;function s(E){o.has(E.name)||(o.add(E.name),n.push({id:E.name,label:E.name,x:E.position.x,y:E.position.y,node:E}),E.toNodeList.forEach(I=>{i.push({source:E.name,target:I.name}),s(I)}))}s(za(t.currentRegionId).startNode);const c=Nn("#map-svg"),u=c.append("g").attr("class","zoomable"),f=JE().scaleExtent([.5,2]).translateExtent([[0,0],[1e3,1e3]]).on("zoom",E=>{u.attr("transform",E.transform)});c.call(f),u.append("image").attr("xlink:href",Ay).attr("x",0).attr("y",0).attr("width",1e3).attr("height",1e3).lower(),c.append("image").attr("xlink:href",xy).attr("x",0).attr("y",0).attr("width",1e3).attr("height",1e3).style("z-index","2").style("pointer-events","none");const p=u.append("g").attr("class","edges");i.forEach(E=>{const I=n.find(tt=>tt.id===E.source),z=n.find(tt=>tt.id===E.target);if(!I||!z)return;const D=(I.x+z.x)/2,L=(I.y+z.y)/2-50,W=`M ${I.x} ${I.y} Q ${D} ${L}, ${z.x} ${z.y}`;p.append("path").attr("d",W).attr("stroke","#ccc").attr("stroke-width",2).attr("fill","none")});const w=u.append("g").attr("class","nodes").selectAll("g.node").data(n).enter().append("g").attr("class","node").attr("transform",E=>`translate(${E.x}, ${E.y})`).style("cursor","pointer");w.append("circle").attr("r",10).attr("fill","#6FB1FC").attr("stroke","none"),w.each(function(E){const I=E.node;ui(this,{content:`
        <div>
          <h3>${I.name}</h3>
          <p>${I.description}</p>
          <a class="btn btn-primary" id="go-${I.name}">
            前往
          </a>
        </div>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(z){const D=z.popper.querySelector(`#go-${I.name}`);D&&D.addEventListener("click",L=>{L.stopPropagation(),z.hide(),aA(I,t)})}})}),w.attr("opacity",0).transition().duration(500).attr("opacity",1),(_=document.getElementById("return-btn"))==null||_.addEventListener("click",()=>{t.isAtHome=!0,t.currentNodeId=null,Pn(t)})}function Pn(t){var n,i,o,s;const e=Ce();t.isAtHome=!0,t.currentNodeId=null,_n(t),console.log(t),e.innerHTML=`
    <!-- 顶部区域：显示血条和玩家信息 -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <!-- 血条区域 -->
        <div id="health-display" class="mb-3">
          ${t.getHealthDisplay()}
        </div>
        <!-- 玩家信息区域 -->
        <div class="text-center">
          <h2 class="card-title mb-1">
            <span class="badge bg-${t.type===ee.Player114514?"danger":"primary"} ms-2" style="font-size: 0.75rem; padding: 0.35em 0.5em;">
              ${t.type===ee.Player114514?"野兽":"人类"}
            </span>
            ${t.name}
            <small class="text-muted"> lv ${t.level}</small>
          </h2>
          <!-- 经验条 -->
          <div id="exp-display" class="mt-2" style="max-width: 200px; margin: 0 auto;">
            ${t.getExpDisplay()}
          </div>
        </div>

        <!-- 玩家形象区域 -->
        <div class="text-center mt-3">
          <img src=${Kp} alt="玩家形象" class="img-fluid" style="max-height: 200px;">
        </div>
      </div>
    </div>

    <!-- 主菜单区域：用 mt-auto 自动向下推 -->
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        <div class="col-12 col-md-4">
          <button id="battle-btn" class="btn btn-primary w-100 py-3">
            ${t.type===ee.Player114514?"救世啊！":"动身"} 现在地点: ${za(t.currentRegionId).name}
          </button>
        </div>
        <div class="col-12 col-md-4">
          <button id="travel-btn" class="btn btn-success w-100 py-3">快速旅行</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="status-btn" class="btn btn-success w-100 py-3">状态</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="restart-btn" class="btn btn-danger w-100 py-3">秽土转生</button>
        </div>
      </div>

      <!-- 查看记录按钮 -->
      <div class="text-center mt-4">
        <button class="btn btn-info" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
          查看记录
        </button>
      </div>
    </div>

    <!-- Offcanvas 记录面板 -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasRightLabel">记录</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="关闭"></button>
      </div>
      <div class="offcanvas-body">
        <div style="max-height: 60vh; overflow-y: auto;">
          <p>${t.getLastNLog(100)}</p>
        </div>
      </div>
    </div>

    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,(n=document.getElementById("battle-btn"))==null||n.addEventListener("click",()=>{qa(t)}),(i=document.getElementById("travel-btn"))==null||i.addEventListener("click",()=>{Ey(t)}),(o=document.getElementById("status-btn"))==null||o.addEventListener("click",()=>{fr(t)}),(s=document.getElementById("restart-btn"))==null||s.addEventListener("click",()=>{window.confirm("你确定要 remake 吗？")&&(localStorage.clear(),window.location.reload())})}const cA="/otherworld114514/assets/1919-2_wCU3Nu.gif";function lA(){var e,n;const t=Ce();t.innerHTML=`
    <h1>你是谁？</h1>
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">普通人</h5>
            <p class="card-text fst-italic">"我不抽烟，酒仅浅尝辄止。晚上11点睡，保证睡足8小时。睡前喝一杯温牛奶，然后做20分钟的舒缓运动再睡觉，一觉熟睡到天亮，绝不把疲劳和压力留到第二天。医生都说我很正常。"</p>
            <p class="card-text" style="font-weight: bold;">(适合不了解野兽先辈的玩家)</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">野兽仙贝</h5>
            <p class="card-text fst-italic">"伟大的古希腊哲学家，野兽学派的大先辈田所曾这样警醒后人：逸一时，误一世。(如果一时放纵自己，贪图安逸，就可能误了一生的前程) 现在，你将扮演这位伟大的贤人。好时代，来临罢！"</p>
            <p class="card-text" style="font-weight: bold;">(适合拥有野兽之心的玩家)</p>
            </div>
        </div>
      </div>
    </div>
  `,(e=document.getElementById("action1-btn"))==null||e.addEventListener("click",()=>{const i=new Bi("吴田所",ee.Player);na(i),wa(i)}),(n=document.getElementById("action2-btn"))==null||n.addEventListener("click",()=>{const i=new Bi("田所",ee.FullPowerPlayer114514);na(i);const o=new Md(ee.Toono,1,1,"远野");i.isAtHome=!1,ko(i,o,null,null,(s,c,u)=>{u?uA(s):fA(s)})})}function uA(t){var n;const e=Ce();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>距离击败远野已不知过去了多久，但一切都还历历在目。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你不再沉沦，高呼道：伊已逝，吾亦逝。忆旧已久罢忆灵！(你逝去了，而我的心也逝去了，空留肉体如行尸走肉般存活。我已经缅怀故人多时，罢了罢了，是时候随你而去了！)</p>
		<p>你闭上了眼睛。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{Ka(t)})}function fA(t){var n;const e=Ce();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>你被远野击败了。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你愤怒地将手指向远野，不甘心地嘶吼：你是一个一个一个一个，呐，哼哼，啊啊啊啊啊啊啊！！！<p>
    <img src="${cA}" alt="1919">
		<p>但是意识逐渐模糊，你最终还是倒下了。<p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{t.health=t.maxHealth*.8,Ka(t)})}function wa(t){var o,s;const e=Ce(),n=Math.floor(Math.random()*4);let i="";switch(n){case 0:i="<p>车 →→→ 你</p>";break;case 1:i="<p>你 ←←← 车</p>";break;case 2:i=`
      <p style="text-align: center;">  车</p>
      <p style="text-align: center;">  ↓</p>
      <p style="text-align: center;">  你</p>`;break;case 3:i=`
      <p style="text-align: center;">  你</p>
      <p style="text-align: center;">  ↑</p>
      <p style="text-align: center;">  车</p>`;break}e.innerHTML=`
  <h1>躲避大卡车</h1>
  <p>一辆卡车正在向你快速驶来，请选择躲避方向</p>
  ${i}
  <button id="left-btn">向左躲避</button>
  <button id="right-btn">向右躲避</button>
`,(o=document.getElementById("left-btn"))==null||o.addEventListener("click",()=>{Math.random()>.3?wa(t):ju(t)}),(s=document.getElementById("right-btn"))==null||s.addEventListener("click",()=>{Math.random()>.3?wa(t):ju(t)})}function ju(t){var n;const e=Ce();e.innerHTML=`
    <h1>躲避大卡车</h1>
    <p>躲避失败，你嗝屁了</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{Ka(t)})}function Ka(t){var n;if(t.type===ee.FullPowerPlayer114514){const i=t.pack;t=new Bi("田所",ee.Player114514),t.pack=i}const e=Ce();e.innerHTML=`
    <h1>???</h1>
    <p>请输入你的名字</p>
    <input type="text" id="name-input" placeholder="${t.name}">
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{const o=document.getElementById("name-input").value.trim();o?(t.name=o,dA(t)):alert("请输入你的名字！")})}function dA(t){var n;const e=Ce();e.innerHTML=`
    <h1>???</h1>
    <p>你睁开了眼睛，看到了陌生的天花板。</p>
    <p>这里似乎是什么遗迹？周围的墙上刻着壁画和奇怪的文字，而你正躺在房间正中心的石棺中。你虽然看不懂那些文字，但它们的意思却飞入脑中：</p>
    <p class="fst-italic">
    一百年前，一位叫<span style="font-weight: bold;">远野</span>的异界来客统领着野兽大军从极北之地<span style="font-weight: bold;">“下北泽”</span>南下，在毁灭了诸多城市后，远野在下北泽建立了魔王城，在那里指挥大军继续南下侵略。
    为了阻止远野，人类根据预言中的指引从异世界召唤了勇者。但被召唤的勇者一直没有苏醒，人类最终难挡野兽大军的攻势，不得不退守大陆的最南端。
    </p>
    <p>看起来，你正是故事中被召唤的勇者。
    ${t.type===ee.Player114514?"而这位远野，正是前世你最爱却又背叛你的那个人！你握紧了拳头，暗暗发誓一定要报仇雪恨！</p>":"责任感和使命感让你决定挺身而出，阻止远野的侵略。</p>"}
    <p>你站起身来，准备向北进发。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{t.pack.push(new We(Ht.GiftboxAndLetter)),_n(t),Pn(t)})}document.addEventListener("DOMContentLoaded",()=>{let t;try{t=qp()}catch(e){console.log(e),localStorage.clear(),lA();return}t.currentNodeId?qa(t):Pn(t)});
