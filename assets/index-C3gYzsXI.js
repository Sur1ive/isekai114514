var jp=Object.defineProperty;var Vp=(t,e,n)=>e in t?jp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bt=(t,e,n)=>Vp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ll={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ol;function Up(){if(Ol)return Ll;Ol=1;var t;return function(e){(function(n){var i=typeof globalThis=="object"?globalThis:typeof Ml=="object"?Ml:typeof self=="object"?self:typeof this=="object"?this:d(),o=s(e);typeof i.Reflect<"u"&&(o=s(i.Reflect,o)),n(o,i),typeof i.Reflect>"u"&&(i.Reflect=e);function s(p,h){return function(E,m){Object.defineProperty(p,E,{configurable:!0,writable:!0,value:m}),h&&h(E,m)}}function a(){try{return Function("return this;")()}catch{}}function l(){try{return(0,eval)("(function() { return this; })()")}catch{}}function d(){return a()||l()}})(function(n,i){var o=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",a=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",l=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",d=typeof Object.create=="function",p={__proto__:[]}instanceof Array,h=!d&&!p,E={create:d?function(){return Vn(Object.create(null))}:p?function(){return Vn({__proto__:null})}:function(){return Vn({})},has:h?function(w,S){return o.call(w,S)}:function(w,S){return S in w},get:h?function(w,S){return o.call(w,S)?w[S]:void 0}:function(w,S){return w[S]}},m=Object.getPrototypeOf(Function),T=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:be(),z=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:en(),j=typeof WeakMap=="function"?WeakMap:Nn(),$=s?Symbol.for("@reflect-metadata:registry"):void 0,k=Oe(),K=re(k);function it(w,S,g,M){if(G(g)){if(!pn(w))throw new TypeError;if(!Ze(S))throw new TypeError;return Y(w,S)}else{if(!pn(w))throw new TypeError;if(!st(S))throw new TypeError;if(!st(M)&&!G(M)&&!gt(M))throw new TypeError;return gt(M)&&(M=void 0),g=Kt(g),b(w,S,g,M)}}n("decorate",it);function v(w,S){function g(M,F){if(!st(M))throw new TypeError;if(!G(F)&&!Le(F))throw new TypeError;V(w,S,M,F)}return g}n("metadata",v);function J(w,S,g,M){if(!st(g))throw new TypeError;return G(M)||(M=Kt(M)),V(w,S,g,M)}n("defineMetadata",J);function B(w,S,g){if(!st(S))throw new TypeError;return G(g)||(g=Kt(g)),P(w,S,g)}n("hasMetadata",B);function ht(w,S,g){if(!st(S))throw new TypeError;return G(g)||(g=Kt(g)),x(w,S,g)}n("hasOwnMetadata",ht);function ft(w,S,g){if(!st(S))throw new TypeError;return G(g)||(g=Kt(g)),D(w,S,g)}n("getMetadata",ft);function Nt(w,S,g){if(!st(S))throw new TypeError;return G(g)||(g=Kt(g)),q(w,S,g)}n("getOwnMetadata",Nt);function xt(w,S){if(!st(w))throw new TypeError;return G(S)||(S=Kt(S)),y(w,S)}n("getMetadataKeys",xt);function $t(w,S){if(!st(w))throw new TypeError;return G(S)||(S=Kt(S)),ot(w,S)}n("getOwnMetadataKeys",$t);function H(w,S,g){if(!st(S))throw new TypeError;if(G(g)||(g=Kt(g)),!st(S))throw new TypeError;G(g)||(g=Kt(g));var M=ie(S,g,!1);return G(M)?!1:M.OrdinaryDeleteMetadata(w,S,g)}n("deleteMetadata",H);function Y(w,S){for(var g=w.length-1;g>=0;--g){var M=w[g],F=M(S);if(!G(F)&&!gt(F)){if(!Ze(F))throw new TypeError;S=F}}return S}function b(w,S,g,M){for(var F=w.length-1;F>=0;--F){var ut=w[F],ct=ut(S,g,M);if(!G(ct)&&!gt(ct)){if(!st(ct))throw new TypeError;M=ct}}return M}function P(w,S,g){var M=x(w,S,g);if(M)return!0;var F=je(S);return gt(F)?!1:P(w,F,g)}function x(w,S,g){var M=ie(S,g,!1);return G(M)?!1:Gt(M.OrdinaryHasOwnMetadata(w,S,g))}function D(w,S,g){var M=x(w,S,g);if(M)return q(w,S,g);var F=je(S);if(!gt(F))return D(w,F,g)}function q(w,S,g){var M=ie(S,g,!1);if(!G(M))return M.OrdinaryGetOwnMetadata(w,S,g)}function V(w,S,g,M){var F=ie(g,M,!0);F.OrdinaryDefineOwnMetadata(w,S,g,M)}function y(w,S){var g=ot(w,S),M=je(w);if(M===null)return g;var F=y(M,S);if(F.length<=0)return g;if(g.length<=0)return F;for(var ut=new z,ct=[],at=0,W=g;at<W.length;at++){var X=W[at],et=ut.has(X);et||(ut.add(X),ct.push(X))}for(var tt=0,yt=F;tt<yt.length;tt++){var X=yt[tt],et=ut.has(X);et||(ut.add(X),ct.push(X))}return ct}function ot(w,S){var g=ie(w,S,!1);return g?g.OrdinaryOwnMetadataKeys(w,S):[]}function lt(w){if(w===null)return 1;switch(typeof w){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return w===null?1:6;default:return 6}}function G(w){return w===void 0}function gt(w){return w===null}function Lt(w){return typeof w=="symbol"}function st(w){return typeof w=="object"?w!==null:typeof w=="function"}function Ot(w,S){switch(lt(w)){case 0:return w;case 1:return w;case 2:return w;case 3:return w;case 4:return w;case 5:return w}var g="string",M=tn(w,a);if(M!==void 0){var F=M.call(w,g);if(st(F))throw new TypeError;return F}return Q(w)}function Q(w,S){var g,M,F;{var ut=w.toString;if(ee(ut)){var M=ut.call(w);if(!st(M))return M}var g=w.valueOf;if(ee(g)){var M=g.call(w);if(!st(M))return M}}throw new TypeError}function Gt(w){return!!w}function ve(w){return""+w}function Kt(w){var S=Ot(w);return Lt(S)?S:ve(S)}function pn(w){return Array.isArray?Array.isArray(w):w instanceof Object?w instanceof Array:Object.prototype.toString.call(w)==="[object Array]"}function ee(w){return typeof w=="function"}function Ze(w){return typeof w=="function"}function Le(w){switch(lt(w)){case 3:return!0;case 4:return!0;default:return!1}}function ne(w,S){return w===S||w!==w&&S!==S}function tn(w,S){var g=w[S];if(g!=null){if(!ee(g))throw new TypeError;return g}}function gn(w){var S=tn(w,l);if(!ee(S))throw new TypeError;var g=S.call(w);if(!st(g))throw new TypeError;return g}function mn(w){return w.value}function fe(w){var S=w.next();return S.done?!1:S}function _e(w){var S=w.return;S&&S.call(w)}function je(w){var S=Object.getPrototypeOf(w);if(typeof w!="function"||w===m||S!==m)return S;var g=w.prototype,M=g&&Object.getPrototypeOf(g);if(M==null||M===Object.prototype)return S;var F=M.constructor;return typeof F!="function"||F===w?S:F}function Ve(){var w;!G($)&&typeof i.Reflect<"u"&&!($ in i.Reflect)&&typeof i.Reflect.defineMetadata=="function"&&(w=vn(i.Reflect));var S,g,M,F=new j,ut={registerProvider:ct,getProvider:W,setProvider:et};return ut;function ct(tt){if(!Object.isExtensible(ut))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case w===tt:break;case G(S):S=tt;break;case S===tt:break;case G(g):g=tt;break;case g===tt:break;default:M===void 0&&(M=new z),M.add(tt);break}}function at(tt,yt){if(!G(S)){if(S.isProviderFor(tt,yt))return S;if(!G(g)){if(g.isProviderFor(tt,yt))return S;if(!G(M))for(var It=gn(M);;){var Rt=fe(It);if(!Rt)return;var Qt=mn(Rt);if(Qt.isProviderFor(tt,yt))return _e(It),Qt}}}if(!G(w)&&w.isProviderFor(tt,yt))return w}function W(tt,yt){var It=F.get(tt),Rt;return G(It)||(Rt=It.get(yt)),G(Rt)&&(Rt=at(tt,yt),G(Rt)||(G(It)&&(It=new T,F.set(tt,It)),It.set(yt,Rt))),Rt}function X(tt){if(G(tt))throw new TypeError;return S===tt||g===tt||!G(M)&&M.has(tt)}function et(tt,yt,It){if(!X(It))throw new Error("Metadata provider not registered.");var Rt=W(tt,yt);if(Rt!==It){if(!G(Rt))return!1;var Qt=F.get(tt);G(Qt)&&(Qt=new T,F.set(tt,Qt)),Qt.set(yt,It)}return!0}}function Oe(){var w;return!G($)&&st(i.Reflect)&&Object.isExtensible(i.Reflect)&&(w=i.Reflect[$]),G(w)&&(w=Ve()),!G($)&&st(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,$,{enumerable:!1,configurable:!1,writable:!1,value:w}),w}function re(w){var S=new j,g={isProviderFor:function(X,et){var tt=S.get(X);return G(tt)?!1:tt.has(et)},OrdinaryDefineOwnMetadata:ct,OrdinaryHasOwnMetadata:F,OrdinaryGetOwnMetadata:ut,OrdinaryOwnMetadataKeys:at,OrdinaryDeleteMetadata:W};return k.registerProvider(g),g;function M(X,et,tt){var yt=S.get(X),It=!1;if(G(yt)){if(!tt)return;yt=new T,S.set(X,yt),It=!0}var Rt=yt.get(et);if(G(Rt)){if(!tt)return;if(Rt=new T,yt.set(et,Rt),!w.setProvider(X,et,g))throw yt.delete(et),It&&S.delete(X),new Error("Wrong provider for target.")}return Rt}function F(X,et,tt){var yt=M(et,tt,!1);return G(yt)?!1:Gt(yt.has(X))}function ut(X,et,tt){var yt=M(et,tt,!1);if(!G(yt))return yt.get(X)}function ct(X,et,tt,yt){var It=M(tt,yt,!0);It.set(X,et)}function at(X,et){var tt=[],yt=M(X,et,!1);if(G(yt))return tt;for(var It=yt.keys(),Rt=gn(It),Qt=0;;){var Ne=fe(Rt);if(!Ne)return tt.length=Qt,tt;var Dn=mn(Ne);try{tt[Qt]=Dn}catch(ns){try{_e(Rt)}finally{throw ns}}Qt++}}function W(X,et,tt){var yt=M(et,tt,!1);if(G(yt)||!yt.delete(X))return!1;if(yt.size===0){var It=S.get(et);G(It)||(It.delete(tt),It.size===0&&S.delete(It))}return!0}}function vn(w){var S=w.defineMetadata,g=w.hasOwnMetadata,M=w.getOwnMetadata,F=w.getOwnMetadataKeys,ut=w.deleteMetadata,ct=new j,at={isProviderFor:function(W,X){var et=ct.get(W);return!G(et)&&et.has(X)?!0:F(W,X).length?(G(et)&&(et=new z,ct.set(W,et)),et.add(X),!0):!1},OrdinaryDefineOwnMetadata:S,OrdinaryHasOwnMetadata:g,OrdinaryGetOwnMetadata:M,OrdinaryOwnMetadataKeys:F,OrdinaryDeleteMetadata:ut};return at}function ie(w,S,g){var M=k.getProvider(w,S);if(!G(M))return M;if(g){if(k.setProvider(w,S,K))return K;throw new Error("Illegal state.")}}function be(){var w={},S=[],g=function(){function at(W,X,et){this._index=0,this._keys=W,this._values=X,this._selector=et}return at.prototype["@@iterator"]=function(){return this},at.prototype[l]=function(){return this},at.prototype.next=function(){var W=this._index;if(W>=0&&W<this._keys.length){var X=this._selector(this._keys[W],this._values[W]);return W+1>=this._keys.length?(this._index=-1,this._keys=S,this._values=S):this._index++,{value:X,done:!1}}return{value:void 0,done:!0}},at.prototype.throw=function(W){throw this._index>=0&&(this._index=-1,this._keys=S,this._values=S),W},at.prototype.return=function(W){return this._index>=0&&(this._index=-1,this._keys=S,this._values=S),{value:W,done:!0}},at}(),M=function(){function at(){this._keys=[],this._values=[],this._cacheKey=w,this._cacheIndex=-2}return Object.defineProperty(at.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),at.prototype.has=function(W){return this._find(W,!1)>=0},at.prototype.get=function(W){var X=this._find(W,!1);return X>=0?this._values[X]:void 0},at.prototype.set=function(W,X){var et=this._find(W,!0);return this._values[et]=X,this},at.prototype.delete=function(W){var X=this._find(W,!1);if(X>=0){for(var et=this._keys.length,tt=X+1;tt<et;tt++)this._keys[tt-1]=this._keys[tt],this._values[tt-1]=this._values[tt];return this._keys.length--,this._values.length--,ne(W,this._cacheKey)&&(this._cacheKey=w,this._cacheIndex=-2),!0}return!1},at.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=w,this._cacheIndex=-2},at.prototype.keys=function(){return new g(this._keys,this._values,F)},at.prototype.values=function(){return new g(this._keys,this._values,ut)},at.prototype.entries=function(){return new g(this._keys,this._values,ct)},at.prototype["@@iterator"]=function(){return this.entries()},at.prototype[l]=function(){return this.entries()},at.prototype._find=function(W,X){if(!ne(this._cacheKey,W)){this._cacheIndex=-1;for(var et=0;et<this._keys.length;et++)if(ne(this._keys[et],W)){this._cacheIndex=et;break}}return this._cacheIndex<0&&X&&(this._cacheIndex=this._keys.length,this._keys.push(W),this._values.push(void 0)),this._cacheIndex},at}();return M;function F(at,W){return at}function ut(at,W){return W}function ct(at,W){return[at,W]}}function en(){var w=function(){function S(){this._map=new T}return Object.defineProperty(S.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),S.prototype.has=function(g){return this._map.has(g)},S.prototype.add=function(g){return this._map.set(g,g),this},S.prototype.delete=function(g){return this._map.delete(g)},S.prototype.clear=function(){this._map.clear()},S.prototype.keys=function(){return this._map.keys()},S.prototype.values=function(){return this._map.keys()},S.prototype.entries=function(){return this._map.entries()},S.prototype["@@iterator"]=function(){return this.keys()},S.prototype[l]=function(){return this.keys()},S}();return w}function Nn(){var w=16,S=E.create(),g=M();return function(){function W(){this._key=M()}return W.prototype.has=function(X){var et=F(X,!1);return et!==void 0?E.has(et,this._key):!1},W.prototype.get=function(X){var et=F(X,!1);return et!==void 0?E.get(et,this._key):void 0},W.prototype.set=function(X,et){var tt=F(X,!0);return tt[this._key]=et,this},W.prototype.delete=function(X){var et=F(X,!1);return et!==void 0?delete et[this._key]:!1},W.prototype.clear=function(){this._key=M()},W}();function M(){var W;do W="@@WeakMap@@"+at();while(E.has(S,W));return S[W]=!0,W}function F(W,X){if(!o.call(W,g)){if(!X)return;Object.defineProperty(W,g,{value:E.create()})}return W[g]}function ut(W,X){for(var et=0;et<X;++et)W[et]=Math.random()*255|0;return W}function ct(W){if(typeof Uint8Array=="function"){var X=new Uint8Array(W);return typeof crypto<"u"?crypto.getRandomValues(X):typeof msCrypto<"u"?msCrypto.getRandomValues(X):ut(X,W),X}return ut(new Array(W),W)}function at(){var W=ct(w);W[6]=W[6]&79|64,W[8]=W[8]&191|128;for(var X="",et=0;et<w;++et){var tt=W[et];(et===4||et===6||et===8)&&(X+="-"),tt<16&&(X+="0"),X+=tt.toString(16).toLowerCase()}return X}}function Vn(w){return w.__=void 0,delete w.__,w}})}(t||(t={})),Ll}Up();var _o={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Qp=_o.exports,Nl;function Kp(){return Nl||(Nl=1,function(t,e){(function(n,i){t.exports=i()})(Qp,function(){const n=new Map,i={set(u,r,c){n.has(u)||n.set(u,new Map);const f=n.get(u);f.has(r)||f.size===0?f.set(r,c):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(f.keys())[0]}.`)},get:(u,r)=>n.has(u)&&n.get(u).get(r)||null,remove(u,r){if(!n.has(u))return;const c=n.get(u);c.delete(r),c.size===0&&n.delete(u)}},o="transitionend",s=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(r,c)=>`#${CSS.escape(c)}`)),u),a=u=>{u.dispatchEvent(new Event(o))},l=u=>!(!u||typeof u!="object")&&(u.jquery!==void 0&&(u=u[0]),u.nodeType!==void 0),d=u=>l(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(s(u)):null,p=u=>{if(!l(u)||u.getClientRects().length===0)return!1;const r=getComputedStyle(u).getPropertyValue("visibility")==="visible",c=u.closest("details:not([open])");if(!c)return r;if(c!==u){const f=u.closest("summary");if(f&&f.parentNode!==c||f===null)return!1}return r},h=u=>!u||u.nodeType!==Node.ELEMENT_NODE||!!u.classList.contains("disabled")||(u.disabled!==void 0?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false"),E=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){const r=u.getRootNode();return r instanceof ShadowRoot?r:null}return u instanceof ShadowRoot?u:u.parentNode?E(u.parentNode):null},m=()=>{},T=u=>{u.offsetHeight},z=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,j=[],$=()=>document.documentElement.dir==="rtl",k=u=>{var r;r=()=>{const c=z();if(c){const f=u.NAME,_=c.fn[f];c.fn[f]=u.jQueryInterface,c.fn[f].Constructor=u,c.fn[f].noConflict=()=>(c.fn[f]=_,u.jQueryInterface)}},document.readyState==="loading"?(j.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of j)c()}),j.push(r)):r()},K=(u,r=[],c=u)=>typeof u=="function"?u(...r):c,it=(u,r,c=!0)=>{if(!c)return void K(u);const f=(O=>{if(!O)return 0;let{transitionDuration:I,transitionDelay:U}=window.getComputedStyle(O);const nt=Number.parseFloat(I),rt=Number.parseFloat(U);return nt||rt?(I=I.split(",")[0],U=U.split(",")[0],1e3*(Number.parseFloat(I)+Number.parseFloat(U))):0})(r)+5;let _=!1;const A=({target:O})=>{O===r&&(_=!0,r.removeEventListener(o,A),K(u))};r.addEventListener(o,A),setTimeout(()=>{_||a(r)},f)},v=(u,r,c,f)=>{const _=u.length;let A=u.indexOf(r);return A===-1?!c&&f?u[_-1]:u[0]:(A+=c?1:-1,f&&(A=(A+_)%_),u[Math.max(0,Math.min(A,_-1))])},J=/[^.]*(?=\..*)\.|.*/,B=/\..*/,ht=/::\d+$/,ft={};let Nt=1;const xt={mouseenter:"mouseover",mouseleave:"mouseout"},$t=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function H(u,r){return r&&`${r}::${Nt++}`||u.uidEvent||Nt++}function Y(u){const r=H(u);return u.uidEvent=r,ft[r]=ft[r]||{},ft[r]}function b(u,r,c=null){return Object.values(u).find(f=>f.callable===r&&f.delegationSelector===c)}function P(u,r,c){const f=typeof r=="string",_=f?c:r||c;let A=V(u);return $t.has(A)||(A=u),[f,_,A]}function x(u,r,c,f,_){if(typeof r!="string"||!u)return;let[A,O,I]=P(r,c,f);r in xt&&(O=(vt=>function(mt){if(!mt.relatedTarget||mt.relatedTarget!==mt.delegateTarget&&!mt.delegateTarget.contains(mt.relatedTarget))return vt.call(this,mt)})(O));const U=Y(u),nt=U[I]||(U[I]={}),rt=b(nt,O,A?c:null);if(rt)return void(rt.oneOff=rt.oneOff&&_);const Z=H(O,r.replace(J,"")),At=A?function(pt,vt,mt){return function _t(Ft){const jt=pt.querySelectorAll(vt);for(let{target:Ct}=Ft;Ct&&Ct!==this;Ct=Ct.parentNode)for(const Pt of jt)if(Pt===Ct)return ot(Ft,{delegateTarget:Ct}),_t.oneOff&&y.off(pt,Ft.type,vt,mt),mt.apply(Ct,[Ft])}}(u,c,O):function(pt,vt){return function mt(_t){return ot(_t,{delegateTarget:pt}),mt.oneOff&&y.off(pt,_t.type,vt),vt.apply(pt,[_t])}}(u,O);At.delegationSelector=A?c:null,At.callable=O,At.oneOff=_,At.uidEvent=Z,nt[Z]=At,u.addEventListener(I,At,A)}function D(u,r,c,f,_){const A=b(r[c],f,_);A&&(u.removeEventListener(c,A,!!_),delete r[c][A.uidEvent])}function q(u,r,c,f){const _=r[c]||{};for(const[A,O]of Object.entries(_))A.includes(f)&&D(u,r,c,O.callable,O.delegationSelector)}function V(u){return u=u.replace(B,""),xt[u]||u}const y={on(u,r,c,f){x(u,r,c,f,!1)},one(u,r,c,f){x(u,r,c,f,!0)},off(u,r,c,f){if(typeof r!="string"||!u)return;const[_,A,O]=P(r,c,f),I=O!==r,U=Y(u),nt=U[O]||{},rt=r.startsWith(".");if(A===void 0){if(rt)for(const Z of Object.keys(U))q(u,U,Z,r.slice(1));for(const[Z,At]of Object.entries(nt)){const pt=Z.replace(ht,"");I&&!r.includes(pt)||D(u,U,O,At.callable,At.delegationSelector)}}else{if(!Object.keys(nt).length)return;D(u,U,O,A,_?c:null)}},trigger(u,r,c){if(typeof r!="string"||!u)return null;const f=z();let _=null,A=!0,O=!0,I=!1;r!==V(r)&&f&&(_=f.Event(r,c),f(u).trigger(_),A=!_.isPropagationStopped(),O=!_.isImmediatePropagationStopped(),I=_.isDefaultPrevented());const U=ot(new Event(r,{bubbles:A,cancelable:!0}),c);return I&&U.preventDefault(),O&&u.dispatchEvent(U),U.defaultPrevented&&_&&_.preventDefault(),U}};function ot(u,r={}){for(const[c,f]of Object.entries(r))try{u[c]=f}catch{Object.defineProperty(u,c,{configurable:!0,get:()=>f})}return u}function lt(u){if(u==="true")return!0;if(u==="false")return!1;if(u===Number(u).toString())return Number(u);if(u===""||u==="null")return null;if(typeof u!="string")return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function G(u){return u.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const gt={setDataAttribute(u,r,c){u.setAttribute(`data-bs-${G(r)}`,c)},removeDataAttribute(u,r){u.removeAttribute(`data-bs-${G(r)}`)},getDataAttributes(u){if(!u)return{};const r={},c=Object.keys(u.dataset).filter(f=>f.startsWith("bs")&&!f.startsWith("bsConfig"));for(const f of c){let _=f.replace(/^bs/,"");_=_.charAt(0).toLowerCase()+_.slice(1,_.length),r[_]=lt(u.dataset[f])}return r},getDataAttribute:(u,r)=>lt(u.getAttribute(`data-bs-${G(r)}`))};class Lt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,c){const f=l(c)?gt.getDataAttribute(c,"config"):{};return{...this.constructor.Default,...typeof f=="object"?f:{},...l(c)?gt.getDataAttributes(c):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,c=this.constructor.DefaultType){for(const[_,A]of Object.entries(c)){const O=r[_],I=l(O)?"element":(f=O)==null?`${f}`:Object.prototype.toString.call(f).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(A).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${_}" provided type "${I}" but expected type "${A}".`)}var f}}class st extends Lt{constructor(r,c){super(),(r=d(r))&&(this._element=r,this._config=this._getConfig(c),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),y.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,c,f=!0){it(r,c,f)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return i.get(d(r),this.DATA_KEY)}static getOrCreateInstance(r,c={}){return this.getInstance(r)||new this(r,typeof c=="object"?c:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const Ot=u=>{let r=u.getAttribute("data-bs-target");if(!r||r==="#"){let c=u.getAttribute("href");if(!c||!c.includes("#")&&!c.startsWith("."))return null;c.includes("#")&&!c.startsWith("#")&&(c=`#${c.split("#")[1]}`),r=c&&c!=="#"?c.trim():null}return r?r.split(",").map(c=>s(c)).join(","):null},Q={find:(u,r=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(r,u)),findOne:(u,r=document.documentElement)=>Element.prototype.querySelector.call(r,u),children:(u,r)=>[].concat(...u.children).filter(c=>c.matches(r)),parents(u,r){const c=[];let f=u.parentNode.closest(r);for(;f;)c.push(f),f=f.parentNode.closest(r);return c},prev(u,r){let c=u.previousElementSibling;for(;c;){if(c.matches(r))return[c];c=c.previousElementSibling}return[]},next(u,r){let c=u.nextElementSibling;for(;c;){if(c.matches(r))return[c];c=c.nextElementSibling}return[]},focusableChildren(u){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(c=>`${c}:not([tabindex^="-"])`).join(",");return this.find(r,u).filter(c=>!h(c)&&p(c))},getSelectorFromElement(u){const r=Ot(u);return r&&Q.findOne(r)?r:null},getElementFromSelector(u){const r=Ot(u);return r?Q.findOne(r):null},getMultipleElementsFromSelector(u){const r=Ot(u);return r?Q.find(r):[]}},Gt=(u,r="hide")=>{const c=`click.dismiss${u.EVENT_KEY}`,f=u.NAME;y.on(document,c,`[data-bs-dismiss="${f}"]`,function(_){if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),h(this))return;const A=Q.getElementFromSelector(this)||this.closest(`.${f}`);u.getOrCreateInstance(A)[r]()})},ve=".bs.alert",Kt=`close${ve}`,pn=`closed${ve}`;class ee extends st{static get NAME(){return"alert"}close(){if(y.trigger(this._element,Kt).defaultPrevented)return;this._element.classList.remove("show");const r=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),y.trigger(this._element,pn),this.dispose()}static jQueryInterface(r){return this.each(function(){const c=ee.getOrCreateInstance(this);if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r](this)}})}}Gt(ee,"close"),k(ee);const Ze='[data-bs-toggle="button"]';class Le extends st{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(r){return this.each(function(){const c=Le.getOrCreateInstance(this);r==="toggle"&&c[r]()})}}y.on(document,"click.bs.button.data-api",Ze,u=>{u.preventDefault();const r=u.target.closest(Ze);Le.getOrCreateInstance(r).toggle()}),k(Le);const ne=".bs.swipe",tn=`touchstart${ne}`,gn=`touchmove${ne}`,mn=`touchend${ne}`,fe=`pointerdown${ne}`,_e=`pointerup${ne}`,je={endCallback:null,leftCallback:null,rightCallback:null},Ve={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Oe extends Lt{constructor(r,c){super(),this._element=r,r&&Oe.isSupported()&&(this._config=this._getConfig(c),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return je}static get DefaultType(){return Ve}static get NAME(){return"swipe"}dispose(){y.off(this._element,ne)}_start(r){this._supportPointerEvents?this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX):this._deltaX=r.touches[0].clientX}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),K(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=40)return;const c=r/this._deltaX;this._deltaX=0,c&&K(c>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(y.on(this._element,fe,r=>this._start(r)),y.on(this._element,_e,r=>this._end(r)),this._element.classList.add("pointer-event")):(y.on(this._element,tn,r=>this._start(r)),y.on(this._element,gn,r=>this._move(r)),y.on(this._element,mn,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType==="pen"||r.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const re=".bs.carousel",vn=".data-api",ie="next",be="prev",en="left",Nn="right",Vn=`slide${re}`,w=`slid${re}`,S=`keydown${re}`,g=`mouseenter${re}`,M=`mouseleave${re}`,F=`dragstart${re}`,ut=`load${re}${vn}`,ct=`click${re}${vn}`,at="carousel",W="active",X=".active",et=".carousel-item",tt=X+et,yt={ArrowLeft:Nn,ArrowRight:en},It={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Rt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Qt extends st{constructor(r,c){super(r,c),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===at&&this.cycle()}static get Default(){return It}static get DefaultType(){return Rt}static get NAME(){return"carousel"}next(){this._slide(ie)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(be)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?y.one(this._element,w,()=>this.cycle()):this.cycle())}to(r){const c=this._getItems();if(r>c.length-1||r<0)return;if(this._isSliding)return void y.one(this._element,w,()=>this.to(r));const f=this._getItemIndex(this._getActive());if(f===r)return;const _=r>f?ie:be;this._slide(_,c[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&y.on(this._element,S,r=>this._keydown(r)),this._config.pause==="hover"&&(y.on(this._element,g,()=>this.pause()),y.on(this._element,M,()=>this._maybeEnableCycle())),this._config.touch&&Oe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const c of Q.find(".carousel-item img",this._element))y.on(c,F,f=>f.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(en)),rightCallback:()=>this._slide(this._directionToOrder(Nn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Oe(this._element,r)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const c=yt[r.key];c&&(r.preventDefault(),this._slide(this._directionToOrder(c)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const c=Q.findOne(X,this._indicatorsElement);c.classList.remove(W),c.removeAttribute("aria-current");const f=Q.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);f&&(f.classList.add(W),f.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const c=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=c||this._config.defaultInterval}_slide(r,c=null){if(this._isSliding)return;const f=this._getActive(),_=r===ie,A=c||v(this._getItems(),f,_,this._config.wrap);if(A===f)return;const O=this._getItemIndex(A),I=Z=>y.trigger(this._element,Z,{relatedTarget:A,direction:this._orderToDirection(r),from:this._getItemIndex(f),to:O});if(I(Vn).defaultPrevented||!f||!A)return;const U=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(O),this._activeElement=A;const nt=_?"carousel-item-start":"carousel-item-end",rt=_?"carousel-item-next":"carousel-item-prev";A.classList.add(rt),T(A),f.classList.add(nt),A.classList.add(nt),this._queueCallback(()=>{A.classList.remove(nt,rt),A.classList.add(W),f.classList.remove(W,rt,nt),this._isSliding=!1,I(w)},f,this._isAnimated()),U&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Q.findOne(tt,this._element)}_getItems(){return Q.find(et,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return $()?r===en?be:ie:r===en?ie:be}_orderToDirection(r){return $()?r===be?en:Nn:r===be?Nn:en}static jQueryInterface(r){return this.each(function(){const c=Qt.getOrCreateInstance(this,r);if(typeof r!="number"){if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r]()}}else c.to(r)})}}y.on(document,ct,"[data-bs-slide], [data-bs-slide-to]",function(u){const r=Q.getElementFromSelector(this);if(!r||!r.classList.contains(at))return;u.preventDefault();const c=Qt.getOrCreateInstance(r),f=this.getAttribute("data-bs-slide-to");return f?(c.to(f),void c._maybeEnableCycle()):gt.getDataAttribute(this,"slide")==="next"?(c.next(),void c._maybeEnableCycle()):(c.prev(),void c._maybeEnableCycle())}),y.on(window,ut,()=>{const u=Q.find('[data-bs-ride="carousel"]');for(const r of u)Qt.getOrCreateInstance(r)}),k(Qt);const Ne=".bs.collapse",Dn=`show${Ne}`,ns=`shown${Ne}`,Xf=`hide${Ne}`,Jf=`hidden${Ne}`,Zf=`click${Ne}.data-api`,is="show",_i="collapse",Hr="collapsing",th=`:scope .${_i} .${_i}`,rs='[data-bs-toggle="collapse"]',eh={parent:null,toggle:!0},nh={parent:"(null|element)",toggle:"boolean"};class bi extends st{constructor(r,c){super(r,c),this._isTransitioning=!1,this._triggerArray=[];const f=Q.find(rs);for(const _ of f){const A=Q.getSelectorFromElement(_),O=Q.find(A).filter(I=>I===this._element);A!==null&&O.length&&this._triggerArray.push(_)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return eh}static get DefaultType(){return nh}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(_=>_!==this._element).map(_=>bi.getOrCreateInstance(_,{toggle:!1}))),r.length&&r[0]._isTransitioning||y.trigger(this._element,Dn).defaultPrevented)return;for(const _ of r)_.hide();const c=this._getDimension();this._element.classList.remove(_i),this._element.classList.add(Hr),this._element.style[c]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const f=`scroll${c[0].toUpperCase()+c.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Hr),this._element.classList.add(_i,is),this._element.style[c]="",y.trigger(this._element,ns)},this._element,!0),this._element.style[c]=`${this._element[f]}px`}hide(){if(this._isTransitioning||!this._isShown()||y.trigger(this._element,Xf).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,T(this._element),this._element.classList.add(Hr),this._element.classList.remove(_i,is);for(const c of this._triggerArray){const f=Q.getElementFromSelector(c);f&&!this._isShown(f)&&this._addAriaAndCollapsedClass([c],!1)}this._isTransitioning=!0,this._element.style[r]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Hr),this._element.classList.add(_i),y.trigger(this._element,Jf)},this._element,!0)}_isShown(r=this._element){return r.classList.contains(is)}_configAfterMerge(r){return r.toggle=!!r.toggle,r.parent=d(r.parent),r}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(rs);for(const c of r){const f=Q.getElementFromSelector(c);f&&this._addAriaAndCollapsedClass([c],this._isShown(f))}}_getFirstLevelChildren(r){const c=Q.find(th,this._config.parent);return Q.find(r,this._config.parent).filter(f=>!c.includes(f))}_addAriaAndCollapsedClass(r,c){if(r.length)for(const f of r)f.classList.toggle("collapsed",!c),f.setAttribute("aria-expanded",c)}static jQueryInterface(r){const c={};return typeof r=="string"&&/show|hide/.test(r)&&(c.toggle=!1),this.each(function(){const f=bi.getOrCreateInstance(this,c);if(typeof r=="string"){if(f[r]===void 0)throw new TypeError(`No method named "${r}"`);f[r]()}})}}y.on(document,Zf,rs,function(u){(u.target.tagName==="A"||u.delegateTarget&&u.delegateTarget.tagName==="A")&&u.preventDefault();for(const r of Q.getMultipleElementsFromSelector(this))bi.getOrCreateInstance(r,{toggle:!1}).toggle()}),k(bi);var oe="top",ye="bottom",Ae="right",se="left",Fr="auto",yi=[oe,ye,Ae,se],Un="start",Ai="end",nc="clippingParents",os="viewport",wi="popper",ic="reference",ss=yi.reduce(function(u,r){return u.concat([r+"-"+Un,r+"-"+Ai])},[]),as=[].concat(yi,[Fr]).reduce(function(u,r){return u.concat([r,r+"-"+Un,r+"-"+Ai])},[]),rc="beforeRead",oc="read",sc="afterRead",ac="beforeMain",cc="main",lc="afterMain",uc="beforeWrite",dc="write",fc="afterWrite",hc=[rc,oc,sc,ac,cc,lc,uc,dc,fc];function nn(u){return u?(u.nodeName||"").toLowerCase():null}function we(u){if(u==null)return window;if(u.toString()!=="[object Window]"){var r=u.ownerDocument;return r&&r.defaultView||window}return u}function Qn(u){return u instanceof we(u).Element||u instanceof Element}function De(u){return u instanceof we(u).HTMLElement||u instanceof HTMLElement}function cs(u){return typeof ShadowRoot<"u"&&(u instanceof we(u).ShadowRoot||u instanceof ShadowRoot)}const ls={name:"applyStyles",enabled:!0,phase:"write",fn:function(u){var r=u.state;Object.keys(r.elements).forEach(function(c){var f=r.styles[c]||{},_=r.attributes[c]||{},A=r.elements[c];De(A)&&nn(A)&&(Object.assign(A.style,f),Object.keys(_).forEach(function(O){var I=_[O];I===!1?A.removeAttribute(O):A.setAttribute(O,I===!0?"":I)}))})},effect:function(u){var r=u.state,c={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,c.popper),r.styles=c,r.elements.arrow&&Object.assign(r.elements.arrow.style,c.arrow),function(){Object.keys(r.elements).forEach(function(f){var _=r.elements[f],A=r.attributes[f]||{},O=Object.keys(r.styles.hasOwnProperty(f)?r.styles[f]:c[f]).reduce(function(I,U){return I[U]="",I},{});De(_)&&nn(_)&&(Object.assign(_.style,O),Object.keys(A).forEach(function(I){_.removeAttribute(I)}))})}},requires:["computeStyles"]};function rn(u){return u.split("-")[0]}var Kn=Math.max,zr=Math.min,Ei=Math.round;function us(){var u=navigator.userAgentData;return u!=null&&u.brands&&Array.isArray(u.brands)?u.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function pc(){return!/^((?!chrome|android).)*safari/i.test(us())}function xi(u,r,c){r===void 0&&(r=!1),c===void 0&&(c=!1);var f=u.getBoundingClientRect(),_=1,A=1;r&&De(u)&&(_=u.offsetWidth>0&&Ei(f.width)/u.offsetWidth||1,A=u.offsetHeight>0&&Ei(f.height)/u.offsetHeight||1);var O=(Qn(u)?we(u):window).visualViewport,I=!pc()&&c,U=(f.left+(I&&O?O.offsetLeft:0))/_,nt=(f.top+(I&&O?O.offsetTop:0))/A,rt=f.width/_,Z=f.height/A;return{width:rt,height:Z,top:nt,right:U+rt,bottom:nt+Z,left:U,x:U,y:nt}}function ds(u){var r=xi(u),c=u.offsetWidth,f=u.offsetHeight;return Math.abs(r.width-c)<=1&&(c=r.width),Math.abs(r.height-f)<=1&&(f=r.height),{x:u.offsetLeft,y:u.offsetTop,width:c,height:f}}function gc(u,r){var c=r.getRootNode&&r.getRootNode();if(u.contains(r))return!0;if(c&&cs(c)){var f=r;do{if(f&&u.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function _n(u){return we(u).getComputedStyle(u)}function ih(u){return["table","td","th"].indexOf(nn(u))>=0}function kn(u){return((Qn(u)?u.ownerDocument:u.document)||window.document).documentElement}function Wr(u){return nn(u)==="html"?u:u.assignedSlot||u.parentNode||(cs(u)?u.host:null)||kn(u)}function mc(u){return De(u)&&_n(u).position!=="fixed"?u.offsetParent:null}function ar(u){for(var r=we(u),c=mc(u);c&&ih(c)&&_n(c).position==="static";)c=mc(c);return c&&(nn(c)==="html"||nn(c)==="body"&&_n(c).position==="static")?r:c||function(f){var _=/firefox/i.test(us());if(/Trident/i.test(us())&&De(f)&&_n(f).position==="fixed")return null;var A=Wr(f);for(cs(A)&&(A=A.host);De(A)&&["html","body"].indexOf(nn(A))<0;){var O=_n(A);if(O.transform!=="none"||O.perspective!=="none"||O.contain==="paint"||["transform","perspective"].indexOf(O.willChange)!==-1||_&&O.willChange==="filter"||_&&O.filter&&O.filter!=="none")return A;A=A.parentNode}return null}(u)||r}function fs(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function cr(u,r,c){return Kn(u,zr(r,c))}function vc(u){return Object.assign({},{top:0,right:0,bottom:0,left:0},u)}function _c(u,r){return r.reduce(function(c,f){return c[f]=u,c},{})}const bc={name:"arrow",enabled:!0,phase:"main",fn:function(u){var r,c=u.state,f=u.name,_=u.options,A=c.elements.arrow,O=c.modifiersData.popperOffsets,I=rn(c.placement),U=fs(I),nt=[se,Ae].indexOf(I)>=0?"height":"width";if(A&&O){var rt=function(zt,Ht){return vc(typeof(zt=typeof zt=="function"?zt(Object.assign({},Ht.rects,{placement:Ht.placement})):zt)!="number"?zt:_c(zt,yi))}(_.padding,c),Z=ds(A),At=U==="y"?oe:se,pt=U==="y"?ye:Ae,vt=c.rects.reference[nt]+c.rects.reference[U]-O[U]-c.rects.popper[nt],mt=O[U]-c.rects.reference[U],_t=ar(A),Ft=_t?U==="y"?_t.clientHeight||0:_t.clientWidth||0:0,jt=vt/2-mt/2,Ct=rt[At],Pt=Ft-Z[nt]-rt[pt],wt=Ft/2-Z[nt]/2+jt,Dt=cr(Ct,wt,Pt),Bt=U;c.modifiersData[f]=((r={})[Bt]=Dt,r.centerOffset=Dt-wt,r)}},effect:function(u){var r=u.state,c=u.options.element,f=c===void 0?"[data-popper-arrow]":c;f!=null&&(typeof f!="string"||(f=r.elements.popper.querySelector(f)))&&gc(r.elements.popper,f)&&(r.elements.arrow=f)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ci(u){return u.split("-")[1]}var rh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yc(u){var r,c=u.popper,f=u.popperRect,_=u.placement,A=u.variation,O=u.offsets,I=u.position,U=u.gpuAcceleration,nt=u.adaptive,rt=u.roundOffsets,Z=u.isFixed,At=O.x,pt=At===void 0?0:At,vt=O.y,mt=vt===void 0?0:vt,_t=typeof rt=="function"?rt({x:pt,y:mt}):{x:pt,y:mt};pt=_t.x,mt=_t.y;var Ft=O.hasOwnProperty("x"),jt=O.hasOwnProperty("y"),Ct=se,Pt=oe,wt=window;if(nt){var Dt=ar(c),Bt="clientHeight",zt="clientWidth";Dt===we(c)&&_n(Dt=kn(c)).position!=="static"&&I==="absolute"&&(Bt="scrollHeight",zt="scrollWidth"),(_===oe||(_===se||_===Ae)&&A===Ai)&&(Pt=ye,mt-=(Z&&Dt===wt&&wt.visualViewport?wt.visualViewport.height:Dt[Bt])-f.height,mt*=U?1:-1),_!==se&&(_!==oe&&_!==ye||A!==Ai)||(Ct=Ae,pt-=(Z&&Dt===wt&&wt.visualViewport?wt.visualViewport.width:Dt[zt])-f.width,pt*=U?1:-1)}var Ht,Ut=Object.assign({position:I},nt&&rh),Ee=rt===!0?function(Qe,ae){var Ie=Qe.x,$e=Qe.y,Vt=ae.devicePixelRatio||1;return{x:Ei(Ie*Vt)/Vt||0,y:Ei($e*Vt)/Vt||0}}({x:pt,y:mt},we(c)):{x:pt,y:mt};return pt=Ee.x,mt=Ee.y,U?Object.assign({},Ut,((Ht={})[Pt]=jt?"0":"",Ht[Ct]=Ft?"0":"",Ht.transform=(wt.devicePixelRatio||1)<=1?"translate("+pt+"px, "+mt+"px)":"translate3d("+pt+"px, "+mt+"px, 0)",Ht)):Object.assign({},Ut,((r={})[Pt]=jt?mt+"px":"",r[Ct]=Ft?pt+"px":"",r.transform="",r))}const hs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(u){var r=u.state,c=u.options,f=c.gpuAcceleration,_=f===void 0||f,A=c.adaptive,O=A===void 0||A,I=c.roundOffsets,U=I===void 0||I,nt={placement:rn(r.placement),variation:Ci(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:_,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,yc(Object.assign({},nt,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:O,roundOffsets:U})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,yc(Object.assign({},nt,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:U})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})},data:{}};var Gr={passive:!0};const ps={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(u){var r=u.state,c=u.instance,f=u.options,_=f.scroll,A=_===void 0||_,O=f.resize,I=O===void 0||O,U=we(r.elements.popper),nt=[].concat(r.scrollParents.reference,r.scrollParents.popper);return A&&nt.forEach(function(rt){rt.addEventListener("scroll",c.update,Gr)}),I&&U.addEventListener("resize",c.update,Gr),function(){A&&nt.forEach(function(rt){rt.removeEventListener("scroll",c.update,Gr)}),I&&U.removeEventListener("resize",c.update,Gr)}},data:{}};var oh={left:"right",right:"left",bottom:"top",top:"bottom"};function jr(u){return u.replace(/left|right|bottom|top/g,function(r){return oh[r]})}var sh={start:"end",end:"start"};function Ac(u){return u.replace(/start|end/g,function(r){return sh[r]})}function gs(u){var r=we(u);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function ms(u){return xi(kn(u)).left+gs(u).scrollLeft}function vs(u){var r=_n(u),c=r.overflow,f=r.overflowX,_=r.overflowY;return/auto|scroll|overlay|hidden/.test(c+_+f)}function wc(u){return["html","body","#document"].indexOf(nn(u))>=0?u.ownerDocument.body:De(u)&&vs(u)?u:wc(Wr(u))}function lr(u,r){var c;r===void 0&&(r=[]);var f=wc(u),_=f===((c=u.ownerDocument)==null?void 0:c.body),A=we(f),O=_?[A].concat(A.visualViewport||[],vs(f)?f:[]):f,I=r.concat(O);return _?I:I.concat(lr(Wr(O)))}function _s(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function Ec(u,r,c){return r===os?_s(function(f,_){var A=we(f),O=kn(f),I=A.visualViewport,U=O.clientWidth,nt=O.clientHeight,rt=0,Z=0;if(I){U=I.width,nt=I.height;var At=pc();(At||!At&&_==="fixed")&&(rt=I.offsetLeft,Z=I.offsetTop)}return{width:U,height:nt,x:rt+ms(f),y:Z}}(u,c)):Qn(r)?function(f,_){var A=xi(f,!1,_==="fixed");return A.top=A.top+f.clientTop,A.left=A.left+f.clientLeft,A.bottom=A.top+f.clientHeight,A.right=A.left+f.clientWidth,A.width=f.clientWidth,A.height=f.clientHeight,A.x=A.left,A.y=A.top,A}(r,c):_s(function(f){var _,A=kn(f),O=gs(f),I=(_=f.ownerDocument)==null?void 0:_.body,U=Kn(A.scrollWidth,A.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),nt=Kn(A.scrollHeight,A.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),rt=-O.scrollLeft+ms(f),Z=-O.scrollTop;return _n(I||A).direction==="rtl"&&(rt+=Kn(A.clientWidth,I?I.clientWidth:0)-U),{width:U,height:nt,x:rt,y:Z}}(kn(u)))}function xc(u){var r,c=u.reference,f=u.element,_=u.placement,A=_?rn(_):null,O=_?Ci(_):null,I=c.x+c.width/2-f.width/2,U=c.y+c.height/2-f.height/2;switch(A){case oe:r={x:I,y:c.y-f.height};break;case ye:r={x:I,y:c.y+c.height};break;case Ae:r={x:c.x+c.width,y:U};break;case se:r={x:c.x-f.width,y:U};break;default:r={x:c.x,y:c.y}}var nt=A?fs(A):null;if(nt!=null){var rt=nt==="y"?"height":"width";switch(O){case Un:r[nt]=r[nt]-(c[rt]/2-f[rt]/2);break;case Ai:r[nt]=r[nt]+(c[rt]/2-f[rt]/2)}}return r}function Ti(u,r){r===void 0&&(r={});var c=r,f=c.placement,_=f===void 0?u.placement:f,A=c.strategy,O=A===void 0?u.strategy:A,I=c.boundary,U=I===void 0?nc:I,nt=c.rootBoundary,rt=nt===void 0?os:nt,Z=c.elementContext,At=Z===void 0?wi:Z,pt=c.altBoundary,vt=pt!==void 0&&pt,mt=c.padding,_t=mt===void 0?0:mt,Ft=vc(typeof _t!="number"?_t:_c(_t,yi)),jt=At===wi?ic:wi,Ct=u.rects.popper,Pt=u.elements[vt?jt:At],wt=function(ae,Ie,$e,Vt){var on=Ie==="clippingParents"?function(Wt){var ce=lr(Wr(Wt)),Pe=["absolute","fixed"].indexOf(_n(Wt).position)>=0&&De(Wt)?ar(Wt):Wt;return Qn(Pe)?ce.filter(function($n){return Qn($n)&&gc($n,Pe)&&nn($n)!=="body"}):[]}(ae):[].concat(Ie),sn=[].concat(on,[$e]),Li=sn[0],qt=sn.reduce(function(Wt,ce){var Pe=Ec(ae,ce,Vt);return Wt.top=Kn(Pe.top,Wt.top),Wt.right=zr(Pe.right,Wt.right),Wt.bottom=zr(Pe.bottom,Wt.bottom),Wt.left=Kn(Pe.left,Wt.left),Wt},Ec(ae,Li,Vt));return qt.width=qt.right-qt.left,qt.height=qt.bottom-qt.top,qt.x=qt.left,qt.y=qt.top,qt}(Qn(Pt)?Pt:Pt.contextElement||kn(u.elements.popper),U,rt,O),Dt=xi(u.elements.reference),Bt=xc({reference:Dt,element:Ct,placement:_}),zt=_s(Object.assign({},Ct,Bt)),Ht=At===wi?zt:Dt,Ut={top:wt.top-Ht.top+Ft.top,bottom:Ht.bottom-wt.bottom+Ft.bottom,left:wt.left-Ht.left+Ft.left,right:Ht.right-wt.right+Ft.right},Ee=u.modifiersData.offset;if(At===wi&&Ee){var Qe=Ee[_];Object.keys(Ut).forEach(function(ae){var Ie=[Ae,ye].indexOf(ae)>=0?1:-1,$e=[oe,ye].indexOf(ae)>=0?"y":"x";Ut[ae]+=Qe[$e]*Ie})}return Ut}function ah(u,r){r===void 0&&(r={});var c=r,f=c.placement,_=c.boundary,A=c.rootBoundary,O=c.padding,I=c.flipVariations,U=c.allowedAutoPlacements,nt=U===void 0?as:U,rt=Ci(f),Z=rt?I?ss:ss.filter(function(vt){return Ci(vt)===rt}):yi,At=Z.filter(function(vt){return nt.indexOf(vt)>=0});At.length===0&&(At=Z);var pt=At.reduce(function(vt,mt){return vt[mt]=Ti(u,{placement:mt,boundary:_,rootBoundary:A,padding:O})[rn(mt)],vt},{});return Object.keys(pt).sort(function(vt,mt){return pt[vt]-pt[mt]})}const Cc={name:"flip",enabled:!0,phase:"main",fn:function(u){var r=u.state,c=u.options,f=u.name;if(!r.modifiersData[f]._skip){for(var _=c.mainAxis,A=_===void 0||_,O=c.altAxis,I=O===void 0||O,U=c.fallbackPlacements,nt=c.padding,rt=c.boundary,Z=c.rootBoundary,At=c.altBoundary,pt=c.flipVariations,vt=pt===void 0||pt,mt=c.allowedAutoPlacements,_t=r.options.placement,Ft=rn(_t),jt=U||(Ft!==_t&&vt?function(Wt){if(rn(Wt)===Fr)return[];var ce=jr(Wt);return[Ac(Wt),ce,Ac(ce)]}(_t):[jr(_t)]),Ct=[_t].concat(jt).reduce(function(Wt,ce){return Wt.concat(rn(ce)===Fr?ah(r,{placement:ce,boundary:rt,rootBoundary:Z,padding:nt,flipVariations:vt,allowedAutoPlacements:mt}):ce)},[]),Pt=r.rects.reference,wt=r.rects.popper,Dt=new Map,Bt=!0,zt=Ct[0],Ht=0;Ht<Ct.length;Ht++){var Ut=Ct[Ht],Ee=rn(Ut),Qe=Ci(Ut)===Un,ae=[oe,ye].indexOf(Ee)>=0,Ie=ae?"width":"height",$e=Ti(r,{placement:Ut,boundary:rt,rootBoundary:Z,altBoundary:At,padding:nt}),Vt=ae?Qe?Ae:se:Qe?ye:oe;Pt[Ie]>wt[Ie]&&(Vt=jr(Vt));var on=jr(Vt),sn=[];if(A&&sn.push($e[Ee]<=0),I&&sn.push($e[Vt]<=0,$e[on]<=0),sn.every(function(Wt){return Wt})){zt=Ut,Bt=!1;break}Dt.set(Ut,sn)}if(Bt)for(var Li=function(Wt){var ce=Ct.find(function(Pe){var $n=Dt.get(Pe);if($n)return $n.slice(0,Wt).every(function(Zr){return Zr})});if(ce)return zt=ce,"break"},qt=vt?3:1;qt>0&&Li(qt)!=="break";qt--);r.placement!==zt&&(r.modifiersData[f]._skip=!0,r.placement=zt,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Tc(u,r,c){return c===void 0&&(c={x:0,y:0}),{top:u.top-r.height-c.y,right:u.right-r.width+c.x,bottom:u.bottom-r.height+c.y,left:u.left-r.width-c.x}}function Sc(u){return[oe,Ae,ye,se].some(function(r){return u[r]>=0})}const Mc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(u){var r=u.state,c=u.name,f=r.rects.reference,_=r.rects.popper,A=r.modifiersData.preventOverflow,O=Ti(r,{elementContext:"reference"}),I=Ti(r,{altBoundary:!0}),U=Tc(O,f),nt=Tc(I,_,A),rt=Sc(U),Z=Sc(nt);r.modifiersData[c]={referenceClippingOffsets:U,popperEscapeOffsets:nt,isReferenceHidden:rt,hasPopperEscaped:Z},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":rt,"data-popper-escaped":Z})}},Lc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(u){var r=u.state,c=u.options,f=u.name,_=c.offset,A=_===void 0?[0,0]:_,O=as.reduce(function(rt,Z){return rt[Z]=function(At,pt,vt){var mt=rn(At),_t=[se,oe].indexOf(mt)>=0?-1:1,Ft=typeof vt=="function"?vt(Object.assign({},pt,{placement:At})):vt,jt=Ft[0],Ct=Ft[1];return jt=jt||0,Ct=(Ct||0)*_t,[se,Ae].indexOf(mt)>=0?{x:Ct,y:jt}:{x:jt,y:Ct}}(Z,r.rects,A),rt},{}),I=O[r.placement],U=I.x,nt=I.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=U,r.modifiersData.popperOffsets.y+=nt),r.modifiersData[f]=O}},bs={name:"popperOffsets",enabled:!0,phase:"read",fn:function(u){var r=u.state,c=u.name;r.modifiersData[c]=xc({reference:r.rects.reference,element:r.rects.popper,placement:r.placement})},data:{}},Oc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(u){var r=u.state,c=u.options,f=u.name,_=c.mainAxis,A=_===void 0||_,O=c.altAxis,I=O!==void 0&&O,U=c.boundary,nt=c.rootBoundary,rt=c.altBoundary,Z=c.padding,At=c.tether,pt=At===void 0||At,vt=c.tetherOffset,mt=vt===void 0?0:vt,_t=Ti(r,{boundary:U,rootBoundary:nt,padding:Z,altBoundary:rt}),Ft=rn(r.placement),jt=Ci(r.placement),Ct=!jt,Pt=fs(Ft),wt=Pt==="x"?"y":"x",Dt=r.modifiersData.popperOffsets,Bt=r.rects.reference,zt=r.rects.popper,Ht=typeof mt=="function"?mt(Object.assign({},r.rects,{placement:r.placement})):mt,Ut=typeof Ht=="number"?{mainAxis:Ht,altAxis:Ht}:Object.assign({mainAxis:0,altAxis:0},Ht),Ee=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,Qe={x:0,y:0};if(Dt){if(A){var ae,Ie=Pt==="y"?oe:se,$e=Pt==="y"?ye:Ae,Vt=Pt==="y"?"height":"width",on=Dt[Pt],sn=on+_t[Ie],Li=on-_t[$e],qt=pt?-zt[Vt]/2:0,Wt=jt===Un?Bt[Vt]:zt[Vt],ce=jt===Un?-zt[Vt]:-Bt[Vt],Pe=r.elements.arrow,$n=pt&&Pe?ds(Pe):{width:0,height:0},Zr=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ml=Zr[Ie],vl=Zr[$e],to=cr(0,Bt[Vt],$n[Vt]),Pp=Ct?Bt[Vt]/2-qt-to-ml-Ut.mainAxis:Wt-to-ml-Ut.mainAxis,Rp=Ct?-Bt[Vt]/2+qt+to+vl+Ut.mainAxis:ce+to+vl+Ut.mainAxis,Ds=r.elements.arrow&&ar(r.elements.arrow),Bp=Ds?Pt==="y"?Ds.clientTop||0:Ds.clientLeft||0:0,_l=(ae=Ee==null?void 0:Ee[Pt])!=null?ae:0,Hp=on+Rp-_l,bl=cr(pt?zr(sn,on+Pp-_l-Bp):sn,on,pt?Kn(Li,Hp):Li);Dt[Pt]=bl,Qe[Pt]=bl-on}if(I){var yl,Fp=Pt==="x"?oe:se,zp=Pt==="x"?ye:Ae,ni=Dt[wt],eo=wt==="y"?"height":"width",Al=ni+_t[Fp],wl=ni-_t[zp],ks=[oe,se].indexOf(Ft)!==-1,El=(yl=Ee==null?void 0:Ee[wt])!=null?yl:0,xl=ks?Al:ni-Bt[eo]-zt[eo]-El+Ut.altAxis,Cl=ks?ni+Bt[eo]+zt[eo]-El-Ut.altAxis:wl,Tl=pt&&ks?function(Wp,Gp,Is){var Sl=cr(Wp,Gp,Is);return Sl>Is?Is:Sl}(xl,ni,Cl):cr(pt?xl:Al,ni,pt?Cl:wl);Dt[wt]=Tl,Qe[wt]=Tl-ni}r.modifiersData[f]=Qe}},requiresIfExists:["offset"]};function ch(u,r,c){c===void 0&&(c=!1);var f,_,A=De(r),O=De(r)&&function(Z){var At=Z.getBoundingClientRect(),pt=Ei(At.width)/Z.offsetWidth||1,vt=Ei(At.height)/Z.offsetHeight||1;return pt!==1||vt!==1}(r),I=kn(r),U=xi(u,O,c),nt={scrollLeft:0,scrollTop:0},rt={x:0,y:0};return(A||!A&&!c)&&((nn(r)!=="body"||vs(I))&&(nt=(f=r)!==we(f)&&De(f)?{scrollLeft:(_=f).scrollLeft,scrollTop:_.scrollTop}:gs(f)),De(r)?((rt=xi(r,!0)).x+=r.clientLeft,rt.y+=r.clientTop):I&&(rt.x=ms(I))),{x:U.left+nt.scrollLeft-rt.x,y:U.top+nt.scrollTop-rt.y,width:U.width,height:U.height}}function lh(u){var r=new Map,c=new Set,f=[];function _(A){c.add(A.name),[].concat(A.requires||[],A.requiresIfExists||[]).forEach(function(O){if(!c.has(O)){var I=r.get(O);I&&_(I)}}),f.push(A)}return u.forEach(function(A){r.set(A.name,A)}),u.forEach(function(A){c.has(A.name)||_(A)}),f}var Nc={placement:"bottom",modifiers:[],strategy:"absolute"};function Dc(){for(var u=arguments.length,r=new Array(u),c=0;c<u;c++)r[c]=arguments[c];return!r.some(function(f){return!(f&&typeof f.getBoundingClientRect=="function")})}function Vr(u){u===void 0&&(u={});var r=u,c=r.defaultModifiers,f=c===void 0?[]:c,_=r.defaultOptions,A=_===void 0?Nc:_;return function(O,I,U){U===void 0&&(U=A);var nt,rt,Z={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nc,A),modifiersData:{},elements:{reference:O,popper:I},attributes:{},styles:{}},At=[],pt=!1,vt={state:Z,setOptions:function(_t){var Ft=typeof _t=="function"?_t(Z.options):_t;mt(),Z.options=Object.assign({},A,Z.options,Ft),Z.scrollParents={reference:Qn(O)?lr(O):O.contextElement?lr(O.contextElement):[],popper:lr(I)};var jt,Ct,Pt=function(wt){var Dt=lh(wt);return hc.reduce(function(Bt,zt){return Bt.concat(Dt.filter(function(Ht){return Ht.phase===zt}))},[])}((jt=[].concat(f,Z.options.modifiers),Ct=jt.reduce(function(wt,Dt){var Bt=wt[Dt.name];return wt[Dt.name]=Bt?Object.assign({},Bt,Dt,{options:Object.assign({},Bt.options,Dt.options),data:Object.assign({},Bt.data,Dt.data)}):Dt,wt},{}),Object.keys(Ct).map(function(wt){return Ct[wt]})));return Z.orderedModifiers=Pt.filter(function(wt){return wt.enabled}),Z.orderedModifiers.forEach(function(wt){var Dt=wt.name,Bt=wt.options,zt=Bt===void 0?{}:Bt,Ht=wt.effect;if(typeof Ht=="function"){var Ut=Ht({state:Z,name:Dt,instance:vt,options:zt});At.push(Ut||function(){})}}),vt.update()},forceUpdate:function(){if(!pt){var _t=Z.elements,Ft=_t.reference,jt=_t.popper;if(Dc(Ft,jt)){Z.rects={reference:ch(Ft,ar(jt),Z.options.strategy==="fixed"),popper:ds(jt)},Z.reset=!1,Z.placement=Z.options.placement,Z.orderedModifiers.forEach(function(Ht){return Z.modifiersData[Ht.name]=Object.assign({},Ht.data)});for(var Ct=0;Ct<Z.orderedModifiers.length;Ct++)if(Z.reset!==!0){var Pt=Z.orderedModifiers[Ct],wt=Pt.fn,Dt=Pt.options,Bt=Dt===void 0?{}:Dt,zt=Pt.name;typeof wt=="function"&&(Z=wt({state:Z,options:Bt,name:zt,instance:vt})||Z)}else Z.reset=!1,Ct=-1}}},update:(nt=function(){return new Promise(function(_t){vt.forceUpdate(),_t(Z)})},function(){return rt||(rt=new Promise(function(_t){Promise.resolve().then(function(){rt=void 0,_t(nt())})})),rt}),destroy:function(){mt(),pt=!0}};if(!Dc(O,I))return vt;function mt(){At.forEach(function(_t){return _t()}),At=[]}return vt.setOptions(U).then(function(_t){!pt&&U.onFirstUpdate&&U.onFirstUpdate(_t)}),vt}}var uh=Vr(),dh=Vr({defaultModifiers:[ps,bs,hs,ls]}),ys=Vr({defaultModifiers:[ps,bs,hs,ls,Lc,Cc,Oc,bc,Mc]});const kc=Object.freeze(Object.defineProperty({__proto__:null,afterMain:lc,afterRead:sc,afterWrite:fc,applyStyles:ls,arrow:bc,auto:Fr,basePlacements:yi,beforeMain:ac,beforeRead:rc,beforeWrite:uc,bottom:ye,clippingParents:nc,computeStyles:hs,createPopper:ys,createPopperBase:uh,createPopperLite:dh,detectOverflow:Ti,end:Ai,eventListeners:ps,flip:Cc,hide:Mc,left:se,main:cc,modifierPhases:hc,offset:Lc,placements:as,popper:wi,popperGenerator:Vr,popperOffsets:bs,preventOverflow:Oc,read:oc,reference:ic,right:Ae,start:Un,top:oe,variationPlacements:ss,viewport:os,write:dc},Symbol.toStringTag,{value:"Module"})),Ic="dropdown",Yn=".bs.dropdown",As=".data-api",fh="ArrowUp",$c="ArrowDown",hh=`hide${Yn}`,ph=`hidden${Yn}`,gh=`show${Yn}`,mh=`shown${Yn}`,Pc=`click${Yn}${As}`,Rc=`keydown${Yn}${As}`,vh=`keyup${Yn}${As}`,Si="show",qn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',_h=`${qn}.${Si}`,Ur=".dropdown-menu",bh=$()?"top-end":"top-start",yh=$()?"top-start":"top-end",Ah=$()?"bottom-end":"bottom-start",wh=$()?"bottom-start":"bottom-end",Eh=$()?"left-start":"right-start",xh=$()?"right-start":"left-start",Ch={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Th={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ue extends st{constructor(r,c){super(r,c),this._popper=null,this._parent=this._element.parentNode,this._menu=Q.next(this._element,Ur)[0]||Q.prev(this._element,Ur)[0]||Q.findOne(Ur,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ch}static get DefaultType(){return Th}static get NAME(){return Ic}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!y.trigger(this._element,gh,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const c of[].concat(...document.body.children))y.on(c,"mouseover",m);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Si),this._element.classList.add(Si),y.trigger(this._element,mh,r)}}hide(){if(h(this._element)||!this._isShown())return;const r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!y.trigger(this._element,hh,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))y.off(c,"mouseover",m);this._popper&&this._popper.destroy(),this._menu.classList.remove(Si),this._element.classList.remove(Si),this._element.setAttribute("aria-expanded","false"),gt.removeDataAttribute(this._menu,"popper"),y.trigger(this._element,ph,r)}}_getConfig(r){if(typeof(r=super._getConfig(r)).reference=="object"&&!l(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${Ic.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(kc===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:l(this._config.reference)?r=d(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);const c=this._getPopperConfig();this._popper=ys(r,this._menu,c)}_isShown(){return this._menu.classList.contains(Si)}_getPlacement(){const r=this._parent;if(r.classList.contains("dropend"))return Eh;if(r.classList.contains("dropstart"))return xh;if(r.classList.contains("dropup-center"))return"top";if(r.classList.contains("dropdown-center"))return"bottom";const c=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains("dropup")?c?yh:bh:c?wh:Ah}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(c=>Number.parseInt(c,10)):typeof r=="function"?c=>r(c,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(gt.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...K(this._config.popperConfig,[r])}}_selectMenuItem({key:r,target:c}){const f=Q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(_=>p(_));f.length&&v(f,c,r===$c,!f.includes(c)).focus()}static jQueryInterface(r){return this.each(function(){const c=Ue.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0)throw new TypeError(`No method named "${r}"`);c[r]()}})}static clearMenus(r){if(r.button===2||r.type==="keyup"&&r.key!=="Tab")return;const c=Q.find(_h);for(const f of c){const _=Ue.getInstance(f);if(!_||_._config.autoClose===!1)continue;const A=r.composedPath(),O=A.includes(_._menu);if(A.includes(_._element)||_._config.autoClose==="inside"&&!O||_._config.autoClose==="outside"&&O||_._menu.contains(r.target)&&(r.type==="keyup"&&r.key==="Tab"||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const I={relatedTarget:_._element};r.type==="click"&&(I.clickEvent=r),_._completeHide(I)}}static dataApiKeydownHandler(r){const c=/input|textarea/i.test(r.target.tagName),f=r.key==="Escape",_=[fh,$c].includes(r.key);if(!_&&!f||c&&!f)return;r.preventDefault();const A=this.matches(qn)?this:Q.prev(this,qn)[0]||Q.next(this,qn)[0]||Q.findOne(qn,r.delegateTarget.parentNode),O=Ue.getOrCreateInstance(A);if(_)return r.stopPropagation(),O.show(),void O._selectMenuItem(r);O._isShown()&&(r.stopPropagation(),O.hide(),A.focus())}}y.on(document,Rc,qn,Ue.dataApiKeydownHandler),y.on(document,Rc,Ur,Ue.dataApiKeydownHandler),y.on(document,Pc,Ue.clearMenus),y.on(document,vh,Ue.clearMenus),y.on(document,Pc,qn,function(u){u.preventDefault(),Ue.getOrCreateInstance(this).toggle()}),k(Ue);const Bc="backdrop",Hc="show",Fc=`mousedown.bs.${Bc}`,Sh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Mh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class zc extends Lt{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return Sh}static get DefaultType(){return Mh}static get NAME(){return Bc}show(r){if(!this._config.isVisible)return void K(r);this._append();const c=this._getElement();this._config.isAnimated&&T(c),c.classList.add(Hc),this._emulateAnimation(()=>{K(r)})}hide(r){this._config.isVisible?(this._getElement().classList.remove(Hc),this._emulateAnimation(()=>{this.dispose(),K(r)})):K(r)}dispose(){this._isAppended&&(y.off(this._element,Fc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add("fade"),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=d(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),y.on(r,Fc,()=>{K(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){it(r,this._getElement(),this._config.isAnimated)}}const Qr=".bs.focustrap",Lh=`focusin${Qr}`,Oh=`keydown.tab${Qr}`,Wc="backward",Nh={autofocus:!0,trapElement:null},Dh={autofocus:"boolean",trapElement:"element"};class Gc extends Lt{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Nh}static get DefaultType(){return Dh}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),y.off(document,Qr),y.on(document,Lh,r=>this._handleFocusin(r)),y.on(document,Oh,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,y.off(document,Qr))}_handleFocusin(r){const{trapElement:c}=this._config;if(r.target===document||r.target===c||c.contains(r.target))return;const f=Q.focusableChildren(c);f.length===0?c.focus():this._lastTabNavDirection===Wc?f[f.length-1].focus():f[0].focus()}_handleKeydown(r){r.key==="Tab"&&(this._lastTabNavDirection=r.shiftKey?Wc:"forward")}}const jc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vc=".sticky-top",Kr="padding-right",Uc="margin-right";class ws{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Kr,c=>c+r),this._setElementAttributes(jc,Kr,c=>c+r),this._setElementAttributes(Vc,Uc,c=>c-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Kr),this._resetElementAttributes(jc,Kr),this._resetElementAttributes(Vc,Uc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,c,f){const _=this.getWidth();this._applyManipulationCallback(r,A=>{if(A!==this._element&&window.innerWidth>A.clientWidth+_)return;this._saveInitialAttribute(A,c);const O=window.getComputedStyle(A).getPropertyValue(c);A.style.setProperty(c,`${f(Number.parseFloat(O))}px`)})}_saveInitialAttribute(r,c){const f=r.style.getPropertyValue(c);f&&gt.setDataAttribute(r,c,f)}_resetElementAttributes(r,c){this._applyManipulationCallback(r,f=>{const _=gt.getDataAttribute(f,c);_!==null?(gt.removeDataAttribute(f,c),f.style.setProperty(c,_)):f.style.removeProperty(c)})}_applyManipulationCallback(r,c){if(l(r))c(r);else for(const f of Q.find(r,this._element))c(f)}}const ke=".bs.modal",kh=`hide${ke}`,Ih=`hidePrevented${ke}`,Qc=`hidden${ke}`,Kc=`show${ke}`,$h=`shown${ke}`,Ph=`resize${ke}`,Rh=`click.dismiss${ke}`,Bh=`mousedown.dismiss${ke}`,Hh=`keydown.dismiss${ke}`,Fh=`click${ke}.data-api`,Yc="modal-open",qc="show",Es="modal-static",zh={backdrop:!0,focus:!0,keyboard:!0},Wh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Xn extends st{constructor(r,c){super(r,c),this._dialog=Q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ws,this._addEventListeners()}static get Default(){return zh}static get DefaultType(){return Wh}static get NAME(){return"modal"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||y.trigger(this._element,Kc,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Yc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){this._isShown&&!this._isTransitioning&&(y.trigger(this._element,kh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(qc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){y.off(window,ke),y.off(this._dialog,ke),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new zc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Gc({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const c=Q.findOne(".modal-body",this._dialog);c&&(c.scrollTop=0),T(this._element),this._element.classList.add(qc),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,y.trigger(this._element,$h,{relatedTarget:r})},this._dialog,this._isAnimated())}_addEventListeners(){y.on(this._element,Hh,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),y.on(window,Ph,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),y.on(this._element,Bh,r=>{y.one(this._element,Rh,c=>{this._element===r.target&&this._element===c.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Yc),this._resetAdjustments(),this._scrollBar.reset(),y.trigger(this._element,Qc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(y.trigger(this._element,Ih).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,c=this._element.style.overflowY;c==="hidden"||this._element.classList.contains(Es)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(Es),this._queueCallback(()=>{this._element.classList.remove(Es),this._queueCallback(()=>{this._element.style.overflowY=c},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,c=this._scrollBar.getWidth(),f=c>0;if(f&&!r){const _=$()?"paddingLeft":"paddingRight";this._element.style[_]=`${c}px`}if(!f&&r){const _=$()?"paddingRight":"paddingLeft";this._element.style[_]=`${c}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,c){return this.each(function(){const f=Xn.getOrCreateInstance(this,r);if(typeof r=="string"){if(f[r]===void 0)throw new TypeError(`No method named "${r}"`);f[r](c)}})}}y.on(document,Fh,'[data-bs-toggle="modal"]',function(u){const r=Q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),y.one(r,Kc,f=>{f.defaultPrevented||y.one(r,Qc,()=>{p(this)&&this.focus()})});const c=Q.findOne(".modal.show");c&&Xn.getInstance(c).hide(),Xn.getOrCreateInstance(r).toggle(this)}),Gt(Xn),k(Xn);const bn=".bs.offcanvas",Xc=".data-api",Gh=`load${bn}${Xc}`,Jc="show",Zc="showing",tl="hiding",el=".offcanvas.show",jh=`show${bn}`,Vh=`shown${bn}`,Uh=`hide${bn}`,nl=`hidePrevented${bn}`,il=`hidden${bn}`,Qh=`resize${bn}`,Kh=`click${bn}${Xc}`,Yh=`keydown.dismiss${bn}`,qh={backdrop:!0,keyboard:!0,scroll:!1},Xh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class yn extends st{constructor(r,c){super(r,c),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qh}static get DefaultType(){return Xh}static get NAME(){return"offcanvas"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||y.trigger(this._element,jh,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ws().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Zc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Jc),this._element.classList.remove(Zc),y.trigger(this._element,Vh,{relatedTarget:r})},this._element,!0))}hide(){this._isShown&&(y.trigger(this._element,Uh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(tl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Jc,tl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ws().reset(),y.trigger(this._element,il)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=!!this._config.backdrop;return new zc({className:"offcanvas-backdrop",isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?()=>{this._config.backdrop!=="static"?this.hide():y.trigger(this._element,nl)}:null})}_initializeFocusTrap(){return new Gc({trapElement:this._element})}_addEventListeners(){y.on(this._element,Yh,r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():y.trigger(this._element,nl))})}static jQueryInterface(r){return this.each(function(){const c=yn.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r](this)}})}}y.on(document,Kh,'[data-bs-toggle="offcanvas"]',function(u){const r=Q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),h(this))return;y.one(r,il,()=>{p(this)&&this.focus()});const c=Q.findOne(el);c&&c!==r&&yn.getInstance(c).hide(),yn.getOrCreateInstance(r).toggle(this)}),y.on(window,Gh,()=>{for(const u of Q.find(el))yn.getOrCreateInstance(u).show()}),y.on(window,Qh,()=>{for(const u of Q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&yn.getOrCreateInstance(u).hide()}),Gt(yn),k(yn);const rl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Jh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,tp=(u,r)=>{const c=u.nodeName.toLowerCase();return r.includes(c)?!Jh.has(c)||!!Zh.test(u.nodeValue):r.filter(f=>f instanceof RegExp).some(f=>f.test(c))},ep={allowList:rl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},np={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ip={entry:"(string|element|function|null)",selector:"(string|element)"};class rp extends Lt{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return ep}static get DefaultType(){return np}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[_,A]of Object.entries(this._config.content))this._setContent(r,A,_);const c=r.children[0],f=this._resolvePossibleFunction(this._config.extraClass);return f&&c.classList.add(...f.split(" ")),c}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[c,f]of Object.entries(r))super._typeCheckConfig({selector:c,entry:f},ip)}_setContent(r,c,f){const _=Q.findOne(f,r);_&&((c=this._resolvePossibleFunction(c))?l(c)?this._putElementInTemplate(d(c),_):this._config.html?_.innerHTML=this._maybeSanitize(c):_.textContent=c:_.remove())}_maybeSanitize(r){return this._config.sanitize?function(c,f,_){if(!c.length)return c;if(_&&typeof _=="function")return _(c);const A=new window.DOMParser().parseFromString(c,"text/html"),O=[].concat(...A.body.querySelectorAll("*"));for(const I of O){const U=I.nodeName.toLowerCase();if(!Object.keys(f).includes(U)){I.remove();continue}const nt=[].concat(...I.attributes),rt=[].concat(f["*"]||[],f[U]||[]);for(const Z of nt)tp(Z,rt)||I.removeAttribute(Z.nodeName)}return A.body.innerHTML}(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return K(r,[this])}_putElementInTemplate(r,c){if(this._config.html)return c.innerHTML="",void c.append(r);c.textContent=r.textContent}}const op=new Set(["sanitize","allowList","sanitizeFn"]),xs="fade",Yr="show",ol=".modal",sl="hide.bs.modal",ur="hover",Cs="focus",sp={AUTO:"auto",TOP:"top",RIGHT:$()?"left":"right",BOTTOM:"bottom",LEFT:$()?"right":"left"},ap={allowList:rl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},cp={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Jn extends st{constructor(r,c){if(kc===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,c),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ap}static get DefaultType(){return cp}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),y.off(this._element.closest(ol),sl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const r=y.trigger(this._element,this.constructor.eventName("show")),c=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!c)return;this._disposePopper();const f=this._getTipElement();this._element.setAttribute("aria-describedby",f.getAttribute("id"));const{container:_}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(_.append(f),y.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(f),f.classList.add(Yr),"ontouchstart"in document.documentElement)for(const A of[].concat(...document.body.children))y.on(A,"mouseover",m);this._queueCallback(()=>{y.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!y.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Yr),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))y.off(r,"mouseover",m);this._activeTrigger.click=!1,this._activeTrigger[Cs]=!1,this._activeTrigger[ur]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),y.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const c=this._getTemplateFactory(r).toHtml();if(!c)return null;c.classList.remove(xs,Yr),c.classList.add(`bs-${this.constructor.NAME}-auto`);const f=(_=>{do _+=Math.floor(1e6*Math.random());while(document.getElementById(_));return _})(this.constructor.NAME).toString();return c.setAttribute("id",f),this._isAnimated()&&c.classList.add(xs),c}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new rp({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(xs)}_isShown(){return this.tip&&this.tip.classList.contains(Yr)}_createPopper(r){const c=K(this._config.placement,[this,r,this._element]),f=sp[c.toUpperCase()];return ys(this._element,r,this._getPopperConfig(f))}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(c=>Number.parseInt(c,10)):typeof r=="function"?c=>r(c,this._element):r}_resolvePossibleFunction(r){return K(r,[this._element])}_getPopperConfig(r){const c={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:f=>{this._getTipElement().setAttribute("data-popper-placement",f.state.placement)}}]};return{...c,...K(this._config.popperConfig,[c])}}_setListeners(){const r=this._config.trigger.split(" ");for(const c of r)if(c==="click")y.on(this._element,this.constructor.eventName("click"),this._config.selector,f=>{this._initializeOnDelegatedTarget(f).toggle()});else if(c!=="manual"){const f=c===ur?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),_=c===ur?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");y.on(this._element,f,this._config.selector,A=>{const O=this._initializeOnDelegatedTarget(A);O._activeTrigger[A.type==="focusin"?Cs:ur]=!0,O._enter()}),y.on(this._element,_,this._config.selector,A=>{const O=this._initializeOnDelegatedTarget(A);O._activeTrigger[A.type==="focusout"?Cs:ur]=O._element.contains(A.relatedTarget),O._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},y.on(this._element.closest(ol),sl,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");r&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,c){clearTimeout(this._timeout),this._timeout=setTimeout(r,c)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const c=gt.getDataAttributes(this._element);for(const f of Object.keys(c))op.has(f)&&delete c[f];return r={...c,...typeof r=="object"&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:d(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const[c,f]of Object.entries(this._config))this.constructor.Default[c]!==f&&(r[c]=f);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){const c=Jn.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0)throw new TypeError(`No method named "${r}"`);c[r]()}})}}k(Jn);const lp={...Jn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},up={...Jn.DefaultType,content:"(null|string|element|function)"};class qr extends Jn{static get Default(){return lp}static get DefaultType(){return up}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const c=qr.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0)throw new TypeError(`No method named "${r}"`);c[r]()}})}}k(qr);const Ts=".bs.scrollspy",dp=`activate${Ts}`,al=`click${Ts}`,fp=`load${Ts}.data-api`,Mi="active",Ss="[href]",cl=".nav-link",hp=`${cl}, .nav-item > ${cl}, .list-group-item`,pp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gp={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class dr extends st{constructor(r,c){super(r,c),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return pp}static get DefaultType(){return gp}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=d(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(c=>Number.parseFloat(c))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(y.off(this._config.target,al),y.on(this._config.target,al,Ss,r=>{const c=this._observableSections.get(r.target.hash);if(c){r.preventDefault();const f=this._rootElement||window,_=c.offsetTop-this._element.offsetTop;if(f.scrollTo)return void f.scrollTo({top:_,behavior:"smooth"});f.scrollTop=_}}))}_getNewObserver(){const r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(c=>this._observerCallback(c),r)}_observerCallback(r){const c=O=>this._targetLinks.get(`#${O.target.id}`),f=O=>{this._previousScrollData.visibleEntryTop=O.target.offsetTop,this._process(c(O))},_=(this._rootElement||document.documentElement).scrollTop,A=_>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=_;for(const O of r){if(!O.isIntersecting){this._activeTarget=null,this._clearActiveClass(c(O));continue}const I=O.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(A&&I){if(f(O),!_)return}else A||I||f(O)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=Q.find(Ss,this._config.target);for(const c of r){if(!c.hash||h(c))continue;const f=Q.findOne(decodeURI(c.hash),this._element);p(f)&&(this._targetLinks.set(decodeURI(c.hash),c),this._observableSections.set(c.hash,f))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(Mi),this._activateParents(r),y.trigger(this._element,dp,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains("dropdown-item"))Q.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(Mi);else for(const c of Q.parents(r,".nav, .list-group"))for(const f of Q.prev(c,hp))f.classList.add(Mi)}_clearActiveClass(r){r.classList.remove(Mi);const c=Q.find(`${Ss}.${Mi}`,r);for(const f of c)f.classList.remove(Mi)}static jQueryInterface(r){return this.each(function(){const c=dr.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r]()}})}}y.on(window,fp,()=>{for(const u of Q.find('[data-bs-spy="scroll"]'))dr.getOrCreateInstance(u)}),k(dr);const Zn=".bs.tab",mp=`hide${Zn}`,vp=`hidden${Zn}`,_p=`show${Zn}`,bp=`shown${Zn}`,yp=`click${Zn}`,Ap=`keydown${Zn}`,wp=`load${Zn}`,Ep="ArrowLeft",ll="ArrowRight",xp="ArrowUp",ul="ArrowDown",Ms="Home",dl="End",ti="active",fl="fade",Ls="show",hl=".dropdown-toggle",Os=`:not(${hl})`,pl='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ns=`.nav-link${Os}, .list-group-item${Os}, [role="tab"]${Os}, ${pl}`,Cp=`.${ti}[data-bs-toggle="tab"], .${ti}[data-bs-toggle="pill"], .${ti}[data-bs-toggle="list"]`;class ei extends st{constructor(r){super(r),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),y.on(this._element,Ap,c=>this._keydown(c)))}static get NAME(){return"tab"}show(){const r=this._element;if(this._elemIsActive(r))return;const c=this._getActiveElem(),f=c?y.trigger(c,mp,{relatedTarget:r}):null;y.trigger(r,_p,{relatedTarget:c}).defaultPrevented||f&&f.defaultPrevented||(this._deactivate(c,r),this._activate(r,c))}_activate(r,c){r&&(r.classList.add(ti),this._activate(Q.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),y.trigger(r,bp,{relatedTarget:c})):r.classList.add(Ls)},r,r.classList.contains(fl)))}_deactivate(r,c){r&&(r.classList.remove(ti),r.blur(),this._deactivate(Q.getElementFromSelector(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),y.trigger(r,vp,{relatedTarget:c})):r.classList.remove(Ls)},r,r.classList.contains(fl)))}_keydown(r){if(![Ep,ll,xp,ul,Ms,dl].includes(r.key))return;r.stopPropagation(),r.preventDefault();const c=this._getChildren().filter(_=>!h(_));let f;if([Ms,dl].includes(r.key))f=c[r.key===Ms?0:c.length-1];else{const _=[ll,ul].includes(r.key);f=v(c,r.target,_,!0)}f&&(f.focus({preventScroll:!0}),ei.getOrCreateInstance(f).show())}_getChildren(){return Q.find(Ns,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,c){this._setAttributeIfNotExists(r,"role","tablist");for(const f of c)this._setInitialAttributesOnChild(f)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const c=this._elemIsActive(r),f=this._getOuterElement(r);r.setAttribute("aria-selected",c),f!==r&&this._setAttributeIfNotExists(f,"role","presentation"),c||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const c=Q.getElementFromSelector(r);c&&(this._setAttributeIfNotExists(c,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(c,"aria-labelledby",`${r.id}`))}_toggleDropDown(r,c){const f=this._getOuterElement(r);if(!f.classList.contains("dropdown"))return;const _=(A,O)=>{const I=Q.findOne(A,f);I&&I.classList.toggle(O,c)};_(hl,ti),_(".dropdown-menu",Ls),f.setAttribute("aria-expanded",c)}_setAttributeIfNotExists(r,c,f){r.hasAttribute(c)||r.setAttribute(c,f)}_elemIsActive(r){return r.classList.contains(ti)}_getInnerElement(r){return r.matches(Ns)?r:Q.findOne(Ns,r)}_getOuterElement(r){return r.closest(".nav-item, .list-group-item")||r}static jQueryInterface(r){return this.each(function(){const c=ei.getOrCreateInstance(this);if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r]()}})}}y.on(document,yp,pl,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),h(this)||ei.getOrCreateInstance(this).show()}),y.on(window,wp,()=>{for(const u of Q.find(Cp))ei.getOrCreateInstance(u)}),k(ei);const In=".bs.toast",Tp=`mouseover${In}`,Sp=`mouseout${In}`,Mp=`focusin${In}`,Lp=`focusout${In}`,Op=`hide${In}`,Np=`hidden${In}`,Dp=`show${In}`,kp=`shown${In}`,gl="hide",Xr="show",Jr="showing",Ip={animation:"boolean",autohide:"boolean",delay:"number"},$p={animation:!0,autohide:!0,delay:5e3};class fr extends st{constructor(r,c){super(r,c),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return $p}static get DefaultType(){return Ip}static get NAME(){return"toast"}show(){y.trigger(this._element,Dp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(gl),T(this._element),this._element.classList.add(Xr,Jr),this._queueCallback(()=>{this._element.classList.remove(Jr),y.trigger(this._element,kp),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(y.trigger(this._element,Op).defaultPrevented||(this._element.classList.add(Jr),this._queueCallback(()=>{this._element.classList.add(gl),this._element.classList.remove(Jr,Xr),y.trigger(this._element,Np)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Xr),super.dispose()}isShown(){return this._element.classList.contains(Xr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,c){switch(r.type){case"mouseover":case"mouseout":this._hasMouseInteraction=c;break;case"focusin":case"focusout":this._hasKeyboardInteraction=c}if(c)return void this._clearTimeout();const f=r.relatedTarget;this._element===f||this._element.contains(f)||this._maybeScheduleHide()}_setListeners(){y.on(this._element,Tp,r=>this._onInteraction(r,!0)),y.on(this._element,Sp,r=>this._onInteraction(r,!1)),y.on(this._element,Mp,r=>this._onInteraction(r,!0)),y.on(this._element,Lp,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const c=fr.getOrCreateInstance(this,r);if(typeof r=="string"){if(c[r]===void 0)throw new TypeError(`No method named "${r}"`);c[r](this)}})}}return Gt(fr),k(fr),{Alert:ee,Button:Le,Carousel:Qt,Collapse:bi,Dropdown:Ue,Modal:Xn,Offcanvas:yn,Popover:qr,ScrollSpy:dr,Tab:ei,Toast:fr,Tooltip:Jn}})}(_o)),_o.exports}Kp();var L=(t=>(t[t.Common=0]="Common",t[t.Rare=1]="Rare",t[t.Masterpiece=2]="Masterpiece",t[t.Epic=3]="Epic",t[t.Mythical=4]="Mythical",t[t.Unique=5]="Unique",t))(L||{}),ui=(t=>(t.Consumable="Consumable",t.Equipment="Equipment",t))(ui||{}),St=(t=>(t.Body="body",t.Hand="hand",t.Foot="foot",t.Accessory="accessory",t))(St||{}),C=(t=>(t.Attack="Attack",t.Defend="Defend",t.Dodge="Dodge",t.Capture="Capture",t.Special="Special",t.None="None",t))(C||{}),le=(t=>(t.Permanent="Permanent",t.Turn="Turn",t.Action="Action",t.Hit="Hit",t.Second="Second",t))(le||{}),Xt=(t=>(t.OnSecond="OnSecond",t.OnTurnStart="OnTurnStart",t.OnHitStart="OnHitStart",t))(Xt||{}),wn=(t=>(t.SpiritBlade="SpiritBlade",t.RedBlade="RedBlade",t.Pain="Pain",t.Unbalance="Unbalance",t.Wound="Wound",t.Burning="Burning",t.QuickRecovery="QuickRecovery",t.Dizzy="Dizzy",t.Escaped="Escaped",t.WillEscape="WillEscape",t))(wn||{});const Gi={SpiritBlade:{name:"气刃",description:"可以释放气刃大回旋",durationType:le.Turn,category:Xt.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Yt[N.SpiritRoundSlash],{action1:e,action2:n})},RedBlade:{name:"红刃",description:"可以释放登龙",durationType:le.Turn,category:Xt.OnTurnStart,priority:1,effect:(t,e,n)=>(e=Yt[N.HelmBreaker],{action1:e,action2:n})},Pain:{name:"痛苦",description:"有概率因痛苦而无法行动",durationType:le.Turn,category:Xt.OnTurnStart,priority:999,effect:(t,e,n)=>(Math.random()<.1&&(e=Yt[N.Stun],n=Yt[N.Stun]),{action1:e,action2:n})},Unbalance:{name:"失衡",description:"重心不稳，丢失当前Hit",durationType:le.Hit,category:Xt.OnHitStart,priority:999,effect:(t,e)=>Mo},Dizzy:{name:"头晕眼花",description:"丢失当回合所有hit",durationType:le.Turn,category:Xt.OnHitStart,priority:999,effect:(t,e)=>Mo},Wound:{name:"创伤",description:"每次行动(hit)都会损失一定生命值",durationType:le.Turn,category:Xt.OnHitStart,priority:999,effect:(t,e,n)=>(t.loseHp(n||1),e)},Burning:{name:"燃烧",description:"每回合损失一定生命值",durationType:le.Turn,category:Xt.OnTurnStart,priority:999,effect:(t,e,n,i)=>(t.loseHp(i||1),{action1:e,action2:n})},QuickRecovery:{name:"快速恢复",description:"自动回复速度大幅度增加",durationType:le.Second,category:Xt.OnSecond,priority:1,effect:(t,e)=>{t.autoRecoverHpDot(e||1)}},Escaped:{name:"跑掉了",description:"ta逃走了...",durationType:le.Turn,category:Xt.OnTurnStart,priority:999,effect:(t,e,n)=>({action1:e,action2:n})},WillEscape:{name:"将要逃跑",description:"ta即将逃跑...",durationType:le.Turn,category:Xt.OnTurnStart,priority:999,effect:(t,e,n)=>(t.statuses.filter(s=>s.type==="WillEscape").reduce((s,a)=>Math.min(s,a.duration),1/0)===1&&t.addStatus("Escaped",999),{action1:e,action2:n})}};function Yp(t,e){if(!(t instanceof Ui))return;if(e.health<1){t.addLog(`${e.name}已经死了，无法捕获`);return}const n=t.getAbility(),i=e.getAbility(),o=n.dex/i.dex*(n.siz/i.siz)/(10*e.health/e.getMaxHealth()),s=n.str/i.str*(n.siz/i.siz)/(10*e.health/e.getMaxHealth());Math.random()<s&&Math.random()<o?(e.health=.9,t.capturedMonster.push(e),t.addLog(`你成功捕获了${e.name}`)):t.addLog(`你尝试捕获${e.name}，但是失败了`)}function da(t,e){return e.hits.map(n=>`${ji(n)}${n.continuous?"🔗":""}(${So(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${Fo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}function Fo(t,e,n){const i=Math.round((t.str*e.str+t.dex*e.dex+t.int*e.int+t.con*e.con+t.siz*e.siz+t.app*e.app)*n.multiply+n.plus);return i<0?0:i}function So(t,e,n){const i=Math.round(Fo(t,e,n)*.1);return i<0?0:i}function di(t,e,n){return So(t,e,n)+Math.round((Fo(t,e,n)-So(t,e,n))*Math.random())}function ji(t){switch(t.category){case C.Attack:return"🗡️";case C.Defend:return"🛡️";case C.Dodge:return"💫";case C.Capture:return"🕸️";case C.Special:return"💥";case C.None:return"❔";default:return""}}function Dl(t,e){return`
    <p class="fst-italic">"${e.description}"</p>
    <p>系数 (点数范围)</p>
    <p>${e.hits.map(n=>`${ji(n)}${n.continuous?"🔗":""}${Object.entries(n.coeff).filter(([i,o])=>o).map(([i,o])=>`${i}: ${o}`).join(", ")} (${So(n.coeff,t.getAbility(),t.getActionCoeff(n.category))}~${Fo(n.coeff,t.getAbility(),t.getActionCoeff(n.category))})`).join("<br>")}</p>
  `}var N=(t=>(t.Dazed="Dazed",t.Attack="Attack",t.PowerAttack="PowerAttack",t.QuickAttack="QuickAttack",t.PowerfulDigAttack="PowerfulDigAttack",t.Yarimasune="Yarimasune",t.SleepyTea="SleepyTea",t.Repent="Repent",t.HorizontalSlash="HorizontalSlash",t.Bite="Bite",t.Capture="Capture",t.Stun="Stun",t.Defend="Defend",t.Dodge="Dodge",t.DragonBreath="DragonBreath",t.SpinAttack="SpinAttack",t.DefenseSlash="DefenseSlash",t.Counter="Counter",t.GodStrike="GodStrike",t.ShredFlower="ShredFlower",t.PsyKick="PsyKick",t.PsyExplosion="PsyExplosion",t.PsyInvisibleSword="PsyInvisibleSword",t.PsyDodge="PsyDodge",t.Slash="Slash",t.Claw="Claw",t.HelmBreaker="HelmBreaker",t.StepSlash="StepSlash",t.Mikiri="Mikiri",t.SpiritRoundSlash="SpiritRoundSlash",t.NeverRetreat="NeverRetreat",t.LightningStormSlash="LightningStormSlash",t.LightningFiveStrikes="LightningFiveStrikes",t.CrowFly="CrowFly",t.ParkDestroyer="ParkDestroyer",t.SneakAttack="SneakAttack",t.RunAway="RunAway",t))(N||{});const Mo={category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`},Yt={Dazed:{name:"反应不过来",description:"来不及反应",rarity:L.Common,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 来不及反应`}]},Stun:{name:"眩晕",description:"眩晕",rarity:L.Common,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 眩晕了`}]},Attack:{name:"攻击",description:"用拳头或者用武器进行一般通过攻击",rarity:L.Common,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}攻击了${e.name}`}]},PowerAttack:{name:"强力攻击",description:"全身力量集中于一点，进行一次强力的攻击",rarity:L.Rare,hits:[{category:C.Attack,coeff:{str:2,int:0,con:0,siz:1,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}对${e.name}发起了一次强力的攻击`}]},QuickAttack:{name:"迅击",description:"据说剑圣在一个呼吸间就能劈出数刀。虽然你不是剑圣，但你努努力也至少能劈出两刀",rarity:L.Rare,hits:[{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}以迅雷不及掩耳之势向${e.name}发起了攻势`},{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`电光火石之间，${t.name}再次做出了攻击`}]},PowerfulDigAttack:{name:"撅",description:"撅是对知识的渴求。古往今来多少哲学家撅地三尺探求真理",rarity:L.Masterpiece,hits:[{category:C.Attack,coeff:{str:2,int:0,con:0,siz:3,app:0,dex:0},extraEffect:(t,e)=>{e.addStatus(wn.Pain,1)},messageGenerator:(t,e)=>`${t.name}撅了${e.name}，${e.name}痛苦难耐
// 哼哼啊啊啊啊啊啊啊啊啊啊 `}]},SleepyTea:{name:"饮用昏睡红茶",description:"诗人都喜欢饮酒作赋，古代的哲学家也是如此，只是彼时还没有酒",rarity:L.Epic,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，进入睡眠`},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}喝下了昏睡红茶，于睡眠中恢复了<span style="color: green">${t.getAbility().con}</span>点生命值`,extraEffect:(t,e)=>{t.recoverHp(t.getAbility().con/2)}}]},Yarimasune:{name:"这个可以有！(赞赏)",description:"丝毫不吝啬对敌人的赞赏，这就是野兽先辈的气量",rarity:L.Rare,hits:[{category:C.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},Repent:{name:"†你改悔罢†",description:"令敌人改悔的神圣攻击",rarity:L.Masterpiece,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪躲`},{category:C.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}曰: †你改悔罢†`}]},HorizontalSlash:{name:"横斩",description:"千钧之力的大力横劈",rarity:L.Rare,hits:[{category:C.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}猛劈一刀`}]},StepSlash:{name:"踏前斩",description:"前踏一步进行追击，而后猛劈一刀",rarity:L.Rare,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}前踏一步`},{category:C.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}借着前冲的力劈出强力一击`}]},Mikiri:{name:"见切",description:"在敌人攻击的瞬间拔刀后退，成功回避攻击则能乘势将气入刀，以在下回合释放气刃大回旋",rarity:L.Masterpiece,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>`${t.name}在敌人攻击的瞬间拔刀后退`,extraEffect:(t,e)=>{t.addStatus(wn.SpiritBlade,1)}}]},SpiritRoundSlash:{name:"气刃大回旋",description:"将气附于刀刃之上，使出极大幅度回转刀身的斩击，若是击中敌人则可使用登龙",rarity:L.Masterpiece,hits:[{category:C.Attack,coeff:{str:4,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}使出极大幅度回转刀身的斩击`,extraEffect:(t,e)=>{t.addStatus(wn.RedBlade,1)}}]},HelmBreaker:{name:"登龙",description:"快速向前突进，若成功击中命中便会借势踩着敌人的身体一路跃至高空，而后以全身的力量从空中向下劈出泣鬼神的一刀",rarity:L.Mythical,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},continuous:!0,messageGenerator:(t,e)=>`${t.name}向${e.name}突进，踩着${e.name}的身体一路跃至高空`},{category:C.Attack,coeff:{str:10,int:0,con:2,siz:2,app:0,dex:2},messageGenerator:(t,e)=>`${t.name}从天而降，以全身之力劈向${e.name}`}]},Slash:{name:"劈砍",description:"挥舞手中的武器",rarity:L.Common,hits:[{category:C.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`${t.name}挥舞手中的武器劈向${e.name}`}]},Bite:{name:"撕咬",description:"野兽的原始攻击方式",rarity:L.Common,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}冲过来咬了${e.name}一口`}]},Claw:{name:"爪击",description:"野兽的原始攻击方式",rarity:L.Rare,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`},{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:.5,app:0,dex:0},messageGenerator:(t,e)=>`${t.name}向${e.name}挥舞锐利的爪子`}]},RunAway:{name:"抱头鼠窜",description:"抱头鼠窜",rarity:L.Common,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}抱头鼠窜`},{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name}抱头鼠窜`}]},Capture:{name:"尝试捕捉",description:"这不是神奇宝贝，你得用绞技而不是精灵球",rarity:L.Common,hits:[{category:C.Capture,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},extraEffect:Yp,messageGenerator:(t,e)=>`${t.name}尝试通过绞住${e.name}，让${e.name}失去行动力`}]},Defend:{name:"格挡",description:"做一个稳重的人",rarity:L.Common,hits:[{category:C.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`}]},Counter:{name:"反击",description:"格挡后乘势反击",rarity:L.Rare,hits:[{category:C.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了防御`},{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了反击`}]},DefenseSlash:{name:"防御斩",description:"快速挥刀后立刻进行防御，不给敌人任何可乘之机",rarity:L.Rare,hits:[{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 进行了一次快速攻击`},{category:C.Defend,coeff:{str:1.5,int:0,con:1.5,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 进行了铁壁一般的防御`}]},Dodge:{name:"闪避",description:"天下武功，唯快不破。若是能闪过敌人的攻击，将使敌人失衡，失去下一个动作",rarity:L.Common,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 对 ${e.name} 的攻击进行了闪躲`}]},PsyDodge:{name:"瞬移",description:"念力的一种用法",rarity:L.Epic,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.Dodge,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 的身影瞬间到了别处`}]},SpinAttack:{name:"回旋击",description:"闪避后趁敌人重心不稳发起攻击",rarity:L.Rare,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(t,e)=>`${t.name} 进行了闪避`},{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 进行了回旋击`}]},DragonBreath:{name:"巨龙吐息",description:"据说巨龙的吐息足以融化钢铁",rarity:L.Epic,hits:[{category:C.Attack,coeff:{str:0,int:10,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了汹涌的火焰`},{category:C.Attack,coeff:{str:0,int:5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了灼热的火焰`},{category:C.Attack,coeff:{str:0,int:2,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 喷出了喉咙中残余的火焰`}]},GodStrike:{name:"神击",description:"犹如神灵降下天罚",rarity:L.Mythical,hits:[{category:C.Attack,coeff:{str:12,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`神明的愤怒降临于${e.name}`}]},ShredFlower:{name:"碎花",description:"无人能看清动作，空中轻柔的落花瞬间化为齑粉",rarity:L.Unique,hits:[{category:C.Defend,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 被花瓣包围了`},{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(t,e)=>`${t.name} 的身影消失了`},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有残影"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(t,e)=>"空气中只有更多的残影"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${e.name} 同花瓣一同破碎`}]},PsyKick:{name:"念动力踢击",description:"通过念力完成的隔空踢击，力道十足又难以防备",rarity:L.Rare,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.Attack,coeff:{str:1,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}凭空被踢了一脚`}]},PsyExplosion:{name:"不可视爆裂",description:"不可视的念力凝聚成万吨重锤从天而降",rarity:L.Epic,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.Attack,coeff:{str:2,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${e.name}所在的位置发生了大爆炸`}]},PsyInvisibleSword:{name:'"不可视之剑"',description:"无数看不见的剑刺向敌人，流淌的血勾勒出它们的形状",rarity:L.Unique,hits:[{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"一切如常"},{category:C.Attack,coeff:{str:0,int:1.5,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`看不见的剑贯穿${e.name}`},{category:C.Attack,coeff:{str:0,int:3,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`更多看不见的剑贯穿${e.name}`},{category:C.Attack,coeff:{str:0,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`极多看不见的剑贯穿${e.name}`},{category:C.Attack,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`无数看不见的剑贯穿${e.name}`}]},NeverRetreat:{name:"死守不退",description:"全力防御，死守不退",rarity:L.Masterpiece,hits:[{category:C.Defend,coeff:{str:2,int:0,con:2,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 全力防御`},{category:C.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 死守不退`}]},CrowFly:{name:"乌鸦坐飞机",description:"高高跃起后发起攻击",rarity:L.Masterpiece,hits:[{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(t,e)=>`${t.name} 一个大跳`},{category:C.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>`${t.name} 从空中一拳打向 ${e.name}`}]},ParkDestroyer:{name:"龙卷风击毁停车场",description:"释放武器中的狂风之力，形成狂暴的龙卷风",rarity:L.Masterpiece,hits:[{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(t,e)=>`风卷着尘土袭向 ${e.name}`},{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"回旋的风聚成龙卷"},{category:C.Attack,coeff:{str:1.5,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(t,e)=>`${t.name} 从龙卷风中刺出`}]},LightningStormSlash:{name:"闪电旋风劈",description:"闪！电！旋！风！劈！",rarity:L.Masterpiece,hits:[{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"闪电！"},{category:C.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(t,e)=>"旋风！"},{category:C.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(t,e)=>"劈！"}]},LightningFiveStrikes:{name:"闪电五连鞭",description:"相传武林中有一位马大师，靠着这套五连鞭驰骋江湖，可惜后来被两个年轻人偷袭，从此销声匿迹",rarity:L.Masterpiece,hits:[{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第一鞭！"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第二鞭！"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第三鞭！"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第四鞭！"},{category:C.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>"第五鞭！"}]},SneakAttack:{name:"偷袭",description:"来！骗！来！偷袭！",rarity:L.Rare,hits:[{category:C.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(t,e)=>`${t.name} 来！骗！来！偷袭！`,extraEffect:(t,e)=>{e.addStatus(wn.Dizzy,1)}}]}};var Vi=(t=>(t.Sword="Sword",t.ShabbyKatana="ShabbyKatana",t.GreatKatana="GreatKatana",t.Ningenmukotsu="Ningenmukotsu",t.Mikadsukimunechika="Mikadsukimunechika",t.MudKnife="MudKnife",t.WindSpinSword="WindSpinSword",t.AyulsaOfNoHonor="AyulsaOfNoHonor",t.RockSword="RockSword",t.Rope="Rope",t.DragonSlayer="DragonSlayer",t.KatanaOfTheHeart="KatanaOfTheHeart",t.WomenDress="WomenDress",t.ToonoDefeaterBadge="ToonoDefeaterBadge",t))(Vi||{});const bo={Sword:{name:"铁剑",description:"一把平平无奇的剑",rarity:L.Common,position:St.Hand,extraActions:[{actionType:N.Slash,weight:.8},{actionType:N.HorizontalSlash,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Attack]:{plus:1,multiply:1}}},Rope:{name:"绳索",description:"一个看起来很适合用来捕捉的武器",rarity:L.Common,position:St.Hand,extraActions:[{actionType:N.Capture,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Attack]:{plus:-1,multiply:1},[C.Capture]:{plus:2,multiply:1}}},ShabbyKatana:{name:"残破太刀",description:"太好了，有了这个，你就可以做虾头太刀侠了",rarity:L.Common,position:St.Hand,extraActions:[{actionType:N.Slash,weight:.9},{actionType:N.HorizontalSlash,weight:.05},{actionType:N.StepSlash,weight:.04},{actionType:N.Mikiri,weight:.01}],ability:{piercing:25,dex:-1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Attack]:{plus:1,multiply:1},[C.Dodge]:{plus:-1,multiply:1}}},GreatKatana:{name:"大太刀",description:"这把的太刀的刀身比一般的太刀要长，挥舞起来很吃力但是威力巨大",rarity:L.Rare,position:St.Hand,extraActions:[{actionType:N.Slash,weight:.7},{actionType:N.HorizontalSlash,weight:.1},{actionType:N.StepSlash,weight:.1},{actionType:N.Mikiri,weight:.05}],ability:{piercing:30,dex:-2},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Attack]:{plus:4,multiply:1},[C.Dodge]:{plus:-2,multiply:1}}},Ningenmukotsu:{name:'太刀"人间无骨"',description:"正面刻着人间，背面刻着无骨的名刀。刀如其名，削骨若无物",rarity:L.Masterpiece,position:St.Hand,extraActions:[{actionType:N.HorizontalSlash,weight:.4},{actionType:N.StepSlash,weight:.4},{actionType:N.Mikiri,weight:.15}],ability:{piercing:40},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[C.Attack]:{plus:1,multiply:1.2}}},Mikadsukimunechika:{name:'太刀"三日月宗近"',description:"太刀最高杰作的天下五剑之一，传说中的名刀，有着名物中的名物之称。刀身如同新月一般美丽",rarity:L.Epic,position:St.Hand,extraActions:[{actionType:N.HorizontalSlash,weight:.3},{actionType:N.StepSlash,weight:.3},{actionType:N.Mikiri,weight:.3}],ability:{piercing:40,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[C.Attack]:{plus:6,multiply:1},[C.Dodge]:{plus:1,multiply:1}}},KatanaOfTheHeart:{name:"心中的太刀",description:"你看不见它，但它确实在你手中",rarity:L.Mythical,position:St.Hand,extraActions:[{actionType:N.Mikiri,weight:1}],ability:{piercing:45},armorGrowthCoeff:0,piercingGrowthCoeff:6.5,actionCoeff:{[C.Attack]:{plus:6,multiply:1.2},[C.Dodge]:{plus:6,multiply:1.2}}},MudKnife:{name:"沼气短刀",description:"刀身闻起来臭臭的",rarity:L.Rare,position:St.Hand,extraActions:[{actionType:N.Slash,weight:.4},{actionType:N.PowerfulDigAttack,weight:.1},{actionType:N.QuickAttack,weight:.5}],ability:{piercing:30,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[C.Dodge]:{plus:1,multiply:1}}},WindSpinSword:{name:"风旋刺剑",description:"靠近剑身能听到轻轻的风声",rarity:L.Masterpiece,position:St.Hand,extraActions:[{actionType:N.SpinAttack,weight:.6},{actionType:N.ParkDestroyer,weight:.15},{actionType:N.LightningStormSlash,weight:.15}],ability:{piercing:35,dex:2},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[C.Attack]:{plus:1,multiply:1},[C.Dodge]:{plus:2,multiply:1}}},RockSword:{name:"剑型大石头",description:"一把很宽的石头大剑，看起来就像块大石头",rarity:L.Masterpiece,position:St.Hand,extraActions:[{actionType:N.DefenseSlash,weight:.3},{actionType:N.Counter,weight:.4},{actionType:N.NeverRetreat,weight:.3}],ability:{str:1,con:1,piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[C.Defend]:{plus:3,multiply:1}}},DragonSlayer:{name:'"弑龙者"',description:"传说这把剑上的龙之力来源于被它杀死的龙的灵魂。你握着它，仿佛能感受到龙的气息",rarity:L.Epic,position:St.Hand,extraActions:[{actionType:N.HorizontalSlash,weight:1},{actionType:N.DragonBreath,weight:.1}],ability:{str:1,con:2,piercing:40},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[C.Attack]:{plus:2,multiply:1}}},AyulsaOfNoHonor:{name:"Ayulsa死于徒手",description:"Ayulsa手上没有武器",rarity:L.Unique,position:St.Hand,extraActions:[{actionType:N.PsyKick,weight:.2},{actionType:N.PsyExplosion,weight:.2},{actionType:N.PsyInvisibleSword,weight:.1},{actionType:N.PsyDodge,weight:.2}],ability:{int:2,dex:2,piercing:50},armorGrowthCoeff:0,piercingGrowthCoeff:6.75,actionCoeff:{}},WomenDress:{name:"女装",description:"女装",rarity:L.Rare,position:St.Body,extraActions:[],ability:{armor:15},armorGrowthCoeff:3,piercingGrowthCoeff:0,actionCoeff:{}},ToonoDefeaterBadge:{name:"远野击败者徽章",description:"隐藏着一些原本属于你的力量",canNotObtainFromChest:!0,rarity:L.Masterpiece,position:St.Accessory,extraActions:[{actionType:N.PowerfulDigAttack,weight:.03},{actionType:N.Yarimasune,weight:.03},{actionType:N.Repent,weight:.03},{actionType:N.SleepyTea,weight:.03}],ability:{},armorGrowthCoeff:0,piercingGrowthCoeff:0,actionCoeff:{}}};class Yu{constructor(e,n,i,o,s,a,l){bt(this,"name");bt(this,"uuid");bt(this,"category");bt(this,"type");bt(this,"rarity");bt(this,"level");bt(this,"description");this.name=e,this.uuid=n,this.category=i,this.type=o,this.rarity=s,this.level=a,this.description=l}}const te=[];for(let t=0;t<256;++t)te.push((t+256).toString(16).slice(1));function qp(t,e=0){return(te[t[e+0]]+te[t[e+1]]+te[t[e+2]]+te[t[e+3]]+"-"+te[t[e+4]]+te[t[e+5]]+"-"+te[t[e+6]]+te[t[e+7]]+"-"+te[t[e+8]]+te[t[e+9]]+"-"+te[t[e+10]]+te[t[e+11]]+te[t[e+12]]+te[t[e+13]]+te[t[e+14]]+te[t[e+15]]).toLowerCase()}let $s;const Xp=new Uint8Array(16);function Jp(){if(!$s){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$s=crypto.getRandomValues.bind(crypto)}return $s(Xp)}const Zp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kl={randomUUID:Zp};function qu(t,e,n){var o;if(kl.randomUUID&&!t)return kl.randomUUID();t=t||{};const i=t.random??((o=t.rng)==null?void 0:o.call(t))??Jp();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,qp(i)}class xn extends Yu{constructor(n,i=0){n=n||Vi.Sword;const o=bo[n];super(o.name,qu(),ui.Equipment,n,o.rarity,i,o.description);bt(this,"position");bt(this,"extraActions");bt(this,"ability");bt(this,"armorGrowthCoeff");bt(this,"piercingGrowthCoeff");bt(this,"actionCoeff");bt(this,"prefix");this.armorGrowthCoeff=o.armorGrowthCoeff,this.piercingGrowthCoeff=o.piercingGrowthCoeff,this.position=o.position,this.extraActions=o.extraActions,this.randomExtraActionsWeight(),this.ability=o.ability,this.actionCoeff=o.actionCoeff,this.ability.armor||(this.ability.armor=0),this.ability.piercing||(this.ability.piercing=0),this.ability.armor+=this.armorGrowthCoeff*this.level,this.ability.piercing+=this.piercingGrowthCoeff*this.level,this.prefix=tg(this.randomPrefixRarity(),o.position),this.applyPrefix()}randomExtraActionsWeight(){this.extraActions.forEach(n=>{n.weight=n.weight*(1+Math.random()*.4-.2)})}randomPrefixRarity(){let n=L.Common;for(let i=0;i<10;i++)Math.random()<.05?n-=1:Math.random()>.95&&(n+=1);return n<L.Common?n=L.Common:n>L.Mythical&&(n=L.Mythical),n}applyPrefix(){["str","int","con","siz","app","dex","armor","piercing"].forEach(o=>{var s;(s=this.prefix.ability)!=null&&s[o]&&(this.ability[o]=this.ability[o]?this.ability[o]+this.prefix.ability[o]:this.prefix.ability[o])}),[C.Attack,C.Defend,C.Dodge,C.Capture,C.Special,C.None].forEach(o=>{var s;(s=this.prefix.actionCoeff)!=null&&s[o]&&(this.actionCoeff[o]=this.actionCoeff[o]?{plus:this.actionCoeff[o].plus+this.prefix.actionCoeff[o].plus,multiply:this.actionCoeff[o].multiply*this.prefix.actionCoeff[o].multiply}:this.prefix.actionCoeff[o])}),this.extraActions.push(...this.prefix.extraActions),this.name=`${this.prefix.name}${this.name}`}levelup(){this.level++,this.ability.armor+=this.armorGrowthCoeff,this.ability.piercing+=this.piercingGrowthCoeff}}var Xu=(t=>(t.None="None",t.Heavy="Heavy",t.Light="Light",t.Sharp="Sharp",t.Huge="Huge",t.Masterpiece="Masterpiece",t.Mythical="Mythical",t.Epic="Epic",t.ABitHoly="ABitHoly",t.BeastHeart="BeastHeart",t.DragonForge="DragonForge",t.Sneaky="Sneaky",t.Weak="Weak",t.Strange="Strange",t.Small="Small",t.Sturdy="Sturdy",t.Bold="Bold",t.Cursed="Cursed",t.Elaborate="Elaborate",t.VillageBest="VillageBest",t.Shiny="Shiny",t.Quick="Quick",t.Powerful="Powerful",t.Elegant="Elegant",t.Handy="Handy",t.BlackAdvanced="BlackAdvanced",t.Blessed="Blessed",t.RageCursed="RageCursed",t.Weighty="Weighty",t.BloodCursed="BloodCursed",t.HeavenForge="HeavenForge",t.CrowFly="CrowFly",t.IronWall="IronWall",t.GodBlessed="GodBlessed",t.WindSpeed="WindSpeed",t.DragonScaleArmor="DragonScaleArmor",t.DragonScaleWeapon="DragonScaleWeapon",t.SteelForgeWeapon="SteelForgeWeapon",t.SteelForgeArmor="SteelForgeArmor",t.MasterMa="MasterMa",t.SharpBuffed="SharpBuffed",t.QuickBuffed="QuickBuffed",t.DefendBuffed="DefendBuffed",t.Bloodthirsty="Bloodthirsty",t))(Xu||{});const Oi={None:{name:"",position:"AnyPosition",rarity:L.Common,extraActions:[],ability:{},actionCoeff:{}},Heavy:{name:"笨重的",position:"AnyPosition",rarity:L.Common,extraActions:[],ability:{dex:-1},actionCoeff:{}},Cursed:{name:"被诅咒的",position:"AnyPosition",rarity:L.Common,extraActions:[],ability:{con:-1},actionCoeff:{}},Weak:{name:"虚弱的",position:"AnyPosition",rarity:L.Common,extraActions:[],ability:{str:-1},actionCoeff:{}},Strange:{name:"古怪的",position:"AnyPosition",rarity:L.Common,extraActions:[],ability:{int:-1},actionCoeff:{}},Huge:{name:"巨大的",position:St.Hand,rarity:L.Common,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:1,multiply:1},[C.Dodge]:{plus:-2,multiply:1}}},Small:{name:"小巧的",position:St.Hand,rarity:L.Common,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:-1,multiply:1},[C.Dodge]:{plus:1,multiply:1}}},Light:{name:"轻巧的",position:"AnyPosition",rarity:L.Common,extraActions:[],ability:{},actionCoeff:{[C.Dodge]:{plus:1,multiply:1}}},Sturdy:{name:"结实的",position:St.Body,rarity:L.Common,extraActions:[],ability:{armor:5},actionCoeff:{}},Sneaky:{name:"卑鄙的",position:St.Hand,rarity:L.Common,extraActions:[{actionType:N.SneakAttack,weight:.2}],ability:{},actionCoeff:{}},Sharp:{name:"锐利的",position:St.Hand,rarity:L.Common,extraActions:[],ability:{piercing:5},actionCoeff:{}},Bold:{name:"莽撞的",position:St.Hand,rarity:L.Common,extraActions:[{actionType:N.Attack,weight:.6}],ability:{str:1},actionCoeff:{[C.Attack]:{plus:1,multiply:1}}},Elaborate:{name:"精制的",position:"AnyPosition",rarity:L.Rare,extraActions:[],ability:{piercing:5,armor:5},actionCoeff:{}},ABitHoly:{name:"有点神圣的",position:"AnyPosition",rarity:L.Rare,extraActions:[{actionType:N.Repent,weight:.1}],ability:{},actionCoeff:{}},VillageBest:{name:"村里最好的",position:St.Hand,rarity:L.Rare,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:1,multiply:1}}},BloodCursed:{name:"嗜血诅咒之",position:St.Hand,rarity:L.Rare,extraActions:[],ability:{con:-3,str:3},actionCoeff:{}},RageCursed:{name:"狂化诅咒的",position:St.Hand,rarity:L.Rare,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:0,multiply:1.3},[C.Dodge]:{plus:0,multiply:.5},[C.Defend]:{plus:0,multiply:.5}}},Shiny:{name:"闪亮的",position:"AnyPosition",rarity:L.Rare,extraActions:[],ability:{piercing:5},actionCoeff:{[C.Dodge]:{plus:1,multiply:1}}},Weighty:{name:"沉甸甸的",position:"AnyPosition",rarity:L.Rare,extraActions:[],ability:{con:1,dex:-1,armor:5},actionCoeff:{[C.Defend]:{plus:1,multiply:1},[C.Dodge]:{plus:-1,multiply:1}}},Quick:{name:"迅捷的",position:St.Hand,rarity:L.Rare,extraActions:[{actionType:N.QuickAttack,weight:.2}],ability:{dex:1},actionCoeff:{}},Powerful:{name:"强力的",position:St.Hand,rarity:L.Rare,extraActions:[{actionType:N.PowerAttack,weight:.2}],ability:{str:1},actionCoeff:{}},Elegant:{name:"优雅的",position:"AnyPosition",rarity:L.Rare,extraActions:[],ability:{int:1},actionCoeff:{}},Handy:{name:"趁手的",position:St.Hand,rarity:L.Rare,extraActions:[],ability:{piercing:10},actionCoeff:{}},BlackAdvanced:{name:"黑色高级的",position:"AnyPosition",rarity:L.Masterpiece,extraActions:[],ability:{armor:10,piercing:10},actionCoeff:{}},SteelForgeWeapon:{name:"精钢锻造的",position:St.Hand,rarity:L.Masterpiece,extraActions:[],ability:{piercing:15},actionCoeff:{}},SteelForgeArmor:{name:"精钢锻造的",position:St.Body,rarity:L.Masterpiece,extraActions:[],ability:{armor:20},actionCoeff:{}},Blessed:{name:"祝福的",position:"AnyPosition",rarity:L.Masterpiece,extraActions:[],ability:{con:2,armor:5},actionCoeff:{}},BeastHeart:{name:"野兽之心 ",position:"AnyPosition",rarity:L.Masterpiece,extraActions:[{actionType:N.PowerfulDigAttack,weight:.3}],ability:{con:1},actionCoeff:{}},Masterpiece:{name:"大师的杰作 ",position:"AnyPosition",rarity:L.Masterpiece,extraActions:[],ability:{con:1,piercing:5,armor:5},actionCoeff:{[C.Dodge]:{plus:1,multiply:1}}},CrowFly:{name:"乌鸦坐飞机 ",position:"AnyPosition",rarity:L.Masterpiece,extraActions:[{actionType:N.CrowFly,weight:.3}],ability:{},actionCoeff:{}},MasterMa:{name:"马老师的",position:St.Hand,rarity:L.Masterpiece,extraActions:[{actionType:N.LightningFiveStrikes,weight:.3}],ability:{},actionCoeff:{}},IronWall:{name:"铁壁的",position:St.Body,rarity:L.Masterpiece,extraActions:[],ability:{armor:10},actionCoeff:{[C.Defend]:{plus:1,multiply:1}}},WindSpeed:{name:"迅疾如风 ",position:"AnyPosition",rarity:L.Masterpiece,extraActions:[],ability:{dex:1},actionCoeff:{[C.Dodge]:{plus:2,multiply:1}}},SharpBuffed:{name:"附有锋利魔法的",position:St.Hand,rarity:L.Masterpiece,extraActions:[],ability:{},actionCoeff:{[C.Attack]:{plus:0,multiply:1.1}}},QuickBuffed:{name:"附有迅疾魔法的",position:"AnyPosition",rarity:L.Masterpiece,extraActions:[],ability:{},actionCoeff:{[C.Dodge]:{plus:0,multiply:1.2}}},DefendBuffed:{name:"附有防护魔法的",position:"AnyPosition",rarity:L.Masterpiece,extraActions:[],ability:{},actionCoeff:{[C.Defend]:{plus:0,multiply:1.2}}},Bloodthirsty:{name:"鲜血饥渴 ",position:St.Hand,rarity:L.Epic,extraActions:[],ability:{con:-3,piercing:30},actionCoeff:{[C.Attack]:{plus:3,multiply:1}}},GodBlessed:{name:"神佑 ",position:St.Hand,rarity:L.Epic,extraActions:[{actionType:N.Repent,weight:.1},{actionType:N.GodStrike,weight:.01}],ability:{con:2,armor:10},actionCoeff:{}},DragonForge:{name:"龙息锻造的",position:St.Hand,rarity:L.Epic,extraActions:[{actionType:N.DragonBreath,weight:.1}],ability:{piercing:10},actionCoeff:{}},DragonScaleArmor:{name:"龙鳞制成的",position:St.Body,rarity:L.Epic,extraActions:[],ability:{armor:30},actionCoeff:{}},DragonScaleWeapon:{name:"龙鳞制成的",position:St.Hand,rarity:L.Epic,extraActions:[],ability:{piercing:30},actionCoeff:{}},Epic:{name:"吟游诗人的歌谣中的",position:"AnyPosition",rarity:L.Epic,extraActions:[],ability:{piercing:10,armor:10},actionCoeff:{[C.Dodge]:{plus:2,multiply:1},[C.Defend]:{plus:2,multiply:1}}},Mythical:{name:"神话时代的遗留物 ",position:"AnyPosition",rarity:L.Mythical,extraActions:[],ability:{str:1,dex:1,app:1,siz:1,con:1,int:1,piercing:5,armor:5},actionCoeff:{[C.Attack]:{plus:1,multiply:1},[C.Defend]:{plus:1,multiply:1},[C.Dodge]:{plus:1,multiply:1},[C.Capture]:{plus:1,multiply:1},[C.Special]:{plus:1,multiply:1}}},HeavenForge:{name:"天堂造物 ",position:"AnyPosition",rarity:L.Mythical,extraActions:[{actionType:N.GodStrike,weight:.1}],ability:{con:1,int:1,piercing:10,armor:10},actionCoeff:{}}};function tg(t,e){const n=Object.keys(Oi).filter(s=>Oi[s].rarity===t&&(Oi[s].position===e||Oi[s].position==="AnyPosition")),i=Math.floor(Math.random()*n.length),o=n[i];return Oi[o]||Oi[Xu.None]}function Ju(t,e){const n=Object.keys(bo).filter(s=>bo[s].rarity===t&&!bo[s].canNotObtainFromChest),i=Math.floor(Math.random()*n.length),o=n[i];return new xn(o,e)}function eg(t){const e=`
    <div class="tooltip-base tooltip-header">
      <h5 class="text-${L[t.rarity]}" style="font-weight: bold;">lv${t.level} ${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
      <p><strong>位置:</strong> ${t.position}</p>
      <br>
    </div>
  `;let n="";t.ability&&Object.keys(t.ability).length>0&&(n=`
    <div class="tooltip-abilities tooltip-extra">
      <p><strong>属性: </strong>
        ${Object.entries(t.ability).filter(([s,a])=>a).map(([s,a])=>`${s}: ${a}`).join(", ")}
      </p>
    </div>
  `);let i="";t.extraActions&&t.extraActions.length>0&&(i=`
      <div class="tooltip-extra-actions tooltip-extra">
        <p><strong>额外行动: </strong>
          ${t.extraActions.map(s=>`${Yt[s.actionType].name} (权重: ${s.weight.toFixed(2)})`).join(", ")}
      </div>
    `);let o="";return t.actionCoeff&&Object.keys(t.actionCoeff).length>0&&(o=`
      <div class="tooltip-action-coeff tooltip-extra">
        <p><strong>行动系数: </strong>
          ${Object.entries(t.actionCoeff).map(([s,a])=>`${s}: ${a.plus<0?"":"+"}${a.plus} ${a.multiply===1?"":"x"+a.multiply}`).join(", ")}
      </div>
    `),e+n+i+o}function Ps(t,e){for(let i=0;i<2;i++)Math.random()<.1?e-=1:Math.random()<.05&&(e+=1);e=e<L.Common?L.Common:e,e=e>L.Unique?L.Unique:e;let n=Math.floor(t+10*(Math.random()-.5));return n<0&&(n=0),Ju(e,n)}function hr(t,e){Math.random()<.1?e-=1:Math.random()<.05&&(e+=1),e=e<L.Common?L.Common:e,e=e>L.Mythical?L.Mythical:e;let n=Math.floor(t+10*(Math.random()-.5));return n<0&&(n=0),Ju(e,n)}class Be extends Yu{constructor(n,i=0){n=n||Et.Unknown;const o=Il[n];super(o.name,qu(),ui.Consumable,n,o.rarity,i,o.description);bt(this,"canNotBeUsed",!1);this.canNotBeUsed=o.canNotBeUsed||!1}useItem(n){this.canNotBeUsed||(Il[this.type].effect(n,this.level),n.pack=n.pack.filter(i=>i.uuid!==this.uuid))}}var Et=(t=>(t.Unknown="Unknown",t.BrokenChest="BrokenChest",t.WoodenChest="WoodenChest",t.SilverChest="SilverChest",t.GoldChest="GoldChest",t.DiamondChest="DiamondChest",t.QuickRecoveryPotion="QuickRecoveryPotion",t.LifePotion="LifePotion",t.LargeLifePotion="LargeLifePotion",t.GiftboxAndLetter="GiftboxAndLetter",t.SlimeChest="SlimeChest",t.EmptySlimeChest="EmptySlimeChest",t))(Et||{});const Il={BrokenChest:{name:"破烂的木宝箱",rarity:L.Common,description:"一个破破烂烂的宝箱",effect:(t,e)=>{t.pack.push(hr(e,L.Common))}},WoodenChest:{name:"木质的宝箱",rarity:L.Rare,description:"一个有着漂亮的木质纹理的宝箱",effect:(t,e)=>{t.pack.push(hr(e,L.Rare))}},SilverChest:{name:"银色装饰的宝箱",rarity:L.Masterpiece,description:"这个宝箱上有着精细的银制装饰，银锈并不能掩盖它的华丽",effect:(t,e)=>{t.pack.push(hr(e,L.Masterpiece))}},GoldChest:{name:"黄金镶边的宝箱",rarity:L.Epic,description:"金光闪闪，这才叫宝箱！光是看着就让人心潮澎湃",effect:(t,e)=>{t.pack.push(hr(e,L.Epic))}},DiamondChest:{name:"华丽的宝石宝箱",rarity:L.Mythical,description:"无法用辞藻形容的华丽，你甚至害怕打开它会划伤上面美丽的宝石",effect:(t,e)=>{t.pack.push(hr(e,L.Mythical))}},SlimeChest:{name:"史莱姆宝箱",rarity:L.Epic,description:"一个史莱姆形状的宝箱，看起来非常可爱。这是大自然的鬼斧神工吗？",effect:(t,e)=>{t.pack.push(new Be("EmptySlimeChest")),Math.random()<.005?t.pack.push(Ps(e,L.Mythical)):Math.random()<.05?t.pack.push(Ps(e,L.Epic)):t.pack.push(Ps(e,L.Masterpiece))}},EmptySlimeChest:{name:"空的史莱姆宝箱",rarity:L.Epic,description:"不知道有什么用，但是你的直觉告诉你这么稀有的东西还是留着比较好",canNotBeUsed:!0,effect:(t,e)=>{}},Unknown:{name:"未知",rarity:L.Common,description:"未知",effect:(t,e)=>{}},QuickRecoveryPotion:{name:"神秘黄色药水",rarity:L.Epic,description:"看起来不像是这个世界的产物。非常的新鲜，非常的美味<p>自动回复速度提升至5倍，持续3分钟</p>",effect:(t,e)=>{t.addStatus(wn.QuickRecovery,180,5),console.log("使用快速恢复秘药")}},LifePotion:{name:"生命秘药",rarity:L.Masterpiece,description:"只要没死，区区断胳膊断腿喝下去立马都能长回来。你有个疑问，这玩意儿到底是什么做的？<p>恢复50点生命值</p>",effect:(t,e)=>{t.recoverHp(50)}},LargeLifePotion:{name:"大瓶生命秘药",rarity:L.Epic,description:"普通的生命秘药一次只能让你长一只胳膊，而这大瓶装能让你一次全长回来。前提是你还有手可以拿它<p>恢复100点生命值</p>",effect:(t,e)=>{t.recoverHp(100)}},GiftboxAndLetter:{name:"礼物箱和一封信",rarity:L.Mythical,description:"一个礼物箱，上面还附了一封信，信上的字模糊不清",effect:(t,e)=>{for(let n=0;n<5;n++)t.pack.push(new Be("QuickRecoveryPotion")),t.pack.push(new Be("LifePotion")),t.pack.push(new Be("LargeLifePotion"));t.pack.push(new xn(Vi.Sword)),t.pack.push(new xn(Vi.Rope))}}},ng="data:image/gif;base64,R0lGODlhPAA8APYAAAQEBBgYGCcnJzEwMFoZAGkhCGspEGs1EHMxGXc4JXNFFHNSGXtCMXtjIVJSUmVlZXh4eIRKN4RSOotRRYtVRZRaUpdnVpxzZaV4aqV7c4yNMZSWRJSpQq2GeaXSUoiIiJmZma2MhLWMhLWUiryblqurq7i4uMWspc61rc64tda9utbFvcnJydzKydjY2Obb2+3n6vfv7/f37////4R7KWMZAL2lnMWlnO/m3vfv95y6SpzFSpzOUq3Pbd7Wzt7O1ntaIZlmZr3mhNbvre/33uve5gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAsAAAAADwAPAAAB/+AM4KDhIWGh4iJiouMjY6PkJGSk5EZLYMvFjCYMpSehTAIBh0vJwkEFoIxEh2frjMrBxoKCLIbBRYdDAQjr58dCj07HBw8PBwLChoHKb6ULwUbPcQcOjo7PB4aCDjOki8TBAcHCOUK5w0aCwzekScGCR0nKy0+LS0qJxenCd3tjR0KdIihKAaJBAz8/Ut0oQAKRzEiROi08FCHGs0ewUiQqmKhFjVISGpRQIXHQTIiVFA1g+IhFi5nZJh4cgaKAj9mwDBBsJCMny4+mCD0IsGJmhY6BgVB0MQmnTCimoBQAmXSkzEQPITxAECAAR9KlGARQ4YLFyUEAADggCIJBjH/261IsAnGBwEfHIg1QbblzgcBvroQ1CLBC48dJhBiAcKEi05xWTz44LJIgowLKXQk9BMRjMGcJ4isKGFEXEm5Ksq4fPiQjKeLUi+McTkRC9iKZP+j/dA1jNOHLPSaXds3CBcwWOQevru47989XQuvGIMBZkIueLo0i1uQDAqj/8lg0BuUiQ8gxrK4fTpi+X8RbCT6DCPGb0QvGFyqOH0R8EE/RNDaQhhg4EoLEnTnTQebUdLCBP+90oGBnzwYoSsTMPdMBAr68gIC+3kCQwQrVDQChK58J99CovliAYXtvCCgLyE06MwNFVz4yAmK/YNBBs6k0GM7FBzVkispSLCb/wQ55QBDCiromIgNFPzzggRF6LQPAxfkcEgOZXkX5iAiXPBPCwxsMoJhMFCAwZgxnGCBRBNYYAMMJAw4wwUa+oImQRgMF8MEIsDQQgcSCJdCCymIUMEFFrg0aInt/DnDDRb0VF0ECWCgp30bhTdDCxyemeYMEaXQyQoGUOADZ1HBMEIE0c0gQgQL+WCYIAelYEECos7g5A8qYGDAq4Ns1KcvEYVogQEW6ClDDC1ggEABJBZigwEKtWMBkN5J+6QFDIgWYrIMINDhKyOcasi4nbbQoQzGGnCuNyoUINJPPxUxaw0JXALDCzH9NAICKSBg0kI8GjDCPSqEkAACGUzQ6n0JL9RH0WsnFDBCdUb+MwIGDBRQQDnxDkyCBAUwEAIKGRtqgUBRMRCsMyNYsOgIJKSQMagwFIHCrwggFIEBE6QAagStLBSfDUDX2tK0L7RgQwcjpOAlVBSA2w4OCaigwsDr+hfDiwsV9sMPGXsSQ4ELkRBBEXR/kgMGZj4SCAAh+QQFBAA6ACwQAAMAHQAzAAAG/8CZcEgsGo/IoWwEG8ZGsqR01iJIcDHUhNAZtlC6sHhM1h0aiYRCwzlYSJZapkwPGxqbxkLRoHE8Hhx1dRE1CRMWGRgWFAx8CxFTQjcIFCsxRjEnFAWDZSeSLREML0kWCC2SQjIWCThHGAmlqkMXEVFEKKgzmLhHLL4xDB1lNjMwJphFMswuHyZEKQivQicTUc4gmCZNxzDfJhAlShEjQxXmMA8AAQMfJSUsMTIuLiUCAAAOuCESQjikwnwQ8MEBPBNhZshA9iBAOxdCVLiaYS3HEBYgTLiI4ksIiwcffMGIkGJGBgvKlHQkAgMikRgVSITBMIvWjDIWzE0QkWShKpcMXSaQSMLC0xgMGWQwGHpkoQyjY5TKHATCBYyinrpE4IlkIQwZMaDOmJDhiItkvujBoEMBFAUMR5B9ABGPBYuvmSKsmFHhQpKWMGLgPfJClkkKklYWScEgyogJFm0aeSyEhISUkod0sHBTBwXFkimbhApVRQTSqHVMSE16NevXsGPLnk27tu3buHPr3s27t+/fwIN3HhQEACH5BAUEADUALBAAAgAdACsAAAf/gDOCg4QyMIQwKoSLjIwnETGCLQwFL4Mrlo2NIwQTJBgGQAcTLS0YBCOajRYNNAoKGh46CgUIDQonqowTNEI9O8A7Ohw6OwotuoQxCBpEPcXBwDoImcknEwUcQ8/ROzwcCckzL9gUCQvFPME8PDpABamqLQkUyCoJBw0aHBsaGg0HEFQwcEGTD4IyBr0IYSFCggQMIgQh0QLGvA6MZDCwkHBRDBgvfryI0VHQjwSKCHVAcEgcIxIRSsJAkMslIxgRUAzqQGFQpJKMWACd0aHgjBgJUgiCYSLSIhlQXXwwsaiFhIQnErSUCiKSiZYwwjKFUAIRqRkZLCx9ACDAgA8l80qwIOnCRQkBAAA46CjDAokZFEQs/SDgg4O4JubOMGTiQQC3LgZh6KCxpiAWIEy4SDiUxYMPQEVwZJCy0NBBMCIvImEhRoQWTm02Yu26oiZDLke0fq2KRctkomVEKP0UxulGaQFbLg7CBQwWg2pIn17DAkYLgm+HlRGb+vQJuTBkaOSiaUkZzr1L5z3C6CKmH0DIZeH79KRDKSyon54axsfjM6AQ0wwrSPDbbbqQMIEgKCRQjWyEkDBdBxEcCOFi18wgXQYAuiRDCgnsJ+KI0snwAgPTxXYhahKQ6OKLMMYo44w01mjjjTiSKEOO6o3gg3qBAAA7",ig="/isekai114514/assets/dragon2-BZv29Gbk.gif",rg="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QDKRXhpZgAATU0AKgAAAAgABgESAAMAAAABAAEAAAEaAAUAAAABAAAAVgEbAAUAAAABAAAAXgEoAAMAAAABAAIAAAITAAMAAAABAAEAAIdpAAQAAAABAAAAZgAAAAAAAABIAAAAAQAAAEgAAAABAAeQAAAHAAAABDAyMjGRAQAHAAAABAECAwCgAAAHAAAABDAxMDCgAQADAAAAAQABAACgAgAEAAAAAQAAAIqgAwAEAAAAAQAAAIikBgADAAAAAQAAAAAAAAAAAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wgARCACIAIoDASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAAAAIDBAUGAQf/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB0rdY+WKG0C2+poU0sOcBaHGR1lytJll5pcRtTnSk4/NqM606cYRIHYDsqOV0hsnRYksW5HeMTH0OePQpcKaZ59aiUy7Gqti6RmE2HHCBJdVGWhaCBV88h08/laG0DoFLLaXDcppazQLA4kWAAAAEKbCmHQCr5SXVjUeXDl0K8jfxOjc5UnrfR0SoACBXT8SejkeQeY2dYGwk47WDsiaHErDh0AAAz4zmOpNNqMLuTzLllwr+zwk3WdDcOYNZteYjhrqioBEKwCv5Yg5uclrToA1CkVxYMw0Fm/SyyRJp3xU2msyYAAAAAAIaA4AdWAy+Ay+AsAAAAP/EACsQAAIBAwMEAgIABwAAAAAAAAIDAQAEERITFAUQICEiMDRBIyQxMjNCQ//aAAgBAQABBQKZiIUcMGpmKnT2/dfufUV+qbeKTQX9udRMTHbqjNNral/LQXx7T6gfdTOID3T/AIqH3AfKh/t6gnWiun3Uqb26guX0kSSEfGKmcQGWl6GJLcIfjDDlrZLQtBfBc5rMFVwvadVqWu2phwNZjC/4k1OWMIwCtBsoUxFNHRC40we42SXlK/jNxO0N6AuVVnGm1qB3GyeVhGhLC0iVxtibTtnbhGoZnBBrbiBi6vDym/aslkLQKNQs127bK0JzOw+kjbxp/wBSHcJtstoccsaImsVEYqfcXiIaKen66WArGmJCb3v/AMXr11BSJJ+u5nHhiKWzFPDUNsUEPcc+d36t+8TmCxjSWoS4rhKCjse7qnOIzjwvfw+mXOseyLyM/wBYWXp0ZYtpoJF0DqMzXUXA1DBmteajPh1CcWSzlZpZDldk3hrhExcRNuUlwhyu2Wsq048+p3AyNdJd4KaaitL8W/VeX8DEznt0383xR1By6X1JJSLALtuBW6umXiF03qlNuXNnv0382uDc1wbmuFc1wrmuFc1wrmuFdVxLuuFdVwrmuFc1wrmuFc1wbmuDc1wbmrG1eu67meiHXMpkWMKH3OzMvxMHqjdZuSXsbrVWqdz6G/5HjJ3KfYXA62nHuBED2sAUCp8rZCZ9O+ghgolK5mLdUQSFlOyGdsa4ydMgJVx040xq8v/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8BI//EABcRAQADAAAAAAAAAAAAAAAAAAEAQFD/2gAIAQIBAT8BtsHV/8QAMxAAAQMCAwYFAwIHAAAAAAAAAQACERIhAxAxICIyM0FREzBhcZFCYoEjUnKCkqGxwdH/2gAIAQEABj8Ck6KtumV9qcpVlGJM+y4491IM50/uKZHZHYlSpRycMq+rcqXHcdnhtadNVQNFfP7coGmQaOFSnOOTh0Tm5Ybj2yuvwi76RplSFSFvWarFcRKqcpO6xCFELxALdV42HeNcsMemV9AnBBuVLeN3Vb7U0lsFXUq6gNgdJV7tTcQIg9U7DBIQc4bgzc/uped5Qg1Um0ISQ+NKlvDYApMjqpxLNGgVLdMmOc0Gof32I9U0yRCof+CifLwz942D6qjE+VI6bN9su7EHYkK+igONJUfSVIz3IhWF1fZxfZeE83Gme9bupGhUFFbtwoFndlJbU30WjvhWuoCvsYiD26hB46506hV4Zhw1CmVJcqm6+T4Lb3vk7CPuNirDMFU4m6//AD5RZg3PdXyZtAO32+qh0tW64H85cbflcxvyuYD6BfpN/JW887DMuUVyiuUVyiuUVyiuUVwO+VyiuUVyiuUVyiuUVyiuUU1z8MgDY7k6BQ5rT/MpbhtI/jQlrf6lHhk2kwUCBYiVR4bdJ41pZWDNY41S4a6eThe/+k4UkinopJcAwGoN91iANJHh6rRsUNFwgD1wuvVeNGHw6QjTuzhq/Cb6j/iwpM6+TBUuFR7lRQES5oJNlp0jVaT6lRQFceiigKrrt//EACcQAQACAgIBAwUBAQEBAAAAAAEAESExQVEQIHHxYYGRobEw4cHR/9oACAEBAAE/IWbgMrOXjT341YXDxevjlH7CJZHNHEHThKFMeiHqy/TUoSDyecE3V9oa2uEsbm/KyM3PmHchfenuEH4okcgz9EtD3/bwCddXs+VhASrqV3visSjy4hrMC5gysCI3OCNxOD2ZoHOXuCi4lWCFlz3bhcgXhi8COPaDUXYE+AF/GFNr3RYHg+rx1FzAbArgmGs4iA1R7Q7G127gNLeI6O4pr90Ro79Zl3iNTruGM7g6hFWKfFrJF1johhdT3GHnLIBlpVnNyypslxF8Y1jNYJlxghRdMrkQJfJkmbG8wdCFMFaRr3JVFa1eYFFHgdpChktQ5OI/CO4YDoTiYQvgamChZEeIMDH0mgdQnnxB5gs6Hi6sIX0gAUFedBaM5jhOk3bX7kN9mv8AP2OX5x6FgcbT+e7TOX0RTTaOfLgiV+sxb/sEGyzyMzZFxVg33qGoV3Q2tj4Zh07r5i/vJgUp59U3FzNfk8/UqFNgEyG1qdwGPBU8Rv7wiT1DmRZdUbZ9hANBv6kx639PQNxqyiP5lucd78ebmJU4bDMKCDtTcPg05m4DTUoNYgB6d6hZ9S5mVv0BWqfuUNfZx/kVLhesZKrXx/R/PTcuDRitvzK2/VdSgy3Ua3Edh9k+NwZtB9SIlVsNI3Q0RfP9P88fLE+WJ8+T58nz5PnyAaH7nh3yZPnyfPk+fJ8+T5cny5PlyWDGtU69FTixXYw0gT6f1UCsmk/4lMQpdYp+ouQDBkD/ANncXl694cwfgfiIYBpu9R76ezf9QKkKXX9/47fA/wCoZCjkDTmYVioVm0fSDHNNMsKokKKWNcwMy8hhYixblHP/APYU1uJXLctfCVWZYKFEGb9v8an2Sl+kIBMM1iB1DbqbVtKWqjUBAbArY17zoaMWa1lzUxKVTIpkVfr/AP/aAAwDAQACAAMAAAAQmyUowcwwIUUgGlRaSo6M2Z77geg/YAIAAAkA9kLicAAgIWyAgwAAIsUcy4kc8cfAkXSEEAAAAAcA8cAAA//EABoRAQABBQAAAAAAAAAAAAAAAAEAESAwQFD/2gAIAQMBAT8Q1q2jEwjzP//EAB0RAAMAAgIDAAAAAAAAAAAAAAABERAwICFBUFH/2gAIAQIBAT8QJrpaJ0uW5ijJ94rUdEelpMTfn1f/xAAmEAEAAgIBAgYDAQEAAAAAAAABABEhMUFRYRBxgbHB8CAwkdGh/9oACAEBAAE/EBUqoaA6wETnGKocxp3UaXehEFXGO2ZZNE3Bs/SVnUz5TMG9jHRuwe8xUsLK4iBxWtN+sB3NgF/61DGgSWPizrhPyZfYgT0RTvUoh4JlbW3nwFFxG8BgRG+DR1l2C7zKWLoKjh2zhkMoY2guUjDudehd8iXtYmQBC3dpIIgjY+CoinoVj5hGot7S+UYOr/1EpRs1HGuJ1cvvDR7jggO4TfWAZoaOsIhy+uOkDwKf2EWsnMNsWJ6IXaKT01EXVnHnhGyMJkicW8vfXguAK0CWkAytwTzdFy5YtWsY7M8zgmEUbsvnLKQdtX/ss4w4EuZMKyPpBBpC6OOxBaULpz5oVqBou/OL+yRUhIjVUg+4Ark+bygsc56RCQFR4vwSq73vLJYae0BTVvVjJWxLfqkg4ejLQoHWxTryxRKAxS/SFgsxqbZS6COU4ZUupmfcKgOSKQpo6O0GEAo9GBPb/KSmBt3QOOJruRyVcteUgAAAUB4FYCyB7R74FgaCLFLcLgIa2O0w3QN+kQo07L6pumLAXEYYMhiCF5csFNThirtVgVyI0JTku5ZWb+DwCOUBd5PaAhA0B4iao3+p0igvV6YDYBY6gQpg0/WAx3bPSy9/wVpjwl0fJhtDvGAnKnEKy/oPFWNXXE6hXj8yhGrvhM0AEsSx8SepP4x4KTkrUFxb1ZeSIeG05pgZQXjwCmN8SlcviswtIFMDxGmKnA1f487r9yMrjs9QeniEKFgOF6k6jcrp1gFkXl1JlhQydSKERu8S+CJb8EG3bXuAwAjO70lDfYvI15xicnQCLTNuVn4UCI7uVTEqOVVczWLmOrk8LlVJatyET4Qbx38oMQORiALKgqcYVJiARLGNY1yOGAEBboSwoy77/jX2gC4RwRRioZ7+bpPaZ8BRjNemcDonJC6XAyz9unl+lQFWgyrBkIUXHVXePwRau1l3Fp5L/wBT1PEa1BiI0nJFR8ponb/UDXXBl9VamTOMBKxQKgDln/f4vmfXPmXzPTlXKnXerjsf7Hy/hUPQiPMXw+j3T7qPD9zvPqnzPvHzPuHzPrHzNv2PWJ212L5i5S55f9i12v26x+8e8x/Y/s+sfMfvHvPrHzPrHzPrHzNL8KC0cMrxJAxCOU+OsufwKsaLWyosQzB+XdiM5hEkEVbjh3lmHbNIUpU4dJeY0SA2LAd77xARVN0LV65Vr1WsEcPbvECNSgljpyGCRN4rtDB8rP04pwErosD/ALKfIbBalimKzLIsKN7gAOwuy+kOYy0UgF2llW+cFGssuEAbcTE0h2UMVe4xAOIlKO+eai4UMRgtgbFo6Qg4I1GI332ktqtEC44GP0r7RTukTSPDMi4o2oXXblgQa3K1Wr7sLuFPQug6bneVuQ5BdKXvcsICUb2y2ZhAwAIZxrO40RXYYLYPEaoalIUlaz6QHMEsbo6HT8//2Q==";var kt=(t=>(t.Player="Player",t.Player114514="Player114514",t.FullPowerPlayer114514="FullPowerPlayer114514",t.Slime="Slime",t.Dragon="Dragon",t.AngryDragon="AngryDragon",t.WeakDragon="WeakDragon",t.Wolf="Wolf",t.DiscardedGolem="DiscardedGolem",t.Ayulsa="Ayulsa",t.Toono="Toono",t.Horse="Horse",t.Goblin="Goblin",t.FrightenedGoblinLeader="FrightenedGoblinLeader",t.AngryGoblinLeader="AngryGoblinLeader",t.TreasureSlime="TreasureSlime",t))(kt||{});const Rn={Player:{typeName:"人类",description:"你",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:N.Attack,weight:.5},{actionType:N.Capture,weight:.1},{actionType:N.Defend,weight:.2},{actionType:N.Dodge,weight:.2}],dropItems:[]},Player114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:N.Attack,weight:.5},{actionType:N.Capture,weight:.1},{actionType:N.Defend,weight:.2},{actionType:N.Dodge,weight:.2},{actionType:N.PowerfulDigAttack,weight:.03},{actionType:N.Yarimasune,weight:.03},{actionType:N.Repent,weight:.03},{actionType:N.SleepyTea,weight:.03}],dropItems:[]},FullPowerPlayer114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:N.PowerfulDigAttack,weight:.3},{actionType:N.Yarimasune,weight:.3},{actionType:N.Repent,weight:.3},{actionType:N.SleepyTea,weight:.3}],dropItems:[]},Toono:{typeName:"远野",description:"野兽学派的哲学家后辈",abilityCoeff:{str:{base:10,growth:.1},int:{base:5,growth:.1},con:{base:10,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.PowerfulDigAttack,weight:.4},{actionType:N.Counter,weight:.4},{actionType:N.Dodge,weight:.2}],dropItems:[{type:Vi.ToonoDefeaterBadge,weight:1}]},Slime:{typeName:"史莱姆",description:"一种行动缓慢的软体生物，武器打上去没有什么手感",abilityCoeff:{str:{base:3,growth:.05},int:{base:0,growth:0},con:{base:3,growth:.1},siz:{base:2,growth:.05},app:{base:0,growth:0},dex:{base:1,growth:.05},armor:{base:25,growth:5.5},piercing:{base:0,growth:4.5}},actions:[{actionType:N.Attack,weight:1},{actionType:N.Defend,weight:1},{actionType:N.Dazed,weight:2}],dropItems:[{type:null,weight:.6},{type:Et.BrokenChest,weight:.4},{type:Et.WoodenChest,weight:.02},{type:Et.SilverChest,weight:.001}]},Dragon:{typeName:'"池沼之主"龙',image:ng,description:"生态位的顶端，人类在它庞大的身躯面前就像一只蝼蚁。它正用着锐利的目光打量着你，让你不寒而栗。<br>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。",abilityCoeff:{str:{base:10,growth:.2},int:{base:4,growth:.1},con:{base:20,growth:.8},siz:{base:20,growth:.2},app:{base:4,growth:.1},dex:{base:4,growth:.1},armor:{base:50,growth:5},piercing:{base:10,growth:5}},actions:[{actionType:N.Bite,weight:.1},{actionType:N.PowerAttack,weight:.2},{actionType:N.Counter,weight:.2},{actionType:N.DragonBreath,weight:.2},{actionType:N.QuickAttack,weight:.2},{actionType:N.Defend,weight:.1}],dropItems:[]},AngryDragon:{typeName:"愤怒的龙",image:ig,description:"龙彻底被激怒了，一只蝼蚁居然让它受了伤。它有些虚弱，但是攻击更加狂暴了",abilityCoeff:{str:{base:15,growth:.3},int:{base:3,growth:.05},con:{base:10,growth:.4},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:6,growth:.15},armor:{base:25,growth:5},piercing:{base:20,growth:5}},actions:[{actionType:N.Bite,weight:.1},{actionType:N.PowerAttack,weight:.2},{actionType:N.DragonBreath,weight:.2},{actionType:N.QuickAttack,weight:.2}],dropItems:[]},WeakDragon:{typeName:"虚弱的龙",image:rg,description:"它抛弃了自己作为龙的尊严，现在一心只想活下去",abilityCoeff:{str:{base:5,growth:.1},int:{base:6,growth:.15},con:{base:5,growth:.2},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:4,growth:.1},armor:{base:20,growth:5},piercing:{base:5,growth:5}},actions:[{actionType:N.Bite,weight:.2},{actionType:N.Counter,weight:.3},{actionType:N.DragonBreath,weight:.2},{actionType:N.Defend,weight:.3}],dropItems:[{type:Et.SilverChest,weight:.95},{type:Et.GoldChest,weight:.05},{type:Et.DiamondChest,weight:.002}]},Wolf:{typeName:"孤狼",description:"一匹行动敏捷的孤狼，对于普通人来说，它是一种危险的生物",abilityCoeff:{str:{base:5,growth:.1},int:{base:2,growth:.05},con:{base:5,growth:.15},siz:{base:4,growth:.05},app:{base:2,growth:0},dex:{base:6,growth:.15},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Bite,weight:1},{actionType:N.QuickAttack,weight:.5},{actionType:N.SpinAttack,weight:.5}],dropItems:[{type:Et.BrokenChest,weight:.8},{type:Et.WoodenChest,weight:.2},{type:Et.SilverChest,weight:.01}]},DiscardedGolem:{typeName:"废弃的岩石魔像",description:"一尊不知何时被废弃的岩石魔像，在风雨的侵蚀下，它的巨大的身躯上布满了裂痕和苔藓。它不该会动呀？",abilityCoeff:{str:{base:15,growth:.3},int:{base:0,growth:0},con:{base:10,growth:.4},siz:{base:15,growth:.1},app:{base:0,growth:0},dex:{base:0,growth:0},armor:{base:75,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Dazed,weight:2},{actionType:N.Defend,weight:1},{actionType:N.PowerAttack,weight:.5},{actionType:N.Counter,weight:.5}],dropItems:[{type:Et.BrokenChest,weight:.2},{type:Et.WoodenChest,weight:.8},{type:Et.SilverChest,weight:.04},{type:Et.GoldChest,weight:.002}]},Ayulsa:{typeName:"???",description:"好像并不来自于这个世界",abilityCoeff:{str:{base:5,growth:.2},int:{base:50,growth:.2},con:{base:5,growth:.4},siz:{base:5,growth:.2},app:{base:5,growth:.2},dex:{base:5,growth:.2},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.GodStrike,weight:1},{actionType:N.ShredFlower,weight:1},{actionType:N.PsyKick,weight:1},{actionType:N.PsyExplosion,weight:1},{actionType:N.PsyInvisibleSword,weight:1},{actionType:N.PsyDodge,weight:1}],dropItems:[{type:Et.DiamondChest,weight:1}]},Horse:{typeName:"马 (?)",description:"看起来好像不是普通的马",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:N.SneakAttack,weight:1},{actionType:N.LightningFiveStrikes,weight:1}],dropItems:[{type:Et.BrokenChest,weight:.2},{type:Et.WoodenChest,weight:.8},{type:Et.SilverChest,weight:.04},{type:Et.GoldChest,weight:.002}]},Goblin:{typeName:"哥布林",description:"绿色皮肤，弱小的群居种族，以偷窃和抢劫为生",abilityCoeff:{str:{base:3,growth:.1},int:{base:3,growth:0},con:{base:3,growth:.1},siz:{base:3,growth:.05},app:{base:1,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.SneakAttack,weight:1},{actionType:N.Dazed,weight:1},{actionType:N.RunAway,weight:1}],dropItems:[{type:null,weight:.6},{type:Et.BrokenChest,weight:.4},{type:Et.WoodenChest,weight:.02},{type:Et.SilverChest,weight:.001}]},FrightenedGoblinLeader:{typeName:"受到惊吓的哥布林首领",description:"这只哥布林比普通人类还要大上一圈，且穿着皮甲拿着刀，身上挂着很多装饰品。很显然，它就是这里的首领。它看起来被后方出现的你吓了一大跳<p>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。</p>",abilityCoeff:{str:{base:2,growth:.1},int:{base:4,growth:0},con:{base:5,growth:.2},siz:{base:6,growth:.05},app:{base:3,growth:0},dex:{base:2.5,growth:.05},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.Defend,weight:1},{actionType:N.Dazed,weight:1},{actionType:N.Counter,weight:.5},{actionType:N.DefenseSlash,weight:.5}],dropItems:[]},AngryGoblinLeader:{typeName:"暴怒的哥布林首领",description:"哥布林们的首领愤怒了，它难听地吼叫着，挥舞着武器向你冲来<p>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。</p>",abilityCoeff:{str:{base:5,growth:.1},int:{base:4,growth:0},con:{base:5,growth:.2},siz:{base:5,growth:.05},app:{base:3,growth:0},dex:{base:5,growth:.1},armor:{base:10,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:N.PowerAttack,weight:1},{actionType:N.Bite,weight:1},{actionType:N.SneakAttack,weight:1},{actionType:N.Defend,weight:1},{actionType:N.Slash,weight:1},{actionType:N.Dodge,weight:1}],dropItems:[{type:Et.BrokenChest,weight:.4},{type:Et.WoodenChest,weight:.6},{type:Et.SilverChest,weight:.02},{type:Et.GoldChest,weight:.001}]},TreasureSlime:{typeName:"宝箱史莱姆",description:"那边的史莱姆肚子里怎么有个闪闪发光的宝箱？等等别跑！谁家史莱姆跑这么快！？",abilityCoeff:{str:{base:3,growth:.05},int:{base:0,growth:0},con:{base:3,growth:.1},siz:{base:2,growth:.05},app:{base:0,growth:0},dex:{base:5,growth:.2},armor:{base:25,growth:5.5},piercing:{base:0,growth:4.5}},actions:[{actionType:N.Dodge,weight:1},{actionType:N.RunAway,weight:1},{actionType:N.Dazed,weight:1}],dropItems:[{type:Et.SlimeChest,weight:1}],initStatus:[{type:wn.WillEscape,duration:10}]}};class Zu{constructor(e,n,i,o){bt(this,"isPlayer",!1);bt(this,"name");bt(this,"type");bt(this,"image");bt(this,"level");bt(this,"individualStrength");bt(this,"maxHealth",0);bt(this,"health");bt(this,"ability",{str:0,int:0,con:0,siz:0,app:0,dex:0,armor:0,piercing:0});bt(this,"plusAbilityPoint",1);bt(this,"plusAbility",{str:0,int:0,con:0,siz:0,app:0,dex:0,armor:0,piercing:0});bt(this,"statuses",[]);bt(this,"pack",[]);bt(this,"equipments",{body:null,hand:null,foot:null,accessory:null});bt(this,"actions");this.name=e,this.type=n,this.level=i,this.individualStrength=o,this.calculateAbility(),this.calculateMaxHealth(),this.health=this.getMaxHealth(),this.actions=Rn[this.type].actions}calculateMaxHealth(){this.maxHealth=this.ability.con*10+this.ability.siz*5}calculateAbility(){const e=Rn[this.type].abilityCoeff,n=["str","int","con","siz","app","dex","armor","piercing"],i={};n.forEach(o=>{i[o]=e[o].base+e[o].growth*this.level*this.individualStrength}),this.ability=i}levelup(){this.level++,this.level%10===0&&this.plusAbilityPoint++,this.calculateAbility();const e=this.maxHealth;this.maxHealth=this.ability.con*10+this.ability.siz*5,this.recoverHp(this.maxHealth-e)}getRandomAction(){const e=Math.random(),n=this.getActions(),i=n.reduce((s,a)=>s+a.weight,0);let o=0;for(const s of n)if(o+=s.weight,e<o/i)return Yt[s.actionType];return Yt[N.Dazed]}wearEquipment(e){this.equipments[e.position]&&this.removeEquipment(e.position),this.equipments[e.position]=e,this.pack.splice(this.pack.indexOf(e),1),this.health>this.getMaxHealth()&&(this.health=this.getMaxHealth())}removeEquipment(e){this.equipments[e]&&(this.pack.push(this.equipments[e]),this.equipments[e]=null),this.health>this.getMaxHealth()&&(this.health=this.getMaxHealth())}discardItem(e){this.pack.splice(this.pack.indexOf(e),1)}loseHp(e){this.health-=e,this.health<0&&(this.health=0)}recoverHp(e){this.health+=e,this.health>this.getMaxHealth()&&(this.health=this.getMaxHealth())}getExtraAbility(){const e={str:0,int:0,con:0,siz:0,app:0,dex:0,armor:0,piercing:0},n=["str","int","con","siz","app","dex","armor","piercing"];for(const i of Object.values(this.equipments))i&&n.forEach(o=>{var s;e[o]+=((s=i.ability)==null?void 0:s[o])??0});return e}getAbility(){const e={...this.ability},n=["str","int","con","siz","app","dex","armor","piercing"],i=this.getExtraAbility();for(const o of n)e[o]+=i[o]+this.plusAbility[o];return e}getMaxHealth(){const e=this.getAbility();return e.con*10+e.siz*5}getExtraActions(){const e=[];for(const n of Object.values(this.equipments))n&&e.push(...n.extraActions);return e}getActions(){const e=[...this.actions];return e.push(...this.getExtraActions()),e}getActionCoeff(e){var i,o;const n={plus:0,multiply:1};for(const s of Object.values(this.equipments))s&&(n.plus+=((i=s.actionCoeff[e])==null?void 0:i.plus)??0,(o=s.actionCoeff[e])!=null&&o.multiply&&(n.multiply+=s.actionCoeff[e].multiply-1));return n}addStatus(e,n,i){const o=Gi[e],s={name:o.name,description:o.description,type:e,priority:o.priority,durationType:o.durationType,category:o.category,duration:n,statusLevel:i};this.statuses.push(s)}clearStatus(){this.statuses=this.statuses.filter(e=>e.durationType===le.Permanent)}clearStatusByCategory(e){this.statuses=this.statuses.filter(n=>n.category!==e)}updateStatusesOnTurnStart(){this.statuses=this.statuses.filter(e=>(e.durationType===le.Turn&&(e.duration-=1),e.duration>0))}updateStatusesOnHitStart(){this.statuses=this.statuses.filter(e=>(e.durationType===le.Hit&&(e.duration-=1),e.duration>0))}applySecondStatuses(){this.statuses.sort((e,n)=>e.priority-n.priority).forEach(e=>{if(e.category===Xt.OnSecond){const n=Gi[e.type].effect;n(this,e.statusLevel)}}),this.statuses=this.statuses.filter(e=>(e.durationType===le.Second&&(e.duration-=1),e.duration>0))}}class Ui extends Zu{constructor(n,i){n=n||"吴田所",i=i||kt.Player;super(n,i,0,1);bt(this,"log",[]);bt(this,"tempLog",[]);bt(this,"capturedMonster",[]);bt(this,"isAtHome",!0);bt(this,"exp",0);bt(this,"isPlayer",!0);bt(this,"currentMapData",{currentRegionId:"ruin",currentNodeId:null,goingToNodeId:null,visitedNodeIdList:[],boss:[]});bt(this,"unlockedRegionIdList",["ruin"]);bt(this,"unlockedNodeIdList",[])}getNextLevelExp(){return this.level<=10?100:this.level<=20?100+(this.level-10)*40:500*Math.pow(1.2,this.level-20)}checkLevelUp(){let n=this.getNextLevelExp(),i=!1;for(;this.exp>=n;)this.exp-=n,this.levelup(),i=!0,n=this.getNextLevelExp();return i}getExpDisplay(){const n=this.getNextLevelExp();return`
      <div class="progress" style="height: 2px; position: relative;">
        <div class="progress-bar" role="progressbar" style="width: ${Math.min(100,this.exp/n*100)}%;"
             aria-valuenow="${this.exp}" aria-valuemin="0" aria-valuemax="${n}">
        </div>
      </div>
    `}getHealthDisplay(){const n=this.getAbility(),i=this.getMaxHealth(),o=Math.min(100,this.health/i*100),s=n.con/5*i/900;return`
    <div class="progress" style="height: 20px; position: relative; background-color: #444;">
      <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: ${o}%;"
           aria-valuenow="${this.health}" aria-valuemin="0" aria-valuemax="${i}">
      </div>
      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
        <div style="text-align: center; line-height: 20px; font-size: 0.9rem; font-weight: bold; color: #fff;">
          hp: ${this.health.toFixed(1)} / ${i.toFixed(1)}
        </div>
        <div style="position: absolute; top: 0; right: 5px; height: 100%; display: flex; align-items: center; font-size: 0.9rem; font-weight: bold; color: #fff;">
          +${s.toFixed(2)}
        </div>
      </div>
    </div>
  `}updateHealthDisplay(){const n=document.getElementById("health-display");n&&(n.innerHTML=this.getHealthDisplay())}autoRecoverHpDot(n=1){const i=this.getAbility(),o=this.getMaxHealth(),s=i.con/5*o/900*n;this.recoverHp(s)}addLog(n){this.log.push(n)}getLogs(){return this.log.join("<br>")}getLastNLog(n){return this.log.slice(-n).join("<br>")}addTempLog(n){this.tempLog.push(n)}getTempLogs(){return this.tempLog.join("<br>")}clearTempLogs(){this.tempLog=[]}joinTempLogs(){this.log.push(this.tempLog.join("<br>")),this.tempLog=[]}clearCurrentMapDataWithoutBoss(){this.currentMapData.currentNodeId=null,this.currentMapData.goingToNodeId=null,this.currentMapData.visitedNodeIdList=[]}clearCurrentMapData(){this.clearCurrentMapDataWithoutBoss(),this.currentMapData.boss=[]}goToRegion(n){this.unlockedRegionIdList.includes(n)&&(this.clearCurrentMapData(),this.currentMapData.currentRegionId=n)}goToNode(n){this.currentMapData.currentNodeId=n,this.currentMapData.visitedNodeIdList.includes(n)||this.currentMapData.visitedNodeIdList.push(n),this.currentMapData.goingToNodeId=null,this.unlockedNodeIdList.includes(n)||this.unlockedNodeIdList.push(n)}}var Tt;(function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(Tt||(Tt={}));var og=function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return t.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},t.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},t.prototype.findTransformMetadatas=function(e,n,i){return this.findMetadatas(this._transformMetadatas,e,n).filter(function(o){return!o.options||o.options.toClassOnly===!0&&o.options.toPlainOnly===!0?!0:o.options.toClassOnly===!0?i===Tt.CLASS_TO_CLASS||i===Tt.PLAIN_TO_CLASS:o.options.toPlainOnly===!0?i===Tt.CLASS_TO_PLAIN:!0})},t.prototype.findExcludeMetadata=function(e,n){return this.findMetadata(this._excludeMetadatas,e,n)},t.prototype.findExposeMetadata=function(e,n){return this.findMetadata(this._exposeMetadatas,e,n)},t.prototype.findExposeMetadataByCustomName=function(e,n){return this.getExposedMetadatas(e).find(function(i){return i.options&&i.options.name===n})},t.prototype.findTypeMetadata=function(e,n){return this.findMetadata(this._typeMetadatas,e,n)},t.prototype.getStrategy=function(e){var n=this._excludeMetadatas.get(e),i=n&&n.get(void 0),o=this._exposeMetadatas.get(e),s=o&&o.get(void 0);return i&&s||!i&&!s?"none":i?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},t.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},t.prototype.getExposedProperties=function(e,n){return this.getExposedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===Tt.CLASS_TO_CLASS||n===Tt.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===Tt.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.getExcludedProperties=function(e,n){return this.getExcludedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===Tt.CLASS_TO_CLASS||n===Tt.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===Tt.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(e,n){var i=e.get(n),o;i&&(o=Array.from(i.values()).filter(function(E){return E.propertyName!==void 0}));for(var s=[],a=0,l=this.getAncestors(n);a<l.length;a++){var d=l[a],p=e.get(d);if(p){var h=Array.from(p.values()).filter(function(E){return E.propertyName!==void 0});s.push.apply(s,h)}}return s.concat(o||[])},t.prototype.findMetadata=function(e,n,i){var o=e.get(n);if(o){var s=o.get(i);if(s)return s}for(var a=0,l=this.getAncestors(n);a<l.length;a++){var d=l[a],p=e.get(d);if(p){var h=p.get(i);if(h)return h}}},t.prototype.findMetadatas=function(e,n,i){var o=e.get(n),s;o&&(s=o.get(i));for(var a=[],l=0,d=this.getAncestors(n);l<d.length;l++){var p=d[l],h=e.get(p);h&&h.has(i)&&a.push.apply(a,h.get(i))}return a.slice().reverse().concat((s||[]).slice().reverse())},t.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var n=[],i=Object.getPrototypeOf(e.prototype.constructor);typeof i.prototype<"u";i=Object.getPrototypeOf(i.prototype.constructor))n.push(i);this._ancestorsMap.set(e,n)}return this._ancestorsMap.get(e)},t}(),he=new og;function sg(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function ag(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var $l=function(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,s;i<o;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};function cg(t){var e=new t;return!(e instanceof Set)&&!("push"in e)?[]:e}var Ni=function(){function t(e,n){this.transformationType=e,this.options=n,this.recursionStack=new Set}return t.prototype.transform=function(e,n,i,o,s,a){var l=this;if(a===void 0&&(a=0),Array.isArray(n)||n instanceof Set){var d=o&&this.transformationType===Tt.PLAIN_TO_CLASS?cg(o):[];return n.forEach(function($,k){var K=e?e[k]:void 0;if(!l.options.enableCircularCheck||!l.isCircular($)){var it=void 0;if(typeof i!="function"&&i&&i.options&&i.options.discriminator&&i.options.discriminator.property&&i.options.discriminator.subTypes){if(l.transformationType===Tt.PLAIN_TO_CLASS){it=i.options.discriminator.subTypes.find(function(ht){return ht.name===$[i.options.discriminator.property]});var v={newObject:d,object:$,property:void 0},J=i.typeFunction(v);it===void 0?it=J:it=it.value,i.options.keepDiscriminatorProperty||delete $[i.options.discriminator.property]}l.transformationType===Tt.CLASS_TO_CLASS&&(it=$.constructor),l.transformationType===Tt.CLASS_TO_PLAIN&&($[i.options.discriminator.property]=i.options.discriminator.subTypes.find(function(ht){return ht.value===$.constructor}).name)}else it=i;var B=l.transform(K,$,it,void 0,$ instanceof Map,a+1);d instanceof Set?d.add(B):d.push(B)}else l.transformationType===Tt.CLASS_TO_CLASS&&(d instanceof Set?d.add($):d.push($))}),d}else{if(i===String&&!s)return n==null?n:String(n);if(i===Number&&!s)return n==null?n:Number(n);if(i===Boolean&&!s)return n==null?n:!!n;if((i===Date||n instanceof Date)&&!s)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(sg().Buffer&&(i===Buffer||n instanceof Buffer)&&!s)return n==null?n:Buffer.from(n);if(ag(n)&&!s)return new Promise(function($,k){n.then(function(K){return $(l.transform(void 0,K,i,void 0,void 0,a+1))},k)});if(!s&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!i&&n.constructor!==Object&&(!Array.isArray(n)&&n.constructor===Array||(i=n.constructor)),!i&&e&&(i=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);var p=this.getKeys(i,n,s),h=e||{};!e&&(this.transformationType===Tt.PLAIN_TO_CLASS||this.transformationType===Tt.CLASS_TO_CLASS)&&(s?h=new Map:i?h=new i:h={});for(var E=function($){if($==="__proto__"||$==="constructor")return"continue";var k=$,K=$,it=$;if(!m.options.ignoreDecorators&&i){if(m.transformationType===Tt.PLAIN_TO_CLASS){var v=he.findExposeMetadataByCustomName(i,$);v&&(it=v.propertyName,K=v.propertyName)}else if(m.transformationType===Tt.CLASS_TO_PLAIN||m.transformationType===Tt.CLASS_TO_CLASS){var v=he.findExposeMetadata(i,$);v&&v.options&&v.options.name&&(K=v.options.name)}}var J=void 0;m.transformationType===Tt.PLAIN_TO_CLASS?J=n[k]:n instanceof Map?J=n.get(k):n[k]instanceof Function?J=n[k]():J=n[k];var B=void 0,ht=J instanceof Map;if(i&&s)B=i;else if(i){var ft=he.findTypeMetadata(i,it);if(ft){var Nt={newObject:h,object:n,property:it},xt=ft.typeFunction?ft.typeFunction(Nt):ft.reflectedType;ft.options&&ft.options.discriminator&&ft.options.discriminator.property&&ft.options.discriminator.subTypes?n[k]instanceof Array?B=ft:(m.transformationType===Tt.PLAIN_TO_CLASS&&(B=ft.options.discriminator.subTypes.find(function(D){if(J&&J instanceof Object&&ft.options.discriminator.property in J)return D.name===J[ft.options.discriminator.property]}),B===void 0?B=xt:B=B.value,ft.options.keepDiscriminatorProperty||J&&J instanceof Object&&ft.options.discriminator.property in J&&delete J[ft.options.discriminator.property]),m.transformationType===Tt.CLASS_TO_CLASS&&(B=J.constructor),m.transformationType===Tt.CLASS_TO_PLAIN&&J&&(J[ft.options.discriminator.property]=ft.options.discriminator.subTypes.find(function(D){return D.value===J.constructor}).name)):B=xt,ht=ht||ft.reflectedType===Map}else if(m.options.targetMaps)m.options.targetMaps.filter(function(D){return D.target===i&&!!D.properties[it]}).forEach(function(D){return B=D.properties[it]});else if(m.options.enableImplicitConversion&&m.transformationType===Tt.PLAIN_TO_CLASS){var $t=Reflect.getMetadata("design:type",i.prototype,it);$t&&(B=$t)}}var H=Array.isArray(n[k])?m.getReflectedType(i,it):void 0,Y=e?e[k]:void 0;if(h.constructor.prototype){var b=Object.getOwnPropertyDescriptor(h.constructor.prototype,K);if((m.transformationType===Tt.PLAIN_TO_CLASS||m.transformationType===Tt.CLASS_TO_CLASS)&&(b&&!b.set||h[K]instanceof Function))return"continue"}if(!m.options.enableCircularCheck||!m.isCircular(J)){var P=m.transformationType===Tt.PLAIN_TO_CLASS?K:$,x=void 0;m.transformationType===Tt.CLASS_TO_PLAIN?(x=n[P],x=m.applyCustomTransformations(x,i,P,n,m.transformationType),x=n[P]===x?J:x,x=m.transform(Y,x,B,H,ht,a+1)):J===void 0&&m.options.exposeDefaultValues?x=h[K]:(x=m.transform(Y,J,B,H,ht,a+1),x=m.applyCustomTransformations(x,i,P,n,m.transformationType)),(x!==void 0||m.options.exposeUnsetFields)&&(h instanceof Map?h.set(K,x):h[K]=x)}else if(m.transformationType===Tt.CLASS_TO_CLASS){var x=J;x=m.applyCustomTransformations(x,i,$,n,m.transformationType),(x!==void 0||m.options.exposeUnsetFields)&&(h instanceof Map?h.set(K,x):h[K]=x)}},m=this,T=0,z=p;T<z.length;T++){var j=z[T];E(j)}return this.options.enableCircularCheck&&this.recursionStack.delete(n),h}else return n}},t.prototype.applyCustomTransformations=function(e,n,i,o,s){var a=this,l=he.findTransformMetadatas(n,i,this.transformationType);return this.options.version!==void 0&&(l=l.filter(function(d){return d.options?a.checkVersion(d.options.since,d.options.until):!0})),this.options.groups&&this.options.groups.length?l=l.filter(function(d){return d.options?a.checkGroups(d.options.groups):!0}):l=l.filter(function(d){return!d.options||!d.options.groups||!d.options.groups.length}),l.forEach(function(d){e=d.transformFn({value:e,key:i,obj:o,type:s,options:a.options})}),e},t.prototype.isCircular=function(e){return this.recursionStack.has(e)},t.prototype.getReflectedType=function(e,n){if(e){var i=he.findTypeMetadata(e,n);return i?i.reflectedType:void 0}},t.prototype.getKeys=function(e,n,i){var o=this,s=he.getStrategy(e);s==="none"&&(s=this.options.strategy||"exposeAll");var a=[];if((s==="exposeAll"||i)&&(n instanceof Map?a=Array.from(n.keys()):a=Object.keys(n)),i)return a;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var l=he.getExposedProperties(e,this.transformationType),d=he.getExcludedProperties(e,this.transformationType);a=$l($l([],l,!0),d,!0)}if(!this.options.ignoreDecorators&&e){var l=he.getExposedProperties(e,this.transformationType);this.transformationType===Tt.PLAIN_TO_CLASS&&(l=l.map(function(E){var m=he.findExposeMetadata(e,E);return m&&m.options&&m.options.name?m.options.name:E})),this.options.excludeExtraneousValues?a=l:a=a.concat(l);var p=he.getExcludedProperties(e,this.transformationType);p.length>0&&(a=a.filter(function(E){return!p.includes(E)})),this.options.version!==void 0&&(a=a.filter(function(E){var m=he.findExposeMetadata(e,E);return!m||!m.options?!0:o.checkVersion(m.options.since,m.options.until)})),this.options.groups&&this.options.groups.length?a=a.filter(function(E){var m=he.findExposeMetadata(e,E);return!m||!m.options?!0:o.checkGroups(m.options.groups)}):a=a.filter(function(E){var m=he.findExposeMetadata(e,E);return!m||!m.options||!m.options.groups||!m.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(a=a.filter(function(h){return o.options.excludePrefixes.every(function(E){return h.substr(0,E.length)!==E})})),a=a.filter(function(h,E,m){return m.indexOf(h)===E}),a},t.prototype.checkVersion=function(e,n){var i=!0;return i&&e&&(i=this.options.version>=e),i&&n&&(i=this.options.version<n),i},t.prototype.checkGroups=function(e){return e?this.options.groups.some(function(n){return e.includes(n)}):!0},t}(),Di={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},pe=function(){return pe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},pe.apply(this,arguments)},lg=function(){function t(){}return t.prototype.instanceToPlain=function(e,n){var i=new Ni(Tt.CLASS_TO_PLAIN,pe(pe({},Di),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(e,n,i){var o=new Ni(Tt.CLASS_TO_PLAIN,pe(pe({},Di),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.plainToInstance=function(e,n,i){var o=new Ni(Tt.PLAIN_TO_CLASS,pe(pe({},Di),i));return o.transform(void 0,n,e,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(e,n,i){var o=new Ni(Tt.PLAIN_TO_CLASS,pe(pe({},Di),i));return o.transform(e,n,void 0,void 0,void 0,void 0)},t.prototype.instanceToInstance=function(e,n){var i=new Ni(Tt.CLASS_TO_CLASS,pe(pe({},Di),n));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(e,n,i){var o=new Ni(Tt.CLASS_TO_CLASS,pe(pe({},Di),i));return o.transform(n,e,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(e,n){return JSON.stringify(this.instanceToPlain(e,n))},t.prototype.deserialize=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t.prototype.deserializeArray=function(e,n,i){var o=JSON.parse(n);return this.plainToInstance(e,o,i)},t}(),td=new lg;function ug(t,e){return td.instanceToPlain(t,e)}function no(t,e,n){return td.plainToInstance(t,e,n)}let Rs=-1,Bs=-1,Hs=-1;function fa(t){Rs!==-1&&clearInterval(Rs),Bs!==-1&&clearInterval(Bs),Hs!==-1&&clearInterval(Hs),Rs=setInterval(()=>{t.isAtHome&&(t.autoRecoverHpDot(),t.updateHealthDisplay())},1e3),Bs=setInterval(()=>{t.isAtHome&&cn(t)},1e4),Hs=setInterval(()=>{t.isAtHome&&t.applySecondStatuses()},1e3)}function dg(t){const e=t.reduce((o,s)=>o+s.weight,0),n=Math.random()*e;let i=0;for(const o of t)if(i+=o.weight,n<=i)return o}function ed(t,e=0){if(t in Et)return new Be(t,e);if(t in Vi)return new xn(t,e);throw new Error("Invalid item type")}function Pl(t){return t instanceof Be?`
      <div class="tooltip-base tooltip-header">
        <h5 class="text-${L[t.rarity]}">${t.level?`lv${t.level}`:""} ${t.name}</h5>
        <p class="fst-italic">${t.description}</p>
      </div>
    `:t instanceof xn?eg(t):`
    <div class="tooltip-base">
      <h5>${t.name}</h5>
      <p class="fst-italic">"${t.description}"</p>
    </div>
  `}function Fs(t){switch(t.category){case ui.Equipment:return"🗡️";case ui.Consumable:return"🗝️";default:return""}}class Qi extends Zu{constructor(n,i,o,s){n=n||kt.Slime,s=s||Rn[n].typeName,i=i||1,o=o||1;super(s,n,i,o);bt(this,"description");bt(this,"dropItems");bt(this,"giveExp",0);this.dropItems=Rn[n].dropItems,this.description=Rn[n].description,Rn[n].image&&(this.image=Rn[n].image);const a=Rn[n].initStatus;if(a)for(const l of a)this.addStatus(l.type,l.duration);this.giveExp=Math.floor(this.getMaxHealth())*(1+this.level/10)}randomDropItem(){const n=this.dropItems.reduce((o,s)=>o+s.weight,0);let i=Math.random()*n;for(const o of this.dropItems){if(i<o.weight&&o.type)return ed(o.type,this.level);i-=o.weight}return null}}function cn(t){if(t.type===kt.FullPowerPlayer114514)return;const e=ug(t);localStorage.setItem("playerData",JSON.stringify(e)),localStorage.setItem("saveTime",JSON.stringify(Date.now()))}function fg(){const t=localStorage.getItem("playerData");if(!t)return console.log("No player data found"),null;const e=JSON.parse(t),n=new Ui(e.name,e.type);["level","health","statuses","equipments","plusAbilityPoint","plusAbility"].forEach(a=>{if(e[a]!==void 0)try{n[a]=e[a]}catch(l){console.error(`无法复原属性 ${a}`,l)}}),n.calculateAbility(),n.calculateMaxHealth(),["log","capturedMonster","exp","currentMapData","unlockedRegionIdList","unlockedNodeIdList"].forEach(a=>{if(e[a]!==void 0)try{n[a]=e[a]}catch(l){console.error(`无法复原属性 ${a}`,l)}}),fa(n);try{n.pack=e.pack.map(a=>a.category===ui.Equipment?no(xn,a):a.category===ui.Consumable?no(Be,a):a)}catch(a){n.pack=[],console.error("load player pack error",a)}try{n.currentMapData.boss=n.currentMapData.boss.map(a=>no(Qi,a))}catch(a){console.error("load player currentMapData.boss error",a)}try{n.capturedMonster=n.capturedMonster.map(a=>no(Qi,a))}catch(a){console.error("load player capturedMonster error",a)}n.clearStatus();const s=localStorage.getItem("saveTime");if(s){const a=(Date.now()-JSON.parse(s))/1e3;n.autoRecoverHpDot(a)}return n}const hg="/isekai114514/assets/player-8N5Sf3fj.gif";function Me(){const t=document.getElementById("app");if(!t)throw new Error("无法找到挂载点 #app");return t}var ue="top",xe="bottom",Ce="right",de="left",zo="auto",ir=[ue,xe,Ce,de],fi="start",Ki="end",nd="clippingParents",Da="viewport",$i="popper",id="reference",ha=ir.reduce(function(t,e){return t.concat([e+"-"+fi,e+"-"+Ki])},[]),ka=[].concat(ir,[zo]).reduce(function(t,e){return t.concat([e,e+"-"+fi,e+"-"+Ki])},[]),rd="beforeRead",od="read",sd="afterRead",ad="beforeMain",cd="main",ld="afterMain",ud="beforeWrite",dd="write",fd="afterWrite",hd=[rd,od,sd,ad,cd,ld,ud,dd,fd];function fn(t){return t?(t.nodeName||"").toLowerCase():null}function Te(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hi(t){var e=Te(t).Element;return t instanceof e||t instanceof Element}function He(t){var e=Te(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ia(t){if(typeof ShadowRoot>"u")return!1;var e=Te(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function pg(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!He(s)||!fn(s)||(Object.assign(s.style,i),Object.keys(o).forEach(function(a){var l=o[a];l===!1?s.removeAttribute(a):s.setAttribute(a,l===!0?"":l)}))})}function gg(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=a.reduce(function(d,p){return d[p]="",d},{});!He(o)||!fn(o)||(Object.assign(o.style,l),Object.keys(s).forEach(function(d){o.removeAttribute(d)}))})}}const Wo={name:"applyStyles",enabled:!0,phase:"write",fn:pg,effect:gg,requires:["computeStyles"]};function ln(t){return t.split("-")[0]}var ci=Math.max,Lo=Math.min,Yi=Math.round;function pa(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pd(){return!/^((?!chrome|android).)*safari/i.test(pa())}function qi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),o=1,s=1;e&&He(t)&&(o=t.offsetWidth>0&&Yi(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Yi(i.height)/t.offsetHeight||1);var a=hi(t)?Te(t):window,l=a.visualViewport,d=!pd()&&n,p=(i.left+(d&&l?l.offsetLeft:0))/o,h=(i.top+(d&&l?l.offsetTop:0))/s,E=i.width/o,m=i.height/s;return{width:E,height:m,top:h,right:p+E,bottom:h+m,left:p,x:p,y:h}}function $a(t){var e=qi(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function gd(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ia(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Mn(t){return Te(t).getComputedStyle(t)}function mg(t){return["table","td","th"].indexOf(fn(t))>=0}function Wn(t){return((hi(t)?t.ownerDocument:t.document)||window.document).documentElement}function Go(t){return fn(t)==="html"?t:t.assignedSlot||t.parentNode||(Ia(t)?t.host:null)||Wn(t)}function Rl(t){return!He(t)||Mn(t).position==="fixed"?null:t.offsetParent}function vg(t){var e=/firefox/i.test(pa()),n=/Trident/i.test(pa());if(n&&He(t)){var i=Mn(t);if(i.position==="fixed")return null}var o=Go(t);for(Ia(o)&&(o=o.host);He(o)&&["html","body"].indexOf(fn(o))<0;){var s=Mn(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function Nr(t){for(var e=Te(t),n=Rl(t);n&&mg(n)&&Mn(n).position==="static";)n=Rl(n);return n&&(fn(n)==="html"||fn(n)==="body"&&Mn(n).position==="static")?e:n||vg(t)||e}function Pa(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yr(t,e,n){return ci(t,Lo(e,n))}function _g(t,e,n){var i=yr(t,e,n);return i>n?n:i}function md(){return{top:0,right:0,bottom:0,left:0}}function vd(t){return Object.assign({},md(),t)}function _d(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var bg=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,vd(typeof e!="number"?e:_d(e,ir))};function yg(t){var e,n=t.state,i=t.name,o=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ln(n.placement),d=Pa(l),p=[de,Ce].indexOf(l)>=0,h=p?"height":"width";if(!(!s||!a)){var E=bg(o.padding,n),m=$a(s),T=d==="y"?ue:de,z=d==="y"?xe:Ce,j=n.rects.reference[h]+n.rects.reference[d]-a[d]-n.rects.popper[h],$=a[d]-n.rects.reference[d],k=Nr(s),K=k?d==="y"?k.clientHeight||0:k.clientWidth||0:0,it=j/2-$/2,v=E[T],J=K-m[h]-E[z],B=K/2-m[h]/2+it,ht=yr(v,B,J),ft=d;n.modifiersData[i]=(e={},e[ft]=ht,e.centerOffset=ht-B,e)}}function Ag(t){var e=t.state,n=t.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||gd(e.elements.popper,o)&&(e.elements.arrow=o))}const bd={name:"arrow",enabled:!0,phase:"main",fn:yg,effect:Ag,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xi(t){return t.split("-")[1]}var wg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Eg(t,e){var n=t.x,i=t.y,o=e.devicePixelRatio||1;return{x:Yi(n*o)/o||0,y:Yi(i*o)/o||0}}function Bl(t){var e,n=t.popper,i=t.popperRect,o=t.placement,s=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,p=t.adaptive,h=t.roundOffsets,E=t.isFixed,m=a.x,T=m===void 0?0:m,z=a.y,j=z===void 0?0:z,$=typeof h=="function"?h({x:T,y:j}):{x:T,y:j};T=$.x,j=$.y;var k=a.hasOwnProperty("x"),K=a.hasOwnProperty("y"),it=de,v=ue,J=window;if(p){var B=Nr(n),ht="clientHeight",ft="clientWidth";if(B===Te(n)&&(B=Wn(n),Mn(B).position!=="static"&&l==="absolute"&&(ht="scrollHeight",ft="scrollWidth")),B=B,o===ue||(o===de||o===Ce)&&s===Ki){v=xe;var Nt=E&&B===J&&J.visualViewport?J.visualViewport.height:B[ht];j-=Nt-i.height,j*=d?1:-1}if(o===de||(o===ue||o===xe)&&s===Ki){it=Ce;var xt=E&&B===J&&J.visualViewport?J.visualViewport.width:B[ft];T-=xt-i.width,T*=d?1:-1}}var $t=Object.assign({position:l},p&&wg),H=h===!0?Eg({x:T,y:j},Te(n)):{x:T,y:j};if(T=H.x,j=H.y,d){var Y;return Object.assign({},$t,(Y={},Y[v]=K?"0":"",Y[it]=k?"0":"",Y.transform=(J.devicePixelRatio||1)<=1?"translate("+T+"px, "+j+"px)":"translate3d("+T+"px, "+j+"px, 0)",Y))}return Object.assign({},$t,(e={},e[v]=K?j+"px":"",e[it]=k?T+"px":"",e.transform="",e))}function xg(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=i===void 0?!0:i,s=n.adaptive,a=s===void 0?!0:s,l=n.roundOffsets,d=l===void 0?!0:l,p={placement:ln(e.placement),variation:Xi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Bl(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Bl(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ra={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xg,data:{}};var io={passive:!0};function Cg(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,s=o===void 0?!0:o,a=i.resize,l=a===void 0?!0:a,d=Te(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&p.forEach(function(h){h.addEventListener("scroll",n.update,io)}),l&&d.addEventListener("resize",n.update,io),function(){s&&p.forEach(function(h){h.removeEventListener("scroll",n.update,io)}),l&&d.removeEventListener("resize",n.update,io)}}const Ba={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Cg,data:{}};var Tg={left:"right",right:"left",bottom:"top",top:"bottom"};function yo(t){return t.replace(/left|right|bottom|top/g,function(e){return Tg[e]})}var Sg={start:"end",end:"start"};function Hl(t){return t.replace(/start|end/g,function(e){return Sg[e]})}function Ha(t){var e=Te(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Fa(t){return qi(Wn(t)).left+Ha(t).scrollLeft}function Mg(t,e){var n=Te(t),i=Wn(t),o=n.visualViewport,s=i.clientWidth,a=i.clientHeight,l=0,d=0;if(o){s=o.width,a=o.height;var p=pd();(p||!p&&e==="fixed")&&(l=o.offsetLeft,d=o.offsetTop)}return{width:s,height:a,x:l+Fa(t),y:d}}function Lg(t){var e,n=Wn(t),i=Ha(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=ci(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ci(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-i.scrollLeft+Fa(t),d=-i.scrollTop;return Mn(o||n).direction==="rtl"&&(l+=ci(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:a,x:l,y:d}}function za(t){var e=Mn(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function yd(t){return["html","body","#document"].indexOf(fn(t))>=0?t.ownerDocument.body:He(t)&&za(t)?t:yd(Go(t))}function Ar(t,e){var n;e===void 0&&(e=[]);var i=yd(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=Te(i),a=o?[s].concat(s.visualViewport||[],za(i)?i:[]):i,l=e.concat(a);return o?l:l.concat(Ar(Go(a)))}function ga(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Og(t,e){var n=qi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Fl(t,e,n){return e===Da?ga(Mg(t,n)):hi(e)?Og(e,n):ga(Lg(Wn(t)))}function Ng(t){var e=Ar(Go(t)),n=["absolute","fixed"].indexOf(Mn(t).position)>=0,i=n&&He(t)?Nr(t):t;return hi(i)?e.filter(function(o){return hi(o)&&gd(o,i)&&fn(o)!=="body"}):[]}function Dg(t,e,n,i){var o=e==="clippingParents"?Ng(t):[].concat(e),s=[].concat(o,[n]),a=s[0],l=s.reduce(function(d,p){var h=Fl(t,p,i);return d.top=ci(h.top,d.top),d.right=Lo(h.right,d.right),d.bottom=Lo(h.bottom,d.bottom),d.left=ci(h.left,d.left),d},Fl(t,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ad(t){var e=t.reference,n=t.element,i=t.placement,o=i?ln(i):null,s=i?Xi(i):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(o){case ue:d={x:a,y:e.y-n.height};break;case xe:d={x:a,y:e.y+e.height};break;case Ce:d={x:e.x+e.width,y:l};break;case de:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var p=o?Pa(o):null;if(p!=null){var h=p==="y"?"height":"width";switch(s){case fi:d[p]=d[p]-(e[h]/2-n[h]/2);break;case Ki:d[p]=d[p]+(e[h]/2-n[h]/2);break}}return d}function Ji(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=i===void 0?t.placement:i,s=n.strategy,a=s===void 0?t.strategy:s,l=n.boundary,d=l===void 0?nd:l,p=n.rootBoundary,h=p===void 0?Da:p,E=n.elementContext,m=E===void 0?$i:E,T=n.altBoundary,z=T===void 0?!1:T,j=n.padding,$=j===void 0?0:j,k=vd(typeof $!="number"?$:_d($,ir)),K=m===$i?id:$i,it=t.rects.popper,v=t.elements[z?K:m],J=Dg(hi(v)?v:v.contextElement||Wn(t.elements.popper),d,h,a),B=qi(t.elements.reference),ht=Ad({reference:B,element:it,placement:o}),ft=ga(Object.assign({},it,ht)),Nt=m===$i?ft:B,xt={top:J.top-Nt.top+k.top,bottom:Nt.bottom-J.bottom+k.bottom,left:J.left-Nt.left+k.left,right:Nt.right-J.right+k.right},$t=t.modifiersData.offset;if(m===$i&&$t){var H=$t[o];Object.keys(xt).forEach(function(Y){var b=[Ce,xe].indexOf(Y)>=0?1:-1,P=[ue,xe].indexOf(Y)>=0?"y":"x";xt[Y]+=H[P]*b})}return xt}function kg(t,e){e===void 0&&(e={});var n=e,i=n.placement,o=n.boundary,s=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,p=d===void 0?ka:d,h=Xi(i),E=h?l?ha:ha.filter(function(z){return Xi(z)===h}):ir,m=E.filter(function(z){return p.indexOf(z)>=0});m.length===0&&(m=E);var T=m.reduce(function(z,j){return z[j]=Ji(t,{placement:j,boundary:o,rootBoundary:s,padding:a})[ln(j)],z},{});return Object.keys(T).sort(function(z,j){return T[z]-T[j]})}function Ig(t){if(ln(t)===zo)return[];var e=yo(t);return[Hl(t),e,Hl(e)]}function $g(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,p=n.padding,h=n.boundary,E=n.rootBoundary,m=n.altBoundary,T=n.flipVariations,z=T===void 0?!0:T,j=n.allowedAutoPlacements,$=e.options.placement,k=ln($),K=k===$,it=d||(K||!z?[yo($)]:Ig($)),v=[$].concat(it).reduce(function(gt,Lt){return gt.concat(ln(Lt)===zo?kg(e,{placement:Lt,boundary:h,rootBoundary:E,padding:p,flipVariations:z,allowedAutoPlacements:j}):Lt)},[]),J=e.rects.reference,B=e.rects.popper,ht=new Map,ft=!0,Nt=v[0],xt=0;xt<v.length;xt++){var $t=v[xt],H=ln($t),Y=Xi($t)===fi,b=[ue,xe].indexOf(H)>=0,P=b?"width":"height",x=Ji(e,{placement:$t,boundary:h,rootBoundary:E,altBoundary:m,padding:p}),D=b?Y?Ce:de:Y?xe:ue;J[P]>B[P]&&(D=yo(D));var q=yo(D),V=[];if(s&&V.push(x[H]<=0),l&&V.push(x[D]<=0,x[q]<=0),V.every(function(gt){return gt})){Nt=$t,ft=!1;break}ht.set($t,V)}if(ft)for(var y=z?3:1,ot=function(Lt){var st=v.find(function(Ot){var Q=ht.get(Ot);if(Q)return Q.slice(0,Lt).every(function(Gt){return Gt})});if(st)return Nt=st,"break"},lt=y;lt>0;lt--){var G=ot(lt);if(G==="break")break}e.placement!==Nt&&(e.modifiersData[i]._skip=!0,e.placement=Nt,e.reset=!0)}}const wd={name:"flip",enabled:!0,phase:"main",fn:$g,requiresIfExists:["offset"],data:{_skip:!1}};function zl(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Wl(t){return[ue,Ce,xe,de].some(function(e){return t[e]>=0})}function Pg(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,a=Ji(e,{elementContext:"reference"}),l=Ji(e,{altBoundary:!0}),d=zl(a,i),p=zl(l,o,s),h=Wl(d),E=Wl(p);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:E},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":E})}const Ed={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pg};function Rg(t,e,n){var i=ln(t),o=[de,ue].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],l=s[1];return a=a||0,l=(l||0)*o,[de,Ce].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function Bg(t){var e=t.state,n=t.options,i=t.name,o=n.offset,s=o===void 0?[0,0]:o,a=ka.reduce(function(h,E){return h[E]=Rg(E,e.rects,s),h},{}),l=a[e.placement],d=l.x,p=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=a}const xd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Bg};function Hg(t){var e=t.state,n=t.name;e.modifiersData[n]=Ad({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Wa={name:"popperOffsets",enabled:!0,phase:"read",fn:Hg,data:{}};function Fg(t){return t==="x"?"y":"x"}function zg(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,s=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,p=n.rootBoundary,h=n.altBoundary,E=n.padding,m=n.tether,T=m===void 0?!0:m,z=n.tetherOffset,j=z===void 0?0:z,$=Ji(e,{boundary:d,rootBoundary:p,padding:E,altBoundary:h}),k=ln(e.placement),K=Xi(e.placement),it=!K,v=Pa(k),J=Fg(v),B=e.modifiersData.popperOffsets,ht=e.rects.reference,ft=e.rects.popper,Nt=typeof j=="function"?j(Object.assign({},e.rects,{placement:e.placement})):j,xt=typeof Nt=="number"?{mainAxis:Nt,altAxis:Nt}:Object.assign({mainAxis:0,altAxis:0},Nt),$t=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(B){if(s){var Y,b=v==="y"?ue:de,P=v==="y"?xe:Ce,x=v==="y"?"height":"width",D=B[v],q=D+$[b],V=D-$[P],y=T?-ft[x]/2:0,ot=K===fi?ht[x]:ft[x],lt=K===fi?-ft[x]:-ht[x],G=e.elements.arrow,gt=T&&G?$a(G):{width:0,height:0},Lt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:md(),st=Lt[b],Ot=Lt[P],Q=yr(0,ht[x],gt[x]),Gt=it?ht[x]/2-y-Q-st-xt.mainAxis:ot-Q-st-xt.mainAxis,ve=it?-ht[x]/2+y+Q+Ot+xt.mainAxis:lt+Q+Ot+xt.mainAxis,Kt=e.elements.arrow&&Nr(e.elements.arrow),pn=Kt?v==="y"?Kt.clientTop||0:Kt.clientLeft||0:0,ee=(Y=$t==null?void 0:$t[v])!=null?Y:0,Ze=D+Gt-ee-pn,Le=D+ve-ee,ne=yr(T?Lo(q,Ze):q,D,T?ci(V,Le):V);B[v]=ne,H[v]=ne-D}if(l){var tn,gn=v==="x"?ue:de,mn=v==="x"?xe:Ce,fe=B[J],_e=J==="y"?"height":"width",je=fe+$[gn],Ve=fe-$[mn],Oe=[ue,de].indexOf(k)!==-1,re=(tn=$t==null?void 0:$t[J])!=null?tn:0,vn=Oe?je:fe-ht[_e]-ft[_e]-re+xt.altAxis,ie=Oe?fe+ht[_e]+ft[_e]-re-xt.altAxis:Ve,be=T&&Oe?_g(vn,fe,ie):yr(T?vn:je,fe,T?ie:Ve);B[J]=be,H[J]=be-fe}e.modifiersData[i]=H}}const Cd={name:"preventOverflow",enabled:!0,phase:"main",fn:zg,requiresIfExists:["offset"]};function Wg(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Gg(t){return t===Te(t)||!He(t)?Ha(t):Wg(t)}function jg(t){var e=t.getBoundingClientRect(),n=Yi(e.width)/t.offsetWidth||1,i=Yi(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Vg(t,e,n){n===void 0&&(n=!1);var i=He(e),o=He(e)&&jg(e),s=Wn(e),a=qi(t,o,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&((fn(e)!=="body"||za(s))&&(l=Gg(e)),He(e)?(d=qi(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):s&&(d.x=Fa(s))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function Ug(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&o(d)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),i}function Qg(t){var e=Ug(t);return hd.reduce(function(n,i){return n.concat(e.filter(function(o){return o.phase===i}))},[])}function Kg(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Yg(t){var e=t.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Gl={placement:"bottom",modifiers:[],strategy:"absolute"};function jl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function jo(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?Gl:o;return function(l,d,p){p===void 0&&(p=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gl,s),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},E=[],m=!1,T={state:h,setOptions:function(k){var K=typeof k=="function"?k(h.options):k;j(),h.options=Object.assign({},s,h.options,K),h.scrollParents={reference:hi(l)?Ar(l):l.contextElement?Ar(l.contextElement):[],popper:Ar(d)};var it=Qg(Yg([].concat(i,h.options.modifiers)));return h.orderedModifiers=it.filter(function(v){return v.enabled}),z(),T.update()},forceUpdate:function(){if(!m){var k=h.elements,K=k.reference,it=k.popper;if(jl(K,it)){h.rects={reference:Vg(K,Nr(it),h.options.strategy==="fixed"),popper:$a(it)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(xt){return h.modifiersData[xt.name]=Object.assign({},xt.data)});for(var v=0;v<h.orderedModifiers.length;v++){if(h.reset===!0){h.reset=!1,v=-1;continue}var J=h.orderedModifiers[v],B=J.fn,ht=J.options,ft=ht===void 0?{}:ht,Nt=J.name;typeof B=="function"&&(h=B({state:h,options:ft,name:Nt,instance:T})||h)}}}},update:Kg(function(){return new Promise(function($){T.forceUpdate(),$(h)})}),destroy:function(){j(),m=!0}};if(!jl(l,d))return T;T.setOptions(p).then(function($){!m&&p.onFirstUpdate&&p.onFirstUpdate($)});function z(){h.orderedModifiers.forEach(function($){var k=$.name,K=$.options,it=K===void 0?{}:K,v=$.effect;if(typeof v=="function"){var J=v({state:h,name:k,instance:T,options:it}),B=function(){};E.push(J||B)}})}function j(){E.forEach(function($){return $()}),E=[]}return T}}var qg=jo(),Xg=[Ba,Wa,Ra,Wo],Jg=jo({defaultModifiers:Xg}),Zg=[Ba,Wa,Ra,Wo,xd,wd,Cd,bd,Ed],Vo=jo({defaultModifiers:Zg});const Td=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ld,afterRead:sd,afterWrite:fd,applyStyles:Wo,arrow:bd,auto:zo,basePlacements:ir,beforeMain:ad,beforeRead:rd,beforeWrite:ud,bottom:xe,clippingParents:nd,computeStyles:Ra,createPopper:Vo,createPopperBase:qg,createPopperLite:Jg,detectOverflow:Ji,end:Ki,eventListeners:Ba,flip:wd,hide:Ed,left:de,main:cd,modifierPhases:hd,offset:xd,placements:ka,popper:$i,popperGenerator:jo,popperOffsets:Wa,preventOverflow:Cd,read:od,reference:id,right:Ce,start:fi,top:ue,variationPlacements:ha,viewport:Da,write:dd},Symbol.toStringTag,{value:"Module"}));var tm="tippy-box",Sd="tippy-content",em="tippy-backdrop",Md="tippy-arrow",Ld="tippy-svg-arrow",ri={passive:!0,capture:!0},Od=function(){return document.body};function zs(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function Ga(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Nd(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Vl(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function nm(t){return t.split(/\s+/).filter(Boolean)}function Pi(t){return[].concat(t)}function Ul(t,e){t.indexOf(e)===-1&&t.push(e)}function im(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function rm(t){return t.split("-")[0]}function Oo(t){return[].slice.call(t)}function Ql(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function wr(){return document.createElement("div")}function Uo(t){return["Element","Fragment"].some(function(e){return Ga(t,e)})}function om(t){return Ga(t,"NodeList")}function sm(t){return Ga(t,"MouseEvent")}function am(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function cm(t){return Uo(t)?[t]:om(t)?Oo(t):Array.isArray(t)?t:Oo(document.querySelectorAll(t))}function Ws(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Kl(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function lm(t){var e,n=Pi(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function um(t,e){var n=e.clientX,i=e.clientY;return t.every(function(o){var s=o.popperRect,a=o.popperState,l=o.props,d=l.interactiveBorder,p=rm(a.placement),h=a.modifiersData.offset;if(!h)return!0;var E=p==="bottom"?h.top.y:0,m=p==="top"?h.bottom.y:0,T=p==="right"?h.left.x:0,z=p==="left"?h.right.x:0,j=s.top-i+E>d,$=i-s.bottom-m>d,k=s.left-n+T>d,K=n-s.right-z>d;return j||$||k||K})}function Gs(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[i](o,n)})}function Yl(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var an={isTouch:!1},ql=0;function dm(){an.isTouch||(an.isTouch=!0,window.performance&&document.addEventListener("mousemove",Dd))}function Dd(){var t=performance.now();t-ql<20&&(an.isTouch=!1,document.removeEventListener("mousemove",Dd)),ql=t}function fm(){var t=document.activeElement;if(am(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function hm(){document.addEventListener("touchstart",dm,ri),window.addEventListener("blur",fm)}var pm=typeof window<"u"&&typeof document<"u",gm=pm?!!window.msCrypto:!1,mm={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},vm={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ye=Object.assign({appendTo:Od,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},mm,vm),_m=Object.keys(Ye),bm=function(e){var n=Object.keys(e);n.forEach(function(i){Ye[i]=e[i]})};function kd(t){var e=t.plugins||[],n=e.reduce(function(i,o){var s=o.name,a=o.defaultValue;if(s){var l;i[s]=t[s]!==void 0?t[s]:(l=Ye[s])!=null?l:a}return i},{});return Object.assign({},t,n)}function ym(t,e){var n=e?Object.keys(kd(Object.assign({},Ye,{plugins:e}))):_m,i=n.reduce(function(o,s){var a=(t.getAttribute("data-tippy-"+s)||"").trim();if(!a)return o;if(s==="content")o[s]=a;else try{o[s]=JSON.parse(a)}catch{o[s]=a}return o},{});return i}function Xl(t,e){var n=Object.assign({},e,{content:Nd(e.content,[t])},e.ignoreAttributes?{}:ym(t,e.plugins));return n.aria=Object.assign({},Ye.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Am=function(){return"innerHTML"};function ma(t,e){t[Am()]=e}function Jl(t){var e=wr();return t===!0?e.className=Md:(e.className=Ld,Uo(t)?e.appendChild(t):ma(e,t)),e}function Zl(t,e){Uo(e.content)?(ma(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?ma(t,e.content):t.textContent=e.content)}function va(t){var e=t.firstElementChild,n=Oo(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(Sd)}),arrow:n.find(function(i){return i.classList.contains(Md)||i.classList.contains(Ld)}),backdrop:n.find(function(i){return i.classList.contains(em)})}}function Id(t){var e=wr(),n=wr();n.className=tm,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=wr();i.className=Sd,i.setAttribute("data-state","hidden"),Zl(i,t.props),e.appendChild(n),n.appendChild(i),o(t.props,t.props);function o(s,a){var l=va(e),d=l.box,p=l.content,h=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&Zl(p,t.props),a.arrow?h?s.arrow!==a.arrow&&(d.removeChild(h),d.appendChild(Jl(a.arrow))):d.appendChild(Jl(a.arrow)):h&&d.removeChild(h)}return{popper:e,onUpdate:o}}Id.$$tippy=!0;var wm=1,ro=[],js=[];function Em(t,e){var n=Xl(t,Object.assign({},Ye,kd(Ql(e)))),i,o,s,a=!1,l=!1,d=!1,p=!1,h,E,m,T=[],z=Vl(Ze,n.interactiveDebounce),j,$=wm++,k=null,K=im(n.plugins),it={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},v={id:$,reference:t,popper:wr(),popperInstance:k,props:n,state:it,plugins:K,clearDelayTimeouts:vn,setProps:ie,setContent:be,show:en,hide:Nn,hideWithInteractivity:Vn,enable:Oe,disable:re,unmount:w,destroy:S};if(!n.render)return v;var J=n.render(v),B=J.popper,ht=J.onUpdate;B.setAttribute("data-tippy-root",""),B.id="tippy-"+v.id,v.popper=B,t._tippy=v,B._tippy=v;var ft=K.map(function(g){return g.fn(v)}),Nt=t.hasAttribute("aria-expanded");return Kt(),y(),D(),q("onCreate",[v]),n.showOnCreate&&je(),B.addEventListener("mouseenter",function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()}),B.addEventListener("mouseleave",function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&b().addEventListener("mousemove",z)}),v;function xt(){var g=v.props.touch;return Array.isArray(g)?g:[g,0]}function $t(){return xt()[0]==="hold"}function H(){var g;return!!((g=v.props.render)!=null&&g.$$tippy)}function Y(){return j||t}function b(){var g=Y().parentNode;return g?lm(g):document}function P(){return va(B)}function x(g){return v.state.isMounted&&!v.state.isVisible||an.isTouch||h&&h.type==="focus"?0:zs(v.props.delay,g?0:1,Ye.delay)}function D(g){g===void 0&&(g=!1),B.style.pointerEvents=v.props.interactive&&!g?"":"none",B.style.zIndex=""+v.props.zIndex}function q(g,M,F){if(F===void 0&&(F=!0),ft.forEach(function(ct){ct[g]&&ct[g].apply(ct,M)}),F){var ut;(ut=v.props)[g].apply(ut,M)}}function V(){var g=v.props.aria;if(g.content){var M="aria-"+g.content,F=B.id,ut=Pi(v.props.triggerTarget||t);ut.forEach(function(ct){var at=ct.getAttribute(M);if(v.state.isVisible)ct.setAttribute(M,at?at+" "+F:F);else{var W=at&&at.replace(F,"").trim();W?ct.setAttribute(M,W):ct.removeAttribute(M)}})}}function y(){if(!(Nt||!v.props.aria.expanded)){var g=Pi(v.props.triggerTarget||t);g.forEach(function(M){v.props.interactive?M.setAttribute("aria-expanded",v.state.isVisible&&M===Y()?"true":"false"):M.removeAttribute("aria-expanded")})}}function ot(){b().removeEventListener("mousemove",z),ro=ro.filter(function(g){return g!==z})}function lt(g){if(!(an.isTouch&&(d||g.type==="mousedown"))){var M=g.composedPath&&g.composedPath()[0]||g.target;if(!(v.props.interactive&&Yl(B,M))){if(Pi(v.props.triggerTarget||t).some(function(F){return Yl(F,M)})){if(an.isTouch||v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else q("onClickOutside",[v,g]);v.props.hideOnClick===!0&&(v.clearDelayTimeouts(),v.hide(),l=!0,setTimeout(function(){l=!1}),v.state.isMounted||st())}}}function G(){d=!0}function gt(){d=!1}function Lt(){var g=b();g.addEventListener("mousedown",lt,!0),g.addEventListener("touchend",lt,ri),g.addEventListener("touchstart",gt,ri),g.addEventListener("touchmove",G,ri)}function st(){var g=b();g.removeEventListener("mousedown",lt,!0),g.removeEventListener("touchend",lt,ri),g.removeEventListener("touchstart",gt,ri),g.removeEventListener("touchmove",G,ri)}function Ot(g,M){Gt(g,function(){!v.state.isVisible&&B.parentNode&&B.parentNode.contains(B)&&M()})}function Q(g,M){Gt(g,M)}function Gt(g,M){var F=P().box;function ut(ct){ct.target===F&&(Gs(F,"remove",ut),M())}if(g===0)return M();Gs(F,"remove",E),Gs(F,"add",ut),E=ut}function ve(g,M,F){F===void 0&&(F=!1);var ut=Pi(v.props.triggerTarget||t);ut.forEach(function(ct){ct.addEventListener(g,M,F),T.push({node:ct,eventType:g,handler:M,options:F})})}function Kt(){$t()&&(ve("touchstart",ee,{passive:!0}),ve("touchend",Le,{passive:!0})),nm(v.props.trigger).forEach(function(g){if(g!=="manual")switch(ve(g,ee),g){case"mouseenter":ve("mouseleave",Le);break;case"focus":ve(gm?"focusout":"blur",ne);break;case"focusin":ve("focusout",ne);break}})}function pn(){T.forEach(function(g){var M=g.node,F=g.eventType,ut=g.handler,ct=g.options;M.removeEventListener(F,ut,ct)}),T=[]}function ee(g){var M,F=!1;if(!(!v.state.isEnabled||tn(g)||l)){var ut=((M=h)==null?void 0:M.type)==="focus";h=g,j=g.currentTarget,y(),!v.state.isVisible&&sm(g)&&ro.forEach(function(ct){return ct(g)}),g.type==="click"&&(v.props.trigger.indexOf("mouseenter")<0||a)&&v.props.hideOnClick!==!1&&v.state.isVisible?F=!0:je(g),g.type==="click"&&(a=!F),F&&!ut&&Ve(g)}}function Ze(g){var M=g.target,F=Y().contains(M)||B.contains(M);if(!(g.type==="mousemove"&&F)){var ut=_e().concat(B).map(function(ct){var at,W=ct._tippy,X=(at=W.popperInstance)==null?void 0:at.state;return X?{popperRect:ct.getBoundingClientRect(),popperState:X,props:n}:null}).filter(Boolean);um(ut,g)&&(ot(),Ve(g))}}function Le(g){var M=tn(g)||v.props.trigger.indexOf("click")>=0&&a;if(!M){if(v.props.interactive){v.hideWithInteractivity(g);return}Ve(g)}}function ne(g){v.props.trigger.indexOf("focusin")<0&&g.target!==Y()||v.props.interactive&&g.relatedTarget&&B.contains(g.relatedTarget)||Ve(g)}function tn(g){return an.isTouch?$t()!==g.type.indexOf("touch")>=0:!1}function gn(){mn();var g=v.props,M=g.popperOptions,F=g.placement,ut=g.offset,ct=g.getReferenceClientRect,at=g.moveTransition,W=H()?va(B).arrow:null,X=ct?{getBoundingClientRect:ct,contextElement:ct.contextElement||Y()}:t,et={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(It){var Rt=It.state;if(H()){var Qt=P(),Ne=Qt.box;["placement","reference-hidden","escaped"].forEach(function(Dn){Dn==="placement"?Ne.setAttribute("data-placement",Rt.placement):Rt.attributes.popper["data-popper-"+Dn]?Ne.setAttribute("data-"+Dn,""):Ne.removeAttribute("data-"+Dn)}),Rt.attributes.popper={}}}},tt=[{name:"offset",options:{offset:ut}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!at}},et];H()&&W&&tt.push({name:"arrow",options:{element:W,padding:3}}),tt.push.apply(tt,(M==null?void 0:M.modifiers)||[]),v.popperInstance=Vo(X,B,Object.assign({},M,{placement:F,onFirstUpdate:m,modifiers:tt}))}function mn(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function fe(){var g=v.props.appendTo,M,F=Y();v.props.interactive&&g===Od||g==="parent"?M=F.parentNode:M=Nd(g,[F]),M.contains(B)||M.appendChild(B),v.state.isMounted=!0,gn()}function _e(){return Oo(B.querySelectorAll("[data-tippy-root]"))}function je(g){v.clearDelayTimeouts(),g&&q("onTrigger",[v,g]),Lt();var M=x(!0),F=xt(),ut=F[0],ct=F[1];an.isTouch&&ut==="hold"&&ct&&(M=ct),M?i=setTimeout(function(){v.show()},M):v.show()}function Ve(g){if(v.clearDelayTimeouts(),q("onUntrigger",[v,g]),!v.state.isVisible){st();return}if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(g.type)>=0&&a)){var M=x(!1);M?o=setTimeout(function(){v.state.isVisible&&v.hide()},M):s=requestAnimationFrame(function(){v.hide()})}}function Oe(){v.state.isEnabled=!0}function re(){v.hide(),v.state.isEnabled=!1}function vn(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(s)}function ie(g){if(!v.state.isDestroyed){q("onBeforeUpdate",[v,g]),pn();var M=v.props,F=Xl(t,Object.assign({},M,Ql(g),{ignoreAttributes:!0}));v.props=F,Kt(),M.interactiveDebounce!==F.interactiveDebounce&&(ot(),z=Vl(Ze,F.interactiveDebounce)),M.triggerTarget&&!F.triggerTarget?Pi(M.triggerTarget).forEach(function(ut){ut.removeAttribute("aria-expanded")}):F.triggerTarget&&t.removeAttribute("aria-expanded"),y(),D(),ht&&ht(M,F),v.popperInstance&&(gn(),_e().forEach(function(ut){requestAnimationFrame(ut._tippy.popperInstance.forceUpdate)})),q("onAfterUpdate",[v,g])}}function be(g){v.setProps({content:g})}function en(){var g=v.state.isVisible,M=v.state.isDestroyed,F=!v.state.isEnabled,ut=an.isTouch&&!v.props.touch,ct=zs(v.props.duration,0,Ye.duration);if(!(g||M||F||ut)&&!Y().hasAttribute("disabled")&&(q("onShow",[v],!1),v.props.onShow(v)!==!1)){if(v.state.isVisible=!0,H()&&(B.style.visibility="visible"),D(),Lt(),v.state.isMounted||(B.style.transition="none"),H()){var at=P(),W=at.box,X=at.content;Ws([W,X],0)}m=function(){var tt;if(!(!v.state.isVisible||p)){if(p=!0,B.offsetHeight,B.style.transition=v.props.moveTransition,H()&&v.props.animation){var yt=P(),It=yt.box,Rt=yt.content;Ws([It,Rt],ct),Kl([It,Rt],"visible")}V(),y(),Ul(js,v),(tt=v.popperInstance)==null||tt.forceUpdate(),q("onMount",[v]),v.props.animation&&H()&&Q(ct,function(){v.state.isShown=!0,q("onShown",[v])})}},fe()}}function Nn(){var g=!v.state.isVisible,M=v.state.isDestroyed,F=!v.state.isEnabled,ut=zs(v.props.duration,1,Ye.duration);if(!(g||M||F)&&(q("onHide",[v],!1),v.props.onHide(v)!==!1)){if(v.state.isVisible=!1,v.state.isShown=!1,p=!1,a=!1,H()&&(B.style.visibility="hidden"),ot(),st(),D(!0),H()){var ct=P(),at=ct.box,W=ct.content;v.props.animation&&(Ws([at,W],ut),Kl([at,W],"hidden"))}V(),y(),v.props.animation?H()&&Ot(ut,v.unmount):v.unmount()}}function Vn(g){b().addEventListener("mousemove",z),Ul(ro,z),z(g)}function w(){v.state.isVisible&&v.hide(),v.state.isMounted&&(mn(),_e().forEach(function(g){g._tippy.unmount()}),B.parentNode&&B.parentNode.removeChild(B),js=js.filter(function(g){return g!==v}),v.state.isMounted=!1,q("onHidden",[v]))}function S(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),pn(),delete t._tippy,v.state.isDestroyed=!0,q("onDestroy",[v]))}}function Cn(t,e){e===void 0&&(e={});var n=Ye.plugins.concat(e.plugins||[]);hm();var i=Object.assign({},e,{plugins:n}),o=cm(t),s=o.reduce(function(a,l){var d=l&&Em(l,i);return d&&a.push(d),a},[]);return Uo(t)?s[0]:s}Cn.defaultProps=Ye;Cn.setDefaultProps=bm;Cn.currentInput=an;Object.assign({},Wo,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});Cn.setDefaultProps({render:Id});/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Pn=new Map,Vs={set(t,e,n){Pn.has(t)||Pn.set(t,new Map);const i=Pn.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,n)},get(t,e){return Pn.has(t)&&Pn.get(t).get(e)||null},remove(t,e){if(!Pn.has(t))return;const n=Pn.get(t);n.delete(e),n.size===0&&Pn.delete(t)}},xm=1e6,Cm=1e3,_a="transitionend",$d=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),Tm=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Sm=t=>{do t+=Math.floor(Math.random()*xm);while(document.getElementById(t));return t},Mm=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),o=Number.parseFloat(n);return!i&&!o?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*Cm)},Pd=t=>{t.dispatchEvent(new Event(_a))},Tn=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Hn=t=>Tn(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector($d(t)):null,rr=t=>{if(!Tn(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const i=t.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return e},Fn=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Rd=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Rd(t.parentNode):null},No=()=>{},Dr=t=>{t.offsetHeight},Bd=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Us=[],Lm=t=>{document.readyState==="loading"?(Us.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Us)e()}),Us.push(t)):t()},Fe=()=>document.documentElement.dir==="rtl",Ge=t=>{Lm(()=>{const e=Bd();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}})},ge=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,Hd=(t,e,n=!0)=>{if(!n){ge(t);return}const o=Mm(e)+5;let s=!1;const a=({target:l})=>{l===e&&(s=!0,e.removeEventListener(_a,a),ge(t))};e.addEventListener(_a,a),setTimeout(()=>{s||Pd(e)},o)},ja=(t,e,n,i)=>{const o=t.length;let s=t.indexOf(e);return s===-1?!n&&i?t[o-1]:t[0]:(s+=n?1:-1,i&&(s=(s+o)%o),t[Math.max(0,Math.min(s,o-1))])},Om=/[^.]*(?=\..*)\.|.*/,Nm=/\..*/,Dm=/::\d+$/,Qs={};let tu=1;const Fd={mouseenter:"mouseover",mouseleave:"mouseout"},km=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function zd(t,e){return e&&`${e}::${tu++}`||t.uidEvent||tu++}function Wd(t){const e=zd(t);return t.uidEvent=e,Qs[e]=Qs[e]||{},Qs[e]}function Im(t,e){return function n(i){return Va(i,{delegateTarget:t}),n.oneOff&&R.off(t,i.type,e),e.apply(t,[i])}}function $m(t,e,n){return function i(o){const s=t.querySelectorAll(e);for(let{target:a}=o;a&&a!==this;a=a.parentNode)for(const l of s)if(l===a)return Va(o,{delegateTarget:a}),i.oneOff&&R.off(t,o.type,e,n),n.apply(a,[o])}}function Gd(t,e,n=null){return Object.values(t).find(i=>i.callable===e&&i.delegationSelector===n)}function jd(t,e,n){const i=typeof e=="string",o=i?n:e||n;let s=Vd(t);return km.has(s)||(s=t),[i,o,s]}function eu(t,e,n,i,o){if(typeof e!="string"||!t)return;let[s,a,l]=jd(e,n,i);e in Fd&&(a=(z=>function(j){if(!j.relatedTarget||j.relatedTarget!==j.delegateTarget&&!j.delegateTarget.contains(j.relatedTarget))return z.call(this,j)})(a));const d=Wd(t),p=d[l]||(d[l]={}),h=Gd(p,a,s?n:null);if(h){h.oneOff=h.oneOff&&o;return}const E=zd(a,e.replace(Om,"")),m=s?$m(t,n,a):Im(t,a);m.delegationSelector=s?n:null,m.callable=a,m.oneOff=o,m.uidEvent=E,p[E]=m,t.addEventListener(l,m,s)}function ba(t,e,n,i,o){const s=Gd(e[n],i,o);s&&(t.removeEventListener(n,s,!!o),delete e[n][s.uidEvent])}function Pm(t,e,n,i){const o=e[n]||{};for(const[s,a]of Object.entries(o))s.includes(i)&&ba(t,e,n,a.callable,a.delegationSelector)}function Vd(t){return t=t.replace(Nm,""),Fd[t]||t}const R={on(t,e,n,i){eu(t,e,n,i,!1)},one(t,e,n,i){eu(t,e,n,i,!0)},off(t,e,n,i){if(typeof e!="string"||!t)return;const[o,s,a]=jd(e,n,i),l=a!==e,d=Wd(t),p=d[a]||{},h=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(p).length)return;ba(t,d,a,s,o?n:null);return}if(h)for(const E of Object.keys(d))Pm(t,d,E,e.slice(1));for(const[E,m]of Object.entries(p)){const T=E.replace(Dm,"");(!l||e.includes(T))&&ba(t,d,a,m.callable,m.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const i=Bd(),o=Vd(e),s=e!==o;let a=null,l=!0,d=!0,p=!1;s&&i&&(a=i.Event(e,n),i(t).trigger(a),l=!a.isPropagationStopped(),d=!a.isImmediatePropagationStopped(),p=a.isDefaultPrevented());const h=Va(new Event(e,{bubbles:l,cancelable:!0}),n);return p&&h.preventDefault(),d&&t.dispatchEvent(h),h.defaultPrevented&&a&&a.preventDefault(),h}};function Va(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch{Object.defineProperty(t,n,{configurable:!0,get(){return i}})}return t}function nu(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Ks(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Sn={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Ks(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Ks(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let o=i.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=nu(t.dataset[i])}return e},getDataAttribute(t,e){return nu(t.getAttribute(`data-bs-${Ks(e)}`))}};class kr{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const i=Tn(n)?Sn.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...Tn(n)?Sn.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[i,o]of Object.entries(n)){const s=e[i],a=Tn(s)?"element":Tm(s);if(!new RegExp(o).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${o}".`)}}}const Rm="5.3.3";class Xe extends kr{constructor(e,n){super(),e=Hn(e),e&&(this._element=e,this._config=this._getConfig(n),Vs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Vs.remove(this._element,this.constructor.DATA_KEY),R.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){Hd(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Vs.get(Hn(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return Rm}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Ys=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>$d(n)).join(","):null},dt={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Fn(n)&&rr(n))},getSelectorFromElement(t){const e=Ys(t);return e&&dt.findOne(e)?e:null},getElementFromSelector(t){const e=Ys(t);return e?dt.findOne(e):null},getMultipleElementsFromSelector(t){const e=Ys(t);return e?dt.find(e):[]}},Qo=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;R.on(document,n,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Fn(this))return;const s=dt.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(s)[e]()})},Bm="alert",Hm="bs.alert",Ud=`.${Hm}`,Fm=`close${Ud}`,zm=`closed${Ud}`,Wm="fade",Gm="show";class Ko extends Xe{static get NAME(){return Bm}close(){if(R.trigger(this._element,Fm).defaultPrevented)return;this._element.classList.remove(Gm);const n=this._element.classList.contains(Wm);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),R.trigger(this._element,zm),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Ko.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Qo(Ko,"close");Ge(Ko);const jm="button",Vm="bs.button",Um=`.${Vm}`,Qm=".data-api",Km="active",iu='[data-bs-toggle="button"]',Ym=`click${Um}${Qm}`;class Yo extends Xe{static get NAME(){return jm}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Km))}static jQueryInterface(e){return this.each(function(){const n=Yo.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}R.on(document,Ym,iu,t=>{t.preventDefault();const e=t.target.closest(iu);Yo.getOrCreateInstance(e).toggle()});Ge(Yo);const qm="swipe",or=".bs.swipe",Xm=`touchstart${or}`,Jm=`touchmove${or}`,Zm=`touchend${or}`,tv=`pointerdown${or}`,ev=`pointerup${or}`,nv="touch",iv="pen",rv="pointer-event",ov=40,sv={endCallback:null,leftCallback:null,rightCallback:null},av={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Do extends kr{constructor(e,n){super(),this._element=e,!(!e||!Do.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return sv}static get DefaultType(){return av}static get NAME(){return qm}dispose(){R.off(this._element,or)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ge(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=ov)return;const n=e/this._deltaX;this._deltaX=0,n&&ge(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(R.on(this._element,tv,e=>this._start(e)),R.on(this._element,ev,e=>this._end(e)),this._element.classList.add(rv)):(R.on(this._element,Xm,e=>this._start(e)),R.on(this._element,Jm,e=>this._move(e)),R.on(this._element,Zm,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===iv||e.pointerType===nv)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const cv="carousel",lv="bs.carousel",Gn=`.${lv}`,Qd=".data-api",uv="ArrowLeft",dv="ArrowRight",fv=500,pr="next",ki="prev",Ri="left",Ao="right",hv=`slide${Gn}`,qs=`slid${Gn}`,pv=`keydown${Gn}`,gv=`mouseenter${Gn}`,mv=`mouseleave${Gn}`,vv=`dragstart${Gn}`,_v=`load${Gn}${Qd}`,bv=`click${Gn}${Qd}`,Kd="carousel",oo="active",yv="slide",Av="carousel-item-end",wv="carousel-item-start",Ev="carousel-item-next",xv="carousel-item-prev",Yd=".active",qd=".carousel-item",Cv=Yd+qd,Tv=".carousel-item img",Sv=".carousel-indicators",Mv="[data-bs-slide], [data-bs-slide-to]",Lv='[data-bs-ride="carousel"]',Ov={[uv]:Ao,[dv]:Ri},Nv={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Dv={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ir extends Xe{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=dt.findOne(Sv,this._element),this._addEventListeners(),this._config.ride===Kd&&this.cycle()}static get Default(){return Nv}static get DefaultType(){return Dv}static get NAME(){return cv}next(){this._slide(pr)}nextWhenVisible(){!document.hidden&&rr(this._element)&&this.next()}prev(){this._slide(ki)}pause(){this._isSliding&&Pd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){R.one(this._element,qs,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){R.one(this._element,qs,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const o=e>i?pr:ki;this._slide(o,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&R.on(this._element,pv,e=>this._keydown(e)),this._config.pause==="hover"&&(R.on(this._element,gv,()=>this.pause()),R.on(this._element,mv,()=>this._maybeEnableCycle())),this._config.touch&&Do.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of dt.find(Tv,this._element))R.on(i,vv,o=>o.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Ri)),rightCallback:()=>this._slide(this._directionToOrder(Ao)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),fv+this._config.interval))}};this._swipeHelper=new Do(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=Ov[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=dt.findOne(Yd,this._indicatorsElement);n.classList.remove(oo),n.removeAttribute("aria-current");const i=dt.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(oo),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const i=this._getActive(),o=e===pr,s=n||ja(this._getItems(),i,o,this._config.wrap);if(s===i)return;const a=this._getItemIndex(s),l=T=>R.trigger(this._element,T,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:a});if(l(hv).defaultPrevented||!i||!s)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const h=o?wv:Av,E=o?Ev:xv;s.classList.add(E),Dr(s),i.classList.add(h),s.classList.add(h);const m=()=>{s.classList.remove(h,E),s.classList.add(oo),i.classList.remove(oo,E,h),this._isSliding=!1,l(qs)};this._queueCallback(m,i,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(yv)}_getActive(){return dt.findOne(Cv,this._element)}_getItems(){return dt.find(qd,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Fe()?e===Ri?ki:pr:e===Ri?pr:ki}_orderToDirection(e){return Fe()?e===ki?Ri:Ao:e===ki?Ao:Ri}static jQueryInterface(e){return this.each(function(){const n=Ir.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}R.on(document,bv,Mv,function(t){const e=dt.getElementFromSelector(this);if(!e||!e.classList.contains(Kd))return;t.preventDefault();const n=Ir.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(Sn.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});R.on(window,_v,()=>{const t=dt.find(Lv);for(const e of t)Ir.getOrCreateInstance(e)});Ge(Ir);const kv="collapse",Iv="bs.collapse",$r=`.${Iv}`,$v=".data-api",Pv=`show${$r}`,Rv=`shown${$r}`,Bv=`hide${$r}`,Hv=`hidden${$r}`,Fv=`click${$r}${$v}`,Xs="show",Fi="collapse",so="collapsing",zv="collapsed",Wv=`:scope .${Fi} .${Fi}`,Gv="collapse-horizontal",jv="width",Vv="height",Uv=".collapse.show, .collapse.collapsing",ya='[data-bs-toggle="collapse"]',Qv={parent:null,toggle:!0},Kv={parent:"(null|element)",toggle:"boolean"};class Er extends Xe{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const i=dt.find(ya);for(const o of i){const s=dt.getSelectorFromElement(o),a=dt.find(s).filter(l=>l===this._element);s!==null&&a.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Qv}static get DefaultType(){return Kv}static get NAME(){return kv}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Uv).filter(l=>l!==this._element).map(l=>Er.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||R.trigger(this._element,Pv).defaultPrevented)return;for(const l of e)l.hide();const i=this._getDimension();this._element.classList.remove(Fi),this._element.classList.add(so),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(so),this._element.classList.add(Fi,Xs),this._element.style[i]="",R.trigger(this._element,Rv)},a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||R.trigger(this._element,Bv).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Dr(this._element),this._element.classList.add(so),this._element.classList.remove(Fi,Xs);for(const o of this._triggerArray){const s=dt.getElementFromSelector(o);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(so),this._element.classList.add(Fi),R.trigger(this._element,Hv)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Xs)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Hn(e.parent),e}_getDimension(){return this._element.classList.contains(Gv)?jv:Vv}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ya);for(const n of e){const i=dt.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(e){const n=dt.find(Wv,this._config.parent);return dt.find(e,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const i of e)i.classList.toggle(zv,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const i=Er.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}R.on(document,Fv,ya,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of dt.getMultipleElementsFromSelector(this))Er.getOrCreateInstance(e,{toggle:!1}).toggle()});Ge(Er);const ru="dropdown",Yv="bs.dropdown",mi=`.${Yv}`,Ua=".data-api",qv="Escape",ou="Tab",Xv="ArrowUp",su="ArrowDown",Jv=2,Zv=`hide${mi}`,t_=`hidden${mi}`,e_=`show${mi}`,n_=`shown${mi}`,Xd=`click${mi}${Ua}`,Jd=`keydown${mi}${Ua}`,i_=`keyup${mi}${Ua}`,Bi="show",r_="dropup",o_="dropend",s_="dropstart",a_="dropup-center",c_="dropdown-center",oi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',l_=`${oi}.${Bi}`,wo=".dropdown-menu",u_=".navbar",d_=".navbar-nav",f_=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",h_=Fe()?"top-end":"top-start",p_=Fe()?"top-start":"top-end",g_=Fe()?"bottom-end":"bottom-start",m_=Fe()?"bottom-start":"bottom-end",v_=Fe()?"left-start":"right-start",__=Fe()?"right-start":"left-start",b_="top",y_="bottom",A_={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},w_={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class un extends Xe{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=dt.next(this._element,wo)[0]||dt.prev(this._element,wo)[0]||dt.findOne(wo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return A_}static get DefaultType(){return w_}static get NAME(){return ru}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Fn(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!R.trigger(this._element,e_,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(d_))for(const i of[].concat(...document.body.children))R.on(i,"mouseover",No);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bi),this._element.classList.add(Bi),R.trigger(this._element,n_,e)}}hide(){if(Fn(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!R.trigger(this._element,Zv,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))R.off(i,"mouseover",No);this._popper&&this._popper.destroy(),this._menu.classList.remove(Bi),this._element.classList.remove(Bi),this._element.setAttribute("aria-expanded","false"),Sn.removeDataAttribute(this._menu,"popper"),R.trigger(this._element,t_,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Tn(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${ru.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Td>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Tn(this._config.reference)?e=Hn(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Vo(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Bi)}_getPlacement(){const e=this._parent;if(e.classList.contains(o_))return v_;if(e.classList.contains(s_))return __;if(e.classList.contains(a_))return b_;if(e.classList.contains(c_))return y_;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(r_)?n?p_:h_:n?m_:g_}_detectNavbar(){return this._element.closest(u_)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Sn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...ge(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const i=dt.find(f_,this._menu).filter(o=>rr(o));i.length&&ja(i,n,e===su,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=un.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===Jv||e.type==="keyup"&&e.key!==ou)return;const n=dt.find(l_);for(const i of n){const o=un.getInstance(i);if(!o||o._config.autoClose===!1)continue;const s=e.composedPath(),a=s.includes(o._menu);if(s.includes(o._element)||o._config.autoClose==="inside"&&!a||o._config.autoClose==="outside"&&a||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===ou||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:o._element};e.type==="click"&&(l.clickEvent=e),o._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),i=e.key===qv,o=[Xv,su].includes(e.key);if(!o&&!i||n&&!i)return;e.preventDefault();const s=this.matches(oi)?this:dt.prev(this,oi)[0]||dt.next(this,oi)[0]||dt.findOne(oi,e.delegateTarget.parentNode),a=un.getOrCreateInstance(s);if(o){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}}R.on(document,Jd,oi,un.dataApiKeydownHandler);R.on(document,Jd,wo,un.dataApiKeydownHandler);R.on(document,Xd,un.clearMenus);R.on(document,i_,un.clearMenus);R.on(document,Xd,oi,function(t){t.preventDefault(),un.getOrCreateInstance(this).toggle()});Ge(un);const Zd="backdrop",E_="fade",au="show",cu=`mousedown.bs.${Zd}`,x_={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},C_={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class tf extends kr{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return x_}static get DefaultType(){return C_}static get NAME(){return Zd}show(e){if(!this._config.isVisible){ge(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Dr(n),n.classList.add(au),this._emulateAnimation(()=>{ge(e)})}hide(e){if(!this._config.isVisible){ge(e);return}this._getElement().classList.remove(au),this._emulateAnimation(()=>{this.dispose(),ge(e)})}dispose(){this._isAppended&&(R.off(this._element,cu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(E_),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Hn(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),R.on(e,cu,()=>{ge(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Hd(e,this._getElement(),this._config.isAnimated)}}const T_="focustrap",S_="bs.focustrap",ko=`.${S_}`,M_=`focusin${ko}`,L_=`keydown.tab${ko}`,O_="Tab",N_="forward",lu="backward",D_={autofocus:!0,trapElement:null},k_={autofocus:"boolean",trapElement:"element"};class ef extends kr{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return D_}static get DefaultType(){return k_}static get NAME(){return T_}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),R.off(document,ko),R.on(document,M_,e=>this._handleFocusin(e)),R.on(document,L_,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,R.off(document,ko))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const i=dt.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===lu?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===O_&&(this._lastTabNavDirection=e.shiftKey?lu:N_)}}const uu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",du=".sticky-top",ao="padding-right",fu="margin-right";class Aa{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ao,n=>n+e),this._setElementAttributes(uu,ao,n=>n+e),this._setElementAttributes(du,fu,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ao),this._resetElementAttributes(uu,ao),this._resetElementAttributes(du,fu)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,i){const o=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+o)return;this._saveInitialAttribute(a,n);const l=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${i(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&Sn.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){const i=o=>{const s=Sn.getDataAttribute(o,n);if(s===null){o.style.removeProperty(n);return}Sn.removeDataAttribute(o,n),o.style.setProperty(n,s)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,n){if(Tn(e)){n(e);return}for(const i of dt.find(e,this._element))n(i)}}const I_="modal",$_="bs.modal",ze=`.${$_}`,P_=".data-api",R_="Escape",B_=`hide${ze}`,H_=`hidePrevented${ze}`,nf=`hidden${ze}`,rf=`show${ze}`,F_=`shown${ze}`,z_=`resize${ze}`,W_=`click.dismiss${ze}`,G_=`mousedown.dismiss${ze}`,j_=`keydown.dismiss${ze}`,V_=`click${ze}${P_}`,hu="modal-open",U_="fade",pu="show",Js="modal-static",Q_=".modal.show",K_=".modal-dialog",Y_=".modal-body",q_='[data-bs-toggle="modal"]',X_={backdrop:!0,focus:!0,keyboard:!0},J_={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Zi extends Xe{constructor(e,n){super(e,n),this._dialog=dt.findOne(K_,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Aa,this._addEventListeners()}static get Default(){return X_}static get DefaultType(){return J_}static get NAME(){return I_}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||R.trigger(this._element,rf,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(hu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||R.trigger(this._element,B_).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(pu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){R.off(window,ze),R.off(this._dialog,ze),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new tf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ef({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=dt.findOne(Y_,this._dialog);n&&(n.scrollTop=0),Dr(this._element),this._element.classList.add(pu);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,R.trigger(this._element,F_,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){R.on(this._element,j_,e=>{if(e.key===R_){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),R.on(window,z_,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),R.on(this._element,G_,e=>{R.one(this._element,W_,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(hu),this._resetAdjustments(),this._scrollBar.reset(),R.trigger(this._element,nf)})}_isAnimated(){return this._element.classList.contains(U_)}_triggerBackdropTransition(){if(R.trigger(this._element,H_).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Js)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Js),this._queueCallback(()=>{this._element.classList.remove(Js),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!e){const o=Fe()?"paddingLeft":"paddingRight";this._element.style[o]=`${n}px`}if(!i&&e){const o=Fe()?"paddingRight":"paddingLeft";this._element.style[o]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const i=Zi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](n)}})}}R.on(document,V_,q_,function(t){const e=dt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),R.one(e,rf,o=>{o.defaultPrevented||R.one(e,nf,()=>{rr(this)&&this.focus()})});const n=dt.findOne(Q_);n&&Zi.getInstance(n).hide(),Zi.getOrCreateInstance(e).toggle(this)});Qo(Zi);Ge(Zi);const Z_="offcanvas",tb="bs.offcanvas",On=`.${tb}`,of=".data-api",eb=`load${On}${of}`,nb="Escape",gu="show",mu="showing",vu="hiding",ib="offcanvas-backdrop",sf=".offcanvas.show",rb=`show${On}`,ob=`shown${On}`,sb=`hide${On}`,_u=`hidePrevented${On}`,af=`hidden${On}`,ab=`resize${On}`,cb=`click${On}${of}`,lb=`keydown.dismiss${On}`,ub='[data-bs-toggle="offcanvas"]',db={backdrop:!0,keyboard:!0,scroll:!1},fb={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class zn extends Xe{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return db}static get DefaultType(){return fb}static get NAME(){return Z_}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||R.trigger(this._element,rb,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Aa().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(mu);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(gu),this._element.classList.remove(mu),R.trigger(this._element,ob,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||R.trigger(this._element,sb).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(vu),this._backdrop.hide();const n=()=>{this._element.classList.remove(gu,vu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Aa().reset(),R.trigger(this._element,af)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){R.trigger(this._element,_u);return}this.hide()},n=!!this._config.backdrop;return new tf({className:ib,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new ef({trapElement:this._element})}_addEventListeners(){R.on(this._element,lb,e=>{if(e.key===nb){if(this._config.keyboard){this.hide();return}R.trigger(this._element,_u)}})}static jQueryInterface(e){return this.each(function(){const n=zn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}R.on(document,cb,ub,function(t){const e=dt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Fn(this))return;R.one(e,af,()=>{rr(this)&&this.focus()});const n=dt.findOne(sf);n&&n!==e&&zn.getInstance(n).hide(),zn.getOrCreateInstance(e).toggle(this)});R.on(window,eb,()=>{for(const t of dt.find(sf))zn.getOrCreateInstance(t).show()});R.on(window,ab,()=>{for(const t of dt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&zn.getOrCreateInstance(t).hide()});Qo(zn);Ge(zn);const hb=/^aria-[\w-]*$/i,cf={"*":["class","dir","id","lang","role",hb],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},pb=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),gb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,mb=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?pb.has(n)?!!gb.test(t.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function vb(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const o=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...o.body.querySelectorAll("*"));for(const a of s){const l=a.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){a.remove();continue}const d=[].concat(...a.attributes),p=[].concat(e["*"]||[],e[l]||[]);for(const h of d)mb(h,p)||a.removeAttribute(h.nodeName)}return o.body.innerHTML}const _b="TemplateFactory",bb={allowList:cf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},yb={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ab={entry:"(string|element|function|null)",selector:"(string|element)"};class wb extends kr{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return bb}static get DefaultType(){return yb}static get NAME(){return _b}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,s]of Object.entries(this._config.content))this._setContent(e,s,o);const n=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,i]of Object.entries(e))super._typeCheckConfig({selector:n,entry:i},Ab)}_setContent(e,n,i){const o=dt.findOne(i,e);if(o){if(n=this._resolvePossibleFunction(n),!n){o.remove();return}if(Tn(n)){this._putElementInTemplate(Hn(n),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(n);return}o.textContent=n}}_maybeSanitize(e){return this._config.sanitize?vb(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ge(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const Eb="tooltip",xb=new Set(["sanitize","allowList","sanitizeFn"]),Zs="fade",Cb="modal",co="show",Tb=".tooltip-inner",bu=`.${Cb}`,yu="hide.bs.modal",gr="hover",ta="focus",Sb="click",Mb="manual",Lb="hide",Ob="hidden",Nb="show",Db="shown",kb="inserted",Ib="click",$b="focusin",Pb="focusout",Rb="mouseenter",Bb="mouseleave",Hb={AUTO:"auto",TOP:"top",RIGHT:Fe()?"left":"right",BOTTOM:"bottom",LEFT:Fe()?"right":"left"},Fb={allowList:cf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},zb={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class sr extends Xe{constructor(e,n){if(typeof Td>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Fb}static get DefaultType(){return zb}static get NAME(){return Eb}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),R.off(this._element.closest(bu),yu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=R.trigger(this._element,this.constructor.eventName(Nb)),i=(Rd(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(o),R.trigger(this._element,this.constructor.eventName(kb))),this._popper=this._createPopper(o),o.classList.add(co),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))R.on(l,"mouseover",No);const a=()=>{R.trigger(this._element,this.constructor.eventName(Db)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||R.trigger(this._element,this.constructor.eventName(Lb)).defaultPrevented)return;if(this._getTipElement().classList.remove(co),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))R.off(o,"mouseover",No);this._activeTrigger[Sb]=!1,this._activeTrigger[ta]=!1,this._activeTrigger[gr]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),R.trigger(this._element,this.constructor.eventName(Ob)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Zs,co),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=Sm(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(Zs),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new wb({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Tb]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Zs)}_isShown(){return this.tip&&this.tip.classList.contains(co)}_createPopper(e){const n=ge(this._config.placement,[this,e,this._element]),i=Hb[n.toUpperCase()];return Vo(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return ge(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...ge(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")R.on(this._element,this.constructor.eventName(Ib),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==Mb){const i=n===gr?this.constructor.eventName(Rb):this.constructor.eventName($b),o=n===gr?this.constructor.eventName(Bb):this.constructor.eventName(Pb);R.on(this._element,i,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?ta:gr]=!0,a._enter()}),R.on(this._element,o,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?ta:gr]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},R.on(this._element.closest(bu),yu,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Sn.getDataAttributes(this._element);for(const i of Object.keys(n))xb.has(i)&&delete n[i];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Hn(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(e[n]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=sr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ge(sr);const Wb="popover",Gb=".popover-header",jb=".popover-body",Vb={...sr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ub={...sr.DefaultType,content:"(null|string|element|function)"};class qo extends sr{static get Default(){return Vb}static get DefaultType(){return Ub}static get NAME(){return Wb}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Gb]:this._getTitle(),[jb]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=qo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ge(qo);const Qb="scrollspy",Kb="bs.scrollspy",Qa=`.${Kb}`,Yb=".data-api",qb=`activate${Qa}`,Au=`click${Qa}`,Xb=`load${Qa}${Yb}`,Jb="dropdown-item",Ii="active",Zb='[data-bs-spy="scroll"]',ea="[href]",ty=".nav, .list-group",wu=".nav-link",ey=".nav-item",ny=".list-group-item",iy=`${wu}, ${ey} > ${wu}, ${ny}`,ry=".dropdown",oy=".dropdown-toggle",sy={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ay={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Xo extends Xe{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return sy}static get DefaultType(){return ay}static get NAME(){return Qb}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Hn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(R.off(this._config.target,Au),R.on(this._config.target,Au,ea,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const i=this._rootElement||window,o=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:o,behavior:"smooth"});return}i.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},o=(this._rootElement||document.documentElement).scrollTop,s=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const l=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&l){if(i(a),!o)return;continue}!s&&!l&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=dt.find(ea,this._config.target);for(const n of e){if(!n.hash||Fn(n))continue;const i=dt.findOne(decodeURI(n.hash),this._element);rr(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ii),this._activateParents(e),R.trigger(this._element,qb,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Jb)){dt.findOne(oy,e.closest(ry)).classList.add(Ii);return}for(const n of dt.parents(e,ty))for(const i of dt.prev(n,iy))i.classList.add(Ii)}_clearActiveClass(e){e.classList.remove(Ii);const n=dt.find(`${ea}.${Ii}`,e);for(const i of n)i.classList.remove(Ii)}static jQueryInterface(e){return this.each(function(){const n=Xo.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}R.on(window,Xb,()=>{for(const t of dt.find(Zb))Xo.getOrCreateInstance(t)});Ge(Xo);const cy="tab",ly="bs.tab",vi=`.${ly}`,uy=`hide${vi}`,dy=`hidden${vi}`,fy=`show${vi}`,hy=`shown${vi}`,py=`click${vi}`,gy=`keydown${vi}`,my=`load${vi}`,vy="ArrowLeft",Eu="ArrowRight",_y="ArrowUp",xu="ArrowDown",na="Home",Cu="End",si="active",Tu="fade",ia="show",by="dropdown",lf=".dropdown-toggle",yy=".dropdown-menu",ra=`:not(${lf})`,Ay='.list-group, .nav, [role="tablist"]',wy=".nav-item, .list-group-item",Ey=`.nav-link${ra}, .list-group-item${ra}, [role="tab"]${ra}`,uf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',oa=`${Ey}, ${uf}`,xy=`.${si}[data-bs-toggle="tab"], .${si}[data-bs-toggle="pill"], .${si}[data-bs-toggle="list"]`;class tr extends Xe{constructor(e){super(e),this._parent=this._element.closest(Ay),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),R.on(this._element,gy,n=>this._keydown(n)))}static get NAME(){return cy}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),i=n?R.trigger(n,uy,{relatedTarget:e}):null;R.trigger(e,fy,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(si),this._activate(dt.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(ia);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),R.trigger(e,hy,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(Tu))}_deactivate(e,n){if(!e)return;e.classList.remove(si),e.blur(),this._deactivate(dt.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(ia);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),R.trigger(e,dy,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(Tu))}_keydown(e){if(![vy,Eu,_y,xu,na,Cu].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(o=>!Fn(o));let i;if([na,Cu].includes(e.key))i=n[e.key===na?0:n.length-1];else{const o=[Eu,xu].includes(e.key);i=ja(n,e.target,o,!0)}i&&(i.focus({preventScroll:!0}),tr.getOrCreateInstance(i).show())}_getChildren(){return dt.find(oa,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",n),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=dt.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const i=this._getOuterElement(e);if(!i.classList.contains(by))return;const o=(s,a)=>{const l=dt.findOne(s,i);l&&l.classList.toggle(a,n)};o(lf,si),o(yy,ia),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,i){e.hasAttribute(n)||e.setAttribute(n,i)}_elemIsActive(e){return e.classList.contains(si)}_getInnerElement(e){return e.matches(oa)?e:dt.findOne(oa,e)}_getOuterElement(e){return e.closest(wy)||e}static jQueryInterface(e){return this.each(function(){const n=tr.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}R.on(document,py,uf,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Fn(this)&&tr.getOrCreateInstance(this).show()});R.on(window,my,()=>{for(const t of dt.find(xy))tr.getOrCreateInstance(t)});Ge(tr);const Cy="toast",Ty="bs.toast",jn=`.${Ty}`,Sy=`mouseover${jn}`,My=`mouseout${jn}`,Ly=`focusin${jn}`,Oy=`focusout${jn}`,Ny=`hide${jn}`,Dy=`hidden${jn}`,ky=`show${jn}`,Iy=`shown${jn}`,$y="fade",Su="hide",lo="show",uo="showing",Py={animation:"boolean",autohide:"boolean",delay:"number"},Ry={animation:!0,autohide:!0,delay:5e3};class Pr extends Xe{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ry}static get DefaultType(){return Py}static get NAME(){return Cy}show(){if(R.trigger(this._element,ky).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add($y);const n=()=>{this._element.classList.remove(uo),R.trigger(this._element,Iy),this._maybeScheduleHide()};this._element.classList.remove(Su),Dr(this._element),this._element.classList.add(lo,uo),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||R.trigger(this._element,Ny).defaultPrevented)return;const n=()=>{this._element.classList.add(Su),this._element.classList.remove(uo,lo),R.trigger(this._element,Dy)};this._element.classList.add(uo),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lo),super.dispose()}isShown(){return this._element.classList.contains(lo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){R.on(this._element,Sy,e=>this._onInteraction(e,!0)),R.on(this._element,My,e=>this._onInteraction(e,!1)),R.on(this._element,Ly,e=>this._onInteraction(e,!0)),R.on(this._element,Oy,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Pr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Qo(Pr);Ge(Pr);const sa=new Map,aa=[],fo={str:"力量",dex:"敏捷",con:"体质",int:"智力",siz:"体型",app:"魅力",armor:"护甲",piercing:"穿刺"},By={str:"影响具有力量系数的动作。大部分的攻击动作都具有力量系数。",dex:"影响具有敏捷系数的动作，一部分迅捷的攻击动作，以及大部分闪避动作都具有敏捷系数。",con:"影响具有体质系数的动作，同时影响生命值上限和自然回复生命值的速度。",int:"影响具有智力系数的动作。",siz:"影响具有体型系数的动作。",app:"暂时没用",armor:"护甲值决定对伤害的减免程度。",piercing:"穿刺值决定攻击时无视目标护甲的能力。"},Hy={body:"防具",hand:"武器",foot:"鞋子",accessory:"饰品"},Mu=["armor","piercing"];function Fy(){if(document.getElementById("game-animation-styles"))return;const t=document.createElement("style");t.id="game-animation-styles",t.textContent=`
    @keyframes attribute-plus-animation {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.5); opacity: 1; }
      100% { transform: scale(1); opacity: 0.8; }
    }

    .attribute-plus-animation {
      animation: attribute-plus-animation 0.5s ease-out;
    }

    @keyframes point-spent-animation {
      0% { opacity: 0; transform: translateY(10px); }
      50% { opacity: 1; transform: translateY(-5px); }
      100% { opacity: 0; transform: translateY(-20px); }
    }

    .point-spent-indicator {
      position: absolute;
      color: #0dcaf0;
      font-weight: bold;
      font-size: 1.2em;
      pointer-events: none;
      z-index: 100;
      animation: point-spent-animation 1s ease-out forwards;
    }
  `,document.head.appendChild(t)}function Hi(t){var n;Fy(),sa.forEach(i=>{i.forEach(o=>o.destroy())}),sa.clear(),aa.forEach(i=>i.destroy()),aa.length=0;const e=Me();e.innerHTML=`
    <div class="container mt-4">
      <h2 class="text-center mb-4">状态</h2>

      <div class="row">
        <!-- 属性栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white d-flex justify-content-between align-items-center">
              <h4 class="card-title mb-0">${t.name} 的属性</h4>
              <div>
                <span class="badge bg-primary">可用加点: <span id="available-points">${t.plusAbilityPoint}</span></span>
              </div>
            </div>
            <div class="card-body">
              <div id="attribute-bar" class="list-group list-group-flush">
                ${(()=>{const i=t.getAbility(),o=t.getExtraAbility();return Object.entries(i).map(([s,a])=>{const l=o[s]||0,d=t.plusAbility[s]||0;let p="";l>0?p=`<span class="badge bg-success ms-1">+${l}</span>`:l<0&&(p=`<span class="badge bg-danger ms-1">${l}</span>`);let h="";d>0&&(h=`<span class="badge bg-info ms-1">+${d}</span>`);const E=!Mu.includes(s)&&t.plusAbilityPoint>0?`<button class="btn btn-sm btn-outline-primary plus-btn" data-attribute="${s}">+</button>`:"";return`
                      <div class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-bold">${fo[s]||s}</span>
                        <div class="d-flex align-items-center">
                          <span class="text-muted me-2">${a}</span>
                          ${p}
                          ${h}
                          ${E}
                        </div>
                      </div>
                    `}).join("")})()}
              </div>
            </div>
          </div>
        </div>

        <!-- 行动列表区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${t.name} 的行动列表</h4>
            </div>
            <div class="card-body">
              <!-- Tab 导航 -->
              <ul class="nav nav-underline mb-3" id="actionTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="extra-tab" data-bs-toggle="tab" data-bs-target="#extra-actions" type="button" role="tab" aria-controls="extra-actions" aria-selected="true">
                    装备额外行动
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="base-tab" data-bs-toggle="tab" data-bs-target="#base-actions" type="button" role="tab" aria-controls="base-actions" aria-selected="false">
                    基础行动
                  </button>
                </li>
              </ul>
              <!-- Tab 内容 -->
              <div class="tab-content" id="actionTabContent">
                <!-- 装备额外行动列表（默认激活） -->
                <div class="tab-pane fade show active" id="extra-actions" role="tabpanel" aria-labelledby="extra-tab">
                  <ul class="list-group">
                    ${t.getExtraActions().sort((i,o)=>Yt[o.actionType].rarity-Yt[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Yt[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Dl(t,Yt[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Yt[i.actionType].name}</span>
                            <span class="badge bg-${L[Yt[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
                <!-- 基础行动列表 -->
                <div class="tab-pane fade" id="base-actions" role="tabpanel" aria-labelledby="base-tab">
                  <ul class="list-group">
                    ${t.actions.sort((i,o)=>Yt[o.actionType].rarity-Yt[i.actionType].rarity).map(i=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${Yt[i.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Dl(t,Yt[i.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${Yt[i.actionType].name}</span>
                            <span class="badge bg-${L[Yt[i.actionType].rarity]}">
                              ${i.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 装备栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的装备</h4>
            </div>
            <div class="card-body">
              <div id="equipment-bar" class="list-group">
                ${Object.entries(t.equipments).map(([i,o])=>`
                  <div id="equipment-slot-${i}" class="list-group-item">
                    <div class="d-flex align-items-center gap-2">
                      <span class="fw-bold">${Hy[i]||i}</span>
                      ${o?`<span id="equipment-slot-${i}" class="badge bg-${L[o.rarity]}">${o.name}</span>`:'<span class="badge bg-secondary">空</span>'}
                    </div>
                  </div>
                `).join("")}
              </div>
            </div>
          </div>
        </div>

      <!-- 背包区域 -->
      <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
          <div class="card-header bg-secondary text-white">
            <h4 class="card-title mb-0">${t.name} 的背包</h4>
          </div>
          <div class="card-body">
            <!-- Tab 导航 -->
            <ul class="nav nav-underline mb-3" id="packTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab" aria-controls="all" aria-selected="true">
                  全部
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="equip-tab" data-bs-toggle="tab" data-bs-target="#equip" type="button" role="tab" aria-controls="equip" aria-selected="false">
                  装备
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="consumable-tab" data-bs-toggle="tab" data-bs-target="#consumable" type="button" role="tab" aria-controls="consumable" aria-selected="false">
                  消耗品
                </button>
              </li>
            </ul>
            <!-- Tab 内容 -->
            <div class="tab-content" id="packTabContent">
              <!-- 全部标签 -->
              <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                <div id="pack-all" class="d-flex flex-wrap gap-2">
                  ${t.pack.length>0?t.pack.sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${L[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Fs(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">背包为空</p>'}
                </div>
              </div>
              <!-- 装备标签 -->
              <div class="tab-pane fade" id="equip" role="tabpanel" aria-labelledby="equip-tab">
                <div id="pack-equip" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof xn).length>0?t.pack.filter(i=>i instanceof xn).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${L[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Fs(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有装备</p>'}
                </div>
              </div>
              <!-- 道具标签 -->
              <div class="tab-pane fade" id="consumable" role="tabpanel" aria-labelledby="consumable-tab">
                <div id="pack-consumable" class="d-flex flex-wrap gap-2">
                  ${t.pack.filter(i=>i instanceof Be).length>0?t.pack.filter(i=>i instanceof Be).sort((i,o)=>o.rarity-i.rarity).map(i=>{const o=`btn-${L[i.rarity]}`;return`<button id="use-btn${i.uuid}" class="btn ${o}">
                              ${Fs(i)}${i.name}
                            </button>`}).join(""):'<p class="text-muted">没有道具</p>'}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 宠物区域 -->
      <div class="row mb-4">
        <div class="col">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${t.name} 的宠物</h4>
            </div>
            <div class="card-body">
              <div id="pet" class="list-group">
                ${t.capturedMonster.length>0?t.capturedMonster.map(i=>`
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                          <span class="fw-bold">${i.name}</span>
                          <span class="text-muted">Lv. ${i.level}</span>
                        </div>
                      `).join(""):'<p class="text-muted">暂无宠物</p>'}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 返回主菜单按钮 -->
      <div class="text-center">
        <button id="back-btn" class="btn btn-primary">返回主菜单</button>
      </div>
    </div>
  `,(n=document.getElementById("back-btn"))==null||n.addEventListener("click",()=>{qe(t)}),document.querySelectorAll(".plus-btn").forEach(i=>{i.addEventListener("click",o=>{const s=o.currentTarget.getAttribute("data-attribute"),a=o.currentTarget;if(t.plusAbilityPoint>0&&!Mu.includes(s)){a.classList.add("attribute-plus-animation"),setTimeout(()=>{a.classList.remove("attribute-plus-animation")},500);const l=document.createElement("div");l.className="point-spent-indicator",l.textContent=`+1 ${fo[s]}`;const d=a.getBoundingClientRect();if(l.style.left=`${d.left}px`,l.style.top=`${d.top}px`,document.body.appendChild(l),setTimeout(()=>{l.parentNode&&l.parentNode.removeChild(l)},1e3),t.plusAbilityPoint--,t.plusAbility[s]++,s==="con"||s==="siz"){const p=t.getMaxHealth(),h=t.getAbility().con*10+t.getAbility().siz*5;t.recoverHp(h-p)}cn(t),Hi(t)}})});for(const i of t.pack){const o=Pl(i),s=document.querySelectorAll(`[id="use-btn${i.uuid}"]`),a=[];sa.set(i.uuid,a),s.forEach(l=>{const d=Cn(l,{theme:"game",content:`
          ${o}
          <button id="use-btn${i.uuid}" class="btn btn-success">
            ${i instanceof Be?"使用":"装备"}
          </button>
          <button id="discard-btn${i.uuid}" class="btn btn-danger">
            丢弃
          </button>
        `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(p){const h=p.popper.querySelector(`#use-btn${i.uuid}`);h&&h.addEventListener("click",m=>{m.stopPropagation(),p.hide(),i instanceof Be?(i.useItem(t),t.addLog(`${t.name} 使用了 ${i.name}`),cn(t),Hi(t)):i instanceof xn&&(t.wearEquipment(i),cn(t),Hi(t))});const E=p.popper.querySelector(`#discard-btn${i.uuid}`);E&&E.addEventListener("click",m=>{m.stopPropagation(),p.hide(),t.discardItem(i),cn(t),Hi(t)})}});a.push(d)})}for(const[i,o]of Object.entries(t.equipments)){if(!o)continue;const s=Pl(o),a=document.getElementById(`equipment-slot-${i}`);a&&Cn(a,{theme:"game",content:`
        ${s}
        <button id="remove-btn${o.uuid}" class="btn btn-primary">
          卸下
        </button>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(l){const d=l.popper.querySelector(`#remove-btn${o.uuid}`);d&&d.addEventListener("click",p=>{p.stopPropagation(),l.hide(),t.removeEquipment(i),cn(t),Hi(t)})}})}setTimeout(()=>{document.querySelectorAll("#attribute-bar .list-group-item").forEach(o=>{var h;const s=o.querySelector(".fw-bold");if(!s)return;const a=((h=s.textContent)==null?void 0:h.trim())||"",l=Object.keys(fo).find(E=>fo[E]===a)||a,d=By[l]||"暂无描述",p=Cn(o,{content:`<div class="p-2">${d}</div>`,allowHTML:!0,theme:"game",placement:"top",interactive:!0,trigger:"click",hideOnClick:!0});aa.push(p)})},100),document.querySelectorAll('[data-bs-toggle="popover"]').forEach(i=>{new qo(i)})}var Mt=(t=>(t.NormalMonster="NormalMonster",t.EliteMonster="EliteMonster",t.Boss="Boss",t.Empty="Empty",t.Treasure="Treasure",t.Camp="Camp",t.BackHome="BackHome",t.Rest="Rest",t.Event="Event",t.ToOtherRegion="ToOtherRegion",t))(Mt||{});const zy="/isekai114514/assets/centerMarshForest-CZsIewvx.png",Wy="/isekai114514/assets/eastMarshForest-DEJLafun.png",Gy={name:"风和日丽的森林",id:"eastMarshForestStart",description:"还没做地图",type:Mt.Camp,position:{x:340,y:900},toNodeList:[]},df={name:"池沼森林东部 风和日丽的森林",id:"eastMarshForest",description:"池沼森林东部 风和日丽的森林",isOpen:!0,startNode:Gy,mapImage:Wy,mapWidth:1024,mapHeight:1024},jy="/isekai114514/assets/dragonValley-NM2HhXif.png",Vy={name:"龙 (boss)",id:"dragonValleyBoss",description:"懒得做地图了，直接开干",type:Mt.Boss,position:{x:620,y:200},toNodeList:[],bossStageList:[{monster:kt.Dragon,maxLevel:30,minLevel:25,maxIndividualStrength:1.1,minIndividualStrength:.9},{monster:kt.AngryDragon,maxLevel:30,minLevel:25,maxIndividualStrength:1.1,minIndividualStrength:.9},{monster:kt.WeakDragon,maxLevel:30,minLevel:25,maxIndividualStrength:1.1,minIndividualStrength:.9}]},Uy={name:"龙之溪谷入口",id:"dragonValleyEntrance",description:"龙之溪谷入口",type:Mt.Camp,position:{x:500,y:900},toNodeList:[Vy]},ff={name:"池沼森林最北端 龙之溪谷",id:"dragonValley",description:"池沼森林最北端 龙之溪谷",isOpen:!0,startNode:Uy,mapImage:jy,mapWidth:1024,mapHeight:1024},Qy="/isekai114514/assets/northwestMarshForest-DlfTn7jg.png",Ky="/isekai114514/assets/redTea-DJMt1eLZ.png",Yy={name:"森林迷宫入口",id:"forestDungeonStart",description:"还没做地图",type:Mt.Camp,position:{x:880,y:1300},toNodeList:[]},hf={name:"森林地下城",id:"forestDungeon",description:"森林地下城",isOpen:!1,startNode:Yy,mapImage:Ky,mapWidth:1024,mapHeight:1024},qy={name:"地下城入口",id:"blackForestDungeon",description:"地下城入口",type:Mt.ToOtherRegion,position:{x:250,y:400},toNodeList:[],region:hf},Xy={name:"黑森林中央",id:"blackForestCenter",description:"黑森林中央",type:Mt.NormalMonster,position:{x:550,y:1130},toNodeList:[qy],monsterList:[{monster:kt.Horse,maxLevel:40,minLevel:30,weight:1}]},Jy={name:"黑森林入口",id:"northwestMarshForestStart",description:"还没做地图",type:Mt.Camp,position:{x:880,y:1300},toNodeList:[Xy]},pf={name:"池沼森林西北部 黑森林",id:"northwestMarshForest",description:"池沼森林西北部 黑森林",isOpen:!0,startNode:Jy,mapImage:Qy,mapWidth:1024,mapHeight:1536},gf={name:"溪谷入口",id:"centerMarshForestCanyonEntrance",description:"陡峭的山壁间开辟出一条狭窄的通道，水流从高处倾泻而下，形成了一片溪谷。空气中弥漫着潮湿的气息，远处传来奇异的回声。",type:Mt.ToOtherRegion,position:{x:890,y:390},toNodeList:[],region:ff},mf={name:"前往溪谷的路",id:"centerMarshForestToCanyon",description:"这条泥泞的小路逐渐向上攀升，两旁的树木越来越稀疏。地面上散落着奇怪的足迹，似乎有不少生物经常在此活动。",type:Mt.EliteMonster,position:{x:950,y:430},toNodeList:[gf],monsterList:[{monster:kt.DiscardedGolem,maxLevel:25,minLevel:20,maxIndividualStrength:1.2,minIndividualStrength:.8,weight:1},{monster:kt.TreasureSlime,maxLevel:25,minLevel:20,maxIndividualStrength:1.5,minIndividualStrength:.5,weight:.5}],treasureProbability:0,treasureList:[]},Zy={name:"山洞",id:"centerMarshForestCave",description:"一个黑漆漆的洞口隐藏在山壁间，洞内散发出一股奇异的气味。传说有探险者在这里发现过宝藏，但也有不少人进去后再没出来。",type:Mt.Treasure,position:{x:490,y:210},toNodeList:[],firstTimeTreasureList:[{item:Et.SilverChest,minLevel:15,maxLevel:25,weight:1}],repeatableTreasureList:[{item:Et.SilverChest,minLevel:15,maxLevel:25,weight:.05},{item:Et.BrokenChest,minLevel:15,maxLevel:25,weight:.2},{item:Et.WoodenChest,minLevel:15,maxLevel:25,weight:.75}]},t0={name:"翻山越野",id:"centerMarshForestCrossTheHill",description:"这条险峻的山路蜿蜒向上，通往森林的西北部。路途艰难，但据说那边的景色和宝藏值得这一番辛苦。小心脚下的松散碎石。",type:Mt.ToOtherRegion,position:{x:140,y:120},toNodeList:[],region:pf},e0={name:"爬山好累",id:"centerMarshForestHillTired",description:"陡峭的山坡让人气喘吁吁，这里的空气变得稀薄。周围的岩石上有被野兽磨爪的痕迹，偶尔能听到远处传来的低吼声。",type:Mt.EliteMonster,position:{x:280,y:190},toNodeList:[t0],monsterList:[{monster:kt.DiscardedGolem,maxLevel:30,minLevel:25,maxIndividualStrength:1.2,minIndividualStrength:.8,weight:1},{monster:kt.Horse,maxLevel:30,minLevel:25,maxIndividualStrength:1.2,minIndividualStrength:.8,weight:1},{monster:kt.TreasureSlime,maxLevel:30,minLevel:25,maxIndividualStrength:1.5,minIndividualStrength:.5,weight:.5}],treasureProbability:.1,treasureList:[]},n0={name:"登山路",id:"centerMarshForestHillRoad",description:"一条被踩踏出来的山间小路，两旁长满了高大的针叶树。地面上偶尔可以看到一些奇怪的蘑菇，色彩斑斓，但不知是否有毒。",type:Mt.NormalMonster,position:{x:420,y:240},toNodeList:[e0],monsterList:[{monster:kt.Wolf,maxLevel:27,minLevel:22,weight:1}]},i0={name:"山脚下",id:"centerMarshForestHillFoot",description:"山脚下的这片区域草木茂盛，空气中夹杂着泥土和植物的芬芳。从这里往上看，山峰似乎直插云霄。地上有一些零散的脚印和动物留下的痕迹。",type:Mt.NormalMonster,position:{x:640,y:370},toNodeList:[Zy,n0],monsterList:[{monster:kt.Wolf,maxLevel:25,minLevel:20,weight:1}]},r0={name:"一飞冲天啊我",id:"centerMarshForestSky",description:"我他喵的直接飞到天上",type:Mt.NormalMonster,position:{x:980,y:100},toNodeList:[gf],monsterList:[{monster:kt.Ayulsa,maxLevel:100,minLevel:100,weight:1}]},o0={name:"路的远方",id:"centerMarshForestFarRoad",description:"道路在这里分叉，一条通向群山，另一条则前往溪谷。远处的景色被薄雾笼罩，隐约可见一些高大的树影。四周异常安静，只有微风吹过树叶的沙沙声。",type:Mt.NormalMonster,position:{x:790,y:440},toNodeList:[i0,mf],monsterList:[{monster:kt.Goblin,maxLevel:22,minLevel:17,weight:1}]},s0={name:"一路向东",id:"centerMarshForestToVeryEast",description:"这条蜿蜒的小路向森林的东部深处延伸，道路两旁的植被变得越来越茂密和异域。空气中弥漫着一股奇特的香气，引人好奇东边究竟隐藏着什么。",type:Mt.ToOtherRegion,position:{x:1500,y:450},toNodeList:[],region:df},a0={name:"向东行",id:"centerMarshForestToEast",description:"东行的路变得平坦开阔，两旁的树木高大挺拔，树干上覆盖着绿色的苔藓。偶尔能听到鸟儿的鸣叫，阳光透过树叶在地面上投下斑驳的光影。",type:Mt.Empty,position:{x:1150,y:500},toNodeList:[s0]},c0={name:"对岸的路",id:"centerMarshForestOppositeRoad",description:"站在河的对岸，这条小径曲折地通向远方。地面上铺满了厚厚的落叶，踩上去发出沙沙的声音。周围的空气清新而潮湿，令人心旷神怡。",type:Mt.NormalMonster,position:{x:900,y:500},toNodeList:[mf],monsterList:[{monster:kt.Slime,maxLevel:22,minLevel:17,weight:1}]},l0={name:"巢穴内部",id:"centerMarshForestRuinInside",description:"一片近代遗迹，似乎被怪物当成了巢穴。",type:Mt.Treasure,firstTimeTreasureList:[{item:Et.WoodenChest,minLevel:5,maxLevel:15,weight:1}],repeatableTreasureList:[{item:Et.BrokenChest,minLevel:5,maxLevel:15,weight:.6},{item:Et.WoodenChest,minLevel:5,maxLevel:15,weight:.4},{item:Et.SilverChest,minLevel:5,maxLevel:15,weight:.01}],position:{x:1190,y:750},toNodeList:[]},u0={name:"断壁残垣",id:"centerMarshForestRuin",description:"一片近代遗迹，似乎被怪物当成了巢穴。",type:Mt.NormalMonster,monsterList:[{monster:kt.Wolf,maxLevel:15,minLevel:10,weight:1}],position:{x:1050,y:800},toNodeList:[l0]},d0={name:"对岸路口",id:"centerMarshForestOppositeCrossing",description:"河对岸的这个路口连接着几条不同的小路。河水清澈见底，能看到一些小鱼在水中游动。岸边生长着一些奇特的水生植物，颜色艳丽夺目。",type:Mt.Empty,position:{x:820,y:650},toNodeList:[c0,a0,u0]},f0={name:"顺路",id:"centerMarshForestRoad",description:"一条被踩踏得十分平整的小路，似乎是这一带最常被使用的道路。",type:Mt.NormalMonster,position:{x:450,y:450},toNodeList:[o0],monsterList:[{monster:kt.Slime,maxLevel:17,minLevel:12,weight:1}]},h0={name:"河岸",id:"centerMarshForestRiverBank",description:"一条宽阔的河流缓缓流淌，水面平静如镜。河岸边长满了芦苇和各种水生植物，时不时能看到一些小动物前来饮水。远处有一座简易的木桥连接着两岸。",type:Mt.NormalMonster,position:{x:640,y:620},toNodeList:[d0],monsterList:[{monster:kt.Slime,maxLevel:12,minLevel:7,weight:1}]},p0={name:"遗迹周边",id:"centerMarshForestNearRuin",description:"从遗迹中走出",type:Mt.Camp,position:{x:170,y:900},toNodeList:[h0,f0,r0]},vf={name:"池沼森林中部 黄金平原",id:"centerMarshForest",description:'池沼森林的中心地带，被当地人称为"黄金平原"。这里地势平坦，植被丰富多样，各种珍稀草药和生物在此繁衍生息。阳光透过树冠洒落，将地面染成金色，因此得名。这一区域也是通往其他地区的重要枢纽。',isOpen:!0,startNode:p0,mapImage:zy,mapWidth:1536,mapHeight:1024},_f="/isekai114514/assets/ruin-BbvlXD7H.png",g0={name:"遗迹出口",id:"ruin3_2",description:"外面是一眼望不到头的森林，你可以闻到森林中传来的泥土和青草的气息",type:Mt.ToOtherRegion,position:{x:450,y:900},toNodeList:[],region:vf},bf={name:"靠近出口的房间",id:"ruin2_1",description:"一只强壮且凶恶的哥布林正镇守在这里",type:Mt.Boss,position:{x:600,y:700},toNodeList:[g0],bossStageList:[{monster:kt.FrightenedGoblinLeader,maxLevel:1,minLevel:1,maxIndividualStrength:1.1,minIndividualStrength:1},{monster:kt.AngryGoblinLeader,maxLevel:1,minLevel:1,maxIndividualStrength:1.1,minIndividualStrength:1}]},m0={name:"哥布林的藏宝室",id:"ruin2_2",description:"哥布林把掠夺来的宝物藏在了这里",type:Mt.Treasure,position:{x:700,y:550},toNodeList:[bf],firstTimeTreasureList:[{item:Et.SilverChest,minLevel:1,maxLevel:1,weight:1}],repeatableTreasureList:[]},v0={name:"遗迹走廊",id:"ruin1_1",description:"这个遗迹似乎已经成为了哥布林的巢穴",type:Mt.NormalMonster,position:{x:500,y:550},toNodeList:[bf,m0],monsterList:[{monster:kt.Goblin,maxLevel:1,minLevel:1,weight:1}]},_0={name:"遗迹深处的房间",id:"ruin0_1",description:"遗迹深处的房间，被厚厚的石门封锁着。正中间正是你躺了一百年的石棺",type:Mt.Camp,position:{x:300,y:450},toNodeList:[v0]},b0={name:"池沼森林 遗迹",id:"ruin",description:"池沼森林 遗迹",isOpen:!0,startNode:_0,mapImage:_f,mapWidth:1280,mapHeight:1280},yf={ruin:b0,centerMarshForest:vf,eastMarshForest:df,northwestMarshForest:pf,dragonValley:ff,forestDungeon:hf};function Af(t){if(t.nodeList&&t.edgesData)return;const e=[],n=[],i=new Set;function o(s,a){if(i.has(s.id)){s.fromNodeList.push(a);return}i.add(s.id),s.fromNodeList=a?[a]:[],e.push(s),s.toNodeList.forEach(l=>{n.push({source:s.id,target:l.id}),o(l,s)})}o(t.startNode,null),t.nodeList=e,t.edgesData=n}function y0(){Object.values(yf).forEach(t=>{Af(t)})}function xr(t){const e=yf[t];if(e)return Af(e),e}function A0(t){var i,o;const e=Me(),n=t.unlockedRegionIdList.map(s=>xr(s)).filter(s=>!!s);if(n.length===0){e.innerHTML=`
      <div class="mt-auto">
        <div class="row g-3 justify-content-center">
          <div class="col-12 text-center">
            <p class="text-danger">没有可用的地图区域。</p>
          </div>
          <div class="col-12 col-md-4">
            <button id="return-btn" class="btn btn-success w-100 py-3">返回主菜单</button>
          </div>
        </div>
      </div>
    `,(i=document.getElementById("return-btn"))==null||i.addEventListener("click",()=>{qe(t)});return}e.innerHTML=`
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        ${n.map(s=>`
            <div class="col-12 col-md-4">
              <button id="${s.id}-btn" class="btn btn-primary w-100 py-3">
                ${s.name}
              </button>
            </div>
          `).join("")}
        <div class="col-12 col-md-4">
          <button id="return-btn" class="btn btn-success w-100 py-3">返回主菜单</button>
        </div>
      </div>
    </div>
    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,n.forEach(s=>{var a;(a=document.getElementById(`${s.id}-btn`))==null||a.addEventListener("click",()=>{var l;(l=xr(s.id))!=null&&l.isOpen?(t.goToRegion(s.id),qe(t)):alert("前面的区域以后再来探索吧？")})}),(o=document.getElementById("return-btn"))==null||o.addEventListener("click",()=>{qe(t)})}var w0={value:()=>{}};function Ka(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Eo(n)}function Eo(t){this._=t}function E0(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Eo.prototype=Ka.prototype={constructor:Eo,on:function(t,e){var n=this._,i=E0(t+"",n),o,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((o=(t=i[s]).type)&&(o=x0(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(o=(t=i[s]).type)n[o]=Lu(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Lu(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Eo(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,o=s.length;i<o;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,s=i.length;o<s;++o)i[o].value.apply(e,n)}};function x0(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Lu(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=w0,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var wa="http://www.w3.org/1999/xhtml";const Ou={svg:"http://www.w3.org/2000/svg",xhtml:wa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ou.hasOwnProperty(e)?{space:Ou[e],local:t}:t}function C0(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wa&&e.documentElement.namespaceURI===wa?e.createElement(t):e.createElementNS(n,t)}}function T0(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wf(t){var e=Jo(t);return(e.local?T0:C0)(e)}function S0(){}function Ya(t){return t==null?S0:function(){return this.querySelector(t)}}function M0(t){typeof t!="function"&&(t=Ya(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],a=s.length,l=i[o]=new Array(a),d,p,h=0;h<a;++h)(d=s[h])&&(p=t.call(d,d.__data__,h,s))&&("__data__"in d&&(p.__data__=d.__data__),l[h]=p);return new Se(i,this._parents)}function L0(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function O0(){return[]}function Ef(t){return t==null?O0:function(){return this.querySelectorAll(t)}}function N0(t){return function(){return L0(t.apply(this,arguments))}}function D0(t){typeof t=="function"?t=N0(t):t=Ef(t);for(var e=this._groups,n=e.length,i=[],o=[],s=0;s<n;++s)for(var a=e[s],l=a.length,d,p=0;p<l;++p)(d=a[p])&&(i.push(t.call(d,d.__data__,p,a)),o.push(d));return new Se(i,o)}function xf(t){return function(){return this.matches(t)}}function Cf(t){return function(e){return e.matches(t)}}var k0=Array.prototype.find;function I0(t){return function(){return k0.call(this.children,t)}}function $0(){return this.firstElementChild}function P0(t){return this.select(t==null?$0:I0(typeof t=="function"?t:Cf(t)))}var R0=Array.prototype.filter;function B0(){return Array.from(this.children)}function H0(t){return function(){return R0.call(this.children,t)}}function F0(t){return this.selectAll(t==null?B0:H0(typeof t=="function"?t:Cf(t)))}function z0(t){typeof t!="function"&&(t=xf(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],a=s.length,l=i[o]=[],d,p=0;p<a;++p)(d=s[p])&&t.call(d,d.__data__,p,s)&&l.push(d);return new Se(i,this._parents)}function Tf(t){return new Array(t.length)}function W0(){return new Se(this._enter||this._groups.map(Tf),this._parents)}function Io(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Io.prototype={constructor:Io,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function G0(t){return function(){return t}}function j0(t,e,n,i,o,s){for(var a=0,l,d=e.length,p=s.length;a<p;++a)(l=e[a])?(l.__data__=s[a],i[a]=l):n[a]=new Io(t,s[a]);for(;a<d;++a)(l=e[a])&&(o[a]=l)}function V0(t,e,n,i,o,s,a){var l,d,p=new Map,h=e.length,E=s.length,m=new Array(h),T;for(l=0;l<h;++l)(d=e[l])&&(m[l]=T=a.call(d,d.__data__,l,e)+"",p.has(T)?o[l]=d:p.set(T,d));for(l=0;l<E;++l)T=a.call(t,s[l],l,s)+"",(d=p.get(T))?(i[l]=d,d.__data__=s[l],p.delete(T)):n[l]=new Io(t,s[l]);for(l=0;l<h;++l)(d=e[l])&&p.get(m[l])===d&&(o[l]=d)}function U0(t){return t.__data__}function Q0(t,e){if(!arguments.length)return Array.from(this,U0);var n=e?V0:j0,i=this._parents,o=this._groups;typeof t!="function"&&(t=G0(t));for(var s=o.length,a=new Array(s),l=new Array(s),d=new Array(s),p=0;p<s;++p){var h=i[p],E=o[p],m=E.length,T=K0(t.call(h,h&&h.__data__,p,i)),z=T.length,j=l[p]=new Array(z),$=a[p]=new Array(z),k=d[p]=new Array(m);n(h,E,j,$,k,T,e);for(var K=0,it=0,v,J;K<z;++K)if(v=j[K]){for(K>=it&&(it=K+1);!(J=$[it])&&++it<z;);v._next=J||null}}return a=new Se(a,i),a._enter=l,a._exit=d,a}function K0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Y0(){return new Se(this._exit||this._groups.map(Tf),this._parents)}function q0(t,e,n){var i=this.enter(),o=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function X0(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,s=i.length,a=Math.min(o,s),l=new Array(o),d=0;d<a;++d)for(var p=n[d],h=i[d],E=p.length,m=l[d]=new Array(E),T,z=0;z<E;++z)(T=p[z]||h[z])&&(m[z]=T);for(;d<o;++d)l[d]=n[d];return new Se(l,this._parents)}function J0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,s=i[o],a;--o>=0;)(a=i[o])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Z0(t){t||(t=tA);function e(E,m){return E&&m?t(E.__data__,m.__data__):!E-!m}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var a=n[s],l=a.length,d=o[s]=new Array(l),p,h=0;h<l;++h)(p=a[h])&&(d[h]=p);d.sort(e)}return new Se(o,this._parents).order()}function tA(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function eA(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function nA(){return Array.from(this)}function iA(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length;o<s;++o){var a=i[o];if(a)return a}return null}function rA(){let t=0;for(const e of this)++t;return t}function oA(){return!this.node()}function sA(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],s=0,a=o.length,l;s<a;++s)(l=o[s])&&t.call(l,l.__data__,s,o);return this}function aA(t){return function(){this.removeAttribute(t)}}function cA(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lA(t,e){return function(){this.setAttribute(t,e)}}function uA(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function dA(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function fA(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function hA(t,e){var n=Jo(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?cA:aA:typeof e=="function"?n.local?fA:dA:n.local?uA:lA)(n,e))}function Sf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pA(t){return function(){this.style.removeProperty(t)}}function gA(t,e,n){return function(){this.style.setProperty(t,e,n)}}function mA(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function vA(t,e,n){return arguments.length>1?this.each((e==null?pA:typeof e=="function"?mA:gA)(t,e,n??"")):er(this.node(),t)}function er(t,e){return t.style.getPropertyValue(e)||Sf(t).getComputedStyle(t,null).getPropertyValue(e)}function _A(t){return function(){delete this[t]}}function bA(t,e){return function(){this[t]=e}}function yA(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function AA(t,e){return arguments.length>1?this.each((e==null?_A:typeof e=="function"?yA:bA)(t,e)):this.node()[t]}function Mf(t){return t.trim().split(/^|\s+/)}function qa(t){return t.classList||new Lf(t)}function Lf(t){this._node=t,this._names=Mf(t.getAttribute("class")||"")}Lf.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Of(t,e){for(var n=qa(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Nf(t,e){for(var n=qa(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function wA(t){return function(){Of(this,t)}}function EA(t){return function(){Nf(this,t)}}function xA(t,e){return function(){(e.apply(this,arguments)?Of:Nf)(this,t)}}function CA(t,e){var n=Mf(t+"");if(arguments.length<2){for(var i=qa(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?xA:e?wA:EA)(n,e))}function TA(){this.textContent=""}function SA(t){return function(){this.textContent=t}}function MA(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function LA(t){return arguments.length?this.each(t==null?TA:(typeof t=="function"?MA:SA)(t)):this.node().textContent}function OA(){this.innerHTML=""}function NA(t){return function(){this.innerHTML=t}}function DA(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function kA(t){return arguments.length?this.each(t==null?OA:(typeof t=="function"?DA:NA)(t)):this.node().innerHTML}function IA(){this.nextSibling&&this.parentNode.appendChild(this)}function $A(){return this.each(IA)}function PA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RA(){return this.each(PA)}function BA(t){var e=typeof t=="function"?t:wf(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function HA(){return null}function FA(t,e){var n=typeof t=="function"?t:wf(t),i=e==null?HA:typeof e=="function"?e:Ya(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function zA(){var t=this.parentNode;t&&t.removeChild(this)}function WA(){return this.each(zA)}function GA(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jA(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function VA(t){return this.select(t?jA:GA)}function UA(t){return arguments.length?this.property("__data__",t):this.node().__data__}function QA(t){return function(e){t.call(this,e,this.__data__)}}function KA(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function YA(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,s;n<o;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function qA(t,e,n){return function(){var i=this.__on,o,s=QA(e);if(i){for(var a=0,l=i.length;a<l;++a)if((o=i[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=e;return}}this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(o):this.__on=[o]}}function XA(t,e,n){var i=KA(t+""),o,s=i.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,p=l.length,h;d<p;++d)for(o=0,h=l[d];o<s;++o)if((a=i[o]).type===h.type&&a.name===h.name)return h.value}return}for(l=e?qA:YA,o=0;o<s;++o)this.each(l(i[o],e,n));return this}function Df(t,e,n){var i=Sf(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function JA(t,e){return function(){return Df(this,t,e)}}function ZA(t,e){return function(){return Df(this,t,e.apply(this,arguments))}}function tw(t,e){return this.each((typeof e=="function"?ZA:JA)(t,e))}function*ew(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&(yield a)}var kf=[null];function Se(t,e){this._groups=t,this._parents=e}function Rr(){return new Se([[document.documentElement]],kf)}function nw(){return this}Se.prototype=Rr.prototype={constructor:Se,select:M0,selectAll:D0,selectChild:P0,selectChildren:F0,filter:z0,data:Q0,enter:W0,exit:Y0,join:q0,merge:X0,selection:nw,order:J0,sort:Z0,call:eA,nodes:nA,node:iA,size:rA,empty:oA,each:sA,attr:hA,style:vA,property:AA,classed:CA,text:LA,html:kA,raise:$A,lower:RA,append:BA,insert:FA,remove:WA,clone:VA,datum:UA,on:XA,dispatch:tw,[Symbol.iterator]:ew};function Re(t){return typeof t=="string"?new Se([[document.querySelector(t)]],[document.documentElement]):new Se([[t]],kf)}function iw(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ii(t,e){if(t=iw(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Ea={capture:!0,passive:!1};function xa(t){t.preventDefault(),t.stopImmediatePropagation()}function rw(t){var e=t.document.documentElement,n=Re(t).on("dragstart.drag",xa,Ea);"onselectstart"in e?n.on("selectstart.drag",xa,Ea):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ow(t,e){var n=t.document.documentElement,i=Re(t).on("dragstart.drag",null);e&&(i.on("click.drag",xa,Ea),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Xa(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function If(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Br(){}var Cr=.7,$o=1/Cr,Wi="\\s*([+-]?\\d+)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sw=/^#([0-9a-f]{3,8})$/,aw=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),cw=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),lw=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${Tr}\\)$`),uw=new RegExp(`^rgba\\(${dn},${dn},${dn},${Tr}\\)$`),dw=new RegExp(`^hsl\\(${Tr},${dn},${dn}\\)$`),fw=new RegExp(`^hsla\\(${Tr},${dn},${dn},${Tr}\\)$`),Nu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xa(Br,Sr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Du,formatHex:Du,formatHex8:hw,formatHsl:pw,formatRgb:ku,toString:ku});function Du(){return this.rgb().formatHex()}function hw(){return this.rgb().formatHex8()}function pw(){return $f(this).formatHsl()}function ku(){return this.rgb().formatRgb()}function Sr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=sw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Iu(e):n===3?new me(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ho(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ho(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=aw.exec(t))?new me(e[1],e[2],e[3],1):(e=cw.exec(t))?new me(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lw.exec(t))?ho(e[1],e[2],e[3],e[4]):(e=uw.exec(t))?ho(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dw.exec(t))?Ru(e[1],e[2]/100,e[3]/100,1):(e=fw.exec(t))?Ru(e[1],e[2]/100,e[3]/100,e[4]):Nu.hasOwnProperty(t)?Iu(Nu[t]):t==="transparent"?new me(NaN,NaN,NaN,0):null}function Iu(t){return new me(t>>16&255,t>>8&255,t&255,1)}function ho(t,e,n,i){return i<=0&&(t=e=n=NaN),new me(t,e,n,i)}function gw(t){return t instanceof Br||(t=Sr(t)),t?(t=t.rgb(),new me(t.r,t.g,t.b,t.opacity)):new me}function Ca(t,e,n,i){return arguments.length===1?gw(t):new me(t,e,n,i??1)}function me(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Xa(me,Ca,If(Br,{brighter(t){return t=t==null?$o:Math.pow($o,t),new me(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cr:Math.pow(Cr,t),new me(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new me(li(this.r),li(this.g),li(this.b),Po(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$u,formatHex:$u,formatHex8:mw,formatRgb:Pu,toString:Pu}));function $u(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}`}function mw(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}${ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pu(){const t=Po(this.opacity);return`${t===1?"rgb(":"rgba("}${li(this.r)}, ${li(this.g)}, ${li(this.b)}${t===1?")":`, ${t})`}`}function Po(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function li(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ai(t){return t=li(t),(t<16?"0":"")+t.toString(16)}function Ru(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ke(t,e,n,i)}function $f(t){if(t instanceof Ke)return new Ke(t.h,t.s,t.l,t.opacity);if(t instanceof Br||(t=Sr(t)),!t)return new Ke;if(t instanceof Ke)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),s=Math.max(e,n,i),a=NaN,l=s-o,d=(s+o)/2;return l?(e===s?a=(n-i)/l+(n<i)*6:n===s?a=(i-e)/l+2:a=(e-n)/l+4,l/=d<.5?s+o:2-s-o,a*=60):l=d>0&&d<1?0:a,new Ke(a,l,d,t.opacity)}function vw(t,e,n,i){return arguments.length===1?$f(t):new Ke(t,e,n,i??1)}function Ke(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Xa(Ke,vw,If(Br,{brighter(t){return t=t==null?$o:Math.pow($o,t),new Ke(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cr:Math.pow(Cr,t),new Ke(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new me(ca(t>=240?t-240:t+120,o,i),ca(t,o,i),ca(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Ke(Bu(this.h),po(this.s),po(this.l),Po(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Po(this.opacity);return`${t===1?"hsl(":"hsla("}${Bu(this.h)}, ${po(this.s)*100}%, ${po(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Bu(t){return t=(t||0)%360,t<0?t+360:t}function po(t){return Math.max(0,Math.min(1,t||0))}function ca(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Pf=t=>()=>t;function _w(t,e){return function(n){return t+n*e}}function bw(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function yw(t){return(t=+t)==1?Rf:function(e,n){return n-e?bw(e,n,t):Pf(isNaN(e)?n:e)}}function Rf(t,e){var n=e-t;return n?_w(t,n):Pf(isNaN(t)?e:t)}const Hu=function t(e){var n=yw(e);function i(o,s){var a=n((o=Ca(o)).r,(s=Ca(s)).r),l=n(o.g,s.g),d=n(o.b,s.b),p=Rf(o.opacity,s.opacity);return function(h){return o.r=a(h),o.g=l(h),o.b=d(h),o.opacity=p(h),o+""}}return i.gamma=t,i}(1);function Bn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ta=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,la=new RegExp(Ta.source,"g");function Aw(t){return function(){return t}}function ww(t){return function(e){return t(e)+""}}function Ew(t,e){var n=Ta.lastIndex=la.lastIndex=0,i,o,s,a=-1,l=[],d=[];for(t=t+"",e=e+"";(i=Ta.exec(t))&&(o=la.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(i=i[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,d.push({i:a,x:Bn(i,o)})),n=la.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?d[0]?ww(d[0].x):Aw(e):(e=d.length,function(p){for(var h=0,E;h<e;++h)l[(E=d[h]).i]=E.x(p);return l.join("")})}var Fu=180/Math.PI,Sa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bf(t,e,n,i,o,s){var a,l,d;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(d=t*n+e*i)&&(n-=t*d,i-=e*d),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,d/=l),t*i<e*n&&(t=-t,e=-e,d=-d,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*Fu,skewX:Math.atan(d)*Fu,scaleX:a,scaleY:l}}var go;function xw(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Sa:Bf(e.a,e.b,e.c,e.d,e.e,e.f)}function Cw(t){return t==null||(go||(go=document.createElementNS("http://www.w3.org/2000/svg","g")),go.setAttribute("transform",t),!(t=go.transform.baseVal.consolidate()))?Sa:(t=t.matrix,Bf(t.a,t.b,t.c,t.d,t.e,t.f))}function Hf(t,e,n,i){function o(p){return p.length?p.pop()+" ":""}function s(p,h,E,m,T,z){if(p!==E||h!==m){var j=T.push("translate(",null,e,null,n);z.push({i:j-4,x:Bn(p,E)},{i:j-2,x:Bn(h,m)})}else(E||m)&&T.push("translate("+E+e+m+n)}function a(p,h,E,m){p!==h?(p-h>180?h+=360:h-p>180&&(p+=360),m.push({i:E.push(o(E)+"rotate(",null,i)-2,x:Bn(p,h)})):h&&E.push(o(E)+"rotate("+h+i)}function l(p,h,E,m){p!==h?m.push({i:E.push(o(E)+"skewX(",null,i)-2,x:Bn(p,h)}):h&&E.push(o(E)+"skewX("+h+i)}function d(p,h,E,m,T,z){if(p!==E||h!==m){var j=T.push(o(T)+"scale(",null,",",null,")");z.push({i:j-4,x:Bn(p,E)},{i:j-2,x:Bn(h,m)})}else(E!==1||m!==1)&&T.push(o(T)+"scale("+E+","+m+")")}return function(p,h){var E=[],m=[];return p=t(p),h=t(h),s(p.translateX,p.translateY,h.translateX,h.translateY,E,m),a(p.rotate,h.rotate,E,m),l(p.skewX,h.skewX,E,m),d(p.scaleX,p.scaleY,h.scaleX,h.scaleY,E,m),p=h=null,function(T){for(var z=-1,j=m.length,$;++z<j;)E[($=m[z]).i]=$.x(T);return E.join("")}}}var Tw=Hf(xw,"px, ","px)","deg)"),Sw=Hf(Cw,", ",")",")"),Mw=1e-12;function zu(t){return((t=Math.exp(t))+1/t)/2}function Lw(t){return((t=Math.exp(t))-1/t)/2}function Ow(t){return((t=Math.exp(2*t))-1)/(t+1)}const Nw=function t(e,n,i){function o(s,a){var l=s[0],d=s[1],p=s[2],h=a[0],E=a[1],m=a[2],T=h-l,z=E-d,j=T*T+z*z,$,k;if(j<Mw)k=Math.log(m/p)/e,$=function(ht){return[l+ht*T,d+ht*z,p*Math.exp(e*ht*k)]};else{var K=Math.sqrt(j),it=(m*m-p*p+i*j)/(2*p*n*K),v=(m*m-p*p-i*j)/(2*m*n*K),J=Math.log(Math.sqrt(it*it+1)-it),B=Math.log(Math.sqrt(v*v+1)-v);k=(B-J)/e,$=function(ht){var ft=ht*k,Nt=zu(J),xt=p/(n*K)*(Nt*Ow(e*ft+J)-Lw(J));return[l+xt*T,d+xt*z,p*Nt/zu(e*ft+J)]}}return $.duration=k*1e3*e/Math.SQRT2,$}return o.rho=function(s){var a=Math.max(.001,+s),l=a*a,d=l*l;return t(a,l,d)},o}(Math.SQRT2,2,4);var nr=0,_r=0,mr=0,Ff=1e3,Ro,br,Bo=0,pi=0,Zo=0,Mr=typeof performance=="object"&&performance.now?performance:Date,zf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ja(){return pi||(zf(Dw),pi=Mr.now()+Zo)}function Dw(){pi=0}function Ho(){this._call=this._time=this._next=null}Ho.prototype=Wf.prototype={constructor:Ho,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ja():+n)+(e==null?0:+e),!this._next&&br!==this&&(br?br._next=this:Ro=this,br=this),this._call=t,this._time=n,Ma()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ma())}};function Wf(t,e,n){var i=new Ho;return i.restart(t,e,n),i}function kw(){Ja(),++nr;for(var t=Ro,e;t;)(e=pi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--nr}function Wu(){pi=(Bo=Mr.now())+Zo,nr=_r=0;try{kw()}finally{nr=0,$w(),pi=0}}function Iw(){var t=Mr.now(),e=t-Bo;e>Ff&&(Zo-=e,Bo=t)}function $w(){for(var t,e=Ro,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ro=n);br=t,Ma(i)}function Ma(t){if(!nr){_r&&(_r=clearTimeout(_r));var e=t-pi;e>24?(t<1/0&&(_r=setTimeout(Wu,t-Mr.now()-Zo)),mr&&(mr=clearInterval(mr))):(mr||(Bo=Mr.now(),mr=setInterval(Iw,Ff)),nr=1,zf(Wu))}}function Gu(t,e,n){var i=new Ho;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var Pw=Ka("start","end","cancel","interrupt"),Rw=[],Gf=0,ju=1,La=2,xo=3,Vu=4,Oa=5,Co=6;function ts(t,e,n,i,o,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Bw(t,n,{name:e,index:i,group:o,on:Pw,tween:Rw,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Gf})}function Za(t,e){var n=Je(t,e);if(n.state>Gf)throw new Error("too late; already scheduled");return n}function hn(t,e){var n=Je(t,e);if(n.state>xo)throw new Error("too late; already running");return n}function Je(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Bw(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Wf(s,0,n.time);function s(p){n.state=ju,n.timer.restart(a,n.delay,n.time),n.delay<=p&&a(p-n.delay)}function a(p){var h,E,m,T;if(n.state!==ju)return d();for(h in i)if(T=i[h],T.name===n.name){if(T.state===xo)return Gu(a);T.state===Vu?(T.state=Co,T.timer.stop(),T.on.call("interrupt",t,t.__data__,T.index,T.group),delete i[h]):+h<e&&(T.state=Co,T.timer.stop(),T.on.call("cancel",t,t.__data__,T.index,T.group),delete i[h])}if(Gu(function(){n.state===xo&&(n.state=Vu,n.timer.restart(l,n.delay,n.time),l(p))}),n.state=La,n.on.call("start",t,t.__data__,n.index,n.group),n.state===La){for(n.state=xo,o=new Array(m=n.tween.length),h=0,E=-1;h<m;++h)(T=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(o[++E]=T);o.length=E+1}}function l(p){for(var h=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(d),n.state=Oa,1),E=-1,m=o.length;++E<m;)o[E].call(t,h);n.state===Oa&&(n.on.call("end",t,t.__data__,n.index,n.group),d())}function d(){n.state=Co,n.timer.stop(),delete i[e];for(var p in i)return;delete t.__transition}}function To(t,e){var n=t.__transition,i,o,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((i=n[a]).name!==e){s=!1;continue}o=i.state>La&&i.state<Oa,i.state=Co,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[a]}s&&delete t.__transition}}function Hw(t){return this.each(function(){To(this,t)})}function Fw(t,e){var n,i;return function(){var o=hn(this,t),s=o.tween;if(s!==n){i=n=s;for(var a=0,l=i.length;a<l;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}o.tween=i}}function zw(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=hn(this,t),a=s.tween;if(a!==i){o=(i=a).slice();for(var l={name:e,value:n},d=0,p=o.length;d<p;++d)if(o[d].name===e){o[d]=l;break}d===p&&o.push(l)}s.tween=o}}function Ww(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Je(this.node(),n).tween,o=0,s=i.length,a;o<s;++o)if((a=i[o]).name===t)return a.value;return null}return this.each((e==null?Fw:zw)(n,t,e))}function tc(t,e,n){var i=t._id;return t.each(function(){var o=hn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Je(o,i).value[e]}}function jf(t,e){var n;return(typeof e=="number"?Bn:e instanceof Sr?Hu:(n=Sr(e))?(e=n,Hu):Ew)(t,e)}function Gw(t){return function(){this.removeAttribute(t)}}function jw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vw(t,e,n){var i,o=n+"",s;return function(){var a=this.getAttribute(t);return a===o?null:a===i?s:s=e(i=a,n)}}function Uw(t,e,n){var i,o=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?s:s=e(i=a,n)}}function Qw(t,e,n){var i,o,s;return function(){var a,l=n(this),d;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),d=l+"",a===d?null:a===i&&d===o?s:(o=d,s=e(i=a,l)))}}function Kw(t,e,n){var i,o,s;return function(){var a,l=n(this),d;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),d=l+"",a===d?null:a===i&&d===o?s:(o=d,s=e(i=a,l)))}}function Yw(t,e){var n=Jo(t),i=n==="transform"?Sw:jf;return this.attrTween(t,typeof e=="function"?(n.local?Kw:Qw)(n,i,tc(this,"attr."+t,e)):e==null?(n.local?jw:Gw)(n):(n.local?Uw:Vw)(n,i,e))}function qw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Xw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Jw(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Xw(t,s)),n}return o._value=e,o}function Zw(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&qw(t,s)),n}return o._value=e,o}function tE(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Jo(t);return this.tween(n,(i.local?Jw:Zw)(i,e))}function eE(t,e){return function(){Za(this,t).delay=+e.apply(this,arguments)}}function nE(t,e){return e=+e,function(){Za(this,t).delay=e}}function iE(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?eE:nE)(e,t)):Je(this.node(),e).delay}function rE(t,e){return function(){hn(this,t).duration=+e.apply(this,arguments)}}function oE(t,e){return e=+e,function(){hn(this,t).duration=e}}function sE(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rE:oE)(e,t)):Je(this.node(),e).duration}function aE(t,e){if(typeof e!="function")throw new Error;return function(){hn(this,t).ease=e}}function cE(t){var e=this._id;return arguments.length?this.each(aE(e,t)):Je(this.node(),e).ease}function lE(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;hn(this,t).ease=n}}function uE(t){if(typeof t!="function")throw new Error;return this.each(lE(this._id,t))}function dE(t){typeof t!="function"&&(t=xf(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],a=s.length,l=i[o]=[],d,p=0;p<a;++p)(d=s[p])&&t.call(d,d.__data__,p,s)&&l.push(d);return new Ln(i,this._parents,this._name,this._id)}function fE(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var d=e[l],p=n[l],h=d.length,E=a[l]=new Array(h),m,T=0;T<h;++T)(m=d[T]||p[T])&&(E[T]=m);for(;l<i;++l)a[l]=e[l];return new Ln(a,this._parents,this._name,this._id)}function hE(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function pE(t,e,n){var i,o,s=hE(e)?Za:hn;return function(){var a=s(this,t),l=a.on;l!==i&&(o=(i=l).copy()).on(e,n),a.on=o}}function gE(t,e){var n=this._id;return arguments.length<2?Je(this.node(),n).on.on(t):this.each(pE(n,t,e))}function mE(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function vE(){return this.on("end.remove",mE(this._id))}function _E(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ya(t));for(var i=this._groups,o=i.length,s=new Array(o),a=0;a<o;++a)for(var l=i[a],d=l.length,p=s[a]=new Array(d),h,E,m=0;m<d;++m)(h=l[m])&&(E=t.call(h,h.__data__,m,l))&&("__data__"in h&&(E.__data__=h.__data__),p[m]=E,ts(p[m],e,n,m,p,Je(h,n)));return new Ln(s,this._parents,e,n)}function bE(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ef(t));for(var i=this._groups,o=i.length,s=[],a=[],l=0;l<o;++l)for(var d=i[l],p=d.length,h,E=0;E<p;++E)if(h=d[E]){for(var m=t.call(h,h.__data__,E,d),T,z=Je(h,n),j=0,$=m.length;j<$;++j)(T=m[j])&&ts(T,e,n,j,m,z);s.push(m),a.push(h)}return new Ln(s,a,e,n)}var yE=Rr.prototype.constructor;function AE(){return new yE(this._groups,this._parents)}function wE(t,e){var n,i,o;return function(){var s=er(this,t),a=(this.style.removeProperty(t),er(this,t));return s===a?null:s===n&&a===i?o:o=e(n=s,i=a)}}function Vf(t){return function(){this.style.removeProperty(t)}}function EE(t,e,n){var i,o=n+"",s;return function(){var a=er(this,t);return a===o?null:a===i?s:s=e(i=a,n)}}function xE(t,e,n){var i,o,s;return function(){var a=er(this,t),l=n(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(t),er(this,t))),a===d?null:a===i&&d===o?s:(o=d,s=e(i=a,l))}}function CE(t,e){var n,i,o,s="style."+e,a="end."+s,l;return function(){var d=hn(this,t),p=d.on,h=d.value[s]==null?l||(l=Vf(e)):void 0;(p!==n||o!==h)&&(i=(n=p).copy()).on(a,o=h),d.on=i}}function TE(t,e,n){var i=(t+="")=="transform"?Tw:jf;return e==null?this.styleTween(t,wE(t,i)).on("end.style."+t,Vf(t)):typeof e=="function"?this.styleTween(t,xE(t,i,tc(this,"style."+t,e))).each(CE(this._id,t)):this.styleTween(t,EE(t,i,e),n).on("end.style."+t,null)}function SE(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function ME(t,e,n){var i,o;function s(){var a=e.apply(this,arguments);return a!==o&&(i=(o=a)&&SE(t,a,n)),i}return s._value=e,s}function LE(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,ME(t,e,n??""))}function OE(t){return function(){this.textContent=t}}function NE(t){return function(){var e=t(this);this.textContent=e??""}}function DE(t){return this.tween("text",typeof t=="function"?NE(tc(this,"text",t)):OE(t==null?"":t+""))}function kE(t){return function(e){this.textContent=t.call(this,e)}}function IE(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&kE(o)),e}return i._value=t,i}function $E(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,IE(t))}function PE(){for(var t=this._name,e=this._id,n=Uf(),i=this._groups,o=i.length,s=0;s<o;++s)for(var a=i[s],l=a.length,d,p=0;p<l;++p)if(d=a[p]){var h=Je(d,e);ts(d,t,n,p,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ln(i,this._parents,t,n)}function RE(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(s,a){var l={value:a},d={value:function(){--o===0&&s()}};n.each(function(){var p=hn(this,i),h=p.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(d)),p.on=e}),o===0&&s()})}var BE=0;function Ln(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Uf(){return++BE}var An=Rr.prototype;Ln.prototype={constructor:Ln,select:_E,selectAll:bE,selectChild:An.selectChild,selectChildren:An.selectChildren,filter:dE,merge:fE,selection:AE,transition:PE,call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:gE,attr:Yw,attrTween:tE,style:TE,styleTween:LE,text:DE,textTween:$E,remove:vE,tween:Ww,delay:iE,duration:sE,ease:cE,easeVarying:uE,end:RE,[Symbol.iterator]:An[Symbol.iterator]};function HE(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var FE={time:null,delay:0,duration:250,ease:HE};function zE(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function WE(t){var e,n;t instanceof Ln?(e=t._id,t=t._name):(e=Uf(),(n=FE).time=Ja(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var a=i[s],l=a.length,d,p=0;p<l;++p)(d=a[p])&&ts(d,t,e,p,a,n||zE(d,e));return new Ln(i,this._parents,t,e)}Rr.prototype.interrupt=Hw;Rr.prototype.transition=WE;const mo=t=>()=>t;function GE(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function En(t,e,n){this.k=t,this.x=e,this.y=n}En.prototype={constructor:En,scale:function(t){return t===1?this:new En(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new En(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zi=new En(1,0,0);En.prototype;function ua(t){t.stopImmediatePropagation()}function vr(t){t.preventDefault(),t.stopImmediatePropagation()}function jE(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function VE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Uu(){return this.__zoom||zi}function UE(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function QE(){return navigator.maxTouchPoints||"ontouchstart"in this}function KE(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function YE(){var t=jE,e=VE,n=KE,i=UE,o=QE,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,d=Nw,p=Ka("start","zoom","end"),h,E,m,T=500,z=150,j=0,$=10;function k(b){b.property("__zoom",Uu).on("wheel.zoom",ft,{passive:!1}).on("mousedown.zoom",Nt).on("dblclick.zoom",xt).filter(o).on("touchstart.zoom",$t).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(b,P,x,D){var q=b.selection?b.selection():b;q.property("__zoom",Uu),b!==q?J(b,P,x,D):q.interrupt().each(function(){B(this,arguments).event(D).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},k.scaleBy=function(b,P,x,D){k.scaleTo(b,function(){var q=this.__zoom.k,V=typeof P=="function"?P.apply(this,arguments):P;return q*V},x,D)},k.scaleTo=function(b,P,x,D){k.transform(b,function(){var q=e.apply(this,arguments),V=this.__zoom,y=x==null?v(q):typeof x=="function"?x.apply(this,arguments):x,ot=V.invert(y),lt=typeof P=="function"?P.apply(this,arguments):P;return n(it(K(V,lt),y,ot),q,a)},x,D)},k.translateBy=function(b,P,x,D){k.transform(b,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof x=="function"?x.apply(this,arguments):x),e.apply(this,arguments),a)},null,D)},k.translateTo=function(b,P,x,D,q){k.transform(b,function(){var V=e.apply(this,arguments),y=this.__zoom,ot=D==null?v(V):typeof D=="function"?D.apply(this,arguments):D;return n(zi.translate(ot[0],ot[1]).scale(y.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof x=="function"?-x.apply(this,arguments):-x),V,a)},D,q)};function K(b,P){return P=Math.max(s[0],Math.min(s[1],P)),P===b.k?b:new En(P,b.x,b.y)}function it(b,P,x){var D=P[0]-x[0]*b.k,q=P[1]-x[1]*b.k;return D===b.x&&q===b.y?b:new En(b.k,D,q)}function v(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function J(b,P,x,D){b.on("start.zoom",function(){B(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(D).end()}).tween("zoom",function(){var q=this,V=arguments,y=B(q,V).event(D),ot=e.apply(q,V),lt=x==null?v(ot):typeof x=="function"?x.apply(q,V):x,G=Math.max(ot[1][0]-ot[0][0],ot[1][1]-ot[0][1]),gt=q.__zoom,Lt=typeof P=="function"?P.apply(q,V):P,st=d(gt.invert(lt).concat(G/gt.k),Lt.invert(lt).concat(G/Lt.k));return function(Ot){if(Ot===1)Ot=Lt;else{var Q=st(Ot),Gt=G/Q[2];Ot=new En(Gt,lt[0]-Q[0]*Gt,lt[1]-Q[1]*Gt)}y.zoom(null,Ot)}})}function B(b,P,x){return!x&&b.__zooming||new ht(b,P)}function ht(b,P){this.that=b,this.args=P,this.active=0,this.sourceEvent=null,this.extent=e.apply(b,P),this.taps=0}ht.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,P){return this.mouse&&b!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var P=Re(this.that).datum();p.call(b,this.that,new GE(b,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:p}),P)}};function ft(b,...P){if(!t.apply(this,arguments))return;var x=B(this,P).event(b),D=this.__zoom,q=Math.max(s[0],Math.min(s[1],D.k*Math.pow(2,i.apply(this,arguments)))),V=ii(b);if(x.wheel)(x.mouse[0][0]!==V[0]||x.mouse[0][1]!==V[1])&&(x.mouse[1]=D.invert(x.mouse[0]=V)),clearTimeout(x.wheel);else{if(D.k===q)return;x.mouse=[V,D.invert(V)],To(this),x.start()}vr(b),x.wheel=setTimeout(y,z),x.zoom("mouse",n(it(K(D,q),x.mouse[0],x.mouse[1]),x.extent,a));function y(){x.wheel=null,x.end()}}function Nt(b,...P){if(m||!t.apply(this,arguments))return;var x=b.currentTarget,D=B(this,P,!0).event(b),q=Re(b.view).on("mousemove.zoom",lt,!0).on("mouseup.zoom",G,!0),V=ii(b,x),y=b.clientX,ot=b.clientY;rw(b.view),ua(b),D.mouse=[V,this.__zoom.invert(V)],To(this),D.start();function lt(gt){if(vr(gt),!D.moved){var Lt=gt.clientX-y,st=gt.clientY-ot;D.moved=Lt*Lt+st*st>j}D.event(gt).zoom("mouse",n(it(D.that.__zoom,D.mouse[0]=ii(gt,x),D.mouse[1]),D.extent,a))}function G(gt){q.on("mousemove.zoom mouseup.zoom",null),ow(gt.view,D.moved),vr(gt),D.event(gt).end()}}function xt(b,...P){if(t.apply(this,arguments)){var x=this.__zoom,D=ii(b.changedTouches?b.changedTouches[0]:b,this),q=x.invert(D),V=x.k*(b.shiftKey?.5:2),y=n(it(K(x,V),D,q),e.apply(this,P),a);vr(b),l>0?Re(this).transition().duration(l).call(J,y,D,b):Re(this).call(k.transform,y,D,b)}}function $t(b,...P){if(t.apply(this,arguments)){var x=b.touches,D=x.length,q=B(this,P,b.changedTouches.length===D).event(b),V,y,ot,lt;for(ua(b),y=0;y<D;++y)ot=x[y],lt=ii(ot,this),lt=[lt,this.__zoom.invert(lt),ot.identifier],q.touch0?!q.touch1&&q.touch0[2]!==lt[2]&&(q.touch1=lt,q.taps=0):(q.touch0=lt,V=!0,q.taps=1+!!h);h&&(h=clearTimeout(h)),V&&(q.taps<2&&(E=lt[0],h=setTimeout(function(){h=null},T)),To(this),q.start())}}function H(b,...P){if(this.__zooming){var x=B(this,P).event(b),D=b.changedTouches,q=D.length,V,y,ot,lt;for(vr(b),V=0;V<q;++V)y=D[V],ot=ii(y,this),x.touch0&&x.touch0[2]===y.identifier?x.touch0[0]=ot:x.touch1&&x.touch1[2]===y.identifier&&(x.touch1[0]=ot);if(y=x.that.__zoom,x.touch1){var G=x.touch0[0],gt=x.touch0[1],Lt=x.touch1[0],st=x.touch1[1],Ot=(Ot=Lt[0]-G[0])*Ot+(Ot=Lt[1]-G[1])*Ot,Q=(Q=st[0]-gt[0])*Q+(Q=st[1]-gt[1])*Q;y=K(y,Math.sqrt(Ot/Q)),ot=[(G[0]+Lt[0])/2,(G[1]+Lt[1])/2],lt=[(gt[0]+st[0])/2,(gt[1]+st[1])/2]}else if(x.touch0)ot=x.touch0[0],lt=x.touch0[1];else return;x.zoom("touch",n(it(y,ot,lt),x.extent,a))}}function Y(b,...P){if(this.__zooming){var x=B(this,P).event(b),D=b.changedTouches,q=D.length,V,y;for(ua(b),m&&clearTimeout(m),m=setTimeout(function(){m=null},T),V=0;V<q;++V)y=D[V],x.touch0&&x.touch0[2]===y.identifier?delete x.touch0:x.touch1&&x.touch1[2]===y.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(y=ii(y,this),Math.hypot(E[0]-y[0],E[1]-y[1])<$)){var ot=Re(this).on("dblclick.zoom");ot&&ot.apply(this,arguments)}}}return k.wheelDelta=function(b){return arguments.length?(i=typeof b=="function"?b:mo(+b),k):i},k.filter=function(b){return arguments.length?(t=typeof b=="function"?b:mo(!!b),k):t},k.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:mo(!!b),k):o},k.extent=function(b){return arguments.length?(e=typeof b=="function"?b:mo([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),k):e},k.scaleExtent=function(b){return arguments.length?(s[0]=+b[0],s[1]=+b[1],k):[s[0],s[1]]},k.translateExtent=function(b){return arguments.length?(a[0][0]=+b[0][0],a[1][0]=+b[1][0],a[0][1]=+b[0][1],a[1][1]=+b[1][1],k):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},k.constrain=function(b){return arguments.length?(n=b,k):n},k.duration=function(b){return arguments.length?(l=+b,k):l},k.interpolate=function(b){return arguments.length?(d=b,k):d},k.on=function(){var b=p.on.apply(p,arguments);return b===p?k:b},k.clickDistance=function(b){return arguments.length?(j=(b=+b)*b,k):Math.sqrt(j)},k.tapDistance=function(b){return arguments.length?($=+b,k):$},k}function Lr(t,e,n){const i=e-n>0?e-n:0;return t*(50/(i+50))}function es(t,e,n,i,o,s){let a="",l="";return n.category===C.None?a=n.messageGenerator(t,e):a=t.name+ji(n)+'<span style="color: blue;">'+Math.round(o)+"</span> ",i.category===C.None?l=i.messageGenerator(e,t):l=e.name+ji(i)+'<span style="color: orange;">'+Math.round(s)+"</span> ","掷骰："+a+l}function qE(t,e,n){function i(o,s){return o.name+"看起来似乎会使用"+s.name+"<br>"+da(o,s)}return Math.random()*t.getAbility().int>Math.random()*e.getAbility().int?i(e,n):"你分辨不出"+e.name+"即将使用的动作"}var Jt=(t=>(t.Win="Win",t.Lose="Lose",t.Withdraw="Withdraw",t.EnemyEscape="EnemyEscape",t))(Jt||{}),Zt=(t=>(t.PlayerWin="PlayerWin",t.EnemyWin="EnemyWin",t.Draw="Draw",t))(Zt||{});function XE(t,e,n,i){var s,a;let o=Zt.Draw;return n.category===C.Capture&&(n.category=C.Attack),n.category===C.Attack&&i.category===C.Attack?o=ZE(t,e,n,i):n.category===C.Attack&&i.category===C.None||n.category===C.None&&i.category===C.Attack?o=tx(t,e,n,i):n.category===C.Attack&&i.category===C.Defend||n.category===C.Defend&&i.category===C.Attack?o=ex(t,e,n,i):n.category===C.Dodge&&i.category===C.Attack||n.category===C.Attack&&i.category===C.Dodge?o=nx(t,e,n,i):t.addTempLog("无事发生("+t.name+ji(n)+" "+e.name+ji(i)+")"),o===Zt.PlayerWin?(s=n.extraEffect)==null||s.call(n,t,e):o===Zt.EnemyWin&&((a=i.extraEffect)==null||a.call(i,e,t)),o}function JE(t,e,n,i){t.addTempLog(t.name+"使用了"+n.name+"，"+e.name+"使用了"+i.name);let o=0;for(;n.hits[o]||i.hits[o];){let s=n.hits[o]||Mo,a=i.hits[o]||Mo;t.statuses.sort((d,p)=>d.priority-p.priority).forEach(d=>{if(d.category===Xt.OnHitStart){const p=Gi[d.type].effect;s=p(t,s,d.statusLevel)}}),e.statuses.sort((d,p)=>d.priority-p.priority).forEach(d=>{if(d.category===Xt.OnHitStart){const p=Gi[d.type].effect;a=p(e,a,d.statusLevel)}}),t.updateStatusesOnHitStart(),e.updateStatusesOnHitStart();const l=XE(t,e,s,a);s.continuous&&l!==Zt.PlayerWin&&(n.hits.splice(o+1),t.addTempLog(t.name+"的连续hit中断")),a.continuous&&l!==Zt.EnemyWin&&(i.hits.splice(o+1),t.addTempLog(e.name+"的连续hit中断")),o++}t.clearStatusByCategory(Xt.OnHitStart),e.clearStatusByCategory(Xt.OnHitStart)}function ZE(t,e,n,i){const o=di(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=di(i.coeff,e.getAbility(),e.getActionCoeff(i.category));if(t.addTempLog(es(t,e,n,i,o,s)),o>=s){const a=Lr(o,e.getAbility().armor,t.getAbility().piercing);return e.loseHp(a),t.addTempLog(n.messageGenerator(t,e)+'造成了<span style="color: red;">'+Math.round(a)+"</span>点伤害"),Zt.PlayerWin}else{const a=Lr(s,t.getAbility().armor,e.getAbility().piercing);return t.loseHp(a),t.addTempLog(i.messageGenerator(e,t)+'造成了<span style="color: red;">'+Math.round(a)+"</span>点伤害"),Zt.EnemyWin}}function tx(t,e,n,i){let o,s,a;i.category===C.None?(o=t,s=e,a=n):(o=e,s=t,a=i);const l=di(a.coeff,o.getAbility(),o.getActionCoeff(a.category));t.addTempLog(es(t,e,n,i,o.isPlayer?l:0,o.isPlayer?l:0));const d=Lr(l,s.getAbility().armor,o.getAbility().piercing);return s.loseHp(d),t.addTempLog(a.messageGenerator(o,s)+'造成了<span style="color: red;">'+Math.round(d)+"</span>点伤害"),o instanceof Ui?Zt.PlayerWin:Zt.EnemyWin}function ex(t,e,n,i){const o=di(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=di(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(es(t,e,n,i,o,s));const a=n.category===C.Attack,l=a?t:e,d=a?e:t,p=a?n:i,h=a?i:n,E=a?o:s,m=a?s:o,T=E-m>0?E-m:0,z=Lr(T,d.getAbility().armor,l.getAbility().piercing);return d.loseHp(z),T>0?(t.addTempLog(p.messageGenerator(l,d)+`击穿了${d.name}的防御，造成了<span style="color: red;">`+Math.round(z)+`(-${m})</span>点伤害`),a?Zt.PlayerWin:Zt.EnemyWin):(t.addTempLog(h.messageGenerator(d,l)+","+p.messageGenerator(l,d)+"但没有造成伤害"),a?Zt.EnemyWin:Zt.PlayerWin)}function nx(t,e,n,i){const o=di(n.coeff,t.getAbility(),t.getActionCoeff(n.category)),s=di(i.coeff,e.getAbility(),e.getActionCoeff(i.category));t.addTempLog(es(t,e,n,i,o,s));const a=n.category===C.Attack,l=a?t:e,d=a?e:t,p=a?n:i,h=a?i:n,E=a?o:s;if(E>(a?s:o)){const T=Lr(E,d.getAbility().armor,l.getAbility().piercing);return d.loseHp(T),t.addTempLog(p.messageGenerator(l,d)+"对"+d.name+'造成了<span style="color: red;">'+Math.round(T)+"</span>点伤害"),a?Zt.PlayerWin:Zt.EnemyWin}else return l.addStatus(wn.Unbalance,1),t.addTempLog(h.messageGenerator(d,l)+","+l.name+"失衡了"),a?Zt.EnemyWin:Zt.PlayerWin}function gi(t,e,n,i,o){var h,E,m;const s=Me();n&&i&&(t.addTempLog("--------------------------回合-----------------------------"),JE(t,e,n,i));let a=e.getRandomAction();const l=qE(t,e,a);let d=t.getRandomAction(),p=t.getRandomAction();if(t.statuses.sort((T,z)=>T.priority-z.priority).forEach(T=>{if(T.category===Xt.OnTurnStart){const z=Gi[T.type].effect,j=z(t,d,p);d=j.action1,p=j.action2}}),e.statuses.sort((T,z)=>T.priority-z.priority).forEach(T=>{if(T.category===Xt.OnTurnStart){const z=Gi[T.type].effect;a=z(e,a,a).action1}}),t.updateStatusesOnTurnStart(),e.updateStatusesOnTurnStart(),t.health<=0){t.addLog(t.name+"撑不住了"),t.clearStatus(),vo(t,e,Jt.Lose,o);return}if(e.health<1){t.addLog(t.name+"击败了"+e.name),t.clearStatus(),vo(t,e,Jt.Win,o);return}if(e.statuses.some(T=>T.type===wn.Escaped)){t.addLog(e.name+"逃跑了"),vo(t,e,Jt.EnemyEscape,o);return}cn(t),s.innerHTML=`
  <button id="return-btn" type="button" class="btn btn-primary" style="
    position: absolute;
    left: 20px;
    top: 80px;
    z-index: 999;
  ">
    逃跑
  </button>

  <div class="container mt-4">
    <h2 class="text-center mb-3">战斗</h2>

    <!-- 敌人信息 -->
    <div class="card mb-3">
      <div class="card-header bg-danger text-white">
        <h4 class="mb-0">${e.name}<span style="font-size: 12px; margin-left: 10px;" class="badge bg-secondary">lv.${e.level}</span></h4>
      </div>
      <div class="card-body">
        <p class="card-text fst-italic">"${e.description}"</p>
        <p class="card-text">${l}</p>
        <p class="card-text">HP: <strong>${Math.ceil(e.health)}</strong></p>
      </div>
    </div>

    <!-- 分割线 -->
    <hr>

    <!-- 玩家信息 -->
    <div class="card mb-4">
      <div class="card-header bg-success text-white">
        <h4 class="mb-0">${t.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text">HP: <strong>${Math.ceil(t.health)}</strong></p>
      </div>
    </div>

    <!-- 动作选择 -->
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${d.name}</h5>
            <p class="card-text fst-italic">"${d.description}"</p>
            <p class="card-text">${da(t,d)}</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${p.name}</h5>
            <p class="card-text fst-italic">"${p.description}"</p>
            <p class="card-text">${da(t,p)}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 战斗记录 -->
    <div class="card">
      <div class="card-header">
        记录
      </div>
      <div class="card-body" id="log" style="max-height: 200px; overflow-y: auto;">
        ${t.getTempLogs()}
      </div>
    </div>
  </div>
`,(h=document.getElementById("action1-btn"))==null||h.addEventListener("click",()=>{gi(t,e,d,a,o)}),(E=document.getElementById("action2-btn"))==null||E.addEventListener("click",()=>{gi(t,e,p,a,o)}),(m=document.getElementById("return-btn"))==null||m.addEventListener("click",()=>{vo(t,e,Jt.Withdraw,o)})}function vo(t,e,n,i){var l;const o=Me();let s=!1,a=null;n===Jt.Win?(a=e.randomDropItem(),t.exp+=Math.floor(e.giveExp),s=t.checkLevelUp(),t.exp=Math.floor(t.exp),t.addLog(e.name+"掉落了<span style='color: gold;'>"+((a==null?void 0:a.name)??"无")+"</span>"),a&&t.pack.push(a)):n===Jt.Lose?(t.health=1,t.addLog(t.name+"拼死从"+e.name+"的手中逃了出来，拖着残破的身躯，回到了城镇")):n===Jt.Withdraw?t.addLog(t.name+"在与"+e.name+"的战斗中逃跑了"):n===Jt.EnemyEscape&&t.addLog(e.name+"逃跑了"),o.innerHTML=`
  <div class="container mt-4">
    <div class="card text-center shadow">
      <div class="card-header bg-dark text-white">
        <h2 class="mb-0">战斗结束</h2>
      </div>
      <div class="card-body">
        <h4 class="card-title">
          ${t.name}
          ${n===Jt.Win?"<span class='text-success'>胜利</span>":n===Jt.Lose?"<span class='text-danger'>失败</span>":n===Jt.EnemyEscape?"<span class='text-warning'>敌人逃跑了</span>":"<span class='text-warning'>逃跑</span>"}
          <p>lv: ${t.level}${s?"🔺":""} exp: ${t.exp}/${t.getNextLevelExp()}</p>
          ${n===Jt.Win?`<p>获得经验: <span class="text-info">${Math.floor(e.giveExp)}</span>  ${a?`获得物品: <span class="text-${L[a.rarity]}">${a.name}</span>`:""}</p>`:""}
        </h4>
        <hr>
        <h5>记录</h5>
        <div id="log" class="border rounded p-3" style="max-height: 250px; overflow-y: auto;">
          ${t.getTempLogs()}
        </div>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" id="continue-btn">继续</button>
      </div>
    </div>
  </div>
`,t.clearTempLogs(),cn(t),(l=document.getElementById("continue-btn"))==null||l.addEventListener("click",()=>{i(t,e,n)})}function Qf(t){const e=t.reduce((o,s)=>o+s.weight,0),n=Math.random()*e;let i=0;for(const o of t)if(i+=o.weight,n<=i)return o}function Or(t,e){return Math.floor(Math.random()*(e-t+1))+t}function ix(t,e){return Math.random()*(e-t)+t}function Kf(t,e,n){if(n===Jt.Lose||n===Jt.Withdraw||t.currentMapData.goingToNodeId===null){qe(t);return}t.goToNode(t.currentMapData.goingToNodeId),We(t)}function rx(t,e){const n=Qf(t.monsterList);if(!n){e.goToNode(t.id),We(e);return}const i=Or(n.minLevel,n.maxLevel),o=new Qi(n.monster,i,1);gi(e,o,null,null,Kf)}function ox(t,e){if(Math.random()<t.treasureProbability){const n={...t,type:Mt.Treasure,firstTimeTreasureList:t.treasureList,repeatableTreasureList:t.treasureList};qf(n,e);return}else{const n=Qf(t.monsterList);if(!n){e.goToNode(t.id),We(e);return}const i=ix(n.minIndividualStrength,n.maxIndividualStrength),o=Or(n.minLevel,n.maxLevel),s=new Qi(n.monster,o,i);gi(e,s,null,null,Kf)}}function Yf(t,e,n){if(n===Jt.Lose||n===Jt.Withdraw){const i=t.currentMapData.boss[0].health,o=e.health;i-o>e.getMaxHealth()*.2&&(t.currentMapData.boss[0].health=o),qe(t);return}if(t.currentMapData.boss.shift(),t.currentMapData.boss.length===0)if(t.currentMapData.goingToNodeId){t.goToNode(t.currentMapData.goingToNodeId),We(t);return}else{qe(t);return}gi(t,t.currentMapData.boss[0],null,null,Yf)}function sx(t,e){const n=t.bossStageList;if(!n){e.goToNode(t.id),We(e);return}e.currentMapData.boss.length===0&&n.forEach(o=>{const s=Or(o.minLevel,o.maxLevel),a=Or(o.minIndividualStrength,o.maxIndividualStrength),l=new Qi(o.monster,s,a);e.currentMapData.boss.push(l)});const i=e.currentMapData.boss[0];console.log(i),gi(e,i,null,null,Yf)}function qf(t,e){let n=t.firstTimeTreasureList;if(e.unlockedNodeIdList.includes(t.id)&&(n=t.repeatableTreasureList),!e.currentMapData.visitedNodeIdList.includes(t.id)){const i=dg(n);if(i){const o=Or(i.minLevel,i.maxLevel),s=ed(i.item,o);e.pack.push(s);const a=document.createElement("div");a.className="toast-container position-fixed bottom-0 end-0 p-3",a.innerHTML=`
        <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-header">
            <strong class="me-auto">获得宝物</strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
          <div class="toast-body">
            获得了 ${s.name}！
          </div>
        </div>
      `,document.body.appendChild(a);const l=a.querySelector(".toast");new Pr(l,{autohide:!0,delay:5e3}).show(),l==null||l.addEventListener("hidden.bs.toast",()=>{a.remove()})}}e.goToNode(t.id),We(e)}function ax(t,e){e.goToNode(t.id);const n=t.region;if(e.unlockedRegionIdList.includes(n.id)||e.unlockedRegionIdList.push(n.id),n.isOpen){e.goToRegion(n.id),e.goToNode(n.startNode.id),We(e);return}else alert("前面的区域以后再来探索吧？")}function Qu(t,e){if(e.currentMapData.goingToNodeId=t.id,e.currentMapData.visitedNodeIdList.includes(t.id)&&window.currentMapSvg&&window.updateMapForNode){e.goToNode(e.currentMapData.goingToNodeId),window.updateMapForNode(e,t.id);return}if(e.currentMapData.visitedNodeIdList.includes(t.id)){e.goToNode(e.currentMapData.goingToNodeId),We(e);return}if(t.type===Mt.NormalMonster)rx(t,e);else if(t.type===Mt.EliteMonster)ox(t,e);else if(t.type===Mt.Boss)sx(t,e);else if(t.type===Mt.Treasure)qf(t,e);else if(t.type===Mt.ToOtherRegion)ax(t,e);else{e.goToNode(e.currentMapData.goingToNodeId),We(e);return}}function We(t){var ft,Nt,xt,$t;const e=Me(),n=xr(t.currentMapData.currentRegionId);if(!n){console.error("当前区域不存在"),qe(t);return}t.currentMapData.currentNodeId||(t.currentMapData.currentNodeId=n.startNode.id);const i=n.mapWidth||1e3,o=n.mapHeight||1e3,s=n.mapImage||_f,a=[...n.nodeList],l=[...n.edgesData];let d="营地";const p=a.find(H=>H.id===t.currentMapData.currentNodeId);p?d=p.name:d="未知";function h(H,Y){var x;if(Y===H.id)return"#007bff";const b=a.find(D=>D.id===Y);return b.toNodeList.some(D=>D.id===H.id)||((x=b.fromNodeList)==null?void 0:x.some(D=>D.id===H.id))?"#28a745":(it(H,t,a),"#6c757d")}function E(H,Y,b){return b===H.id||b===Y.id}e.innerHTML=`
  <div id="map-container" class="d-flex flex-column" style="flex: 1; position: relative;">
    <!-- 地图标题和信息栏 -->
    <div class="map-header" style="
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 20px;
      border-bottom: 2px solid #4caf50;
      z-index: 10;
      display: flex;
      justify-content: space-between;
      align-items: center;
    ">
      <div>
        <h2 style="margin: 0; font-size: 1.5rem;">
          ${n.name||"未知区域"}
        </h2>
        <p style="margin: 0; font-size: 0.9rem; opacity: 0.8;">
          当前生命值: <span style="color: #4caf50; font-weight: bold;">${t.health}/${t.getMaxHealth()}</span>
        </p>
      </div>
      <div id="player-location" style="font-size: 0.9rem;">
        当前位置: <span style="color: #4caf50; font-weight: bold;">
          ${d}
        </span>
      </div>
    </div>

    <!-- 地图控制面板 -->
    <div class="map-controls" style="
      position: absolute;
      top: 70px;
      right: 20px;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 5px;
      padding: 10px;
      z-index: 10;
      display: flex;
      flex-direction: column;
      gap: 10px;
    ">
      <button id="zoom-in-btn" class="btn btn-sm btn-dark" style="width: 40px; height: 40px;">
        +
      </button>
      <button id="zoom-out-btn" class="btn btn-sm btn-dark" style="width: 40px; height: 40px;">
        -
      </button>
      <button id="center-map-btn" class="btn btn-sm btn-dark" style="width: 40px; height: 40px;">
        ⌖
      </button>
    </div>

    <!-- 地图图例 -->
    <div class="map-legend" style="
      position: absolute;
      bottom: 80px;
      left: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border-radius: 5px;
      padding: 10px;
      z-index: 10;
      font-size: 0.9rem;
    ">
      <div style="margin-bottom: 5px; font-weight: bold;">地图图例:</div>
      <div style="display: flex; align-items: center; margin-bottom: 5px;">
        <div style="width: 12px; height: 12px; border-radius: 50%; background: #007bff; margin-right: 10px;"></div>
        <span>当前位置</span>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 5px;">
        <div style="width: 12px; height: 12px; border-radius: 50%; background: #28a745; margin-right: 10px;"></div>
        <span>可前往地点</span>
      </div>
      <div style="display: flex; align-items: center;">
        <div style="width: 12px; height: 12px; border-radius: 50%; background: #6c757d; margin-right: 10px;"></div>
        <span>已知地点</span>
      </div>
    </div>

    <svg id="map-svg" style="flex: 1; background-color: #1a1a1a;"></svg>

    <button id="return-btn" type="button" class="btn btn-primary" style="
      position: absolute;
      left: 50%;
      bottom: 20px;
      transform: translateX(-50%);
      z-index: 10;
      background-color: #4caf50;
      border: none;
      padding: 10px 20px;
      border-radius: 30px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    ">
      返回营地
    </button>
  </div>
  `;const m=Re("#map-svg");window.currentMapSvg=m;const T=m.append("g").attr("class","zoomable"),z=YE().scaleExtent([.5,2]).translateExtent([[0,0],[i,o]]).on("zoom",H=>{T.attr("transform",H.transform),t.currentMapData.viewState||(t.currentMapData.viewState={x:0,y:0,scale:1}),t.currentMapData.viewState={x:H.transform.x,y:H.transform.y,scale:H.transform.k}});window.currentZoomBehavior=z,m.call(z);function j(H){var Y,b;if(H){const P=((Y=m.node())==null?void 0:Y.clientWidth)||800,x=((b=m.node())==null?void 0:b.clientHeight)||600,D=zi.translate(P/2,x/2).scale(1.2).translate(-H.position.x,-H.position.y);m.transition().duration(750).call(z.transform,D)}}T.append("image").attr("xlink:href",s).attr("x",0).attr("y",0).attr("width",i).attr("height",o).attr("filter","brightness(0.9) contrast(1.1)").lower();const $=Math.min(i,o)/20,k=T.append("g").attr("class","grid").lower();for(let H=0;H<=i;H+=$)k.append("line").attr("x1",H).attr("y1",0).attr("x2",H).attr("y2",o).attr("stroke","rgba(255, 255, 255, 0.05)").attr("stroke-width",1);for(let H=0;H<=o;H+=$)k.append("line").attr("x1",0).attr("y1",H).attr("x2",i).attr("y2",H).attr("stroke","rgba(255, 255, 255, 0.05)").attr("stroke-width",1);const K=T.append("g").attr("class","edges");l.forEach(H=>{const Y=a.find(ot=>ot.id===H.source),b=a.find(ot=>ot.id===H.target);if(!Y||!b)return;const P=it(Y,t,a),x=it(b,t,a),D=v(Y,b,t);if(!P||!x)return;const q=(Y.position.x+b.position.x)/2,V=(Y.position.y+b.position.y)/2-50,y=`M ${Y.position.x} ${Y.position.y} Q ${q} ${V}, ${b.position.x} ${b.position.y}`;K.append("path").attr("d",y).attr("stroke",D?"#4caf50":"#aaa").attr("stroke-width",D?3:1.5).attr("fill","none").attr("opacity",D?1:.6)});function it(H,Y,b){const P=Y.unlockedNodeIdList.includes(H.id),x=Y.currentMapData.currentNodeId===H.id,D=Y.currentMapData.visitedNodeIdList.includes(H.id),q=H.id===n.startNode.id,V=Y.currentMapData.visitedNodeIdList.some(y=>{var lt;const ot=b.find(G=>G.id===y);return ot?ot.toNodeList.some(G=>G.id===H.id)||((lt=ot.fromNodeList)==null?void 0:lt.some(G=>G.id===H.id)):!1});return P||x||D||V||q}function v(H,Y,b){return b.currentMapData.currentNodeId===H.id||b.currentMapData.currentNodeId===Y.id}const B=T.append("g").attr("class","nodes").selectAll("g.node").data(a).enter().append("g").attr("class","node").attr("transform",H=>`translate(${H.position.x}, ${H.position.y})`).style("cursor","pointer").style("display",H=>it(H,t,a)?"block":"none");window.currentNodeElements=B,window.currentEdgeElements=K.selectAll("path"),B.append("circle").attr("r",12).attr("fill",H=>h(H,t.currentMapData.currentNodeId)).attr("stroke","#f8f9fa").attr("stroke-width",2).attr("filter","drop-shadow(0px 2px 3px rgba(0,0,0,0.5))"),B.append("circle").attr("r",20).attr("fill","none").attr("stroke",H=>t.currentMapData.currentNodeId===H.id||!t.currentMapData.currentNodeId&&H===n.startNode?"#007bff":"transparent").attr("stroke-width",2).attr("opacity",.5).attr("stroke-dasharray","3,3").style("animation","pulse 2s infinite"),B.append("text").attr("x",0).attr("y",-20).text(H=>H.name).attr("text-anchor","middle").attr("font-size","12px").attr("fill","#f8f9fa").attr("filter","drop-shadow(0px 1px 2px rgba(0,0,0,0.8))").style("pointer-events","none"),B.each(function(H){var q;const Y=H,b=t.currentMapData.currentNodeId===Y.id,P=a.find(V=>V.id===t.currentMapData.currentNodeId),x=P.toNodeList.some(V=>V.id===H.id)||((q=P.fromNodeList)==null?void 0:q.some(V=>V.id===H.id)),D=!b&&x;Cn(this,{content:`
        <div>
          <h3>${Y.name}</h3>
          <p>${Y.description}</p>
          ${D?`<a class="btn btn-primary" id="go-${Y.id}">
              前往
            </a>`:""}
        </div>
      `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(V){if(D){const y=V.popper.querySelector(`#go-${Y.id}`);y&&y.addEventListener("click",ot=>{ot.stopPropagation(),V.hide(),t.currentMapData.isMovingBetweenNodes=!0,Qu(Y,t)})}}})}),B.attr("opacity",0).transition().duration(500).attr("opacity",1),(ft=document.getElementById("return-btn"))==null||ft.addEventListener("click",()=>{qe(t)}),(Nt=document.getElementById("zoom-in-btn"))==null||Nt.addEventListener("click",()=>{m.transition().duration(300).call(z.scaleBy,1.3)}),(xt=document.getElementById("zoom-out-btn"))==null||xt.addEventListener("click",()=>{m.transition().duration(300).call(z.scaleBy,.7)}),($t=document.getElementById("center-map-btn"))==null||$t.addEventListener("click",()=>{const H=t.currentMapData.currentNodeId,Y=a.find(b=>b.id===H);j(Y)}),setTimeout(()=>{var H,Y;if(t.currentMapData.viewState){const b=t.currentMapData.viewState;if(t.currentMapData.isMovingBetweenNodes){const P=t.currentMapData.currentNodeId,x=a.find(D=>D.id===P);if(x){const D=((H=m.node())==null?void 0:H.clientWidth)||800,q=((Y=m.node())==null?void 0:Y.clientHeight)||600,V=zi.translate(D/2,q/2).scale(b.scale).translate(-x.position.x,-x.position.y);m.transition().duration(750).call(z.transform,V)}t.currentMapData.isMovingBetweenNodes=!1}else{const P=zi.translate(b.x,b.y).scale(b.scale);m.call(z.transform,P)}}else{const b=t.currentMapData.currentNodeId,P=a.find(x=>x.id===b);j(P)}},100);const ht=document.createElement("style");ht.textContent=`
    @keyframes pulse {
      0% { stroke-opacity: 0.8; r: 16; }
      50% { stroke-opacity: 0.4; r: 20; }
      100% { stroke-opacity: 0.8; r: 16; }
    }
  `,document.head.appendChild(ht),window.updateMapForNode=function(H,Y){var b,P,x;try{const D=a.find(V=>V.id===Y);if(D){const V=document.getElementById("player-location");V&&(V.innerHTML=`当前位置: <span style="color: #4caf50; font-weight: bold;">${D.name}</span>`)}window.currentNodeElements&&(window.currentNodeElements.selectAll("circle:first-child").attr("fill",function(V){try{const ot=this.parentNode,lt=Re(ot).datum();return lt?h(lt,Y):"#6c757d"}catch(y){return console.warn("Error updating node color:",y),"#6c757d"}}),window.currentNodeElements.selectAll("circle:nth-child(2)").attr("stroke",function(V){try{const ot=this.parentNode,lt=Re(ot).datum();return lt&&Y===lt.id?"#007bff":"transparent"}catch(y){return console.warn("Error updating glow effect:",y),"transparent"}})),window.currentEdgeElements&&window.currentEdgeElements.attr("stroke",function(V){try{const ot=this.getAttribute("d");if(!ot)return"#aaa";const lt=ot.match(/M\s*(\d+)\s*(\d+).+?(\d+)\s*(\d+)$/);if(!lt)return"#aaa";const[,G,gt,Lt,st]=lt.map(Number),Ot=a.find(Gt=>Math.abs(Gt.position.x-G)<1&&Math.abs(Gt.position.y-gt)<1),Q=a.find(Gt=>Math.abs(Gt.position.x-Lt)<1&&Math.abs(Gt.position.y-st)<1);return!Ot||!Q?"#aaa":E(Ot,Q,Y)?"#4caf50":"#aaa"}catch(y){return console.warn("Error updating edge color:",y),"#aaa"}}).attr("stroke-width",function(){return Re(this).attr("stroke")==="#4caf50"?3:1.5}).attr("opacity",function(){return Re(this).attr("stroke")==="#4caf50"?1:.6}),window.currentNodeElements&&window.currentNodeElements.each(function(V){var st;const y=V,ot=this._tippy;ot&&ot.destroy();const lt=Y===y.id,G=a.find(Ot=>Ot.id===Y),gt=(G==null?void 0:G.toNodeList.some(Ot=>Ot.id===y.id))||((st=G==null?void 0:G.fromNodeList)==null?void 0:st.some(Ot=>Ot.id===y.id)),Lt=!lt&&gt;Cn(this,{content:`
              <div>
                <h3>${y.name}</h3>
                <p>${y.description}</p>
                ${Lt?`<a class="btn btn-primary" id="go-${y.id}">
                    前往
                  </a>`:""}
              </div>
            `,allowHTML:!0,interactive:!0,trigger:"click",hideOnClick:!0,appendTo:document.body,onShown(Ot){if(Lt){const Q=Ot.popper.querySelector(`#go-${y.id}`);Q&&Q.addEventListener("click",Gt=>{Gt.stopPropagation(),Ot.hide(),H.currentMapData.isMovingBetweenNodes=!0,Qu(y,H)})}}})});const q=a.find(V=>V.id===Y);if(q&&window.currentMapSvg&&window.currentZoomBehavior){const V=((b=window.currentMapSvg.node())==null?void 0:b.clientWidth)||800,y=((P=window.currentMapSvg.node())==null?void 0:P.clientHeight)||600,ot=((x=H.currentMapData.viewState)==null?void 0:x.scale)||1.2,lt=zi.translate(V/2,y/2).scale(ot).translate(-q.position.x,-q.position.y),G=window.currentZoomBehavior.transform;window.currentMapSvg.transition().duration(750).call(G,lt)}}catch(D){console.error("Error in updateMapForNode:",D),We(H)}}}function qe(t){var i,o,s,a,l;const e=document.getElementById("game-title");t.type===kt.Player&&(e.textContent="异世界"+t.name);const n=Me();t.isAtHome=!0,t.clearCurrentMapDataWithoutBoss(),cn(t),console.log(t),n.innerHTML=`
    <!-- 顶部区域：显示血条和玩家信息 -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <!-- 血条区域 -->
        <div id="health-display" class="mb-3">
          ${t.getHealthDisplay()}
        </div>
        <!-- 玩家信息区域 -->
        <div class="text-center">
          <h2 class="card-title mb-1">
            <span class="badge bg-${t.type===kt.Player114514?"danger":"primary"} ms-2" style="font-size: 0.75rem; padding: 0.35em 0.5em;">
              ${t.type===kt.Player114514?"野兽":"人类"}
            </span>
            ${t.name}
            <small class="text-muted"> lv ${t.level}</small>
          </h2>
          <!-- 经验条 -->
          <div id="exp-display" class="mt-2" style="max-width: 200px; margin: 0 auto;">
            ${t.getExpDisplay()}
          </div>
        </div>

        <!-- 玩家形象区域 -->
        <div class="text-center mt-3">
          <img src=${hg} alt="玩家形象" class="img-fluid" style="max-height: 200px;">
        </div>
      </div>
    </div>

    <!-- 主菜单区域：用 mt-auto 自动向下推 -->
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        <div class="col-12 col-md-4">
          <button id="battle-btn" class="btn btn-primary w-100 py-3">
            ${t.type===kt.Player114514?"救世啊！":"动身"} 现在地点: ${(i=xr(t.currentMapData.currentRegionId))==null?void 0:i.name}
          </button>
        </div>
        <div class="col-12 col-md-4">
          <button id="travel-btn" class="btn btn-primary w-100 py-3">快速旅行</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="status-btn" class="btn btn-success w-100 py-3">状态</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="restart-btn" class="btn btn-danger w-100 py-3">秽土转生</button>
        </div>
      </div>

      <!-- 查看记录按钮 -->
      <div class="text-center mt-4">
        <button class="btn btn-info" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
          查看记录
        </button>
      </div>
    </div>

    <!-- Offcanvas 记录面板 -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasRightLabel">记录</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="关闭"></button>
      </div>
      <div class="offcanvas-body">
        <div style="max-height: 60vh; overflow-y: auto;">
          <p>${t.getLastNLog(100)}</p>
        </div>
      </div>
    </div>

    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,(o=document.getElementById("battle-btn"))==null||o.addEventListener("click",()=>{const d=xr(t.currentMapData.currentRegionId);d&&(t.goToNode(d.startNode.id),We(t))}),(s=document.getElementById("travel-btn"))==null||s.addEventListener("click",()=>{A0(t)}),(a=document.getElementById("status-btn"))==null||a.addEventListener("click",()=>{Hi(t)}),(l=document.getElementById("restart-btn"))==null||l.addEventListener("click",()=>{window.confirm("你确定要 remake 吗？")&&(localStorage.clear(),window.location.reload())})}const cx="/isekai114514/assets/1919-2_wCU3Nu.gif";function lx(){var e,n;const t=Me();t.innerHTML=`
    <h1>你是谁？</h1>
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">普通人</h5>
            <p class="card-text fst-italic">"我不抽烟，酒仅浅尝辄止。晚上11点睡，保证睡足8小时。睡前喝一杯温牛奶，然后做20分钟的舒缓运动再睡觉，一觉熟睡到天亮，绝不把疲劳和压力留到第二天。医生都说我很正常。"</p>
            <p class="card-text" style="font-weight: bold;">(适合不了解野兽先辈的玩家)</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">野兽仙贝</h5>
            <p class="card-text fst-italic">"伟大的古希腊哲学家，野兽学派的大先辈田所曾这样警醒后人：逸一时，误一世。(如果一时放纵自己，贪图安逸，就可能误了一生的前程) 现在，你将扮演这位伟大的贤人。好时代，来临罢！"</p>
            <p class="card-text" style="font-weight: bold;">(适合拥有野兽之心的玩家)</p>
            </div>
        </div>
      </div>
    </div>
  `,(e=document.getElementById("action1-btn"))==null||e.addEventListener("click",()=>{const i=new Ui("吴田所",kt.Player);fa(i),Na(i)}),(n=document.getElementById("action2-btn"))==null||n.addEventListener("click",()=>{const i=new Ui("田所",kt.FullPowerPlayer114514);fa(i);const o=new Qi(kt.Toono,1,1,"远野");i.isAtHome=!1,gi(i,o,null,null,(s,a,l)=>{l===Jt.Win?ux(s):dx(s)})})}function ux(t){var n;const e=Me();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>距离击败远野已不知过去了多久，但一切都还历历在目。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你不再沉沦，高呼道：伊已逝，吾亦逝。忆旧已久罢忆灵！(你逝去了，而我的心也逝去了，空留肉体如行尸走肉般存活。我已经缅怀故人多时，罢了罢了，是时候随你而去了！)</p>
		<p>你闭上了眼睛。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{ec(t)})}function dx(t){var n;const e=Me();e.innerHTML=`
    <h1>野兽宅</h1>
    <p>你被远野击败了。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你愤怒地将手指向远野，不甘心地嘶吼：你是一个一个一个一个，呐，哼哼，啊啊啊啊啊啊啊！！！<p>
    <img src="${cx}" alt="1919">
		<p>但是意识逐渐模糊，你最终还是倒下了。<p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{ec(t)})}function Na(t){var o,s;const e=Me(),n=Math.floor(Math.random()*4);let i="";switch(n){case 0:i="<p>车 →→→ 你</p>";break;case 1:i="<p>你 ←←← 车</p>";break;case 2:i=`
      <p style="text-align: center;">  车</p>
      <p style="text-align: center;">  ↓</p>
      <p style="text-align: center;">  你</p>`;break;case 3:i=`
      <p style="text-align: center;">  你</p>
      <p style="text-align: center;">  ↑</p>
      <p style="text-align: center;">  车</p>`;break}e.innerHTML=`
  <h1>躲避大卡车</h1>
  <p>一辆卡车正在向你快速驶来，请选择躲避方向</p>
  ${i}
  <button id="left-btn">向左躲避</button>
  <button id="right-btn">向右躲避</button>
`,(o=document.getElementById("left-btn"))==null||o.addEventListener("click",()=>{Math.random()>.3?Na(t):Ku(t)}),(s=document.getElementById("right-btn"))==null||s.addEventListener("click",()=>{Math.random()>.3?Na(t):Ku(t)})}function Ku(t){var n;const e=Me();e.innerHTML=`
    <h1>躲避大卡车</h1>
    <p>躲避失败，你嗝屁了</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{ec(t)})}function ec(t){var n;if(t.type===kt.FullPowerPlayer114514){const i=t.pack;t=new Ui("田所",kt.Player114514),t.pack=i}const e=Me();e.innerHTML=`
    <h1>???</h1>
    <p>请输入你的名字</p>
    <input type="text" id="name-input" placeholder="${t.name}">
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{const o=document.getElementById("name-input").value.trim();o?(t.name=o,fx(t)):alert("请输入你的名字！")})}function fx(t){var n;const e=Me();e.innerHTML=`
    <h1>???</h1>
    <p>你睁开了眼睛，看到了陌生的天花板。</p>
    <p>这里似乎是什么遗迹？周围的墙上刻着壁画和奇怪的文字，而你正躺在房间正中心的石棺中。你虽然看不懂那些文字，但它们的意思却飞入脑中：</p>
    <p class="fst-italic">
    一百年前，一位叫<span style="font-weight: bold;">远野</span>的异界来客统领着野兽大军从极北之地<span style="font-weight: bold;">“下北泽”</span>南下，在毁灭了诸多城市后，远野在下北泽建立了魔王城，在那里指挥大军继续南下侵略。
    为了阻止远野，人类根据预言中的指引从异世界召唤了勇者。但被召唤的勇者一直没有苏醒，人类最终难挡野兽大军的攻势，不得不退守大陆的最南端。
    </p>
    <p>看起来，你正是故事中被召唤的勇者。
    ${t.type===kt.Player114514?"而这位远野，正是前世你最爱却又背叛你的那个人！你握紧了拳头，暗暗发誓一定要报仇雪恨！</p>":"责任感和使命感让你决定挺身而出，阻止远野的侵略。</p>"}
    <p>你站起身来，准备向北进发。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{t.pack.push(new Be(Et.GiftboxAndLetter)),cn(t),qe(t)})}y0();document.addEventListener("DOMContentLoaded",()=>{const t=fg();if(!t){localStorage.clear(),lx();return}if(t.currentMapData.currentNodeId){const e=document.getElementById("game-title");t.type===kt.Player&&(e.textContent="异世界"+t.name),We(t)}else qe(t)});
